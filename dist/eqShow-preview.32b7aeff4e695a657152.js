/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "{$Think.config.site_url_cdn_static}/dist";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!****************************************!*\
  !*** ./view/eqShow-preview-2.1.5.3.js ***!
  \****************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;/**\n * eqShow - v2.1.5.3 - 2016-06-07\n *\n *\n * Copyright (c) 2016\n * Licensed MIT <>\n */\n\nfunction checkBrower() {\n\tvar a = !0;\n\treturn navigator.userAgent.indexOf(\"Safari\") > 0 && navigator.userAgent.indexOf(\"Chrome\") <= 0 ? a : void 0\n}\nfunction mobilecheck() {\n\tvar a = !1;\n\treturn function(b) {\n\t\t(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(b.substr(0, 4))) && (a = !0)\n\t}(navigator.userAgent || navigator.vendor || window.opera), document.body && document.body.clientWidth && document.body.clientHeight && document.body.clientWidth < 350 && document.body.clientHeight < 500 && (a = !0), a\n}\nfunction iphoneCheck() {\n\tvar a = !1;\n\treturn /iPhone/i.test(navigator.userAgent) && (a = !0), !0\n}\nfunction isWeixin() {\n\tvar a = navigator.userAgent.toLowerCase();\n\treturn \"micromessenger\" == a.match(/MicroMessenger/i) ? !0 : !1\n}\nfunction isAndroid() {\n\tvar a = navigator.userAgent,\n\t\tb = (navigator.appVersion, a.indexOf(\"Android\") > -1 || a.indexOf(\"Linux\") > -1);\n\treturn b\n}\nfunction tabletCheck() {\n\tvar a = /ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase());\n\treturn a\n}\nfunction countCharacters(a) {\n\tvar b = 0;\n\tif (!a) return 0;\n\tfor (var c = 0; c < a.length; c++) {\n\t\tvar d = a.charCodeAt(c);\n\t\td >= 1 && 126 >= d || d >= 65376 && 65439 >= d ? b++ : b += 2\n\t}\n\treturn b\n}\nfunction clickAnim(){\n\tvar i = 0,j = 0,m = 0;\n\t$(\".z-current .inside\").each(function(){\n\t\t$(this).hide();\n\t});\n\t$(\".z-current\").on(\"click\",function(){\n\t\ti++;\n\t\t$(\".z-current .inside\").each(function(){\n\t\t\tj++;\n\t\t\tif(i == j){\n\t\t\t\t$(this).show();\n\t\t\t}\t\t\t\n\t\t});\n\t\tj = 0;\n\t\tconsole.log(i+\"-\"+$(\".z-current .inside\").length);\n\t\tif(i>$(\".z-current .inside\").length){\n\t\t\teqxiu.nextPage();\n\t\t\ti = 0;\n\t\t}\n\t});\n}\nfunction renderPage(a, b, c, d) {\n\tfunction e(a, b) {\n\t\tvar c = b.properties.longPage,\n\t\t\td = 1;\n\t\tif (b.elements) for (var e = 0; e < b.elements.length; e++) if (3 == b.elements[e].type) {\n\t\t\t2 == b.elements[e].properties.croptype && (d = 2);\n\t\t\tbreak\n\t\t}\n\t\tvar f, g, h, i, j, m = window.scene ? scene.pageMode : 0,\n\t\t\tn = 0,\n\t\t\to = {\n\t\t\t\ttouchPos: 0,\n\t\t\t\tpLen: -486 * (c - 1),\n\t\t\t\tcontain: $(\"#page\" + a),\n\t\t\t\tcH: mobilecheck() ? $(document).height() : 486,\n\t\t\t\tstopInertiaMove: !1\n\t\t\t},\n\t\t\tp = 1 == d ? \".edit_area\" : \".edit_wrapper\";\n\t\t0 == m || 1 == m || 2 == m || 6 == m || 7 == m || 8 == m || 11 == m || 12 == m || 13 == m ? m = \"NS\" : (m = \"WE\", $('<section class=\"u-arrow-bottom\"><div class=\"pre-wrap\"><div class=\"pre-box1\"><div class=\"pre1\"></div></div><div class=\"pre-box2\"><div class=\"pre2\"></div></div></div></section>').appendTo(\"#page\" + a));\n\t\tvar q = 0,\n\t\t\tr = 0;\n\t\to.contain.on(\"mousedown touchstart\", function(a) {\n\t\t\treturn \"button\" == a.target.tagName.toLowerCase() || a.target.getAttribute(\"data\") || a.target.getAttribute(\"href\") || \"8\" == a.target.getAttribute(\"ctype\") || \"z\" == a.target.getAttribute(\"ctype\") ? void a.stopPropagation() : (a.stopPropagation(), a.preventDefault(), void(o.touchPos < o.pLen || o.touchPos > 0 || (f = !0, h = 0, o.stopInertiaMove = !0, g = a.originalEvent.touches ? a.originalEvent.changedTouches[0].clientY : a.clientY, \"WE\" == m && (i = a.originalEvent.touches ? a.originalEvent.changedTouches[0].clientX : a.clientX), r = o.touchPos, q = Date.now())))\n\t\t}), o.contain.on(\"mousemove touchmove\", function(a) {\n\t\t\tif (a.stopPropagation(), f) {\n\t\t\t\tif (h = o.touchPos + (a.originalEvent.touches ? a.originalEvent.changedTouches[0].clientY : a.clientY) - g, \"WE\" == m && (j = (a.originalEvent.touches ? a.originalEvent.touches[0].clientX : a.clientX) - i, Math.abs(j) > Math.abs(h - o.touchPos) && !scene.property.forbidHandFlip)) {\n\t\t\t\t\tif (j > 0) {\n\t\t\t\t\t\tif (5 > j) return;\n\t\t\t\t\t\teqxiu.prePage()\n\t\t\t\t\t} else eqxiu.nextPage();\n\t\t\t\t\treturn void(f = !1)\n\t\t\t\t}\n\t\t\t\tif (h < o.pLen || h > 5) return f = !1, h > 0 && \"NS\" == m && (scene.property.forbidHandFlip ? o.touchPos = 0 : eqxiu.prePage()), void(0 > h && \"NS\" == m && (scene.property.forbidHandFlip ? o.touchPos = o.pLen : eqxiu.nextPage()));\n\t\t\t\tif (h > 0) return;\n\t\t\t\to.stopInertiaMove = !0, $(this).find(p).css(\"transform\", \"translate3d(0,\" + (h - n) + \"px,0)\"), $(this).find(p).css(\"-webkit-transform\", \"translate3d(0,\" + (h - n) + \"px,0)\");\n\t\t\t\tvar b = $(this).find(\".alock\");\n\t\t\t\tif (b.length > 0) for (var c = 0; c < b.length; c++) l(b[c], b[c].style.transform, n - h);\n\t\t\t\tvar d = Date.now();\n\t\t\t\t$(document).trigger(\"pageScrollPos\", [h - o.cH]), d - q > 300 && (q = d, r = h), o.stopInertiaMove = !1\n\t\t\t}\n\t\t}), o.contain.on(\"mouseup touchend mouseleave\", function(a) {\n\t\t\tif (a.stopPropagation(), f) {\n\t\t\t\tif (f = !1, 0 === h || h - r == 0) return void $(a.target).trigger(\"click\", \"longPage\");\n\t\t\t\tif (!(0 > h && h > o.pLen)) return h >= 0 ? void(o.touchPos = 0) : void(o.touchPos = o.pLen);\n\t\t\t\to.touchPos = h, \"WE\" == m && o.contain.find(\".u-arrow-bottom\").hide();\n\t\t\t\tvar b = Date.now(),\n\t\t\t\t\tc = (h - r) / (b - q);\n\t\t\t\t!\n\t\t\t\tfunction(a, b, c, d) {\n\t\t\t\t\tfunction e() {\n\t\t\t\t\t\tif (!d.stopInertiaMove) {\n\t\t\t\t\t\t\tvar h = Date.now(),\n\t\t\t\t\t\t\t\ti = h - b,\n\t\t\t\t\t\t\t\tj = a + i * g;\n\t\t\t\t\t\t\tif (!(0 > f * j)) {\n\t\t\t\t\t\t\t\tvar k = (a + j) / 2 * i,\n\t\t\t\t\t\t\t\t\tm = c + k;\n\t\t\t\t\t\t\t\tif (!(m > 0 || m < d.pLen)) {\n\t\t\t\t\t\t\t\t\td.timmer = null, d.contain.find(p).css(\"transform\", \"translate3d(0,\" + (m - n) + \"px,0)\"), d.contain.find(p).css(\"-webkit-transform\", \"translate3d(0,\" + (m - n) + \"px,0)\");\n\t\t\t\t\t\t\t\t\tvar o = d.contain.find(\".alock\");\n\t\t\t\t\t\t\t\t\tif (o.length > 0) for (var q = 0; q < o.length; q++) l(o[q], o[q].style.transform, n - m);\n\t\t\t\t\t\t\t\t\td.touchPos = m, $(document).trigger(\"pageScrollPos\", [m - d.cH]), setTimeout(e, 10)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar f = 0 > a ? -1 : 1,\n\t\t\t\t\t\tg = f * -6e-4;\n\t\t\t\t\te()\n\t\t\t\t}(c, b, h, o)\n\t\t\t}\n\t\t}), $(document).on(\"clearTouchPos\", function() {\n\t\t\to.touchPos = 0, o.contain.find(p).css(\"transform\", \"translateY(0px)\"), o.contain.find(p).css(\"-webkit-transform\", \"translateY(0px)\");\n\t\t\tvar a, b = o.contain.find(\".alock\");\n\t\t\tif (b.length > 0) for (var c = 0; c < b.length; c++) a = b[c].style.transform.replace(k, \"\"), b[c].style.transform = \"translate3d(0,0,0) \" + a\n\t\t})\n\t}\n\ta.templateParser(\"jsonParser\").parse({\n\t\tdef: c[b - 1],\n\t\tappendTo: \"#page\" + b,\n\t\tmode: \"view\",\n\t\tdisEvent: d\n\t}), listPages = c;\n\tvar f, g, h = 1,\n\t\ti = $(\".z-current\").width(),\n\t\tj = $(\".z-current\").height();\n\timageWidth = $(\".m-img\").width(), imageHeight = $(\".m-img\").height(), i / j >= 320 / 486 ? (h = j / 486, f = (i / h - 320) / 2) : (h = i / 320, g = (j / h - 486) / 2), window != window.top && $(\".phoneBox .nr\").css({\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t\toverflow: \"hidden\",\n\t\t\"transform-origin\": \"top left\",\n\t\ttransform: \"scale(\" + h + \")\"\n\t}), window !== window.top && mobilecheck() || $(\".edit_area\").css({\n\t\tmarginTop: g || 0\n\t}), f && $(\".edit_area\").css({\n\t\tmarginLeft: f\n\t}), tplCount == c.length && $(\"#eqMobileViewport\").attr(\"content\", \"width=320, initial-scale=\" + h + \", maximum-scale=\" + h + \", user-scalable=no\"), c[b - 1].properties && c[b - 1].properties.longPage && e(b, c[b - 1]);\n\tvar k = /translate3d\\(.*?\\)/g,\n\t\tl = function(a, b, c) {\n\t\t\tb = b.replace(k, \"\"), b && (a.style.transform = \"translate3d(0,\" + c + \"px,0) \" + b)\n\t\t}\n}(function() {\n\t\"use strict\";\n\tvar a = this,\n\t\tb = a.Chart,\n\t\tc = function(a) {\n\t\t\tthis.canvas = a.canvas, this.ctx = a;\n\t\t\tvar b = function(a, b) {\n\t\t\t\t\treturn a[\"offset\" + b] ? a[\"offset\" + b] : document.defaultView.getComputedStyle(a).getPropertyValue(b)\n\t\t\t\t},\n\t\t\t\tc = this.width = b(a.canvas, \"Width\") || a.canvas.width,\n\t\t\t\te = this.height = b(a.canvas, \"Height\") || a.canvas.height;\n\t\t\treturn c = this.width = a.canvas.width, e = this.height = a.canvas.height, this.aspectRatio = this.width / this.height, d.retinaScale(this), this\n\t\t};\n\tc.defaults = {\n\t\tglobal: {\n\t\t\tanimation: !0,\n\t\t\tanimationSteps: 60,\n\t\t\tanimationEasing: \"easeOutQuart\",\n\t\t\tshowScale: !0,\n\t\t\tscaleOverride: !1,\n\t\t\tscaleSteps: null,\n\t\t\tscaleStepWidth: null,\n\t\t\tscaleStartValue: null,\n\t\t\tscaleLineColor: \"rgba(0,0,0,.1)\",\n\t\t\tscaleLineWidth: 1,\n\t\t\tscaleShowLabels: !0,\n\t\t\tscaleLabel: \"<%=value%>\",\n\t\t\tscaleIntegersOnly: !0,\n\t\t\tscaleBeginAtZero: !1,\n\t\t\tscaleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\t\t\tscaleFontSize: 12,\n\t\t\tscaleFontStyle: \"normal\",\n\t\t\tscaleFontColor: \"#666\",\n\t\t\tresponsive: !1,\n\t\t\tmaintainAspectRatio: !0,\n\t\t\tshowTooltips: !0,\n\t\t\tcustomTooltips: !1,\n\t\t\ttooltipEvents: [\"mousemove\", \"touchstart\", \"touchmove\", \"mouseout\"],\n\t\t\ttooltipFillColor: \"rgba(0,0,0,0.8)\",\n\t\t\ttooltipFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\t\t\ttooltipFontSize: 14,\n\t\t\ttooltipFontStyle: \"normal\",\n\t\t\ttooltipFontColor: \"#fff\",\n\t\t\ttooltipTitleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\t\t\ttooltipTitleFontSize: 14,\n\t\t\ttooltipTitleFontStyle: \"bold\",\n\t\t\ttooltipTitleFontColor: \"#fff\",\n\t\t\ttooltipTitleTemplate: \"<%= label%>\",\n\t\t\ttooltipYPadding: 6,\n\t\t\ttooltipXPadding: 6,\n\t\t\ttooltipCaretSize: 8,\n\t\t\ttooltipCornerRadius: 6,\n\t\t\ttooltipXOffset: 10,\n\t\t\ttooltipTemplate: \"<%if (label){%><%=label%>: <%}%><%= value %>\",\n\t\t\tmultiTooltipTemplate: \"<%= value %>\",\n\t\t\tmultiTooltipKeyBackground: \"#fff\",\n\t\t\tsegmentColorDefault: [\"#A6CEE3\", \"#1F78B4\", \"#B2DF8A\", \"#33A02C\", \"#FB9A99\", \"#E31A1C\", \"#FDBF6F\", \"#FF7F00\", \"#CAB2D6\", \"#6A3D9A\", \"#B4B482\", \"#B15928\"],\n\t\t\tsegmentHighlightColorDefaults: [\"#CEF6FF\", \"#47A0DC\", \"#DAFFB2\", \"#5BC854\", \"#FFC2C1\", \"#FF4244\", \"#FFE797\", \"#FFA728\", \"#F2DAFE\", \"#9265C2\", \"#DCDCAA\", \"#D98150\"],\n\t\t\tonAnimationProgress: function() {},\n\t\t\tonAnimationComplete: function() {}\n\t\t}\n\t}, c.types = {};\n\tvar d = c.helpers = {},\n\t\te = d.each = function(a, b, c) {\n\t\t\tvar d = Array.prototype.slice.call(arguments, 3);\n\t\t\tif (a) if (a.length === +a.length) {\n\t\t\t\tvar e;\n\t\t\t\tfor (e = 0; e < a.length; e++) b.apply(c, [a[e], e].concat(d))\n\t\t\t} else for (var f in a) b.apply(c, [a[f], f].concat(d))\n\t\t},\n\t\tf = d.clone = function(a) {\n\t\t\tvar b = {};\n\t\t\treturn e(a, function(c, d) {\n\t\t\t\ta.hasOwnProperty(d) && (b[d] = c)\n\t\t\t}), b\n\t\t},\n\t\tg = d.extend = function(a) {\n\t\t\treturn e(Array.prototype.slice.call(arguments, 1), function(b) {\n\t\t\t\te(b, function(c, d) {\n\t\t\t\t\tb.hasOwnProperty(d) && (a[d] = c)\n\t\t\t\t})\n\t\t\t}), a\n\t\t},\n\t\th = d.merge = function(a, b) {\n\t\t\tvar c = Array.prototype.slice.call(arguments, 0);\n\t\t\treturn c.unshift({}), g.apply(null, c)\n\t\t},\n\t\ti = d.indexOf = function(a, b) {\n\t\t\tif (Array.prototype.indexOf) return a.indexOf(b);\n\t\t\tfor (var c = 0; c < a.length; c++) if (a[c] === b) return c;\n\t\t\treturn -1\n\t\t},\n\t\tj = (d.where = function(a, b) {\n\t\t\tvar c = [];\n\t\t\treturn d.each(a, function(a) {\n\t\t\t\tb(a) && c.push(a)\n\t\t\t}), c\n\t\t}, d.findNextWhere = function(a, b, c) {\n\t\t\tc || (c = -1);\n\t\t\tfor (var d = c + 1; d < a.length; d++) {\n\t\t\t\tvar e = a[d];\n\t\t\t\tif (b(e)) return e\n\t\t\t}\n\t\t}, d.findPreviousWhere = function(a, b, c) {\n\t\t\tc || (c = a.length);\n\t\t\tfor (var d = c - 1; d >= 0; d--) {\n\t\t\t\tvar e = a[d];\n\t\t\t\tif (b(e)) return e\n\t\t\t}\n\t\t}, d.inherits = function(a) {\n\t\t\tvar b = this,\n\t\t\t\tc = a && a.hasOwnProperty(\"constructor\") ? a.constructor : function() {\n\t\t\t\t\treturn b.apply(this, arguments)\n\t\t\t\t},\n\t\t\t\td = function() {\n\t\t\t\t\tthis.constructor = c\n\t\t\t\t};\n\t\t\treturn d.prototype = b.prototype, c.prototype = new d, c.extend = j, a && g(c.prototype, a), c.__super__ = b.prototype, c\n\t\t}),\n\t\tk = d.noop = function() {},\n\t\tl = d.uid = function() {\n\t\t\tvar a = 0;\n\t\t\treturn function() {\n\t\t\t\treturn \"chart-\" + a++\n\t\t\t}\n\t\t}(),\n\t\tm = d.warn = function(a) {\n\t\t\twindow.console && \"function\" == typeof window.console.warn && console.warn(a)\n\t\t},\n\t\tn = d.amd = \"function\" == \"function\" && __webpack_require__(/*! !webpack amd options */ 1),\n\t\to = d.isNumber = function(a) {\n\t\t\treturn !isNaN(parseFloat(a)) && isFinite(a)\n\t\t},\n\t\tp = d.max = function(a) {\n\t\t\treturn Math.max.apply(Math, a)\n\t\t},\n\t\tq = d.min = function(a) {\n\t\t\treturn Math.min.apply(Math, a)\n\t\t},\n\t\tr = (d.cap = function(a, b, c) {\n\t\t\tif (o(b)) {\n\t\t\t\tif (a > b) return b\n\t\t\t} else if (o(c) && c > a) return c;\n\t\t\treturn a\n\t\t}, d.getDecimalPlaces = function(a) {\n\t\t\tif (a % 1 !== 0 && o(a)) {\n\t\t\t\tvar b = a.toString();\n\t\t\t\tif (b.indexOf(\"e-\") < 0) return b.split(\".\")[1].length;\n\t\t\t\tif (b.indexOf(\".\") < 0) return parseInt(b.split(\"e-\")[1]);\n\t\t\t\tvar c = b.split(\".\")[1].split(\"e-\");\n\t\t\t\treturn c[0].length + parseInt(c[1])\n\t\t\t}\n\t\t\treturn 0\n\t\t}),\n\t\ts = d.radians = function(a) {\n\t\t\treturn a * (Math.PI / 180)\n\t\t},\n\t\tt = (d.getAngleFromPoint = function(a, b) {\n\t\t\tvar c = b.x - a.x,\n\t\t\t\td = b.y - a.y,\n\t\t\t\te = Math.sqrt(c * c + d * d),\n\t\t\t\tf = 2 * Math.PI + Math.atan2(d, c);\n\t\t\treturn 0 > c && 0 > d && (f += 2 * Math.PI), {\n\t\t\t\tangle: f,\n\t\t\t\tdistance: e\n\t\t\t}\n\t\t}, d.aliasPixel = function(a) {\n\t\t\treturn a % 2 === 0 ? 0 : .5\n\t\t}),\n\t\tu = (d.splineCurve = function(a, b, c, d) {\n\t\t\tvar e = Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2)),\n\t\t\t\tf = Math.sqrt(Math.pow(c.x - b.x, 2) + Math.pow(c.y - b.y, 2)),\n\t\t\t\tg = d * e / (e + f),\n\t\t\t\th = d * f / (e + f);\n\t\t\treturn {\n\t\t\t\tinner: {\n\t\t\t\t\tx: b.x - g * (c.x - a.x),\n\t\t\t\t\ty: b.y - g * (c.y - a.y)\n\t\t\t\t},\n\t\t\t\touter: {\n\t\t\t\t\tx: b.x + h * (c.x - a.x),\n\t\t\t\t\ty: b.y + h * (c.y - a.y)\n\t\t\t\t}\n\t\t\t}\n\t\t}, d.calculateOrderOfMagnitude = function(a) {\n\t\t\treturn Math.floor(Math.log(a) / Math.LN10)\n\t\t}),\n\t\tv = (d.calculateScaleRange = function(a, b, c, d, f) {\n\t\t\tvar g = 2,\n\t\t\t\th = Math.floor(b / (1.5 * c)),\n\t\t\t\ti = g >= h,\n\t\t\t\tj = [];\n\t\t\te(a, function(a) {\n\t\t\t\tnull == a || j.push(a)\n\t\t\t});\n\t\t\tvar k = q(j),\n\t\t\t\tl = p(j);\n\t\t\tl === k && (l += .5, k >= .5 && !d ? k -= .5 : l += .5);\n\t\t\tfor (var m = Math.abs(l - k), n = u(m), o = Math.ceil(l / (1 * Math.pow(10, n))) * Math.pow(10, n), r = d ? 0 : Math.floor(k / (1 * Math.pow(10, n))) * Math.pow(10, n), s = o - r, t = Math.pow(10, n), v = Math.round(s / t);\n\t\t\t(v > h || h > 2 * v) && !i;) if (v > h) t *= 2, v = Math.round(s / t), v % 1 !== 0 && (i = !0);\n\t\t\telse if (f && n >= 0) {\n\t\t\t\tif (t / 2 % 1 !== 0) break;\n\t\t\t\tt /= 2, v = Math.round(s / t)\n\t\t\t} else t /= 2, v = Math.round(s / t);\n\t\t\treturn i && (v = g, t = s / v), {\n\t\t\t\tsteps: v,\n\t\t\t\tstepValue: t,\n\t\t\t\tmin: r,\n\t\t\t\tmax: r + v * t\n\t\t\t}\n\t\t}, d.template = function(a, b) {\n\t\t\tfunction c(a, b) {\n\t\t\t\tvar c = /\\W/.test(a) ? new Function(\"obj\", \"var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('\" + a.replace(/[\\r\\t\\n]/g, \" \").split(\"<%\").join(\"\t\").replace(/((^|%>)[^\\t]*)'/g, \"$1\\r\").replace(/\\t=(.*?)%>/g, \"',$1,'\").split(\"\t\").join(\"');\").split(\"%>\").join(\"p.push('\").split(\"\\r\").join(\"\\\\'\") + \"');}return p.join('');\") : d[a] = d[a];\n\t\t\t\treturn b ? c(b) : c\n\t\t\t}\n\t\t\tif (a instanceof Function) return a(b);\n\t\t\tvar d = {};\n\t\t\treturn c(a, b)\n\t\t}),\n\t\tw = (d.generateLabels = function(a, b, c, d) {\n\t\t\tvar f = new Array(b);\n\t\t\treturn a && e(f, function(b, e) {\n\t\t\t\tf[e] = v(a, {\n\t\t\t\t\tvalue: c + d * (e + 1)\n\t\t\t\t})\n\t\t\t}), f\n\t\t}, d.easingEffects = {\n\t\t\tlinear: function(a) {\n\t\t\t\treturn a\n\t\t\t},\n\t\t\teaseInQuad: function(a) {\n\t\t\t\treturn a * a\n\t\t\t},\n\t\t\teaseOutQuad: function(a) {\n\t\t\t\treturn -1 * a * (a - 2)\n\t\t\t},\n\t\t\teaseInOutQuad: function(a) {\n\t\t\t\treturn (a /= .5) < 1 ? .5 * a * a : -.5 * (--a * (a - 2) - 1)\n\t\t\t},\n\t\t\teaseInCubic: function(a) {\n\t\t\t\treturn a * a * a\n\t\t\t},\n\t\t\teaseOutCubic: function(a) {\n\t\t\t\treturn 1 * ((a = a / 1 - 1) * a * a + 1)\n\t\t\t},\n\t\t\teaseInOutCubic: function(a) {\n\t\t\t\treturn (a /= .5) < 1 ? .5 * a * a * a : .5 * ((a -= 2) * a * a + 2)\n\t\t\t},\n\t\t\teaseInQuart: function(a) {\n\t\t\t\treturn a * a * a * a\n\t\t\t},\n\t\t\teaseOutQuart: function(a) {\n\t\t\t\treturn -1 * ((a = a / 1 - 1) * a * a * a - 1)\n\t\t\t},\n\t\t\teaseInOutQuart: function(a) {\n\t\t\t\treturn (a /= .5) < 1 ? .5 * a * a * a * a : -.5 * ((a -= 2) * a * a * a - 2)\n\t\t\t},\n\t\t\teaseInQuint: function(a) {\n\t\t\t\treturn 1 * (a /= 1) * a * a * a * a\n\t\t\t},\n\t\t\teaseOutQuint: function(a) {\n\t\t\t\treturn 1 * ((a = a / 1 - 1) * a * a * a * a + 1)\n\t\t\t},\n\t\t\teaseInOutQuint: function(a) {\n\t\t\t\treturn (a /= .5) < 1 ? .5 * a * a * a * a * a : .5 * ((a -= 2) * a * a * a * a + 2)\n\t\t\t},\n\t\t\teaseInSine: function(a) {\n\t\t\t\treturn -1 * Math.cos(a / 1 * (Math.PI / 2)) + 1\n\t\t\t},\n\t\t\teaseOutSine: function(a) {\n\t\t\t\treturn 1 * Math.sin(a / 1 * (Math.PI / 2))\n\t\t\t},\n\t\t\teaseInOutSine: function(a) {\n\t\t\t\treturn -.5 * (Math.cos(Math.PI * a / 1) - 1)\n\t\t\t},\n\t\t\teaseInExpo: function(a) {\n\t\t\t\treturn 0 === a ? 1 : 1 * Math.pow(2, 10 * (a / 1 - 1))\n\t\t\t},\n\t\t\teaseOutExpo: function(a) {\n\t\t\t\treturn 1 === a ? 1 : 1 * (-Math.pow(2, -10 * a / 1) + 1)\n\t\t\t},\n\t\t\teaseInOutExpo: function(a) {\n\t\t\t\treturn 0 === a ? 0 : 1 === a ? 1 : (a /= .5) < 1 ? .5 * Math.pow(2, 10 * (a - 1)) : .5 * (-Math.pow(2, -10 * --a) + 2)\n\t\t\t},\n\t\t\teaseInCirc: function(a) {\n\t\t\t\treturn a >= 1 ? a : -1 * (Math.sqrt(1 - (a /= 1) * a) - 1)\n\t\t\t},\n\t\t\teaseOutCirc: function(a) {\n\t\t\t\treturn 1 * Math.sqrt(1 - (a = a / 1 - 1) * a)\n\t\t\t},\n\t\t\teaseInOutCirc: function(a) {\n\t\t\t\treturn (a /= .5) < 1 ? -.5 * (Math.sqrt(1 - a * a) - 1) : .5 * (Math.sqrt(1 - (a -= 2) * a) + 1)\n\t\t\t},\n\t\t\teaseInElastic: function(a) {\n\t\t\t\tvar b = 1.70158,\n\t\t\t\t\tc = 0,\n\t\t\t\t\td = 1;\n\t\t\t\treturn 0 === a ? 0 : 1 == (a /= 1) ? 1 : (c || (c = .3), d < Math.abs(1) ? (d = 1, b = c / 4) : b = c / (2 * Math.PI) * Math.asin(1 / d), -(d * Math.pow(2, 10 * (a -= 1)) * Math.sin((1 * a - b) * (2 * Math.PI) / c)))\n\t\t\t},\n\t\t\teaseOutElastic: function(a) {\n\t\t\t\tvar b = 1.70158,\n\t\t\t\t\tc = 0,\n\t\t\t\t\td = 1;\n\t\t\t\treturn 0 === a ? 0 : 1 == (a /= 1) ? 1 : (c || (c = .3), d < Math.abs(1) ? (d = 1, b = c / 4) : b = c / (2 * Math.PI) * Math.asin(1 / d), d * Math.pow(2, -10 * a) * Math.sin((1 * a - b) * (2 * Math.PI) / c) + 1)\n\t\t\t},\n\t\t\teaseInOutElastic: function(a) {\n\t\t\t\tvar b = 1.70158,\n\t\t\t\t\tc = 0,\n\t\t\t\t\td = 1;\n\t\t\t\treturn 0 === a ? 0 : 2 == (a /= .5) ? 1 : (c || (c = 1 * (.3 * 1.5)), d < Math.abs(1) ? (d = 1, b = c / 4) : b = c / (2 * Math.PI) * Math.asin(1 / d), 1 > a ? -.5 * (d * Math.pow(2, 10 * (a -= 1)) * Math.sin((1 * a - b) * (2 * Math.PI) / c)) : d * Math.pow(2, -10 * (a -= 1)) * Math.sin((1 * a - b) * (2 * Math.PI) / c) * .5 + 1)\n\t\t\t},\n\t\t\teaseInBack: function(a) {\n\t\t\t\tvar b = 1.70158;\n\t\t\t\treturn 1 * (a /= 1) * a * ((b + 1) * a - b)\n\t\t\t},\n\t\t\teaseOutBack: function(a) {\n\t\t\t\tvar b = 1.70158;\n\t\t\t\treturn 1 * ((a = a / 1 - 1) * a * ((b + 1) * a + b) + 1)\n\t\t\t},\n\t\t\teaseInOutBack: function(a) {\n\t\t\t\tvar b = 1.70158;\n\t\t\t\treturn (a /= .5) < 1 ? .5 * (a * a * (((b *= 1.525) + 1) * a - b)) : .5 * ((a -= 2) * a * (((b *= 1.525) + 1) * a + b) + 2)\n\t\t\t},\n\t\t\teaseInBounce: function(a) {\n\t\t\t\treturn 1 - w.easeOutBounce(1 - a)\n\t\t\t},\n\t\t\teaseOutBounce: function(a) {\n\t\t\t\treturn (a /= 1) < 1 / 2.75 ? 1 * (7.5625 * a * a) : 2 / 2.75 > a ? 1 * (7.5625 * (a -= 1.5 / 2.75) * a + .75) : 2.5 / 2.75 > a ? 1 * (7.5625 * (a -= 2.25 / 2.75) * a + .9375) : 1 * (7.5625 * (a -= 2.625 / 2.75) * a + .984375)\n\t\t\t},\n\t\t\teaseInOutBounce: function(a) {\n\t\t\t\treturn .5 > a ? .5 * w.easeInBounce(2 * a) : .5 * w.easeOutBounce(2 * a - 1) + .5\n\t\t\t}\n\t\t}),\n\t\tx = d.requestAnimFrame = function() {\n\t\t\treturn window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||\n\t\t\tfunction(a) {\n\t\t\t\treturn window.setTimeout(a, 1e3 / 60)\n\t\t\t}\n\t\t}(),\n\t\ty = (d.cancelAnimFrame = function() {\n\t\t\treturn window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame ||\n\t\t\tfunction(a) {\n\t\t\t\treturn window.clearTimeout(a, 1e3 / 60)\n\t\t\t}\n\t\t}(), d.animationLoop = function(a, b, c, d, e, f) {\n\t\t\tvar g = 0,\n\t\t\t\th = w[c] || w.linear,\n\t\t\t\ti = function() {\n\t\t\t\t\tg++;\n\t\t\t\t\tvar c = g / b,\n\t\t\t\t\t\tj = h(c);\n\t\t\t\t\ta.call(f, j, c, g), d.call(f, j, c), b > g ? f.animationFrame = x(i) : e.apply(f)\n\t\t\t\t};\n\t\t\tx(i)\n\t\t}, d.getRelativePosition = function(a) {\n\t\t\tvar b, c, d = a.originalEvent || a,\n\t\t\t\te = a.currentTarget || a.srcElement,\n\t\t\t\tf = e.getBoundingClientRect();\n\t\t\treturn d.touches ? (b = d.touches[0].clientX - f.left, c = d.touches[0].clientY - f.top) : (b = d.clientX - f.left, c = d.clientY - f.top), {\n\t\t\t\tx: b,\n\t\t\t\ty: c\n\t\t\t}\n\t\t}, d.addEvent = function(a, b, c) {\n\t\t\ta.addEventListener ? a.addEventListener(b, c) : a.attachEvent ? a.attachEvent(\"on\" + b, c) : a[\"on\" + b] = c\n\t\t}),\n\t\tz = d.removeEvent = function(a, b, c) {\n\t\t\ta.removeEventListener ? a.removeEventListener(b, c, !1) : a.detachEvent ? a.detachEvent(\"on\" + b, c) : a[\"on\" + b] = k\n\t\t},\n\t\tA = (d.bindEvents = function(a, b, c) {\n\t\t\ta.events || (a.events = {}), e(b, function(b) {\n\t\t\t\ta.events[b] = function() {\n\t\t\t\t\tc.apply(a, arguments)\n\t\t\t\t}, y(a.chart.canvas, b, a.events[b])\n\t\t\t})\n\t\t}, d.unbindEvents = function(a, b) {\n\t\t\te(b, function(b, c) {\n\t\t\t\tz(a.chart.canvas, c, b)\n\t\t\t})\n\t\t}),\n\t\tB = d.getMaximumWidth = function(a) {\n\t\t\tvar b = a.parentNode,\n\t\t\t\tc = parseInt(D(b, \"padding-left\")) + parseInt(D(b, \"padding-right\"));\n\t\t\treturn b.clientWidth - c\n\t\t},\n\t\tC = d.getMaximumHeight = function(a) {\n\t\t\tvar b = a.parentNode,\n\t\t\t\tc = parseInt(D(b, \"padding-bottom\")) + parseInt(D(b, \"padding-top\"));\n\t\t\treturn b.clientHeight - c\n\t\t},\n\t\tD = d.getStyle = function(a, b) {\n\t\t\treturn a.currentStyle ? a.currentStyle[b] : document.defaultView.getComputedStyle(a, null).getPropertyValue(b)\n\t\t},\n\t\tE = (d.getMaximumSize = d.getMaximumWidth, d.retinaScale = function(a) {\n\t\t\tvar b = a.ctx,\n\t\t\t\tc = a.canvas.width,\n\t\t\t\td = a.canvas.height;\n\t\t\twindow.devicePixelRatio && (b.canvas.style.width = c + \"px\", b.canvas.style.height = d + \"px\", b.canvas.height = d * window.devicePixelRatio, b.canvas.width = c * window.devicePixelRatio, b.scale(window.devicePixelRatio, window.devicePixelRatio))\n\t\t}),\n\t\tF = d.clear = function(a) {\n\t\t\ta.ctx.clearRect(0, 0, a.width, a.height)\n\t\t},\n\t\tG = d.fontString = function(a, b, c) {\n\t\t\treturn b + \" \" + a + \"px \" + c\n\t\t},\n\t\tH = d.longestText = function(a, b, c) {\n\t\t\ta.font = b;\n\t\t\tvar d = 0;\n\t\t\treturn e(c, function(b) {\n\t\t\t\tvar c = a.measureText(b).width;\n\t\t\t\td = c > d ? c : d\n\t\t\t}), d\n\t\t},\n\t\tI = d.drawRoundedRectangle = function(a, b, c, d, e, f) {\n\t\t\ta.beginPath(), a.moveTo(b + f, c), a.lineTo(b + d - f, c), a.quadraticCurveTo(b + d, c, b + d, c + f), a.lineTo(b + d, c + e - f), a.quadraticCurveTo(b + d, c + e, b + d - f, c + e), a.lineTo(b + f, c + e), a.quadraticCurveTo(b, c + e, b, c + e - f), a.lineTo(b, c + f), a.quadraticCurveTo(b, c, b + f, c), a.closePath()\n\t\t};\n\tc.instances = {}, c.Type = function(a, b, d) {\n\t\tthis.options = b, this.chart = d, this.id = l(), c.instances[this.id] = this, b.responsive && this.resize(), this.initialize.call(this, a)\n\t}, g(c.Type.prototype, {\n\t\tinitialize: function() {\n\t\t\treturn this\n\t\t},\n\t\tclear: function() {\n\t\t\treturn F(this.chart), this\n\t\t},\n\t\tstop: function() {\n\t\t\treturn c.animationService.cancelAnimation(this), this\n\t\t},\n\t\tresize: function(a) {\n\t\t\tthis.stop();\n\t\t\tvar b = this.chart.canvas,\n\t\t\t\tc = B(this.chart.canvas),\n\t\t\t\td = this.options.maintainAspectRatio ? c / this.chart.aspectRatio : C(this.chart.canvas);\n\t\t\treturn b.width = this.chart.width = c, b.height = this.chart.height = d, E(this.chart), \"function\" == typeof a && a.apply(this, Array.prototype.slice.call(arguments, 1)), this\n\t\t},\n\t\treflow: k,\n\t\trender: function(a) {\n\t\t\tif (a && this.reflow(), this.options.animation && !a) {\n\t\t\t\tvar b = new c.Animation;\n\t\t\t\tb.numSteps = this.options.animationSteps, b.easing = this.options.animationEasing, b.render = function(a, b) {\n\t\t\t\t\tvar c = d.easingEffects[b.easing],\n\t\t\t\t\t\te = b.currentStep / b.numSteps,\n\t\t\t\t\t\tf = c(e);\n\t\t\t\t\ta.draw(f, e, b.currentStep)\n\t\t\t\t}, b.onAnimationProgress = this.options.onAnimationProgress, b.onAnimationComplete = this.options.onAnimationComplete, c.animationService.addAnimation(this, b)\n\t\t\t} else this.draw(), this.options.onAnimationComplete.call(this);\n\t\t\treturn this\n\t\t},\n\t\tgenerateLegend: function() {\n\t\t\treturn v(this.options.legendTemplate, this)\n\t\t},\n\t\tdestroy: function() {\n\t\t\tthis.clear(), A(this, this.events);\n\t\t\tvar a = this.chart.canvas;\n\t\t\ta.width = this.chart.width, a.height = this.chart.height, a.style.removeProperty ? (a.style.removeProperty(\"width\"), a.style.removeProperty(\"height\")) : (a.style.removeAttribute(\"width\"), a.style.removeAttribute(\"height\")), delete c.instances[this.id]\n\t\t},\n\t\tshowTooltip: function(a, b) {\n\t\t\t\"undefined\" == typeof this.activeElements && (this.activeElements = []);\n\t\t\tvar f = function(a) {\n\t\t\t\t\tvar b = !1;\n\t\t\t\t\treturn a.length !== this.activeElements.length ? b = !0 : (e(a, function(a, c) {\n\t\t\t\t\t\ta !== this.activeElements[c] && (b = !0)\n\t\t\t\t\t}, this), b)\n\t\t\t\t}.call(this, a);\n\t\t\tif (f || b) {\n\t\t\t\tif (this.activeElements = a, this.draw(), this.options.customTooltips && this.options.customTooltips(!1), a.length > 0) if (this.datasets && this.datasets.length > 1) {\n\t\t\t\t\tfor (var g, h, j = this.datasets.length - 1; j >= 0 && (g = this.datasets[j].points || this.datasets[j].bars || this.datasets[j].segments, h = i(g, a[0]), -1 === h); j--);\n\t\t\t\t\tvar k = [],\n\t\t\t\t\t\tl = [],\n\t\t\t\t\t\tm = function(a) {\n\t\t\t\t\t\t\tvar b, c, e, f, g, i = [],\n\t\t\t\t\t\t\t\tj = [],\n\t\t\t\t\t\t\t\tm = [];\n\t\t\t\t\t\t\treturn d.each(this.datasets, function(a) {\n\t\t\t\t\t\t\t\tb = a.points || a.bars || a.segments, b[h] && b[h].hasValue() && i.push(b[h])\n\t\t\t\t\t\t\t}), d.each(i, function(a) {\n\t\t\t\t\t\t\t\tj.push(a.x), m.push(a.y), k.push(d.template(this.options.multiTooltipTemplate, a)), l.push({\n\t\t\t\t\t\t\t\t\tfill: a._saved.fillColor || a.fillColor,\n\t\t\t\t\t\t\t\t\tstroke: a._saved.strokeColor || a.strokeColor\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}, this), g = q(m), e = p(m), f = q(j), c = p(j), {\n\t\t\t\t\t\t\t\tx: f > this.chart.width / 2 ? f : c,\n\t\t\t\t\t\t\t\ty: (g + e) / 2\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.call(this, h);\n\t\t\t\t\tnew c.MultiTooltip({\n\t\t\t\t\t\tx: m.x,\n\t\t\t\t\t\ty: m.y,\n\t\t\t\t\t\txPadding: this.options.tooltipXPadding,\n\t\t\t\t\t\tyPadding: this.options.tooltipYPadding,\n\t\t\t\t\t\txOffset: this.options.tooltipXOffset,\n\t\t\t\t\t\tfillColor: this.options.tooltipFillColor,\n\t\t\t\t\t\ttextColor: this.options.tooltipFontColor,\n\t\t\t\t\t\tfontFamily: this.options.tooltipFontFamily,\n\t\t\t\t\t\tfontStyle: this.options.tooltipFontStyle,\n\t\t\t\t\t\tfontSize: this.options.tooltipFontSize,\n\t\t\t\t\t\ttitleTextColor: this.options.tooltipTitleFontColor,\n\t\t\t\t\t\ttitleFontFamily: this.options.tooltipTitleFontFamily,\n\t\t\t\t\t\ttitleFontStyle: this.options.tooltipTitleFontStyle,\n\t\t\t\t\t\ttitleFontSize: this.options.tooltipTitleFontSize,\n\t\t\t\t\t\tcornerRadius: this.options.tooltipCornerRadius,\n\t\t\t\t\t\tlabels: k,\n\t\t\t\t\t\tlegendColors: l,\n\t\t\t\t\t\tlegendColorBackground: this.options.multiTooltipKeyBackground,\n\t\t\t\t\t\ttitle: v(this.options.tooltipTitleTemplate, a[0]),\n\t\t\t\t\t\tchart: this.chart,\n\t\t\t\t\t\tctx: this.chart.ctx,\n\t\t\t\t\t\tcustom: this.options.customTooltips\n\t\t\t\t\t}).draw()\n\t\t\t\t} else e(a, function(a) {\n\t\t\t\t\tvar b = a.tooltipPosition();\n\t\t\t\t\tnew c.Tooltip({\n\t\t\t\t\t\tx: Math.round(b.x),\n\t\t\t\t\t\ty: Math.round(b.y),\n\t\t\t\t\t\txPadding: this.options.tooltipXPadding,\n\t\t\t\t\t\tyPadding: this.options.tooltipYPadding,\n\t\t\t\t\t\tfillColor: this.options.tooltipFillColor,\n\t\t\t\t\t\ttextColor: this.options.tooltipFontColor,\n\t\t\t\t\t\tfontFamily: this.options.tooltipFontFamily,\n\t\t\t\t\t\tfontStyle: this.options.tooltipFontStyle,\n\t\t\t\t\t\tfontSize: this.options.tooltipFontSize,\n\t\t\t\t\t\tcaretHeight: this.options.tooltipCaretSize,\n\t\t\t\t\t\tcornerRadius: this.options.tooltipCornerRadius,\n\t\t\t\t\t\ttext: v(this.options.tooltipTemplate, a),\n\t\t\t\t\t\tchart: this.chart,\n\t\t\t\t\t\tcustom: this.options.customTooltips\n\t\t\t\t\t}).draw()\n\t\t\t\t}, this);\n\t\t\t\treturn this\n\t\t\t}\n\t\t},\n\t\ttoBase64Image: function() {\n\t\t\treturn this.chart.canvas.toDataURL.apply(this.chart.canvas, arguments)\n\t\t}\n\t}), c.Type.extend = function(a) {\n\t\tvar b = this,\n\t\t\td = function() {\n\t\t\t\treturn b.apply(this, arguments)\n\t\t\t};\n\t\tif (d.prototype = f(b.prototype), g(d.prototype, a), d.extend = c.Type.extend, a.name || b.prototype.name) {\n\t\t\tvar e = a.name || b.prototype.name,\n\t\t\t\ti = c.defaults[b.prototype.name] ? f(c.defaults[b.prototype.name]) : {};\n\t\t\tc.defaults[e] = g(i, a.defaults), c.types[e] = d, c.prototype[e] = function(a, b) {\n\t\t\t\tvar f = h(c.defaults.global, c.defaults[e], b || {});\n\t\t\t\treturn new d(a, f, this)\n\t\t\t}\n\t\t} else m(\"Name not provided for this chart, so it hasn't been registered\");\n\t\treturn b\n\t}, c.Element = function(a) {\n\t\tg(this, a), this.initialize.apply(this, arguments), this.save()\n\t}, g(c.Element.prototype, {\n\t\tinitialize: function() {},\n\t\trestore: function(a) {\n\t\t\treturn a ? e(a, function(a) {\n\t\t\t\tthis[a] = this._saved[a]\n\t\t\t}, this) : g(this, this._saved), this\n\t\t},\n\t\tsave: function() {\n\t\t\treturn this._saved = f(this), delete this._saved._saved, this\n\t\t},\n\t\tupdate: function(a) {\n\t\t\treturn e(a, function(a, b) {\n\t\t\t\tthis._saved[b] = this[b], this[b] = a\n\t\t\t}, this), this\n\t\t},\n\t\ttransition: function(a, b) {\n\t\t\treturn e(a, function(a, c) {\n\t\t\t\tthis[c] = (a - this._saved[c]) * b + this._saved[c]\n\t\t\t}, this), this\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\treturn {\n\t\t\t\tx: this.x,\n\t\t\t\ty: this.y\n\t\t\t}\n\t\t},\n\t\thasValue: function() {\n\t\t\treturn o(this.value)\n\t\t}\n\t}), c.Element.extend = j, c.Point = c.Element.extend({\n\t\tdisplay: !0,\n\t\tinRange: function(a, b) {\n\t\t\tvar c = this.hitDetectionRadius + this.radius;\n\t\t\treturn Math.pow(a - this.x, 2) + Math.pow(b - this.y, 2) < Math.pow(c, 2)\n\t\t},\n\t\tdraw: function() {\n\t\t\tif (this.display) {\n\t\t\t\tvar a = this.ctx;\n\t\t\t\ta.beginPath(), a.arc(this.x, this.y, this.radius, 0, 2 * Math.PI), a.closePath(), a.strokeStyle = this.strokeColor, a.lineWidth = this.strokeWidth, a.fillStyle = this.fillColor, a.fill(), a.stroke()\n\t\t\t}\n\t\t}\n\t}), c.Arc = c.Element.extend({\n\t\tinRange: function(a, b) {\n\t\t\tvar c = d.getAngleFromPoint(this, {\n\t\t\t\tx: a,\n\t\t\t\ty: b\n\t\t\t}),\n\t\t\t\te = c.angle % (2 * Math.PI),\n\t\t\t\tf = (2 * Math.PI + this.startAngle) % (2 * Math.PI),\n\t\t\t\tg = (2 * Math.PI + this.endAngle) % (2 * Math.PI) || 360,\n\t\t\t\th = f > g ? g >= e || e >= f : e >= f && g >= e,\n\t\t\t\ti = c.distance >= this.innerRadius && c.distance <= this.outerRadius;\n\t\t\treturn h && i\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\tvar a = this.startAngle + (this.endAngle - this.startAngle) / 2,\n\t\t\t\tb = (this.outerRadius - this.innerRadius) / 2 + this.innerRadius;\n\t\t\treturn {\n\t\t\t\tx: this.x + Math.cos(a) * b,\n\t\t\t\ty: this.y + Math.sin(a) * b\n\t\t\t}\n\t\t},\n\t\tdraw: function(a) {\n\t\t\tvar b = this.ctx;\n\t\t\tb.beginPath(), b.arc(this.x, this.y, this.outerRadius < 0 ? 0 : this.outerRadius, this.startAngle, this.endAngle), b.arc(this.x, this.y, this.innerRadius < 0 ? 0 : this.innerRadius, this.endAngle, this.startAngle, !0), b.closePath(), b.strokeStyle = this.strokeColor, b.lineWidth = this.strokeWidth, b.fillStyle = this.fillColor, b.fill(), b.lineJoin = \"bevel\", this.showStroke && b.stroke()\n\t\t}\n\t}), c.Rectangle = c.Element.extend({\n\t\tdraw: function() {\n\t\t\tvar a = this.ctx,\n\t\t\t\tb = this.width / 2,\n\t\t\t\tc = this.x - b,\n\t\t\t\td = this.x + b,\n\t\t\t\te = this.base - (this.base - this.y),\n\t\t\t\tf = this.strokeWidth / 2;\n\t\t\tthis.showStroke && (c += f, d -= f, e += f), a.beginPath(), a.fillStyle = this.fillColor, a.strokeStyle = this.strokeColor, a.lineWidth = this.strokeWidth, a.moveTo(c, this.base), a.lineTo(c, e), a.lineTo(d, e), a.lineTo(d, this.base), a.fill(), this.showStroke && a.stroke()\n\t\t},\n\t\theight: function() {\n\t\t\treturn this.base - this.y\n\t\t},\n\t\tinRange: function(a, b) {\n\t\t\treturn a >= this.x - this.width / 2 && a <= this.x + this.width / 2 && b >= this.y && b <= this.base\n\t\t}\n\t}), c.Animation = c.Element.extend({\n\t\tcurrentStep: null,\n\t\tnumSteps: 60,\n\t\teasing: \"\",\n\t\trender: null,\n\t\tonAnimationProgress: null,\n\t\tonAnimationComplete: null\n\t}), c.Tooltip = c.Element.extend({\n\t\tdraw: function() {\n\t\t\tvar a = this.chart.ctx;\n\t\t\ta.font = G(this.fontSize, this.fontStyle, this.fontFamily), this.xAlign = \"center\", this.yAlign = \"above\";\n\t\t\tvar b = this.caretPadding = 2,\n\t\t\t\tc = a.measureText(this.text).width + 2 * this.xPadding,\n\t\t\t\td = this.fontSize + 2 * this.yPadding,\n\t\t\t\te = d + this.caretHeight + b;\n\t\t\tthis.x + c / 2 > this.chart.width ? this.xAlign = \"left\" : this.x - c / 2 < 0 && (this.xAlign = \"right\"), this.y - e < 0 && (this.yAlign = \"below\");\n\t\t\tvar f = this.x - c / 2,\n\t\t\t\tg = this.y - e;\n\t\t\tif (a.fillStyle = this.fillColor, this.custom) this.custom(this);\n\t\t\telse {\n\t\t\t\tswitch (this.yAlign) {\n\t\t\t\tcase \"above\":\n\t\t\t\t\ta.beginPath(), a.moveTo(this.x, this.y - b), a.lineTo(this.x + this.caretHeight, this.y - (b + this.caretHeight)), a.lineTo(this.x - this.caretHeight, this.y - (b + this.caretHeight)), a.closePath(), a.fill();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"below\":\n\t\t\t\t\tg = this.y + b + this.caretHeight, a.beginPath(), a.moveTo(this.x, this.y + b), a.lineTo(this.x + this.caretHeight, this.y + b + this.caretHeight), a.lineTo(this.x - this.caretHeight, this.y + b + this.caretHeight), a.closePath(), a.fill()\n\t\t\t\t}\n\t\t\t\tswitch (this.xAlign) {\n\t\t\t\tcase \"left\":\n\t\t\t\t\tf = this.x - c + (this.cornerRadius + this.caretHeight);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"right\":\n\t\t\t\t\tf = this.x - (this.cornerRadius + this.caretHeight)\n\t\t\t\t}\n\t\t\t\tI(a, f, g, c, d, this.cornerRadius), a.fill(), a.fillStyle = this.textColor, a.textAlign = \"center\", a.textBaseline = \"middle\", a.fillText(this.text, f + c / 2, g + d / 2)\n\t\t\t}\n\t\t}\n\t}), c.MultiTooltip = c.Element.extend({\n\t\tinitialize: function() {\n\t\t\tthis.font = G(this.fontSize, this.fontStyle, this.fontFamily), this.titleFont = G(this.titleFontSize, this.titleFontStyle, this.titleFontFamily), this.titleHeight = this.title ? 1.5 * this.titleFontSize : 0, this.height = this.labels.length * this.fontSize + (this.labels.length - 1) * (this.fontSize / 2) + 2 * this.yPadding + this.titleHeight, this.ctx.font = this.titleFont;\n\t\t\tvar a = this.ctx.measureText(this.title).width,\n\t\t\t\tb = H(this.ctx, this.font, this.labels) + this.fontSize + 3,\n\t\t\t\tc = p([b, a]);\n\t\t\tthis.width = c + 2 * this.xPadding;\n\t\t\tvar d = this.height / 2;\n\t\t\tthis.y - d < 0 ? this.y = d : this.y + d > this.chart.height && (this.y = this.chart.height - d), this.x > this.chart.width / 2 ? this.x -= this.xOffset + this.width : this.x += this.xOffset\n\t\t},\n\t\tgetLineHeight: function(a) {\n\t\t\tvar b = this.y - this.height / 2 + this.yPadding,\n\t\t\t\tc = a - 1;\n\t\t\treturn 0 === a ? b + this.titleHeight / 3 : b + (1.5 * this.fontSize * c + this.fontSize / 2) + this.titleHeight\n\t\t},\n\t\tdraw: function() {\n\t\t\tif (this.custom) this.custom(this);\n\t\t\telse {\n\t\t\t\tI(this.ctx, this.x, this.y - this.height / 2, this.width, this.height, this.cornerRadius);\n\t\t\t\tvar a = this.ctx;\n\t\t\t\ta.fillStyle = this.fillColor, a.fill(), a.closePath(), a.textAlign = \"left\", a.textBaseline = \"middle\", a.fillStyle = this.titleTextColor, a.font = this.titleFont, a.fillText(this.title, this.x + this.xPadding, this.getLineHeight(0)), a.font = this.font, d.each(this.labels, function(b, c) {\n\t\t\t\t\ta.fillStyle = this.textColor, a.fillText(b, this.x + this.xPadding + this.fontSize + 3, this.getLineHeight(c + 1)), a.fillStyle = this.legendColorBackground, a.fillRect(this.x + this.xPadding, this.getLineHeight(c + 1) - this.fontSize / 2, this.fontSize, this.fontSize), a.fillStyle = this.legendColors[c].fill, a.fillRect(this.x + this.xPadding, this.getLineHeight(c + 1) - this.fontSize / 2, this.fontSize, this.fontSize)\n\t\t\t\t}, this)\n\t\t\t}\n\t\t}\n\t}), c.Scale = c.Element.extend({\n\t\tinitialize: function() {\n\t\t\tthis.fit()\n\t\t},\n\t\tbuildYLabels: function() {\n\t\t\tthis.yLabels = [];\n\t\t\tfor (var a = r(this.stepValue), b = 0; b <= this.steps; b++) this.yLabels.push(v(this.templateString, {\n\t\t\t\tvalue: (this.min + b * this.stepValue).toFixed(a)\n\t\t\t}));\n\t\t\tthis.yLabelWidth = this.display && this.showLabels ? H(this.ctx, this.font, this.yLabels) + 10 : 0\n\t\t},\n\t\taddXLabel: function(a) {\n\t\t\tthis.xLabels.push(a), this.valuesCount++, this.fit()\n\t\t},\n\t\tremoveXLabel: function() {\n\t\t\tthis.xLabels.shift(), this.valuesCount--, this.fit()\n\t\t},\n\t\tfit: function() {\n\t\t\tthis.startPoint = this.display ? this.fontSize : 0, this.endPoint = this.display ? this.height - 1.5 * this.fontSize - 5 : this.height, this.startPoint += this.padding, this.endPoint -= this.padding;\n\t\t\tvar a, b = this.endPoint,\n\t\t\t\tc = this.endPoint - this.startPoint;\n\t\t\tfor (this.calculateYRange(c), this.buildYLabels(), this.calculateXLabelRotation(); c > this.endPoint - this.startPoint;) c = this.endPoint - this.startPoint, a = this.yLabelWidth, this.calculateYRange(c), this.buildYLabels(), a < this.yLabelWidth && (this.endPoint = b, this.calculateXLabelRotation())\n\t\t},\n\t\tcalculateXLabelRotation: function() {\n\t\t\tthis.ctx.font = this.font;\n\t\t\tvar a, b, c = this.ctx.measureText(this.xLabels[0]).width,\n\t\t\t\td = this.ctx.measureText(this.xLabels[this.xLabels.length - 1]).width;\n\t\t\tif (this.xScalePaddingRight = d / 2 + 3, this.xScalePaddingLeft = c / 2 > this.yLabelWidth ? c / 2 : this.yLabelWidth, this.xLabelRotation = 0, this.display) {\n\t\t\t\tvar e, f = H(this.ctx, this.font, this.xLabels);\n\t\t\t\tthis.xLabelWidth = f;\n\t\t\t\tfor (var g = Math.floor(this.calculateX(1) - this.calculateX(0)) - 6; this.xLabelWidth > g && 0 === this.xLabelRotation || this.xLabelWidth > g && this.xLabelRotation <= 90 && this.xLabelRotation > 0;) e = Math.cos(s(this.xLabelRotation)), a = e * c, b = e * d, a + this.fontSize / 2 > this.yLabelWidth && (this.xScalePaddingLeft = a + this.fontSize / 2), this.xScalePaddingRight = this.fontSize / 2, this.xLabelRotation++, this.xLabelWidth = e * f;\n\t\t\t\tthis.xLabelRotation > 0 && (this.endPoint -= Math.sin(s(this.xLabelRotation)) * f + 3)\n\t\t\t} else this.xLabelWidth = 0, this.xScalePaddingRight = this.padding, this.xScalePaddingLeft = this.padding\n\t\t},\n\t\tcalculateYRange: k,\n\t\tdrawingArea: function() {\n\t\t\treturn this.startPoint - this.endPoint\n\t\t},\n\t\tcalculateY: function(a) {\n\t\t\tvar b = this.drawingArea() / (this.min - this.max);\n\t\t\treturn this.endPoint - b * (a - this.min)\n\t\t},\n\t\tcalculateX: function(a) {\n\t\t\tvar b = (this.xLabelRotation > 0, this.width - (this.xScalePaddingLeft + this.xScalePaddingRight)),\n\t\t\t\tc = b / Math.max(this.valuesCount - (this.offsetGridLines ? 0 : 1), 1),\n\t\t\t\td = c * a + this.xScalePaddingLeft;\n\t\t\treturn this.offsetGridLines && (d += c / 2), Math.round(d)\n\t\t},\n\t\tupdate: function(a) {\n\t\t\td.extend(this, a), this.fit()\n\t\t},\n\t\tdraw: function() {\n\t\t\tvar a = this.ctx,\n\t\t\t\tb = (this.endPoint - this.startPoint) / this.steps,\n\t\t\t\tc = Math.round(this.xScalePaddingLeft);\n\t\t\tthis.display && (a.fillStyle = this.textColor, a.font = this.font, e(this.yLabels, function(e, f) {\n\t\t\t\tvar g = this.endPoint - b * f,\n\t\t\t\t\th = Math.round(g),\n\t\t\t\t\ti = this.showHorizontalLines;\n\t\t\t\ta.textAlign = \"right\", a.textBaseline = \"middle\", this.showLabels && a.fillText(e, c - 10, g), 0 !== f || i || (i = !0), i && a.beginPath(), f > 0 ? (a.lineWidth = this.gridLineWidth, a.strokeStyle = this.gridLineColor) : (a.lineWidth = this.lineWidth, a.strokeStyle = this.lineColor), h += d.aliasPixel(a.lineWidth), i && (a.moveTo(c, h), a.lineTo(this.width, h), a.stroke(), a.closePath()), a.lineWidth = this.lineWidth, a.strokeStyle = this.lineColor, a.beginPath(), a.moveTo(c - 5, h), a.lineTo(c, h), a.stroke(), a.closePath()\n\t\t\t}, this), e(this.xLabels, function(b, c) {\n\t\t\t\tvar d = this.calculateX(c) + t(this.lineWidth),\n\t\t\t\t\te = this.calculateX(c - (this.offsetGridLines ? .5 : 0)) + t(this.lineWidth),\n\t\t\t\t\tf = this.xLabelRotation > 0,\n\t\t\t\t\tg = this.showVerticalLines;\n\t\t\t\t0 !== c || g || (g = !0), g && a.beginPath(), c > 0 ? (a.lineWidth = this.gridLineWidth, a.strokeStyle = this.gridLineColor) : (a.lineWidth = this.lineWidth, a.strokeStyle = this.lineColor), g && (a.moveTo(e, this.endPoint), a.lineTo(e, this.startPoint - 3), a.stroke(), a.closePath()), a.lineWidth = this.lineWidth, a.strokeStyle = this.lineColor, a.beginPath(), a.moveTo(e, this.endPoint), a.lineTo(e, this.endPoint + 5), a.stroke(), a.closePath(), a.save(), a.translate(d, f ? this.endPoint + 12 : this.endPoint + 8), a.rotate(-1 * s(this.xLabelRotation)), a.font = this.font, a.textAlign = f ? \"right\" : \"center\", a.textBaseline = f ? \"middle\" : \"top\", a.fillText(b, 0, 0), a.restore()\n\t\t\t}, this))\n\t\t}\n\t}), c.RadialScale = c.Element.extend({\n\t\tinitialize: function() {\n\t\t\tthis.size = q([this.height, this.width]), this.drawingArea = this.display ? this.size / 2 - (this.fontSize / 2 + this.backdropPaddingY) : this.size / 2\n\t\t},\n\t\tcalculateCenterOffset: function(a) {\n\t\t\tvar b = this.drawingArea / (this.max - this.min);\n\t\t\treturn (a - this.min) * b\n\t\t},\n\t\tupdate: function() {\n\t\t\tthis.lineArc ? this.drawingArea = this.display ? this.size / 2 - (this.fontSize / 2 + this.backdropPaddingY) : this.size / 2 : this.setScaleSize(), this.buildYLabels()\n\t\t},\n\t\tbuildYLabels: function() {\n\t\t\tthis.yLabels = [];\n\t\t\tfor (var a = r(this.stepValue), b = 0; b <= this.steps; b++) this.yLabels.push(v(this.templateString, {\n\t\t\t\tvalue: (this.min + b * this.stepValue).toFixed(a)\n\t\t\t}))\n\t\t},\n\t\tgetCircumference: function() {\n\t\t\treturn 2 * Math.PI / this.valuesCount\n\t\t},\n\t\tsetScaleSize: function() {\n\t\t\tvar a, b, c, d, e, f, g, h, i, j, k, l, m = q([this.height / 2 - this.pointLabelFontSize - 5, this.width / 2]),\n\t\t\t\tn = this.width,\n\t\t\t\tp = 0;\n\t\t\tfor (this.ctx.font = G(this.pointLabelFontSize, this.pointLabelFontStyle, this.pointLabelFontFamily), b = 0; b < this.valuesCount; b++) a = this.getPointPosition(b, m), c = this.ctx.measureText(v(this.templateString, {\n\t\t\t\tvalue: this.labels[b]\n\t\t\t})).width + 5, 0 === b || b === this.valuesCount / 2 ? (d = c / 2, a.x + d > n && (n = a.x + d, e = b), a.x - d < p && (p = a.x - d, g = b)) : b < this.valuesCount / 2 ? a.x + c > n && (n = a.x + c, e = b) : b > this.valuesCount / 2 && a.x - c < p && (p = a.x - c, g = b);\n\t\t\ti = p, j = Math.ceil(n - this.width), f = this.getIndexAngle(e), h = this.getIndexAngle(g), k = j / Math.sin(f + Math.PI / 2), l = i / Math.sin(h + Math.PI / 2), k = o(k) ? k : 0, l = o(l) ? l : 0, this.drawingArea = m - (l + k) / 2, this.setCenterPoint(l, k)\n\t\t},\n\t\tsetCenterPoint: function(a, b) {\n\t\t\tvar c = this.width - b - this.drawingArea,\n\t\t\t\td = a + this.drawingArea;\n\t\t\tthis.xCenter = (d + c) / 2, this.yCenter = this.height / 2\n\t\t},\n\t\tgetIndexAngle: function(a) {\n\t\t\tvar b = 2 * Math.PI / this.valuesCount;\n\t\t\treturn a * b - Math.PI / 2\n\t\t},\n\t\tgetPointPosition: function(a, b) {\n\t\t\tvar c = this.getIndexAngle(a);\n\t\t\treturn {\n\t\t\t\tx: Math.cos(c) * b + this.xCenter,\n\t\t\t\ty: Math.sin(c) * b + this.yCenter\n\t\t\t}\n\t\t},\n\t\tdraw: function() {\n\t\t\tif (this.display) {\n\t\t\t\tvar a = this.ctx;\n\t\t\t\tif (e(this.yLabels, function(b, c) {\n\t\t\t\t\tif (c > 0) {\n\t\t\t\t\t\tvar d, e = c * (this.drawingArea / this.steps),\n\t\t\t\t\t\t\tf = this.yCenter - e;\n\t\t\t\t\t\tif (this.lineWidth > 0) if (a.strokeStyle = this.lineColor, a.lineWidth = this.lineWidth, this.lineArc) a.beginPath(), a.arc(this.xCenter, this.yCenter, e, 0, 2 * Math.PI), a.closePath(), a.stroke();\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ta.beginPath();\n\t\t\t\t\t\t\tfor (var g = 0; g < this.valuesCount; g++) d = this.getPointPosition(g, this.calculateCenterOffset(this.min + c * this.stepValue)), 0 === g ? a.moveTo(d.x, d.y) : a.lineTo(d.x, d.y);\n\t\t\t\t\t\t\ta.closePath(), a.stroke()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.showLabels) {\n\t\t\t\t\t\t\tif (a.font = G(this.fontSize, this.fontStyle, this.fontFamily), this.showLabelBackdrop) {\n\t\t\t\t\t\t\t\tvar h = a.measureText(b).width;\n\t\t\t\t\t\t\t\ta.fillStyle = this.backdropColor, a.fillRect(this.xCenter - h / 2 - this.backdropPaddingX, f - this.fontSize / 2 - this.backdropPaddingY, h + 2 * this.backdropPaddingX, this.fontSize + 2 * this.backdropPaddingY)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ta.textAlign = \"center\", a.textBaseline = \"middle\", a.fillStyle = this.fontColor, a.fillText(b, this.xCenter, f)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this), !this.lineArc) {\n\t\t\t\t\ta.lineWidth = this.angleLineWidth, a.strokeStyle = this.angleLineColor;\n\t\t\t\t\tfor (var b = this.valuesCount - 1; b >= 0; b--) {\n\t\t\t\t\t\tvar c = null,\n\t\t\t\t\t\t\td = null;\n\t\t\t\t\t\tif (this.angleLineWidth > 0 && (c = this.calculateCenterOffset(this.max), d = this.getPointPosition(b, c), a.beginPath(), a.moveTo(this.xCenter, this.yCenter), a.lineTo(d.x, d.y), a.stroke(), a.closePath()), this.backgroundColors && this.backgroundColors.length == this.valuesCount) {\n\t\t\t\t\t\t\tnull == c && (c = this.calculateCenterOffset(this.max)), null == d && (d = this.getPointPosition(b, c));\n\t\t\t\t\t\t\tvar f = this.getPointPosition(0 === b ? this.valuesCount - 1 : b - 1, c),\n\t\t\t\t\t\t\t\tg = this.getPointPosition(b === this.valuesCount - 1 ? 0 : b + 1, c),\n\t\t\t\t\t\t\t\th = {\n\t\t\t\t\t\t\t\t\tx: (f.x + d.x) / 2,\n\t\t\t\t\t\t\t\t\ty: (f.y + d.y) / 2\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ti = {\n\t\t\t\t\t\t\t\t\tx: (d.x + g.x) / 2,\n\t\t\t\t\t\t\t\t\ty: (d.y + g.y) / 2\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\ta.beginPath(), a.moveTo(this.xCenter, this.yCenter), a.lineTo(h.x, h.y), a.lineTo(d.x, d.y), a.lineTo(i.x, i.y), a.fillStyle = this.backgroundColors[b], a.fill(), a.closePath()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar j = this.getPointPosition(b, this.calculateCenterOffset(this.max) + 5);\n\t\t\t\t\t\ta.font = G(this.pointLabelFontSize, this.pointLabelFontStyle, this.pointLabelFontFamily), a.fillStyle = this.pointLabelFontColor;\n\t\t\t\t\t\tvar k = this.labels.length,\n\t\t\t\t\t\t\tl = this.labels.length / 2,\n\t\t\t\t\t\t\tm = l / 2,\n\t\t\t\t\t\t\tn = m > b || b > k - m,\n\t\t\t\t\t\t\to = b === m || b === k - m;\n\t\t\t\t\t\t0 === b ? a.textAlign = \"center\" : b === l ? a.textAlign = \"center\" : l > b ? a.textAlign = \"left\" : a.textAlign = \"right\", o ? a.textBaseline = \"middle\" : n ? a.textBaseline = \"bottom\" : a.textBaseline = \"top\", a.fillText(this.labels[b], j.x, j.y)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}), c.animationService = {\n\t\tframeDuration: 17,\n\t\tanimations: [],\n\t\tdropFrames: 0,\n\t\taddAnimation: function(a, b) {\n\t\t\tfor (var c = 0; c < this.animations.length; ++c) if (this.animations[c].chartInstance === a) return void(this.animations[c].animationObject = b);\n\t\t\tthis.animations.push({\n\t\t\t\tchartInstance: a,\n\t\t\t\tanimationObject: b\n\t\t\t}), 1 == this.animations.length && d.requestAnimFrame.call(window, this.digestWrapper)\n\t\t},\n\t\tcancelAnimation: function(a) {\n\t\t\tvar b = d.findNextWhere(this.animations, function(b) {\n\t\t\t\treturn b.chartInstance === a\n\t\t\t});\n\t\t\tb && this.animations.splice(b, 1)\n\t\t},\n\t\tdigestWrapper: function() {\n\t\t\tc.animationService.startDigest.call(c.animationService)\n\t\t},\n\t\tstartDigest: function() {\n\t\t\tvar a = Date.now(),\n\t\t\t\tb = 0;\n\t\t\tthis.dropFrames > 1 && (b = Math.floor(this.dropFrames), this.dropFrames -= b);\n\t\t\tfor (var c = 0; c < this.animations.length; c++) null === this.animations[c].animationObject.currentStep && (this.animations[c].animationObject.currentStep = 0), this.animations[c].animationObject.currentStep += 1 + b, this.animations[c].animationObject.currentStep > this.animations[c].animationObject.numSteps && (this.animations[c].animationObject.currentStep = this.animations[c].animationObject.numSteps), this.animations[c].animationObject.render(this.animations[c].chartInstance, this.animations[c].animationObject), this.animations[c].animationObject.currentStep == this.animations[c].animationObject.numSteps && (this.animations[c].animationObject.onAnimationComplete.call(this.animations[c].chartInstance), this.animations.splice(c, 1), c--);\n\t\t\tvar e = Date.now(),\n\t\t\t\tf = e - a - this.frameDuration,\n\t\t\t\tg = f / this.frameDuration;\n\t\t\tg > 1 && (this.dropFrames += g), this.animations.length > 0 && d.requestAnimFrame.call(window, this.digestWrapper)\n\t\t}\n\t}, d.addEvent(window, \"resize\", function() {\n\t\tvar a;\n\t\treturn function() {\n\t\t\tclearTimeout(a), a = setTimeout(function() {\n\t\t\t\te(c.instances, function(a) {\n\t\t\t\t\ta.options.responsive && a.resize(a.render, !0)\n\t\t\t\t})\n\t\t\t}, 50)\n\t\t}\n\t}()), n ? !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n\t\treturn c\n\t}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : \"object\" == typeof module && module.exports && (module.exports = c), a.Chart = c, c.noConflict = function() {\n\t\treturn a.Chart = b, c\n\t}\n}).call(this), function() {\n\t\"use strict\";\n\tvar a = this,\n\t\tb = a.Chart,\n\t\tc = b.helpers,\n\t\td = {\n\t\t\tscaleBeginAtZero: !0,\n\t\t\tscaleShowGridLines: !0,\n\t\t\tscaleGridLineColor: \"rgba(0,0,0,.05)\",\n\t\t\tscaleGridLineWidth: 1,\n\t\t\tscaleShowHorizontalLines: !0,\n\t\t\tscaleShowVerticalLines: !0,\n\t\t\tbarShowStroke: !0,\n\t\t\tbarStrokeWidth: 2,\n\t\t\tbarValueSpacing: 5,\n\t\t\tbarDatasetSpacing: 1,\n\t\t\tlegendTemplate: '<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].fillColor%>\"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'\n\t\t};\n\tb.Type.extend({\n\t\tname: \"Bar\",\n\t\tdefaults: d,\n\t\tinitialize: function(a) {\n\t\t\tvar d = this.options;\n\t\t\tthis.ScaleClass = b.Scale.extend({\n\t\t\t\toffsetGridLines: !0,\n\t\t\t\tcalculateBarX: function(a, b, c) {\n\t\t\t\t\tvar e = this.calculateBaseWidth(),\n\t\t\t\t\t\tf = this.calculateX(c) - e / 2,\n\t\t\t\t\t\tg = this.calculateBarWidth(a);\n\t\t\t\t\treturn f + g * b + b * d.barDatasetSpacing + g / 2\n\t\t\t\t},\n\t\t\t\tcalculateBaseWidth: function() {\n\t\t\t\t\treturn this.calculateX(1) - this.calculateX(0) - 2 * d.barValueSpacing\n\t\t\t\t},\n\t\t\t\tcalculateBarWidth: function(a) {\n\t\t\t\t\tvar b = this.calculateBaseWidth() - (a - 1) * d.barDatasetSpacing;\n\t\t\t\t\treturn b / a\n\t\t\t\t}\n\t\t\t}), this.datasets = [], this.options.showTooltips && c.bindEvents(this, this.options.tooltipEvents, function(a) {\n\t\t\t\tvar b = \"mouseout\" !== a.type ? this.getBarsAtEvent(a) : [];\n\t\t\t\tthis.eachBars(function(a) {\n\t\t\t\t\ta.restore([\"fillColor\", \"strokeColor\"])\n\t\t\t\t}), c.each(b, function(a) {\n\t\t\t\t\ta.fillColor = a.highlightFill, a.strokeColor = a.highlightStroke\n\t\t\t\t}), this.showTooltip(b)\n\t\t\t}), this.BarClass = b.Rectangle.extend({\n\t\t\t\tstrokeWidth: this.options.barStrokeWidth,\n\t\t\t\tshowStroke: this.options.barShowStroke,\n\t\t\t\tctx: this.chart.ctx\n\t\t\t}), c.each(a.datasets, function(b, d) {\n\t\t\t\tvar e = {\n\t\t\t\t\tlabel: b.label || null,\n\t\t\t\t\tfillColor: b.fillColor,\n\t\t\t\t\tstrokeColor: b.strokeColor,\n\t\t\t\t\tbars: []\n\t\t\t\t};\n\t\t\t\tthis.datasets.push(e), c.each(b.data, function(c, d) {\n\t\t\t\t\te.bars.push(new this.BarClass({\n\t\t\t\t\t\tvalue: c,\n\t\t\t\t\t\tlabel: a.labels[d],\n\t\t\t\t\t\tdatasetLabel: b.label,\n\t\t\t\t\t\tstrokeColor: b.strokeColor,\n\t\t\t\t\t\tfillColor: b.fillColor,\n\t\t\t\t\t\thighlightFill: b.highlightFill || b.fillColor,\n\t\t\t\t\t\thighlightStroke: b.highlightStroke || b.strokeColor\n\t\t\t\t\t}))\n\t\t\t\t}, this)\n\t\t\t}, this), this.buildScale(a.labels), this.BarClass.prototype.base = this.scale.endPoint, this.eachBars(function(a, b, d) {\n\t\t\t\tc.extend(a, {\n\t\t\t\t\twidth: this.scale.calculateBarWidth(this.datasets.length),\n\t\t\t\t\tx: this.scale.calculateBarX(this.datasets.length, d, b),\n\t\t\t\t\ty: this.scale.endPoint\n\t\t\t\t}), a.save()\n\t\t\t}, this), this.render()\n\t\t},\n\t\tupdate: function() {\n\t\t\tthis.scale.update(), c.each(this.activeElements, function(a) {\n\t\t\t\ta.restore([\"fillColor\", \"strokeColor\"])\n\t\t\t}), this.eachBars(function(a) {\n\t\t\t\ta.save()\n\t\t\t}), this.render()\n\t\t},\n\t\teachBars: function(a) {\n\t\t\tc.each(this.datasets, function(b, d) {\n\t\t\t\tc.each(b.bars, a, this, d)\n\t\t\t}, this)\n\t\t},\n\t\tgetBarsAtEvent: function(a) {\n\t\t\tfor (var b, d = [], e = c.getRelativePosition(a), f = function(a) {\n\t\t\t\t\td.push(a.bars[b])\n\t\t\t\t}, g = 0; g < this.datasets.length; g++) for (b = 0; b < this.datasets[g].bars.length; b++) if (this.datasets[g].bars[b].inRange(e.x, e.y)) return c.each(this.datasets, f), d;\n\t\t\treturn d\n\t\t},\n\t\tbuildScale: function(a) {\n\t\t\tvar b = this,\n\t\t\t\td = function() {\n\t\t\t\t\tvar a = [];\n\t\t\t\t\treturn b.eachBars(function(b) {\n\t\t\t\t\t\ta.push(b.value)\n\t\t\t\t\t}), a\n\t\t\t\t},\n\t\t\t\te = {\n\t\t\t\t\ttemplateString: this.options.scaleLabel,\n\t\t\t\t\theight: this.chart.height,\n\t\t\t\t\twidth: this.chart.width,\n\t\t\t\t\tctx: this.chart.ctx,\n\t\t\t\t\ttextColor: this.options.scaleFontColor,\n\t\t\t\t\tfontSize: this.options.scaleFontSize,\n\t\t\t\t\tfontStyle: this.options.scaleFontStyle,\n\t\t\t\t\tfontFamily: this.options.scaleFontFamily,\n\t\t\t\t\tvaluesCount: a.length,\n\t\t\t\t\tbeginAtZero: this.options.scaleBeginAtZero,\n\t\t\t\t\tintegersOnly: this.options.scaleIntegersOnly,\n\t\t\t\t\tcalculateYRange: function(a) {\n\t\t\t\t\t\tvar b = c.calculateScaleRange(d(), a, this.fontSize, this.beginAtZero, this.integersOnly);\n\t\t\t\t\t\tc.extend(this, b)\n\t\t\t\t\t},\n\t\t\t\t\txLabels: a,\n\t\t\t\t\tfont: c.fontString(this.options.scaleFontSize, this.options.scaleFontStyle, this.options.scaleFontFamily),\n\t\t\t\t\tlineWidth: this.options.scaleLineWidth,\n\t\t\t\t\tlineColor: this.options.scaleLineColor,\n\t\t\t\t\tshowHorizontalLines: this.options.scaleShowHorizontalLines,\n\t\t\t\t\tshowVerticalLines: this.options.scaleShowVerticalLines,\n\t\t\t\t\tgridLineWidth: this.options.scaleShowGridLines ? this.options.scaleGridLineWidth : 0,\n\t\t\t\t\tgridLineColor: this.options.scaleShowGridLines ? this.options.scaleGridLineColor : \"rgba(0,0,0,0)\",\n\t\t\t\t\tpadding: this.options.showScale ? 0 : this.options.barShowStroke ? this.options.barStrokeWidth : 0,\n\t\t\t\t\tshowLabels: this.options.scaleShowLabels,\n\t\t\t\t\tdisplay: this.options.showScale\n\t\t\t\t};\n\t\t\tthis.options.scaleOverride && c.extend(e, {\n\t\t\t\tcalculateYRange: c.noop,\n\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\tmax: this.options.scaleStartValue + this.options.scaleSteps * this.options.scaleStepWidth\n\t\t\t}), this.scale = new this.ScaleClass(e)\n\t\t},\n\t\taddData: function(a, b) {\n\t\t\tc.each(a, function(a, c) {\n\t\t\t\tthis.datasets[c].bars.push(new this.BarClass({\n\t\t\t\t\tvalue: a,\n\t\t\t\t\tlabel: b,\n\t\t\t\t\tdatasetLabel: this.datasets[c].label,\n\t\t\t\t\tx: this.scale.calculateBarX(this.datasets.length, c, this.scale.valuesCount + 1),\n\t\t\t\t\ty: this.scale.endPoint,\n\t\t\t\t\twidth: this.scale.calculateBarWidth(this.datasets.length),\n\t\t\t\t\tbase: this.scale.endPoint,\n\t\t\t\t\tstrokeColor: this.datasets[c].strokeColor,\n\t\t\t\t\tfillColor: this.datasets[c].fillColor\n\t\t\t\t}))\n\t\t\t}, this), this.scale.addXLabel(b), this.update()\n\t\t},\n\t\tremoveData: function() {\n\t\t\tthis.scale.removeXLabel(), c.each(this.datasets, function(a) {\n\t\t\t\ta.bars.shift()\n\t\t\t}, this), this.update()\n\t\t},\n\t\treflow: function() {\n\t\t\tc.extend(this.BarClass.prototype, {\n\t\t\t\ty: this.scale.endPoint,\n\t\t\t\tbase: this.scale.endPoint\n\t\t\t});\n\t\t\tvar a = c.extend({\n\t\t\t\theight: this.chart.height,\n\t\t\t\twidth: this.chart.width\n\t\t\t});\n\t\t\tthis.scale.update(a)\n\t\t},\n\t\tdraw: function(a) {\n\t\t\tvar b = a || 1;\n\t\t\tthis.clear(), this.chart.ctx, this.scale.draw(b), c.each(this.datasets, function(a, d) {\n\t\t\t\tc.each(a.bars, function(a, c) {\n\t\t\t\t\ta.hasValue() && (a.base = this.scale.endPoint, a.transition({\n\t\t\t\t\t\tx: this.scale.calculateBarX(this.datasets.length, d, c),\n\t\t\t\t\t\ty: this.scale.calculateY(a.value),\n\t\t\t\t\t\twidth: this.scale.calculateBarWidth(this.datasets.length)\n\t\t\t\t\t}, b).draw())\n\t\t\t\t}, this)\n\t\t\t}, this)\n\t\t}\n\t})\n}.call(this), function() {\n\t\"use strict\";\n\tvar a = this,\n\t\tb = a.Chart,\n\t\tc = b.helpers,\n\t\td = {\n\t\t\tsegmentShowStroke: !0,\n\t\t\tsegmentStrokeColor: \"#fff\",\n\t\t\tsegmentStrokeWidth: 2,\n\t\t\tpercentageInnerCutout: 50,\n\t\t\tanimationSteps: 100,\n\t\t\tanimationEasing: \"easeOutBounce\",\n\t\t\tanimateRotate: !0,\n\t\t\tanimateScale: !1,\n\t\t\tlegendTemplate: '<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'\n\t\t};\n\tb.Type.extend({\n\t\tname: \"Doughnut\",\n\t\tdefaults: d,\n\t\tinitialize: function(a) {\n\t\t\tthis.segments = [], this.outerRadius = (c.min([this.chart.width, this.chart.height]) - this.options.segmentStrokeWidth / 2) / 2, this.SegmentArc = b.Arc.extend({\n\t\t\t\tctx: this.chart.ctx,\n\t\t\t\tx: this.chart.width / 2,\n\t\t\t\ty: this.chart.height / 2\n\t\t\t}), this.options.showTooltips && c.bindEvents(this, this.options.tooltipEvents, function(a) {\n\t\t\t\tvar b = \"mouseout\" !== a.type ? this.getSegmentsAtEvent(a) : [];\n\t\t\t\tc.each(this.segments, function(a) {\n\t\t\t\t\ta.restore([\"fillColor\"])\n\t\t\t\t}), c.each(b, function(a) {\n\t\t\t\t\ta.fillColor = a.highlightColor\n\t\t\t\t}), this.showTooltip(b)\n\t\t\t}), this.calculateTotal(a), c.each(a, function(b, c) {\n\t\t\t\tb.color || (b.color = \"hsl(\" + 360 * c / a.length + \", 100%, 50%)\"), this.addData(b, c, !0)\n\t\t\t}, this), this.render()\n\t\t},\n\t\tgetSegmentsAtEvent: function(a) {\n\t\t\tvar b = [],\n\t\t\t\td = c.getRelativePosition(a);\n\t\t\treturn c.each(this.segments, function(a) {\n\t\t\t\ta.inRange(d.x, d.y) && b.push(a)\n\t\t\t}, this), b\n\t\t},\n\t\taddData: function(a, c, d) {\n\t\t\tvar e = void 0 !== c ? c : this.segments.length;\n\t\t\t\"undefined\" == typeof a.color && (a.color = b.defaults.global.segmentColorDefault[e % b.defaults.global.segmentColorDefault.length], a.highlight = b.defaults.global.segmentHighlightColorDefaults[e % b.defaults.global.segmentHighlightColorDefaults.length]), this.segments.splice(e, 0, new this.SegmentArc({\n\t\t\t\tvalue: a.value,\n\t\t\t\touterRadius: this.options.animateScale ? 0 : this.outerRadius,\n\t\t\t\tinnerRadius: this.options.animateScale ? 0 : this.outerRadius / 100 * this.options.percentageInnerCutout,\n\t\t\t\tfillColor: a.color,\n\t\t\t\thighlightColor: a.highlight || a.color,\n\t\t\t\tshowStroke: this.options.segmentShowStroke,\n\t\t\t\tstrokeWidth: this.options.segmentStrokeWidth,\n\t\t\t\tstrokeColor: this.options.segmentStrokeColor,\n\t\t\t\tstartAngle: 1.5 * Math.PI,\n\t\t\t\tcircumference: this.options.animateRotate ? 0 : this.calculateCircumference(a.value),\n\t\t\t\tlabel: a.label\n\t\t\t})), d || (this.reflow(), this.update())\n\t\t},\n\t\tcalculateCircumference: function(a) {\n\t\t\treturn this.total > 0 ? 2 * Math.PI * (a / this.total) : 0\n\t\t},\n\t\tcalculateTotal: function(a) {\n\t\t\tthis.total = 0, c.each(a, function(a) {\n\t\t\t\tthis.total += Math.abs(a.value)\n\t\t\t}, this)\n\t\t},\n\t\tupdate: function() {\n\t\t\tthis.calculateTotal(this.segments), c.each(this.activeElements, function(a) {\n\t\t\t\ta.restore([\"fillColor\"])\n\t\t\t}), c.each(this.segments, function(a) {\n\t\t\t\ta.save()\n\t\t\t}), this.render()\n\t\t},\n\t\tremoveData: function(a) {\n\t\t\tvar b = c.isNumber(a) ? a : this.segments.length - 1;\n\t\t\tthis.segments.splice(b, 1), this.reflow(), this.update()\n\t\t},\n\t\treflow: function() {\n\t\t\tc.extend(this.SegmentArc.prototype, {\n\t\t\t\tx: this.chart.width / 2,\n\t\t\t\ty: this.chart.height / 2\n\t\t\t}), this.outerRadius = (c.min([this.chart.width, this.chart.height]) - this.options.segmentStrokeWidth / 2) / 2, c.each(this.segments, function(a) {\n\t\t\t\ta.update({\n\t\t\t\t\touterRadius: this.outerRadius,\n\t\t\t\t\tinnerRadius: this.outerRadius / 100 * this.options.percentageInnerCutout\n\t\t\t\t})\n\t\t\t}, this)\n\t\t},\n\t\tdraw: function(a) {\n\t\t\tvar b = a ? a : 1;\n\t\t\tthis.clear(), c.each(this.segments, function(a, c) {\n\t\t\t\ta.transition({\n\t\t\t\t\tcircumference: this.calculateCircumference(a.value),\n\t\t\t\t\touterRadius: this.outerRadius,\n\t\t\t\t\tinnerRadius: this.outerRadius / 100 * this.options.percentageInnerCutout\n\t\t\t\t}, b), a.endAngle = a.startAngle + a.circumference, a.draw(), 0 === c && (a.startAngle = 1.5 * Math.PI), c < this.segments.length - 1 && (this.segments[c + 1].startAngle = a.endAngle)\n\t\t\t}, this)\n\t\t}\n\t}), b.types.Doughnut.extend({\n\t\tname: \"Pie\",\n\t\tdefaults: c.merge(d, {\n\t\t\tpercentageInnerCutout: 0\n\t\t})\n\t})\n}.call(this), function() {\n\t\"use strict\";\n\tvar a = this,\n\t\tb = a.Chart,\n\t\tc = b.helpers,\n\t\td = {\n\t\t\tscaleShowGridLines: !0,\n\t\t\tscaleGridLineColor: \"rgba(0,0,0,.05)\",\n\t\t\tscaleGridLineWidth: 1,\n\t\t\tscaleShowHorizontalLines: !0,\n\t\t\tscaleShowVerticalLines: !0,\n\t\t\tbezierCurve: !0,\n\t\t\tbezierCurveTension: .4,\n\t\t\tpointDot: !0,\n\t\t\tpointDotRadius: 4,\n\t\t\tpointDotStrokeWidth: 1,\n\t\t\tpointHitDetectionRadius: 20,\n\t\t\tdatasetStroke: !0,\n\t\t\tdatasetStrokeWidth: 2,\n\t\t\tdatasetFill: !0,\n\t\t\tlegendTemplate: '<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].strokeColor%>\"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>',\n\t\t\toffsetGridLines: !1\n\t\t};\n\tb.Type.extend({\n\t\tname: \"Line\",\n\t\tdefaults: d,\n\t\tinitialize: function(a) {\n\t\t\tthis.PointClass = b.Point.extend({\n\t\t\t\toffsetGridLines: this.options.offsetGridLines,\n\t\t\t\tstrokeWidth: this.options.pointDotStrokeWidth,\n\t\t\t\tradius: this.options.pointDotRadius,\n\t\t\t\tdisplay: this.options.pointDot,\n\t\t\t\thitDetectionRadius: this.options.pointHitDetectionRadius,\n\t\t\t\tctx: this.chart.ctx,\n\t\t\t\tinRange: function(a) {\n\t\t\t\t\treturn Math.pow(a - this.x, 2) < Math.pow(this.radius + this.hitDetectionRadius, 2)\n\t\t\t\t}\n\t\t\t}), this.datasets = [], this.options.showTooltips && c.bindEvents(this, this.options.tooltipEvents, function(a) {\n\t\t\t\tvar b = \"mouseout\" !== a.type ? this.getPointsAtEvent(a) : [];\n\t\t\t\tthis.eachPoints(function(a) {\n\t\t\t\t\ta.restore([\"fillColor\", \"strokeColor\"])\n\t\t\t\t}), c.each(b, function(a) {\n\t\t\t\t\ta.fillColor = a.highlightFill, a.strokeColor = a.highlightStroke\n\t\t\t\t}), this.showTooltip(b)\n\t\t\t}), c.each(a.datasets, function(b) {\n\t\t\t\tvar d = {\n\t\t\t\t\tlabel: b.label || null,\n\t\t\t\t\tfillColor: b.fillColor,\n\t\t\t\t\tstrokeColor: b.strokeColor,\n\t\t\t\t\tpointColor: b.pointColor,\n\t\t\t\t\tpointStrokeColor: b.pointStrokeColor,\n\t\t\t\t\tpoints: []\n\t\t\t\t};\n\t\t\t\tthis.datasets.push(d), c.each(b.data, function(c, e) {\n\t\t\t\t\td.points.push(new this.PointClass({\n\t\t\t\t\t\tvalue: c,\n\t\t\t\t\t\tlabel: a.labels[e],\n\t\t\t\t\t\tdatasetLabel: b.label,\n\t\t\t\t\t\tstrokeColor: b.pointStrokeColor,\n\t\t\t\t\t\tfillColor: b.pointColor,\n\t\t\t\t\t\thighlightFill: b.pointHighlightFill || b.pointColor,\n\t\t\t\t\t\thighlightStroke: b.pointHighlightStroke || b.pointStrokeColor\n\t\t\t\t\t}))\n\t\t\t\t}, this), this.buildScale(a.labels), this.eachPoints(function(a, b) {\n\t\t\t\t\tc.extend(a, {\n\t\t\t\t\t\tx: this.scale.calculateX(b),\n\t\t\t\t\t\ty: this.scale.endPoint\n\t\t\t\t\t}), a.save()\n\t\t\t\t}, this)\n\t\t\t}, this), this.render()\n\t\t},\n\t\tupdate: function() {\n\t\t\tthis.scale.update(), c.each(this.activeElements, function(a) {\n\t\t\t\ta.restore([\"fillColor\", \"strokeColor\"])\n\t\t\t}), this.eachPoints(function(a) {\n\t\t\t\ta.save()\n\t\t\t}), this.render()\n\t\t},\n\t\teachPoints: function(a) {\n\t\t\tc.each(this.datasets, function(b) {\n\t\t\t\tc.each(b.points, a, this)\n\t\t\t}, this)\n\t\t},\n\t\tgetPointsAtEvent: function(a) {\n\t\t\tvar b = [],\n\t\t\t\td = c.getRelativePosition(a);\n\t\t\treturn c.each(this.datasets, function(a) {\n\t\t\t\tc.each(a.points, function(a) {\n\t\t\t\t\ta.inRange(d.x, d.y) && b.push(a)\n\t\t\t\t})\n\t\t\t}, this), b\n\t\t},\n\t\tbuildScale: function(a) {\n\t\t\tvar d = this,\n\t\t\t\te = function() {\n\t\t\t\t\tvar a = [];\n\t\t\t\t\treturn d.eachPoints(function(b) {\n\t\t\t\t\t\ta.push(b.value)\n\t\t\t\t\t}), a\n\t\t\t\t},\n\t\t\t\tf = {\n\t\t\t\t\ttemplateString: this.options.scaleLabel,\n\t\t\t\t\theight: this.chart.height,\n\t\t\t\t\twidth: this.chart.width,\n\t\t\t\t\tctx: this.chart.ctx,\n\t\t\t\t\ttextColor: this.options.scaleFontColor,\n\t\t\t\t\toffsetGridLines: this.options.offsetGridLines,\n\t\t\t\t\tfontSize: this.options.scaleFontSize,\n\t\t\t\t\tfontStyle: this.options.scaleFontStyle,\n\t\t\t\t\tfontFamily: this.options.scaleFontFamily,\n\t\t\t\t\tvaluesCount: a.length,\n\t\t\t\t\tbeginAtZero: this.options.scaleBeginAtZero,\n\t\t\t\t\tintegersOnly: this.options.scaleIntegersOnly,\n\t\t\t\t\tcalculateYRange: function(a) {\n\t\t\t\t\t\tvar b = c.calculateScaleRange(e(), a, this.fontSize, this.beginAtZero, this.integersOnly);\n\t\t\t\t\t\tc.extend(this, b)\n\t\t\t\t\t},\n\t\t\t\t\txLabels: a,\n\t\t\t\t\tfont: c.fontString(this.options.scaleFontSize, this.options.scaleFontStyle, this.options.scaleFontFamily),\n\t\t\t\t\tlineWidth: this.options.scaleLineWidth,\n\t\t\t\t\tlineColor: this.options.scaleLineColor,\n\t\t\t\t\tshowHorizontalLines: this.options.scaleShowHorizontalLines,\n\t\t\t\t\tshowVerticalLines: this.options.scaleShowVerticalLines,\n\t\t\t\t\tgridLineWidth: this.options.scaleShowGridLines ? this.options.scaleGridLineWidth : 0,\n\t\t\t\t\tgridLineColor: this.options.scaleShowGridLines ? this.options.scaleGridLineColor : \"rgba(0,0,0,0)\",\n\t\t\t\t\tpadding: this.options.showScale ? 0 : this.options.pointDotRadius + this.options.pointDotStrokeWidth,\n\t\t\t\t\tshowLabels: this.options.scaleShowLabels,\n\t\t\t\t\tdisplay: this.options.showScale\n\t\t\t\t};\n\t\t\tthis.options.scaleOverride && c.extend(f, {\n\t\t\t\tcalculateYRange: c.noop,\n\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\tmax: this.options.scaleStartValue + this.options.scaleSteps * this.options.scaleStepWidth\n\t\t\t}), this.scale = new b.Scale(f)\n\t\t},\n\t\taddData: function(a, b) {\n\t\t\tc.each(a, function(a, c) {\n\t\t\t\tthis.datasets[c].points.push(new this.PointClass({\n\t\t\t\t\tvalue: a,\n\t\t\t\t\tlabel: b,\n\t\t\t\t\tdatasetLabel: this.datasets[c].label,\n\t\t\t\t\tx: this.scale.calculateX(this.scale.valuesCount + 1),\n\t\t\t\t\ty: this.scale.endPoint,\n\t\t\t\t\tstrokeColor: this.datasets[c].pointStrokeColor,\n\t\t\t\t\tfillColor: this.datasets[c].pointColor\n\t\t\t\t}))\n\t\t\t}, this), this.scale.addXLabel(b), this.update()\n\t\t},\n\t\tremoveData: function() {\n\t\t\tthis.scale.removeXLabel(), c.each(this.datasets, function(a) {\n\t\t\t\ta.points.shift()\n\t\t\t}, this), this.update()\n\t\t},\n\t\treflow: function() {\n\t\t\tvar a = c.extend({\n\t\t\t\theight: this.chart.height,\n\t\t\t\twidth: this.chart.width\n\t\t\t});\n\t\t\tthis.scale.update(a)\n\t\t},\n\t\tdraw: function(a) {\n\t\t\tvar b = a || 1;\n\t\t\tthis.clear();\n\t\t\tvar d = this.chart.ctx,\n\t\t\t\te = function(a) {\n\t\t\t\t\treturn null !== a.value\n\t\t\t\t},\n\t\t\t\tf = function(a, b, d) {\n\t\t\t\t\treturn c.findNextWhere(b, e, d) || a\n\t\t\t\t},\n\t\t\t\tg = function(a, b, d) {\n\t\t\t\t\treturn c.findPreviousWhere(b, e, d) || a\n\t\t\t\t};\n\t\t\tthis.scale && (this.scale.draw(b), c.each(this.datasets, function(a) {\n\t\t\t\tvar h = c.where(a.points, e);\n\t\t\t\tc.each(a.points, function(a, c) {\n\t\t\t\t\ta.hasValue() && a.transition({\n\t\t\t\t\t\ty: this.scale.calculateY(a.value),\n\t\t\t\t\t\tx: this.scale.calculateX(c)\n\t\t\t\t\t}, b)\n\t\t\t\t}, this), this.options.bezierCurve && c.each(h, function(a, b) {\n\t\t\t\t\tvar d = b > 0 && b < h.length - 1 ? this.options.bezierCurveTension : 0;\n\t\t\t\t\ta.controlPoints = c.splineCurve(g(a, h, b), a, f(a, h, b), d), a.controlPoints.outer.y > this.scale.endPoint ? a.controlPoints.outer.y = this.scale.endPoint : a.controlPoints.outer.y < this.scale.startPoint && (a.controlPoints.outer.y = this.scale.startPoint), a.controlPoints.inner.y > this.scale.endPoint ? a.controlPoints.inner.y = this.scale.endPoint : a.controlPoints.inner.y < this.scale.startPoint && (a.controlPoints.inner.y = this.scale.startPoint)\n\t\t\t\t}, this), d.lineWidth = this.options.datasetStrokeWidth, d.strokeStyle = a.strokeColor, d.beginPath(), c.each(h, function(a, b) {\n\t\t\t\t\tif (0 === b) d.moveTo(a.x, a.y);\n\t\t\t\t\telse if (this.options.bezierCurve) {\n\t\t\t\t\t\tvar c = g(a, h, b);\n\t\t\t\t\t\td.bezierCurveTo(c.controlPoints.outer.x, c.controlPoints.outer.y, a.controlPoints.inner.x, a.controlPoints.inner.y, a.x, a.y)\n\t\t\t\t\t} else d.lineTo(a.x, a.y)\n\t\t\t\t}, this), this.options.datasetStroke && d.stroke(), this.options.datasetFill && h.length > 0 && (d.lineTo(h[h.length - 1].x, this.scale.endPoint), d.lineTo(h[0].x, this.scale.endPoint), d.fillStyle = a.fillColor, d.closePath(), d.fill()), c.each(h, function(a) {\n\t\t\t\t\ta.draw()\n\t\t\t\t})\n\t\t\t}, this))\n\t\t}\n\t})\n}.call(this), function() {\n\t\"use strict\";\n\tvar a = this,\n\t\tb = a.Chart,\n\t\tc = b.helpers,\n\t\td = {\n\t\t\tscaleShowLabelBackdrop: !0,\n\t\t\tscaleBackdropColor: \"rgba(255,255,255,0.75)\",\n\t\t\tscaleBeginAtZero: !0,\n\t\t\tscaleBackdropPaddingY: 2,\n\t\t\tscaleBackdropPaddingX: 2,\n\t\t\tscaleShowLine: !0,\n\t\t\tsegmentShowStroke: !0,\n\t\t\tsegmentStrokeColor: \"#fff\",\n\t\t\tsegmentStrokeWidth: 2,\n\t\t\tanimationSteps: 100,\n\t\t\tanimationEasing: \"easeOutBounce\",\n\t\t\tanimateRotate: !0,\n\t\t\tanimateScale: !1,\n\t\t\tlegendTemplate: '<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'\n\t\t};\n\tb.Type.extend({\n\t\tname: \"PolarArea\",\n\t\tdefaults: d,\n\t\tinitialize: function(a) {\n\t\t\tthis.segments = [], this.SegmentArc = b.Arc.extend({\n\t\t\t\tshowStroke: this.options.segmentShowStroke,\n\t\t\t\tstrokeWidth: this.options.segmentStrokeWidth,\n\t\t\t\tstrokeColor: this.options.segmentStrokeColor,\n\t\t\t\tctx: this.chart.ctx,\n\t\t\t\tinnerRadius: 0,\n\t\t\t\tx: this.chart.width / 2,\n\t\t\t\ty: this.chart.height / 2\n\t\t\t}), this.scale = new b.RadialScale({\n\t\t\t\tdisplay: this.options.showScale,\n\t\t\t\tfontStyle: this.options.scaleFontStyle,\n\t\t\t\tfontSize: this.options.scaleFontSize,\n\t\t\t\tfontFamily: this.options.scaleFontFamily,\n\t\t\t\tfontColor: this.options.scaleFontColor,\n\t\t\t\tshowLabels: this.options.scaleShowLabels,\n\t\t\t\tshowLabelBackdrop: this.options.scaleShowLabelBackdrop,\n\t\t\t\tbackdropColor: this.options.scaleBackdropColor,\n\t\t\t\tbackdropPaddingY: this.options.scaleBackdropPaddingY,\n\t\t\t\tbackdropPaddingX: this.options.scaleBackdropPaddingX,\n\t\t\t\tlineWidth: this.options.scaleShowLine ? this.options.scaleLineWidth : 0,\n\t\t\t\tlineColor: this.options.scaleLineColor,\n\t\t\t\tlineArc: !0,\n\t\t\t\twidth: this.chart.width,\n\t\t\t\theight: this.chart.height,\n\t\t\t\txCenter: this.chart.width / 2,\n\t\t\t\tyCenter: this.chart.height / 2,\n\t\t\t\tctx: this.chart.ctx,\n\t\t\t\ttemplateString: this.options.scaleLabel,\n\t\t\t\tvaluesCount: a.length\n\t\t\t}), this.updateScaleRange(a), this.scale.update(), c.each(a, function(a, b) {\n\t\t\t\tthis.addData(a, b, !0)\n\t\t\t}, this), this.options.showTooltips && c.bindEvents(this, this.options.tooltipEvents, function(a) {\n\t\t\t\tvar b = \"mouseout\" !== a.type ? this.getSegmentsAtEvent(a) : [];\n\t\t\t\tc.each(this.segments, function(a) {\n\t\t\t\t\ta.restore([\"fillColor\"])\n\t\t\t\t}), c.each(b, function(a) {\n\t\t\t\t\ta.fillColor = a.highlightColor\n\t\t\t\t}), this.showTooltip(b)\n\t\t\t}), this.render()\n\t\t},\n\t\tgetSegmentsAtEvent: function(a) {\n\t\t\tvar b = [],\n\t\t\t\td = c.getRelativePosition(a);\n\t\t\treturn c.each(this.segments, function(a) {\n\t\t\t\ta.inRange(d.x, d.y) && b.push(a)\n\t\t\t}, this), b\n\t\t},\n\t\taddData: function(a, b, c) {\n\t\t\tvar d = b || this.segments.length;\n\t\t\tthis.segments.splice(d, 0, new this.SegmentArc({\n\t\t\t\tfillColor: a.color,\n\t\t\t\thighlightColor: a.highlight || a.color,\n\t\t\t\tlabel: a.label,\n\t\t\t\tvalue: a.value,\n\t\t\t\touterRadius: this.options.animateScale ? 0 : this.scale.calculateCenterOffset(a.value),\n\t\t\t\tcircumference: this.options.animateRotate ? 0 : this.scale.getCircumference(),\n\t\t\t\tstartAngle: 1.5 * Math.PI\n\t\t\t})), c || (this.reflow(), this.update())\n\t\t},\n\t\tremoveData: function(a) {\n\t\t\tvar b = c.isNumber(a) ? a : this.segments.length - 1;\n\t\t\tthis.segments.splice(b, 1), this.reflow(), this.update()\n\t\t},\n\t\tcalculateTotal: function(a) {\n\t\t\tthis.total = 0, c.each(a, function(a) {\n\t\t\t\tthis.total += a.value\n\t\t\t}, this), this.scale.valuesCount = this.segments.length\n\t\t},\n\t\tupdateScaleRange: function(a) {\n\t\t\tvar b = [];\n\t\t\tc.each(a, function(a) {\n\t\t\t\tb.push(a.value)\n\t\t\t});\n\t\t\tvar d = this.options.scaleOverride ? {\n\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\tmax: this.options.scaleStartValue + this.options.scaleSteps * this.options.scaleStepWidth\n\t\t\t} : c.calculateScaleRange(b, c.min([this.chart.width, this.chart.height]) / 2, this.options.scaleFontSize, this.options.scaleBeginAtZero, this.options.scaleIntegersOnly);\n\t\t\tc.extend(this.scale, d, {\n\t\t\t\tsize: c.min([this.chart.width, this.chart.height]),\n\t\t\t\txCenter: this.chart.width / 2,\n\t\t\t\tyCenter: this.chart.height / 2\n\t\t\t})\n\t\t},\n\t\tupdate: function() {\n\t\t\tthis.calculateTotal(this.segments), c.each(this.segments, function(a) {\n\t\t\t\ta.save()\n\t\t\t}), this.reflow(), this.render()\n\t\t},\n\t\treflow: function() {\n\t\t\tc.extend(this.SegmentArc.prototype, {\n\t\t\t\tx: this.chart.width / 2,\n\t\t\t\ty: this.chart.height / 2\n\t\t\t}), this.updateScaleRange(this.segments), this.scale.update(), c.extend(this.scale, {\n\t\t\t\txCenter: this.chart.width / 2,\n\t\t\t\tyCenter: this.chart.height / 2\n\t\t\t}), c.each(this.segments, function(a) {\n\t\t\t\ta.update({\n\t\t\t\t\touterRadius: this.scale.calculateCenterOffset(a.value)\n\t\t\t\t})\n\t\t\t}, this)\n\t\t},\n\t\tdraw: function(a) {\n\t\t\tvar b = a || 1;\n\t\t\tthis.clear(), c.each(this.segments, function(a, c) {\n\t\t\t\ta.transition({\n\t\t\t\t\tcircumference: this.scale.getCircumference(),\n\t\t\t\t\touterRadius: this.scale.calculateCenterOffset(a.value)\n\t\t\t\t}, b), a.endAngle = a.startAngle + a.circumference, 0 === c && (a.startAngle = 1.5 * Math.PI), c < this.segments.length - 1 && (this.segments[c + 1].startAngle = a.endAngle), a.draw()\n\t\t\t}, this), this.scale.draw()\n\t\t}\n\t})\n}.call(this), function() {\n\t\"use strict\";\n\tvar a = this,\n\t\tb = a.Chart,\n\t\tc = b.helpers;\n\tb.Type.extend({\n\t\tname: \"Radar\",\n\t\tdefaults: {\n\t\t\tscaleShowLine: !0,\n\t\t\tangleShowLineOut: !0,\n\t\t\tscaleShowLabels: !1,\n\t\t\tscaleBeginAtZero: !0,\n\t\t\tangleLineColor: \"rgba(0,0,0,.1)\",\n\t\t\tangleLineWidth: 1,\n\t\t\tpointLabelFontFamily: \"'Arial'\",\n\t\t\tpointLabelFontStyle: \"normal\",\n\t\t\tpointLabelFontSize: 10,\n\t\t\tpointLabelFontColor: \"#666\",\n\t\t\tpointDot: !0,\n\t\t\tpointDotRadius: 3,\n\t\t\tpointDotStrokeWidth: 1,\n\t\t\tpointHitDetectionRadius: 20,\n\t\t\tdatasetStroke: !0,\n\t\t\tdatasetStrokeWidth: 2,\n\t\t\tdatasetFill: !0,\n\t\t\tlegendTemplate: '<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].strokeColor%>\"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'\n\t\t},\n\t\tinitialize: function(a) {\n\t\t\tthis.PointClass = b.Point.extend({\n\t\t\t\tstrokeWidth: this.options.pointDotStrokeWidth,\n\t\t\t\tradius: this.options.pointDotRadius,\n\t\t\t\tdisplay: this.options.pointDot,\n\t\t\t\thitDetectionRadius: this.options.pointHitDetectionRadius,\n\t\t\t\tctx: this.chart.ctx\n\t\t\t}), this.datasets = [], this.buildScale(a), this.options.showTooltips && c.bindEvents(this, this.options.tooltipEvents, function(a) {\n\t\t\t\tvar b = \"mouseout\" !== a.type ? this.getPointsAtEvent(a) : [];\n\t\t\t\tthis.eachPoints(function(a) {\n\t\t\t\t\ta.restore([\"fillColor\", \"strokeColor\"])\n\t\t\t\t}), c.each(b, function(a) {\n\t\t\t\t\ta.fillColor = a.highlightFill, a.strokeColor = a.highlightStroke\n\t\t\t\t}), this.showTooltip(b)\n\t\t\t}), c.each(a.datasets, function(b) {\n\t\t\t\tvar d = {\n\t\t\t\t\tlabel: b.label || null,\n\t\t\t\t\tfillColor: b.fillColor,\n\t\t\t\t\tstrokeColor: b.strokeColor,\n\t\t\t\t\tpointColor: b.pointColor,\n\t\t\t\t\tpointStrokeColor: b.pointStrokeColor,\n\t\t\t\t\tpoints: []\n\t\t\t\t};\n\t\t\t\tthis.datasets.push(d), c.each(b.data, function(c, e) {\n\t\t\t\t\tvar f;\n\t\t\t\t\tthis.scale.animation || (f = this.scale.getPointPosition(e, this.scale.calculateCenterOffset(c))), d.points.push(new this.PointClass({\n\t\t\t\t\t\tvalue: c,\n\t\t\t\t\t\tlabel: a.labels[e],\n\t\t\t\t\t\tdatasetLabel: b.label,\n\t\t\t\t\t\tx: this.options.animation ? this.scale.xCenter : f.x,\n\t\t\t\t\t\ty: this.options.animation ? this.scale.yCenter : f.y,\n\t\t\t\t\t\tstrokeColor: b.pointStrokeColor,\n\t\t\t\t\t\tfillColor: b.pointColor,\n\t\t\t\t\t\thighlightFill: b.pointHighlightFill || b.pointColor,\n\t\t\t\t\t\thighlightStroke: b.pointHighlightStroke || b.pointStrokeColor\n\t\t\t\t\t}))\n\t\t\t\t}, this)\n\t\t\t}, this), this.render()\n\t\t},\n\t\teachPoints: function(a) {\n\t\t\tc.each(this.datasets, function(b) {\n\t\t\t\tc.each(b.points, a, this)\n\t\t\t}, this)\n\t\t},\n\t\tgetPointsAtEvent: function(a) {\n\t\t\tvar b = c.getRelativePosition(a),\n\t\t\t\td = c.getAngleFromPoint({\n\t\t\t\t\tx: this.scale.xCenter,\n\t\t\t\t\ty: this.scale.yCenter\n\t\t\t\t}, b),\n\t\t\t\te = 2 * Math.PI / this.scale.valuesCount,\n\t\t\t\tf = Math.round((d.angle - 1.5 * Math.PI) / e),\n\t\t\t\tg = [];\n\t\t\treturn (f >= this.scale.valuesCount || 0 > f) && (f = 0), d.distance <= this.scale.drawingArea && c.each(this.datasets, function(a) {\n\t\t\t\tg.push(a.points[f])\n\t\t\t}), g\n\t\t},\n\t\tbuildScale: function(a) {\n\t\t\tthis.scale = new b.RadialScale({\n\t\t\t\tdisplay: this.options.showScale,\n\t\t\t\tfontStyle: this.options.scaleFontStyle,\n\t\t\t\tfontSize: this.options.scaleFontSize,\n\t\t\t\tfontFamily: this.options.scaleFontFamily,\n\t\t\t\tfontColor: this.options.scaleFontColor,\n\t\t\t\tshowLabels: this.options.scaleShowLabels,\n\t\t\t\tshowLabelBackdrop: this.options.scaleShowLabelBackdrop,\n\t\t\t\tbackdropColor: this.options.scaleBackdropColor,\n\t\t\t\tbackgroundColors: this.options.scaleBackgroundColors,\n\t\t\t\tbackdropPaddingY: this.options.scaleBackdropPaddingY,\n\t\t\t\tbackdropPaddingX: this.options.scaleBackdropPaddingX,\n\t\t\t\tlineWidth: this.options.scaleShowLine ? this.options.scaleLineWidth : 0,\n\t\t\t\tlineColor: this.options.scaleLineColor,\n\t\t\t\tangleLineColor: this.options.angleLineColor,\n\t\t\t\tangleLineWidth: this.options.angleShowLineOut ? this.options.angleLineWidth : 0,\n\t\t\t\tpointLabelFontColor: this.options.pointLabelFontColor,\n\t\t\t\tpointLabelFontSize: this.options.pointLabelFontSize,\n\t\t\t\tpointLabelFontFamily: this.options.pointLabelFontFamily,\n\t\t\t\tpointLabelFontStyle: this.options.pointLabelFontStyle,\n\t\t\t\theight: this.chart.height,\n\t\t\t\twidth: this.chart.width,\n\t\t\t\txCenter: this.chart.width / 2,\n\t\t\t\tyCenter: this.chart.height / 2,\n\t\t\t\tctx: this.chart.ctx,\n\t\t\t\ttemplateString: this.options.scaleLabel,\n\t\t\t\tlabels: a.labels,\n\t\t\t\tvaluesCount: a.datasets[0].data.length\n\t\t\t}), this.scale.setScaleSize(), this.updateScaleRange(a.datasets), this.scale.buildYLabels()\n\t\t},\n\t\tupdateScaleRange: function(a) {\n\t\t\tvar b = function() {\n\t\t\t\t\tvar b = [];\n\t\t\t\t\treturn c.each(a, function(a) {\n\t\t\t\t\t\ta.data ? b = b.concat(a.data) : c.each(a.points, function(a) {\n\t\t\t\t\t\t\tb.push(a.value)\n\t\t\t\t\t\t})\n\t\t\t\t\t}), b\n\t\t\t\t}(),\n\t\t\t\td = this.options.scaleOverride ? {\n\t\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\t\tmax: this.options.scaleStartValue + this.options.scaleSteps * this.options.scaleStepWidth\n\t\t\t\t} : c.calculateScaleRange(b, c.min([this.chart.width, this.chart.height]) / 2, this.options.scaleFontSize, this.options.scaleBeginAtZero, this.options.scaleIntegersOnly);\n\t\t\tc.extend(this.scale, d)\n\t\t},\n\t\taddData: function(a, b) {\n\t\t\tthis.scale.valuesCount++, c.each(a, function(a, c) {\n\t\t\t\tvar d = this.scale.getPointPosition(this.scale.valuesCount, this.scale.calculateCenterOffset(a));\n\t\t\t\tthis.datasets[c].points.push(new this.PointClass({\n\t\t\t\t\tvalue: a,\n\t\t\t\t\tlabel: b,\n\t\t\t\t\tdatasetLabel: this.datasets[c].label,\n\t\t\t\t\tx: d.x,\n\t\t\t\t\ty: d.y,\n\t\t\t\t\tstrokeColor: this.datasets[c].pointStrokeColor,\n\t\t\t\t\tfillColor: this.datasets[c].pointColor\n\t\t\t\t}))\n\t\t\t}, this), this.scale.labels.push(b), this.reflow(), this.update()\n\t\t},\n\t\tremoveData: function() {\n\t\t\tthis.scale.valuesCount--, this.scale.labels.shift(), c.each(this.datasets, function(a) {\n\t\t\t\ta.points.shift()\n\t\t\t}, this), this.reflow(), this.update()\n\t\t},\n\t\tupdate: function() {\n\t\t\tthis.eachPoints(function(a) {\n\t\t\t\ta.save()\n\t\t\t}), this.reflow(), this.render()\n\t\t},\n\t\treflow: function() {\n\t\t\tc.extend(this.scale, {\n\t\t\t\twidth: this.chart.width,\n\t\t\t\theight: this.chart.height,\n\t\t\t\tsize: c.min([this.chart.width, this.chart.height]),\n\t\t\t\txCenter: this.chart.width / 2,\n\t\t\t\tyCenter: this.chart.height / 2\n\t\t\t}), this.updateScaleRange(this.datasets), this.scale.setScaleSize(), this.scale.buildYLabels()\n\t\t},\n\t\tdraw: function(a) {\n\t\t\tvar b = a || 1,\n\t\t\t\td = this.chart.ctx;\n\t\t\tthis.clear(), this.scale.draw(), c.each(this.datasets, function(a) {\n\t\t\t\tc.each(a.points, function(a, c) {\n\t\t\t\t\ta.hasValue() && a.transition(this.scale.getPointPosition(c, this.scale.calculateCenterOffset(a.value)), b)\n\t\t\t\t}, this), d.lineWidth = this.options.datasetStrokeWidth, d.strokeStyle = a.strokeColor, d.beginPath(), c.each(a.points, function(a, b) {\n\t\t\t\t\t0 === b ? d.moveTo(a.x, a.y) : d.lineTo(a.x, a.y)\n\t\t\t\t}, this), d.closePath(), d.stroke(), d.fillStyle = a.fillColor, this.options.datasetFill && d.fill(), c.each(a.points, function(a) {\n\t\t\t\t\ta.hasValue() && a.draw()\n\t\t\t\t})\n\t\t\t}, this)\n\t\t}\n\t})\n}.call(this), !\nfunction(a) {\n\t\"use strict\";\n\tvar b = function(b, c) {\n\t\t\tthis.el = a(b), this.options = a.extend({}, a.fn.typed.defaults, c), this.isInput = this.el.is(\"input\"), this.attr = this.options.attr, this.showCursor = this.isInput ? !1 : this.options.showCursor, this.elContent = this.attr ? this.el.attr(this.attr) : this.el.text(), this.contentType = this.options.contentType, this.typeSpeed = this.options.typeSpeed, this.startDelay = this.options.startDelay, this.backSpeed = this.options.backSpeed, this.backDelay = this.options.backDelay, this.stringsElement = this.options.stringsElement, this.strings = this.options.strings, this.strPos = 0, this.arrayPos = 0, this.stopNum = 0, this.loop = this.options.loop, this.loopCount = this.options.loopCount, this.curLoop = 0, this.stop = !1, this.cursorChar = this.options.cursorChar, this.shuffle = this.options.shuffle, this.sequence = [], this.build()\n\t\t};\n\tb.prototype = {\n\t\tconstructor: b,\n\t\tinit: function() {\n\t\t\tvar a = this;\n\t\t\ta.timeout = setTimeout(function() {\n\t\t\t\tfor (var b = 0; b < a.strings.length; ++b) a.sequence[b] = b;\n\t\t\t\ta.shuffle && (a.sequence = a.shuffleArray(a.sequence)), a.typewrite(a.strings[a.sequence[a.arrayPos]], a.strPos)\n\t\t\t}, a.startDelay)\n\t\t},\n\t\tbuild: function() {\n\t\t\tvar b = this;\n\t\t\tif (this.showCursor === !0 && (this.cursor = a('<span class=\"typed-cursor\">' + this.cursorChar + \"</span>\"), this.el.after(this.cursor)), this.stringsElement) {\n\t\t\t\tb.strings = [], this.stringsElement.hide();\n\t\t\t\tvar c = this.stringsElement.find(\"p\");\n\t\t\t\ta.each(c, function(c, d) {\n\t\t\t\t\tb.strings.push(a(d).html())\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.init()\n\t\t},\n\t\ttypewrite: function(a, b) {\n\t\t\tif (this.stop !== !0) {\n\t\t\t\tvar c = Math.round(70 * Math.random()) + this.typeSpeed,\n\t\t\t\t\td = this;\n\t\t\t\td.timeout = setTimeout(function() {\n\t\t\t\t\tvar c = 0,\n\t\t\t\t\t\te = a.substr(b);\n\t\t\t\t\tif (\"^\" === e.charAt(0)) {\n\t\t\t\t\t\tvar f = 1;\n\t\t\t\t\t\t/^\\^\\d+/.test(e) && (e = /\\d+/.exec(e)[0], f += e.length, c = parseInt(e)), a = a.substring(0, b) + a.substring(b + f)\n\t\t\t\t\t}\n\t\t\t\t\tif (\"html\" === d.contentType) {\n\t\t\t\t\t\tvar g = a.substr(b).charAt(0);\n\t\t\t\t\t\tif (\"<\" === g || \"&\" === g) {\n\t\t\t\t\t\t\tvar h = \"\",\n\t\t\t\t\t\t\t\ti = \"\";\n\t\t\t\t\t\t\tfor (i = \"<\" === g ? \">\" : \";\"; a.substr(b).charAt(0) !== i;) h += a.substr(b).charAt(0), b++;\n\t\t\t\t\t\t\th += i\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\td.timeout = setTimeout(function() {\n\t\t\t\t\t\tif (b === a.length) {\n\t\t\t\t\t\t\tif (d.options.onStringTyped(d.arrayPos), d.arrayPos === d.strings.length - 1 && (d.options.callback(), d.curLoop++, d.loop === !1 || d.curLoop === d.loopCount)) return;\n\t\t\t\t\t\t\td.timeout = setTimeout(function() {\n\t\t\t\t\t\t\t\td.backspace(a, b)\n\t\t\t\t\t\t\t}, d.backDelay)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t0 === b && d.options.preStringTyped(d.arrayPos);\n\t\t\t\t\t\t\tvar c = a.substr(0, b + 1);\n\t\t\t\t\t\t\td.attr ? d.el.attr(d.attr, c) : d.isInput ? d.el.val(c) : \"html\" === d.contentType ? d.el.html(c) : d.el.text(c), b++, d.typewrite(a, b)\n\t\t\t\t\t\t}\n\t\t\t\t\t}, c)\n\t\t\t\t}, c)\n\t\t\t}\n\t\t},\n\t\tbackspace: function(a, b) {\n\t\t\tif (this.stop !== !0) {\n\t\t\t\tvar c = Math.round(70 * Math.random()) + this.backSpeed,\n\t\t\t\t\td = this;\n\t\t\t\td.timeout = setTimeout(function() {\n\t\t\t\t\tif (\"html\" === d.contentType && \">\" === a.substr(b).charAt(0)) {\n\t\t\t\t\t\tfor (var c = \"\";\n\t\t\t\t\t\t\"<\" !== a.substr(b).charAt(0);) c -= a.substr(b).charAt(0), b--;\n\t\t\t\t\t\tb--, c += \"<\"\n\t\t\t\t\t}\n\t\t\t\t\tvar e = a.substr(0, b);\n\t\t\t\t\td.attr ? d.el.attr(d.attr, e) : d.isInput ? d.el.val(e) : \"html\" === d.contentType ? d.el.html(e) : d.el.text(e), b > d.stopNum ? (b--, d.backspace(a, b)) : b <= d.stopNum && (d.arrayPos++, d.arrayPos === d.strings.length ? (d.arrayPos = 0, d.shuffle && (d.sequence = d.shuffleArray(d.sequence)), d.init()) : d.typewrite(d.strings[d.sequence[d.arrayPos]], b))\n\t\t\t\t}, c)\n\t\t\t}\n\t\t},\n\t\tshuffleArray: function(a) {\n\t\t\tvar b, c, d = a.length;\n\t\t\tif (d) for (; --d;) c = Math.floor(Math.random() * (d + 1)), b = a[c], a[c] = a[d], a[d] = b;\n\t\t\treturn a\n\t\t},\n\t\treset: function() {\n\t\t\tvar a = this;\n\t\t\tclearInterval(a.timeout);\n\t\t\tvar b = this.el.attr(\"id\");\n\t\t\tthis.el.after('<span id=\"' + b + '\"/>'), this.el.remove(), \"undefined\" != typeof this.cursor && this.cursor.remove(), a.options.resetCallback()\n\t\t}\n\t}, a.fn.typed = function(c) {\n\t\treturn this.each(function() {\n\t\t\tvar d = a(this),\n\t\t\t\te = d.data(\"typed\"),\n\t\t\t\tf = \"object\" == typeof c && c;\n\t\t\te || d.data(\"typed\", e = new b(this, f)), \"string\" == typeof c && e[c]()\n\t\t})\n\t}, a.fn.typed.defaults = {\n\t\tstrings: [\"These are the default values...\", \"You know what you should do?\", \"Use your own!\", \"Have a great day!\"],\n\t\tstringsElement: null,\n\t\ttypeSpeed: 0,\n\t\tstartDelay: 0,\n\t\tbackSpeed: 0,\n\t\tshuffle: !1,\n\t\tbackDelay: 500,\n\t\tloop: !1,\n\t\tloopCount: !1,\n\t\tshowCursor: !0,\n\t\tcursorChar: \"|\",\n\t\tattr: null,\n\t\tcontentType: \"html\",\n\t\tcallback: function() {},\n\t\tpreStringTyped: function() {},\n\t\tonStringTyped: function() {},\n\t\tresetCallback: function() {}\n\t}\n}(window.jQuery), function(a) {\n\tfunction b() {\n\t\tvar a = {};\n\t\tthis.addInterval = function(b, c) {\n\t\t\ta[b] = c\n\t\t}, this.deleteInterval = function(b) {\n\t\t\ta[b] && (clearInterval(a[b]), delete a[b])\n\t\t}, this.clearInterval = function() {\n\t\t\tfor (var b in a) this.deleteInterval(b)\n\t\t};\n\t\tvar b = [{\n\t\t\tvalue: 1,\n\t\t\tdesc: \"\",\n\t\t\tname: \"slide\"\n\t\t}, {\n\t\t\tvalue: 2,\n\t\t\tdesc: \"\",\n\t\t\tname: \"bars\"\n\t\t}, {\n\t\t\tvalue: 3,\n\t\t\tdesc: \"\",\n\t\t\tname: \"blinds\"\n\t\t}, {\n\t\t\tvalue: 4,\n\t\t\tdesc: \"\",\n\t\t\tname: \"blocks\"\n\t\t}, {\n\t\t\tvalue: 5,\n\t\t\tdesc: \"\",\n\t\t\tname: \"blocks2\"\n\t\t}, {\n\t\t\tvalue: 9,\n\t\t\tdesc: \"\",\n\t\t\tname: \"zip\"\n\t\t}, {\n\t\t\tvalue: 11,\n\t\t\tdesc: \"\",\n\t\t\tname: \"bars3d\"\n\t\t}, {\n\t\t\tvalue: 13,\n\t\t\tdesc: \"\",\n\t\t\tname: \"cube\"\n\t\t}, {\n\t\t\tvalue: 14,\n\t\t\tdesc: \"\",\n\t\t\tname: \"tiles3d\"\n\t\t}, {\n\t\t\tvalue: 16,\n\t\t\tdesc: \"\",\n\t\t\tname: \"explode\"\n\t\t}];\n\t\tthis.getPicStyle = function(a) {\n\t\t\tif (void 0 === a) return b;\n\t\t\tfor (var c = 0; c < b.length; c++) if (a === b[c].value) return b[c]\n\t\t}\n\t}\n\ta.utilPictures = new b\n}(window), function(a) {\n\tfunction b() {\n\t\tvar a = {\n\t\t\tCLICK: {\n\t\t\t\tname: \"click\",\n\t\t\t\tvalue: 1,\n\t\t\t\ttitle: \"\"\n\t\t\t},\n\t\t\tSHAKE: {\n\t\t\t\tname: \"shake\",\n\t\t\t\tvalue: 2,\n\t\t\t\ttitle: \"\"\n\t\t\t}\n\t\t},\n\t\t\tb = {\n\t\t\t\tSHOW: {\n\t\t\t\t\tname: \"show\",\n\t\t\t\t\tvalue: 1\n\t\t\t\t},\n\t\t\t\tHIDE: {\n\t\t\t\t\tname: \"hide\",\n\t\t\t\t\tvalue: 2\n\t\t\t\t},\n\t\t\t\tRANDOMEVENT: {\n\t\t\t\t\tname: \"randomEvent\",\n\t\t\t\t\tvalue: 3\n\t\t\t\t}\n\t\t\t};\n\t\tthis.getSendType = function(b) {\n\t\t\tif (void 0 === b) return a;\n\t\t\tfor (var c in a) if (b === a[c].value) return a[c];\n\t\t\treturn null\n\t\t}, this.getHandleType = function(a) {\n\t\t\tif (void 0 === a) return b;\n\t\t\tfor (var c in b) if (a === b[c].value) return b[c];\n\t\t\treturn null\n\t\t}\n\t}\n\ta.utilTrigger = new b\n}(window), function(a, b) {\n\tfunction c() {\n\t\tvar a, c, d, e = [];\n\t\tb(\"#media\");\n\t\tthis.addAudio = function(a, f) {\n\t\t\tvar g = new Audio;\n\t\t\tg.src = f, e.push({\n\t\t\t\telem: a,\n\t\t\t\taudio: g\n\t\t\t}), b(g).bind(\"ended\", function() {\n\t\t\t\tc = !1, d()\n\t\t\t})\n\t\t}, this.play = function(b, f, g) {\n\t\t\tvar h;\n\t\t\td = f;\n\t\t\tfor (var i = 0; i < e.length; i++) e[i].elem == b && (h = e[i].audio);\n\t\t\ta == h && c ? (h.pause(), c = !1, f()) : a != h || c ? (a && a.pause(), h.currentTime = 0, h.play(), g(), c = !0, a = h) : (h.play(), c = !0, g())\n\t\t}, this.pause = function() {\n\t\t\ta && (a.pause(), c = !1)\n\t\t}\n\t}\n\ta.utilSound = new c\n}(window, $), window.flux = {\n\tversion: \"1.4.4\"\n}, function(a) {\n\tflux.slider = function(b, c) {\n\t\tflux.browser.init(), flux.browser.supportsTransitions || window.console && window.console.error && console.error(\"Flux Slider requires a browser that supports CSS3 transitions\");\n\t\tvar d = this;\n\t\tthis.element = a(b), this.transitions = [];\n\t\tfor (var e in flux.transitions) this.transitions.push(e);\n\t\tthis.options = a.extend({\n\t\t\tautoplay: !0,\n\t\t\ttransitions: this.transitions,\n\t\t\tdelay: 4e3,\n\t\t\tpagination: !0,\n\t\t\tcontrols: !1,\n\t\t\tcaptions: !1,\n\t\t\twidth: null,\n\t\t\theight: null,\n\t\t\tonTransitionEnd: null,\n\t\t\tonStartEnd: null,\n\t\t\tbgColor: \"\"\n\t\t}, c), this.height = this.options.height ? this.options.height : null, this.width = this.options.width ? this.options.width : null;\n\t\tvar f = [];\n\t\ta(this.options.transitions).each(function(a, b) {\n\t\t\tvar c = new flux.transitions[b](this),\n\t\t\t\td = !0;\n\t\t\tc.options.requires3d && !flux.browser.supports3d && (d = !1), c.options.compatibilityCheck && (d = c.options.compatibilityCheck()), d && f.push(b)\n\t\t}), this.options.transitions = f, this.images = new Array, this.imageLoadedCount = 0, this.currentImageIndex = 0, this.nextImageIndex = 1, this.playing = !1, this.container = a('<div class=\"fluxslider\"></div>').appendTo(this.element), this.surface = a('<div class=\"surface\" style=\"position: relative\"></div>').appendTo(this.container), this.container.bind(\"click\", function(b) {\n\t\t\ta(b.target).hasClass(\"hasLink\") && (window.location = a(b.target).data(\"href\"))\n\t\t}), this.imageContainer = a('<div class=\"images loading1\"></div>').css({\n\t\t\tposition: \"relative\",\n\t\t\toverflow: \"hidden\"\n\t\t}).appendTo(this.surface), this.width && this.height && this.imageContainer.css({\n\t\t\twidth: this.width + \"px\",\n\t\t\theight: this.height + \"px\"\n\t\t}), this.image1 = a('<div class=\"image1\" style=\"height: 100%; width: 100%\"></div>').appendTo(this.imageContainer), this.image2 = a('<div class=\"image2\" style=\"height: 100%; width: 100%\"></div>').appendTo(this.imageContainer), a(this.image1).add(this.image2).css({\n\t\t\tposition: \"absolute\",\n\t\t\ttop: \"0px\",\n\t\t\tleft: \"0px\"\n\t\t}), this.element.find(\"img, a img\").each(function(b, c) {\n\t\t\tvar e = c.cloneNode(!1),\n\t\t\t\tf = a(c).parent();\n\t\t\tf.is(\"a\") && a(e).data(\"href\", f.attr(\"href\")), d.images.push(e), a(c).remove()\n\t\t});\n\t\tfor (var g = 0; g < this.images.length; g++) {\n\t\t\tvar h = new Image;\n\t\t\th.onload = function() {\n\t\t\t\td.imageLoadedCount++, d.width = d.width ? d.width : this.width, d.height = d.height ? d.height : this.height, d.imageLoadedCount >= d.images.length && (d.finishedLoading(), d.setupImages())\n\t\t\t}, h.src = this.images[g].src\n\t\t}\n\t\tthis.element.bind(\"fluxTransitionEnd\", function(a, b) {\n\t\t\td.options.onTransitionEnd && (a.preventDefault(), d.options.onTransitionEnd(b))\n\t\t}), this.options.autoplay && this.start();\n\t\tvar i = {},\n\t\t\tj = {},\n\t\t\tk = 20;\n\t\tthis.element.bind(\"mousedown touchstart\", function(a) {\n\t\t\t\"touchstart\" == a.type ? i.left = a.originalEvent.touches[0].pageX : \"mousedown\" == a.type && (i.left = a.pageX)\n\t\t}).bind(\"mouseup touchend\", function(a) {\n\t\t\t\"touchend\" == a.type ? j.left = a.originalEvent.changedTouches[0].pageX : \"mouseup\" == a.type && (j.left = a.pageX), j.left - i.left > k ? d.prev(null, {\n\t\t\t\tdirection: \"right\"\n\t\t\t}) : i.left - j.left > k && d.next(null, {\n\t\t\t\tdirection: \"left\"\n\t\t\t}), d.options.autoplay && (d.stop(), d.start())\n\t\t}), setTimeout(function() {\n\t\t\ta(window).focus(function() {\n\t\t\t\td.isPlaying() && d.next()\n\t\t\t})\n\t\t}, 100)\n\t}, flux.slider.prototype = {\n\t\tconstructor: flux.slider,\n\t\tplaying: !1,\n\t\tstart: function() {\n\t\t\tvar a = this;\n\t\t\tthis.playing = !0, this.interval = setInterval(function() {\n\t\t\t\ta.transition()\n\t\t\t}, this.options.delay), \"function\" == typeof this.options.onStartEnd && this.options.onStartEnd(this.interval)\n\t\t},\n\t\tstop: function() {\n\t\t\tthis.playing = !1, clearInterval(this.interval), this.interval = null\n\t\t},\n\t\tisPlaying: function() {\n\t\t\treturn this.playing\n\t\t},\n\t\tnext: function(a, b) {\n\t\t\tb = b || {}, b.direction = \"left\", this.showImage(this.currentImageIndex + 1, a, b)\n\t\t},\n\t\tprev: function(a, b) {\n\t\t\tb = b || {}, b.direction = \"right\", this.showImage(this.currentImageIndex - 1, a, b)\n\t\t},\n\t\tshowImage: function(a, b, c) {\n\t\t\tthis.setNextIndex(a), this.setupImages(), this.transition(b, c)\n\t\t},\n\t\tfinishedLoading: function() {\n\t\t\tvar b = this;\n\t\t\tif (this.container.css({\n\t\t\t\twidth: this.width + \"px\",\n\t\t\t\theight: this.height + \"px\"\n\t\t\t}), this.imageContainer.removeClass(\"loading1\"), this.options.pagination && (this.pagination = a('<ul class=\"pagination\"></ul>').css({\n\t\t\t\tmargin: \"0px\",\n\t\t\t\tpadding: \"0px\",\n\t\t\t\t\"text-align\": \"center\"\n\t\t\t}), this.pagination.bind(\"click\", function(c) {\n\t\t\t\tc.preventDefault(), b.showImage(a(c.target).data(\"index\"))\n\t\t\t}), a(this.images).each(function(c, d) {\n\t\t\t\tvar e = a('<li data-index=\"' + c + '\">' + (c + 1) + \"</li>\").css({\n\t\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\t\t\"margin-left\": \"0.5em\",\n\t\t\t\t\tcursor: \"pointer\"\n\t\t\t\t}).appendTo(b.pagination);\n\t\t\t\t0 == c && e.css(\"margin-left\", 0).addClass(\"current\")\n\t\t\t}), this.container.append(this.pagination)), a(this.imageContainer).css({\n\t\t\t\twidth: this.width + \"px\",\n\t\t\t\theight: this.height + \"px\"\n\t\t\t}), a(this.image1).css({\n\t\t\t\twidth: this.width + \"px\",\n\t\t\t\theight: this.height + \"px\"\n\t\t\t}), a(this.image2).css({\n\t\t\t\twidth: this.width + \"px\",\n\t\t\t\theight: this.height + \"px\"\n\t\t\t}), this.container.css({\n\t\t\t\twidth: this.width + \"px\",\n\t\t\t\theight: this.height + (this.options.pagination ? this.pagination.height() : 0) + \"px\"\n\t\t\t}), this.options.controls) {\n\t\t\t\tvar c = {\n\t\t\t\t\tpadding: \"4px 10px 10px\",\n\t\t\t\t\t\"font-size\": \"60px\",\n\t\t\t\t\t\"font-family\": \"arial, sans-serif\",\n\t\t\t\t\t\"line-height\": \"1em\",\n\t\t\t\t\t\"font-weight\": \"bold\",\n\t\t\t\t\tcolor: \"#FFF\",\n\t\t\t\t\t\"text-decoration\": \"none\",\n\t\t\t\t\tbackground: \"rgba(0,0,0,0.5)\",\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\"z-index\": 2e3\n\t\t\t\t};\n\t\t\t\tthis.nextButton = a('<a href=\"#\"></a>').css(c).css3({\n\t\t\t\t\t\"border-radius\": \"4px\"\n\t\t\t\t}).appendTo(this.surface).bind(\"click\", function(a) {\n\t\t\t\t\ta.preventDefault(), b.next()\n\t\t\t\t}), this.prevButton = a('<a href=\"#\"></a>').css(c).css3({\n\t\t\t\t\t\"border-radius\": \"4px\"\n\t\t\t\t}).appendTo(this.surface).bind(\"click\", function(a) {\n\t\t\t\t\ta.preventDefault(), b.prev()\n\t\t\t\t});\n\t\t\t\tvar d = (this.height - this.nextButton.height()) / 2;\n\t\t\t\tthis.nextButton.css({\n\t\t\t\t\ttop: d + \"px\",\n\t\t\t\t\tright: \"10px\"\n\t\t\t\t}), this.prevButton.css({\n\t\t\t\t\ttop: d + \"px\",\n\t\t\t\t\tleft: \"10px\"\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.options.captions && (this.captionBar = a('<div class=\"caption\"></div>').css({\n\t\t\t\tbackground: \"rgba(0,0,0,0.6)\",\n\t\t\t\tcolor: \"#FFF\",\n\t\t\t\t\"font-size\": \"16px\",\n\t\t\t\t\"font-family\": \"helvetica, arial, sans-serif\",\n\t\t\t\t\"text-decoration\": \"none\",\n\t\t\t\t\"font-weight\": \"bold\",\n\t\t\t\tpadding: \"1.5em 1em\",\n\t\t\t\topacity: 0,\n\t\t\t\tposition: \"absolute\",\n\t\t\t\t\"z-index\": 110,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tbottom: 0\n\t\t\t}).css3({\n\t\t\t\t\"transition-property\": \"opacity\",\n\t\t\t\t\"transition-duration\": \"800ms\",\n\t\t\t\t\"box-sizing\": \"border-box\"\n\t\t\t}).prependTo(this.surface)), this.updateCaption()\n\t\t},\n\t\tsetupImages: function() {\n\t\t\tvar b = this.getImage(this.currentImageIndex),\n\t\t\t\tc = {\n\t\t\t\t\tbackground: 'url(\"' + b.src + '\") 50% 50% / contain no-repeat ' + this.options.bgColor,\n\t\t\t\t\tzIndex: 101,\n\t\t\t\t\tcursor: \"auto\"\n\t\t\t\t};\n\t\t\ta(b).data(\"href\") ? (c.cursor = \"pointer\", this.image1.addClass(\"hasLink\"), this.image1.data(\"href\", a(b).data(\"href\"))) : (this.image1.removeClass(\"hasLink\"), this.image1.data(\"href\", null)), this.image1.css(c).children().remove(), this.image2.css({\n\t\t\t\tbackground: 'url(\"' + this.getImage(this.nextImageIndex).src + '\") 50% 50% / contain no-repeat ' + this.options.bgColor,\n\t\t\t\tzIndex: 100,\n\t\t\t\tdisplay: \"none\"\n\t\t\t}), this.options.pagination && this.pagination && (this.pagination.find(\"li.current\").removeClass(\"current\"), a(this.pagination.find(\"li\")[this.currentImageIndex]).addClass(\"current\"))\n\t\t},\n\t\ttransition: function(b, c) {\n\t\t\tif (void 0 == b || !flux.transitions[b]) {\n\t\t\t\tvar d = Math.floor(Math.random() * this.options.transitions.length);\n\t\t\t\tb = this.options.transitions[d]\n\t\t\t}\n\t\t\tvar e = null;\n\t\t\ttry {\n\t\t\t\te = new flux.transitions[b](this, a.extend(this.options[b] ? this.options[b] : {}, c))\n\t\t\t} catch (f) {\n\t\t\t\te = new flux.transition(this, {\n\t\t\t\t\tfallback: !0\n\t\t\t\t})\n\t\t\t}\n\t\t\te.run(), this.currentImageIndex = this.nextImageIndex, this.setNextIndex(this.currentImageIndex + 1), this.updateCaption()\n\t\t},\n\t\tupdateCaption: function() {\n\t\t\tvar b = a(this.getImage(this.currentImageIndex)).attr(\"title\");\n\t\t\tthis.options.captions && this.captionBar && (\"\" !== b && this.captionBar.html(b), this.captionBar.css(\"opacity\", \"\" === b ? 0 : 1))\n\t\t},\n\t\tgetImage: function(a) {\n\t\t\treturn a %= this.images.length, this.images[a]\n\t\t},\n\t\tsetNextIndex: function(a) {\n\t\t\tvoid 0 == a && (a = this.currentImageIndex + 1), this.nextImageIndex = a, this.nextImageIndex > this.images.length - 1 && (this.nextImageIndex = 0), this.nextImageIndex < 0 && (this.nextImageIndex = this.images.length - 1)\n\t\t},\n\t\tincrement: function() {\n\t\t\tthis.currentImageIndex++, this.currentImageIndex > this.images.length - 1 && (this.currentImageIndex = 0)\n\t\t}\n\t}\n}(window.jQuery || window.Zepto), function(a) {\n\tflux.browser = {\n\t\tinit: function() {\n\t\t\tif (void 0 === flux.browser.supportsTransitions) {\n\t\t\t\tvar b = (document.createElement(\"div\"), [\"-webkit\", \"-moz\", \"-o\", \"-ms\"]);\n\t\t\t\tif (window.Modernizr && void 0 !== Modernizr.csstransitions ? flux.browser.supportsTransitions = Modernizr.csstransitions : flux.browser.supportsTransitions = this.supportsCSSProperty(\"Transition\"), window.Modernizr && void 0 !== Modernizr.csstransforms3d) flux.browser.supports3d = Modernizr.csstransforms3d;\n\t\t\t\telse if (flux.browser.supports3d = this.supportsCSSProperty(\"Perspective\"), flux.browser.supports3d && \"webkitPerspective\" in a(\"body\").get(0).style) {\n\t\t\t\t\tvar c = a('<div id=\"csstransform3d\"></div>'),\n\t\t\t\t\t\td = a('<style media=\"(transform-3d), (' + b.join(\"-transform-3d),(\") + '-transform-3d)\">div#csstransform3d { position: absolute; left: 9px }</style>');\n\t\t\t\t\ta(\"body\").append(c), a(\"head\").append(d), flux.browser.supports3d = 9 == c.get(0).offsetLeft, c.remove(), d.remove()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsupportsCSSProperty: function(a) {\n\t\t\tfor (var b = document.createElement(\"div\"), c = [\"Webkit\", \"Moz\", \"O\", \"Ms\"], d = !1, e = 0; e < c.length; e++) c[e] + a in b.style && (d = d || !0);\n\t\t\treturn d\n\t\t},\n\t\ttranslate: function(a, b, c) {\n\t\t\treturn a = void 0 != a ? a : 0, b = void 0 != b ? b : 0, c = void 0 != c ? c : 0, \"translate\" + (flux.browser.supports3d ? \"3d(\" : \"(\") + a + \"px,\" + b + (flux.browser.supports3d ? \"px,\" + c + \"px)\" : \"px)\")\n\t\t},\n\t\trotateX: function(a) {\n\t\t\treturn flux.browser.rotate(\"x\", a)\n\t\t},\n\t\trotateY: function(a) {\n\t\t\treturn flux.browser.rotate(\"y\", a)\n\t\t},\n\t\trotateZ: function(a) {\n\t\t\treturn flux.browser.rotate(\"z\", a)\n\t\t},\n\t\trotate: function(a, b) {\n\t\t\treturn !a in {\n\t\t\t\tx: \"\",\n\t\t\t\ty: \"\",\n\t\t\t\tz: \"\"\n\t\t\t} && (a = \"z\"), b = void 0 != b ? b : 0, flux.browser.supports3d ? \"rotate3d(\" + (\"x\" == a ? \"1\" : \"0\") + \", \" + (\"y\" == a ? \"1\" : \"0\") + \", \" + (\"z\" == a ? \"1\" : \"0\") + \", \" + b + \"deg)\" : \"z\" == a ? \"rotate(\" + b + \"deg)\" : \"\"\n\t\t}\n\t}, a(function() {\n\t\tflux.browser.init()\n\t})\n}(window.jQuery || window.Zepto), function(a) {\n\ta.fn.css3 = function(a) {\n\t\tvar b = {},\n\t\t\tc = [\"webkit\", \"moz\", \"ms\", \"o\"];\n\t\tfor (var d in a) {\n\t\t\tfor (var e = 0; e < c.length; e++) b[\"-\" + c[e] + \"-\" + d] = a[d];\n\t\t\tb[d] = a[d]\n\t\t}\n\t\treturn this.css(b), this\n\t}, a.fn.transitionEnd = function(b) {\n\t\tfor (var c = [\"webkitTransitionEnd\", \"transitionend\", \"oTransitionEnd\"], d = 0; d < c.length; d++) this.bind(c[d], function(d) {\n\t\t\tfor (var e = 0; e < c.length; e++) a(this).unbind(c[e]);\n\t\t\tb && b.call(this, d)\n\t\t});\n\t\treturn this\n\t}, flux.transition = function(b, c) {\n\t\tif (this.options = a.extend({\n\t\t\trequires3d: !1,\n\t\t\tafter: function() {}\n\t\t}, c), this.slider = b, this.options.requires3d && !flux.browser.supports3d || !flux.browser.supportsTransitions || this.options.fallback === !0) {\n\t\t\tvar d = this;\n\t\t\tthis.options.after = void 0, this.options.setup = function() {\n\t\t\t\td.fallbackSetup()\n\t\t\t}, this.options.execute = function() {\n\t\t\t\td.fallbackExecute()\n\t\t\t}\n\t\t}\n\t}, flux.transition.prototype = {\n\t\tconstructor: flux.transition,\n\t\thasFinished: !1,\n\t\trun: function() {\n\t\t\tvar a = this;\n\t\t\tvoid 0 !== this.options.setup && this.options.setup.call(this), this.slider.image1.css({\n\t\t\t\t\"background-image\": \"none\"\n\t\t\t}), this.slider.imageContainer.css(\"overflow\", this.options.requires3d ? \"visible\" : \"hidden\"), setTimeout(function() {\n\t\t\t\tvoid 0 !== a.options.execute && a.slider.image1.css(\"background-color\", \"\"), a.options.execute.call(a)\n\t\t\t}, 5)\n\t\t},\n\t\tfinished: function() {\n\t\t\tthis.hasFinished || (this.hasFinished = !0, this.options.after && this.options.after.call(this), this.slider.imageContainer.css(\"overflow\", \"hidden\"), this.slider.setupImages(), this.slider.element.trigger(\"fluxTransitionEnd\", {\n\t\t\t\tcurrentImage: this.slider.getImage(this.slider.currentImageIndex)\n\t\t\t}))\n\t\t},\n\t\tfallbackSetup: function() {},\n\t\tfallbackExecute: function() {\n\t\t\tthis.finished()\n\t\t}\n\t}, flux.transitions = {}, flux.transition_grid = function(b, c) {\n\t\treturn new flux.transition(b, a.extend({\n\t\t\tcolumns: 6,\n\t\t\trows: 6,\n\t\t\tforceSquare: !1,\n\t\t\tsetup: function() {\n\t\t\t\tvar b = this.slider.image1.width(),\n\t\t\t\t\tc = this.slider.image1.height(),\n\t\t\t\t\td = Math.floor(b / this.options.columns),\n\t\t\t\t\te = Math.floor(c / this.options.rows);\n\t\t\t\tthis.options.forceSquare && (e = d, this.options.rows = Math.floor(c / e));\n\t\t\t\tfor (var f = b - this.options.columns * d, g = Math.ceil(f / this.options.columns), h = c - this.options.rows * e, i = Math.ceil(h / this.options.rows), j = (this.slider.image1.height(), 0), k = 0, l = document.createDocumentFragment(), m = 0; m < this.options.columns; m++) {\n\t\t\t\t\tvar n = d,\n\t\t\t\t\t\tk = 0;\n\t\t\t\t\tif (f > 0) {\n\t\t\t\t\t\tvar o = f >= g ? g : f;\n\t\t\t\t\t\tn += o, f -= o\n\t\t\t\t\t}\n\t\t\t\t\tfor (var p = 0; p < this.options.rows; p++) {\n\t\t\t\t\t\tvar q = e,\n\t\t\t\t\t\t\tr = h;\n\t\t\t\t\t\tif (r > 0) {\n\t\t\t\t\t\t\tvar o = r >= i ? i : r;\n\t\t\t\t\t\t\tq += o, r -= o\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar s = a('<div class=\"tile tile-' + m + \"-\" + p + '\"></div>').css({\n\t\t\t\t\t\t\twidth: n + \"px\",\n\t\t\t\t\t\t\theight: q + \"px\",\n\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\ttop: k + \"px\",\n\t\t\t\t\t\t\tleft: j + \"px\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.options.renderTile.call(this, s, m, p, n, q, j, k), l.appendChild(s.get(0)), k += q\n\t\t\t\t\t}\n\t\t\t\t\tj += n\n\t\t\t\t}\n\t\t\t\tthis.slider.image1.get(0).appendChild(l)\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tvar a = this,\n\t\t\t\t\tb = this.slider.image1.height(),\n\t\t\t\t\tc = this.slider.image1.find(\"div.barcontainer\");\n\t\t\t\tthis.slider.image2.hide(), c.last().transitionEnd(function(b) {\n\t\t\t\t\ta.slider.image2.show(), a.finished()\n\t\t\t\t}), c.css3({\n\t\t\t\t\ttransform: flux.browser.rotateX(-90) + \" \" + flux.browser.translate(0, b / 2, b / 2)\n\t\t\t\t})\n\t\t\t},\n\t\t\trenderTile: function(a, b, c, d, e, f, g) {}\n\t\t}, c))\n\t}\n}(window.jQuery || window.Zepto), function(a) {\n\tflux.transitions.bars = function(b, c) {\n\t\treturn new flux.transition_grid(b, a.extend({\n\t\t\tcolumns: 10,\n\t\t\trows: 1,\n\t\t\tdelayBetweenBars: 40,\n\t\t\trenderTile: function(b, c, d, e, f, g, h) {\n\t\t\t\ta(b).css({\n\t\t\t\t\tbackground: this.slider.image1.css(\"background\"),\n\t\t\t\t\t\"background-size\": this.slider.width + \"px \" + this.slider.height + \"px\",\n\t\t\t\t\t\"background-position\": \"-\" + g + \"px 0px\"\n\t\t\t\t}).css3({\n\t\t\t\t\t\"transition-duration\": \"400ms\",\n\t\t\t\t\t\"transition-timing-function\": \"ease-in\",\n\t\t\t\t\t\"transition-property\": \"all\",\n\t\t\t\t\t\"transition-delay\": c * this.options.delayBetweenBars + \"ms\"\n\t\t\t\t})\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tvar b = this,\n\t\t\t\t\tc = this.slider.image1.height(),\n\t\t\t\t\td = this.slider.image1.find(\"div.tile\");\n\t\t\t\ta(d[d.length - 1]).transitionEnd(function() {\n\t\t\t\t\tb.finished()\n\t\t\t\t}), setTimeout(function() {\n\t\t\t\t\td.css({\n\t\t\t\t\t\topacity: \"0.5\"\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\ttransform: flux.browser.translate(0, c)\n\t\t\t\t\t})\n\t\t\t\t}, 50)\n\t\t\t}\n\t\t}, c))\n\t}\n}(window.jQuery || window.Zepto), function(a) {\n\tflux.transitions.bars3d = function(b, c) {\n\t\treturn new flux.transition_grid(b, a.extend({\n\t\t\trequires3d: !0,\n\t\t\tcolumns: 7,\n\t\t\trows: 1,\n\t\t\tdelayBetweenBars: 150,\n\t\t\tperspective: 1e3,\n\t\t\trenderTile: function(b, c, d, e, f, g, h) {\n\t\t\t\tvar i = a('<div class=\"bar-' + c + '\"></div>').css({\n\t\t\t\t\twidth: e + \"px\",\n\t\t\t\t\theight: \"100%\",\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\ttop: \"0px\",\n\t\t\t\t\tleft: \"0px\",\n\t\t\t\t\t\"z-index\": 200,\n\t\t\t\t\tbackground: this.slider.image1.css(\"background\"),\n\t\t\t\t\t\"background-size\": this.slider.width + \"px \" + this.slider.height + \"px\",\n\t\t\t\t\t\"background-position\": \"-\" + g + \"px 0px\",\n\t\t\t\t\t\"background-repeat\": \"no-repeat\"\n\t\t\t\t}).css3({\n\t\t\t\t\t\"backface-visibility\": \"hidden\"\n\t\t\t\t}),\n\t\t\t\t\tj = a(i.get(0).cloneNode(!1)).css({\n\t\t\t\t\t\t\"background-image\": this.slider.image2.css(\"background-image\")\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\ttransform: flux.browser.rotateX(90) + \" \" + flux.browser.translate(0, -f / 2, f / 2)\n\t\t\t\t\t}),\n\t\t\t\t\tk = a('<div class=\"side bar-' + c + '\"></div>').css({\n\t\t\t\t\t\twidth: f + \"px\",\n\t\t\t\t\t\theight: f + \"px\",\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: \"0px\",\n\t\t\t\t\t\tleft: \"0px\",\n\t\t\t\t\t\tbackground: \"#222\",\n\t\t\t\t\t\t\"z-index\": 190\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\ttransform: flux.browser.rotateY(90) + \" \" + flux.browser.translate(f / 2, 0, -f / 2) + \" \" + flux.browser.rotateY(180),\n\t\t\t\t\t\t\"backface-visibility\": \"hidden\"\n\t\t\t\t\t}),\n\t\t\t\t\tl = a(k.get(0).cloneNode(!1)).css3({\n\t\t\t\t\t\ttransform: flux.browser.rotateY(90) + \" \" + flux.browser.translate(f / 2, 0, e - f / 2)\n\t\t\t\t\t});\n\t\t\t\ta(b).css({\n\t\t\t\t\twidth: e + \"px\",\n\t\t\t\t\theight: \"100%\",\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\ttop: \"0px\",\n\t\t\t\t\tleft: g + \"px\",\n\t\t\t\t\t\"z-index\": c > this.options.columns / 2 ? 1e3 - c : 1e3\n\t\t\t\t}).css3({\n\t\t\t\t\t\"transition-duration\": \"800ms\",\n\t\t\t\t\t\"transition-timing-function\": \"linear\",\n\t\t\t\t\t\"transition-property\": \"all\",\n\t\t\t\t\t\"transition-delay\": c * this.options.delayBetweenBars + \"ms\",\n\t\t\t\t\t\"transform-style\": \"preserve-3d\"\n\t\t\t\t}).append(i).append(j).append(k).append(l)\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tthis.slider.image1.css3({\n\t\t\t\t\tperspective: this.options.perspective,\n\t\t\t\t\t\"perspective-origin\": \"50% 50%\"\n\t\t\t\t}).css({\n\t\t\t\t\t\"-moz-transform\": \"perspective(\" + this.options.perspective + \"px)\",\n\t\t\t\t\t\"-moz-perspective\": \"none\",\n\t\t\t\t\t\"-moz-transform-style\": \"preserve-3d\"\n\t\t\t\t});\n\t\t\t\tvar a = this,\n\t\t\t\t\tb = this.slider.image1.height(),\n\t\t\t\t\tc = this.slider.image1.find(\"div.tile\");\n\t\t\t\tthis.slider.image2.hide(), c.last().transitionEnd(function(b) {\n\t\t\t\t\ta.slider.image1.css3({\n\t\t\t\t\t\t\"transform-style\": \"flat\"\n\t\t\t\t\t}), a.slider.image2.show(), a.finished()\n\t\t\t\t}), setTimeout(function() {\n\t\t\t\t\tc.css3({\n\t\t\t\t\t\ttransform: flux.browser.rotateX(-90) + \" \" + flux.browser.translate(0, b / 2, b / 2)\n\t\t\t\t\t})\n\t\t\t\t}, 50)\n\t\t\t}\n\t\t}, c))\n\t}\n}(window.jQuery || window.Zepto), function(a) {\n\tflux.transitions.blinds = function(b, c) {\n\t\treturn new flux.transitions.bars(b, a.extend({\n\t\t\texecute: function() {\n\t\t\t\tvar b = this,\n\t\t\t\t\tc = (this.slider.image1.height(), this.slider.image1.find(\"div.tile\"));\n\t\t\t\ta(c[c.length - 1]).transitionEnd(function() {\n\t\t\t\t\tb.finished()\n\t\t\t\t}), setTimeout(function() {\n\t\t\t\t\tc.css({\n\t\t\t\t\t\topacity: \"0.5\"\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\ttransform: \"scalex(0.0001)\"\n\t\t\t\t\t})\n\t\t\t\t}, 50)\n\t\t\t}\n\t\t}, c))\n\t}\n}(window.jQuery || window.Zepto), function(a) {\n\tflux.transitions.zip = function(b, c) {\n\t\treturn new flux.transitions.bars(b, a.extend({\n\t\t\texecute: function() {\n\t\t\t\tvar b = this,\n\t\t\t\t\tc = this.slider.image1.height(),\n\t\t\t\t\td = this.slider.image1.find(\"div.tile\");\n\t\t\t\ta(d[d.length - 1]).transitionEnd(function() {\n\t\t\t\t\tb.finished()\n\t\t\t\t}), setTimeout(function() {\n\t\t\t\t\td.each(function(b, d) {\n\t\t\t\t\t\ta(d).css({\n\t\t\t\t\t\t\topacity: \"0.3\"\n\t\t\t\t\t\t}).css3({\n\t\t\t\t\t\t\ttransform: flux.browser.translate(0, b % 2 ? \"-\" + 2 * c : c)\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}, 20)\n\t\t\t}\n\t\t}, c))\n\t}\n}(window.jQuery || window.Zepto), function(a) {\n\tflux.transitions.blocks = function(b, c) {\n\t\treturn new flux.transition_grid(b, a.extend({\n\t\t\tforceSquare: !0,\n\t\t\tdelayBetweenBars: 100,\n\t\t\trenderTile: function(b, c, d, e, f, g, h) {\n\t\t\t\tvar i = Math.floor(10 * Math.random() * this.options.delayBetweenBars);\n\t\t\t\ta(b).css({\n\t\t\t\t\tbackground: this.slider.image1.css(\"background\"),\n\t\t\t\t\t\"background-size\": this.slider.width + \"px \" + this.slider.height + \"px\",\n\t\t\t\t\t\"background-position\": \"-\" + g + \"px -\" + h + \"px\"\n\t\t\t\t}).css3({\n\t\t\t\t\t\"transition-duration\": \"350ms\",\n\t\t\t\t\t\"transition-timing-function\": \"ease-in\",\n\t\t\t\t\t\"transition-property\": \"all\",\n\t\t\t\t\t\"transition-delay\": i + \"ms\"\n\t\t\t\t}), void 0 === this.maxDelay && (this.maxDelay = 0), i > this.maxDelay && (this.maxDelay = i, this.maxDelayTile = b)\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tvar b = this,\n\t\t\t\t\tc = this.slider.image1.find(\"div.tile\");\n\t\t\t\tthis.maxDelayTile.transitionEnd(function() {\n\t\t\t\t\tb.finished()\n\t\t\t\t}), setTimeout(function() {\n\t\t\t\t\tc.each(function(b, c) {\n\t\t\t\t\t\ta(c).css({\n\t\t\t\t\t\t\topacity: \"0\"\n\t\t\t\t\t\t}).css3({\n\t\t\t\t\t\t\ttransform: \"scale(0.8)\"\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}, 50)\n\t\t\t}\n\t\t}, c))\n\t}\n}(window.jQuery || window.Zepto), function(a) {\n\tflux.transitions.blocks2 = function(b, c) {\n\t\treturn new flux.transition_grid(b, a.extend({\n\t\t\tcols: 12,\n\t\t\tforceSquare: !0,\n\t\t\tdelayBetweenDiagnols: 150,\n\t\t\trenderTile: function(b, c, d, e, f, g, h) {\n\t\t\t\tMath.floor(10 * Math.random() * this.options.delayBetweenBars);\n\t\t\t\ta(b).css({\n\t\t\t\t\tbackground: this.slider.image1.css(\"background\"),\n\t\t\t\t\t\"background-size\": this.slider.width + \"px \" + this.slider.height + \"px\",\n\t\t\t\t\t\"background-position\": \"-\" + g + \"px -\" + h + \"px\"\n\t\t\t\t}).css3({\n\t\t\t\t\t\"transition-duration\": \"350ms\",\n\t\t\t\t\t\"transition-timing-function\": \"ease-in\",\n\t\t\t\t\t\"transition-property\": \"all\",\n\t\t\t\t\t\"transition-delay\": (c + d) * this.options.delayBetweenDiagnols + \"ms\",\n\t\t\t\t\t\"backface-visibility\": \"hidden\"\n\t\t\t\t})\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tvar b = this,\n\t\t\t\t\tc = this.slider.image1.find(\"div.tile\");\n\t\t\t\tc.last().transitionEnd(function() {\n\t\t\t\t\tb.finished()\n\t\t\t\t}), setTimeout(function() {\n\t\t\t\t\tc.each(function(b, c) {\n\t\t\t\t\t\ta(c).css({\n\t\t\t\t\t\t\topacity: \"0\"\n\t\t\t\t\t\t}).css3({\n\t\t\t\t\t\t\ttransform: \"scale(0.8)\"\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}, 50)\n\t\t\t}\n\t\t}, c))\n\t}\n}(window.jQuery || window.Zepto), function(a) {\n\tflux.transitions.cube = function(b, c) {\n\t\treturn new flux.transition(b, a.extend({\n\t\t\trequires3d: !0,\n\t\t\tbarWidth: 100,\n\t\t\tdirection: \"left\",\n\t\t\tperspective: 1e3,\n\t\t\tsetup: function() {\n\t\t\t\tvar b = this.slider.image1.width(),\n\t\t\t\t\tc = this.slider.image1.height();\n\t\t\t\tthis.slider.image1.css3({\n\t\t\t\t\tperspective: this.options.perspective,\n\t\t\t\t\t\"perspective-origin\": \"50% 50%\"\n\t\t\t\t}), this.cubeContainer = a('<div class=\"cube\"></div>').css({\n\t\t\t\t\twidth: b + \"px\",\n\t\t\t\t\theight: c + \"px\",\n\t\t\t\t\tposition: \"relative\"\n\t\t\t\t}).css3({\n\t\t\t\t\t\"transition-duration\": \"800ms\",\n\t\t\t\t\t\"transition-timing-function\": \"linear\",\n\t\t\t\t\t\"transition-property\": \"all\",\n\t\t\t\t\t\"transform-style\": \"preserve-3d\"\n\t\t\t\t});\n\t\t\t\tvar d = {\n\t\t\t\t\theight: \"100%\",\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\ttop: \"0px\",\n\t\t\t\t\tleft: \"0px\"\n\t\t\t\t},\n\t\t\t\t\te = a('<div class=\"face current\"></div>').css(a.extend(d, {\n\t\t\t\t\t\tbackground: this.slider.image1.css(\"background\"),\n\t\t\t\t\t\t\"background-size\": this.slider.width + \"px \" + this.slider.height + \"px\"\n\t\t\t\t\t})).css3({\n\t\t\t\t\t\t\"backface-visibility\": \"hidden\"\n\t\t\t\t\t});\n\t\t\t\tthis.cubeContainer.append(e);\n\t\t\t\tvar f = a('<div class=\"face next\"></div>').css(a.extend(d, {\n\t\t\t\t\tbackground: this.slider.image2.css(\"background-image\")\n\t\t\t\t})).css3({\n\t\t\t\t\ttransform: this.options.transitionStrings.call(this, this.options.direction, \"nextFace\"),\n\t\t\t\t\t\"backface-visibility\": \"hidden\"\n\t\t\t\t});\n\t\t\t\tthis.cubeContainer.append(f), this.slider.image1.append(this.cubeContainer)\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tvar a = this;\n\t\t\t\tthis.slider.image1.width(), this.slider.image1.height();\n\t\t\t\tthis.slider.image2.hide(), this.cubeContainer.transitionEnd(function() {\n\t\t\t\t\ta.slider.image2.show(), a.finished()\n\t\t\t\t}), setTimeout(function() {\n\t\t\t\t\ta.cubeContainer.css3({\n\t\t\t\t\t\ttransform: a.options.transitionStrings.call(a, a.options.direction, \"container\")\n\t\t\t\t\t})\n\t\t\t\t}, 50)\n\t\t\t},\n\t\t\ttransitionStrings: function(a, b) {\n\t\t\t\tvar c = this.slider.image1.width(),\n\t\t\t\t\td = this.slider.image1.height(),\n\t\t\t\t\te = {\n\t\t\t\t\t\tup: {\n\t\t\t\t\t\t\tnextFace: flux.browser.rotateX(-90) + \" \" + flux.browser.translate(0, d / 2, d / 2),\n\t\t\t\t\t\t\tcontainer: flux.browser.rotateX(90) + \" \" + flux.browser.translate(0, -d / 2, d / 2)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdown: {\n\t\t\t\t\t\t\tnextFace: flux.browser.rotateX(90) + \" \" + flux.browser.translate(0, -d / 2, d / 2),\n\t\t\t\t\t\t\tcontainer: flux.browser.rotateX(-90) + \" \" + flux.browser.translate(0, d / 2, d / 2)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tleft: {\n\t\t\t\t\t\t\tnextFace: flux.browser.rotateY(90) + \" \" + flux.browser.translate(c / 2, 0, c / 2),\n\t\t\t\t\t\t\tcontainer: flux.browser.rotateY(-90) + \" \" + flux.browser.translate(-c / 2, 0, c / 2)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tright: {\n\t\t\t\t\t\t\tnextFace: flux.browser.rotateY(-90) + \" \" + flux.browser.translate(-c / 2, 0, c / 2),\n\t\t\t\t\t\t\tcontainer: flux.browser.rotateY(90) + \" \" + flux.browser.translate(c / 2, 0, c / 2)\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\treturn e[a] && e[a][b] ? e[a][b] : !1\n\t\t\t}\n\t\t}, c))\n\t}\n}(window.jQuery || window.Zepto), function(a) {\n\tflux.transitions.tiles3d = function(b, c) {\n\t\treturn new flux.transition_grid(b, a.extend({\n\t\t\trequires3d: !0,\n\t\t\tforceSquare: !0,\n\t\t\tcolumns: 5,\n\t\t\tperspective: 600,\n\t\t\tdelayBetweenBarsX: 200,\n\t\t\tdelayBetweenBarsY: 150,\n\t\t\trenderTile: function(b, c, d, e, f, g, h) {\n\t\t\t\tvar i = a(\"<div></div>\").css({\n\t\t\t\t\twidth: e + \"px\",\n\t\t\t\t\theight: f + \"px\",\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\ttop: \"0px\",\n\t\t\t\t\tleft: \"0px\",\n\t\t\t\t\tbackground: this.slider.image1.css(\"background\"),\n\t\t\t\t\t\"background-size\": this.slider.width + \"px \" + this.slider.height + \"px\",\n\t\t\t\t\t\"background-position\": \"-\" + g + \"px -\" + h + \"px\",\n\t\t\t\t\t\"background-repeat\": \"no-repeat\",\n\t\t\t\t\t\"-moz-transform\": \"translateZ(1px)\"\n\t\t\t\t}).css3({\n\t\t\t\t\t\"backface-visibility\": \"hidden\"\n\t\t\t\t}),\n\t\t\t\t\tj = a(i.get(0).cloneNode(!1)).css({\n\t\t\t\t\t\t\"background-image\": this.slider.image2.css(\"background-image\")\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\ttransform: flux.browser.rotateY(180),\n\t\t\t\t\t\t\"backface-visibility\": \"hidden\"\n\t\t\t\t\t});\n\t\t\t\ta(b).css({\n\t\t\t\t\t\"z-index\": (c > this.options.columns / 2 ? 500 - c : 500) + (d > this.options.rows / 2 ? 500 - d : 500)\n\t\t\t\t}).css3({\n\t\t\t\t\t\"transition-duration\": \"800ms\",\n\t\t\t\t\t\"transition-timing-function\": \"ease-out\",\n\t\t\t\t\t\"transition-property\": \"all\",\n\t\t\t\t\t\"transition-delay\": c * this.options.delayBetweenBarsX + d * this.options.delayBetweenBarsY + \"ms\",\n\t\t\t\t\t\"transform-style\": \"preserve-3d\"\n\t\t\t\t}).append(i).append(j)\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tthis.slider.image1.css3({\n\t\t\t\t\tperspective: this.options.perspective,\n\t\t\t\t\t\"perspective-origin\": \"50% 50%\"\n\t\t\t\t});\n\t\t\t\tvar a = this,\n\t\t\t\t\tb = this.slider.image1.find(\"div.tile\");\n\t\t\t\tthis.slider.image2.hide(), b.last().transitionEnd(function(b) {\n\t\t\t\t\ta.slider.image2.show(), a.finished()\n\t\t\t\t}), setTimeout(function() {\n\t\t\t\t\tb.css3({\n\t\t\t\t\t\ttransform: flux.browser.rotateY(180)\n\t\t\t\t\t})\n\t\t\t\t}, 50)\n\t\t\t}\n\t\t}, c))\n\t}\n}(window.jQuery || window.Zepto), function(a) {\n\tflux.transitions.turn = function(b, c) {\n\t\treturn new flux.transition(b, a.extend({\n\t\t\trequires3d: !0,\n\t\t\tperspective: 1300,\n\t\t\tdirection: \"left\",\n\t\t\tsetup: function() {\n\t\t\t\tvar b = a('<div class=\"tab\"></div>').css({\n\t\t\t\t\twidth: \"50%\",\n\t\t\t\t\theight: \"100%\",\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\ttop: \"0px\",\n\t\t\t\t\tleft: \"left\" == this.options.direction ? \"50%\" : \"0%\",\n\t\t\t\t\t\"z-index\": 101\n\t\t\t\t}).css3({\n\t\t\t\t\t\"transform-style\": \"preserve-3d\",\n\t\t\t\t\t\"transition-duration\": \"1000ms\",\n\t\t\t\t\t\"transition-timing-function\": \"ease-out\",\n\t\t\t\t\t\"transition-property\": \"all\",\n\t\t\t\t\t\"transform-origin\": \"left\" == this.options.direction ? \"left center\" : \"right center\"\n\t\t\t\t}),\n\t\t\t\t\tc = (a(\"<div></div>\").appendTo(b).css({\n\t\t\t\t\t\tbackground: this.slider.image1.css(\"background\"),\n\t\t\t\t\t\t\"background-size\": this.slider.width + \"px \" + this.slider.height + \"px\",\n\t\t\t\t\t\t\"background-position\": (\"left\" == this.options.direction ? \"-\" + this.slider.image1.width() / 2 : 0) + \"px 0\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: \"0\",\n\t\t\t\t\t\tleft: \"0\",\n\t\t\t\t\t\t\"-moz-transform\": \"translateZ(1px)\"\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\t\"backface-visibility\": \"hidden\"\n\t\t\t\t\t}), a(\"<div></div>\").appendTo(b).css({\n\t\t\t\t\t\tbackground: this.slider.image2.css(\"background\"),\n\t\t\t\t\t\t\"background-size\": this.slider.width + \"px \" + this.slider.height + \"px\",\n\t\t\t\t\t\t\"background-position\": (\"left\" == this.options.direction ? 0 : \"-\" + this.slider.image1.width() / 2) + \"px 0\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: \"0\",\n\t\t\t\t\t\tleft: \"0\"\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\ttransform: flux.browser.rotateY(180),\n\t\t\t\t\t\t\"backface-visibility\": \"hidden\"\n\t\t\t\t\t}), a(\"<div></div>\").css({\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: \"0\",\n\t\t\t\t\t\tleft: \"left\" == this.options.direction ? \"0\" : \"50%\",\n\t\t\t\t\t\twidth: \"50%\",\n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\tbackground: this.slider.image1.css(\"background\"),\n\t\t\t\t\t\t\"background-size\": this.slider.width + \"px \" + this.slider.height + \"px\",\n\t\t\t\t\t\t\"background-position\": (\"left\" == this.options.direction ? 0 : \"-\" + this.slider.image1.width() / 2) + \"px 0\",\n\t\t\t\t\t\t\"z-index\": 100\n\t\t\t\t\t})),\n\t\t\t\t\td = a('<div class=\"overlay\"></div>').css({\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: \"0\",\n\t\t\t\t\t\tleft: \"left\" == this.options.direction ? \"50%\" : \"0\",\n\t\t\t\t\t\twidth: \"50%\",\n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\tbackground: \"#000\",\n\t\t\t\t\t\topacity: 1\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\t\"transition-duration\": \"800ms\",\n\t\t\t\t\t\t\"transition-timing-function\": \"linear\",\n\t\t\t\t\t\t\"transition-property\": \"opacity\"\n\t\t\t\t\t}),\n\t\t\t\t\te = a(\"<div></div>\").css3({\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: \"100%\"\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\tperspective: this.options.perspective,\n\t\t\t\t\t\t\"perspective-origin\": \"50% 50%\"\n\t\t\t\t\t}).append(b).append(c).append(d);\n\t\t\t\tthis.slider.image1.append(e)\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tvar a = this;\n\t\t\t\tthis.slider.image1.find(\"div.tab\").first().transitionEnd(function() {\n\t\t\t\t\ta.finished()\n\t\t\t\t}), setTimeout(function() {\n\t\t\t\t\ta.slider.image1.find(\"div.tab\").css3({\n\t\t\t\t\t\ttransform: flux.browser.rotateY(\"left\" == a.options.direction ? -179 : 179)\n\t\t\t\t\t}), a.slider.image1.find(\"div.overlay\").css({\n\t\t\t\t\t\topacity: 0\n\t\t\t\t\t})\n\t\t\t\t}, 50)\n\t\t\t}\n\t\t}, c))\n\t}\n}(window.jQuery || window.Zepto), function(a) {\n\tflux.transitions.slide = function(b, c) {\n\t\treturn new flux.transition(b, a.extend({\n\t\t\tdirection: \"left\",\n\t\t\tsetup: function() {\n\t\t\t\tvar b = this.slider.image1.width(),\n\t\t\t\t\tc = this.slider.image1.height(),\n\t\t\t\t\td = a('<div class=\"current\"></div>').css({\n\t\t\t\t\t\theight: c + \"px\",\n\t\t\t\t\t\twidth: b + \"px\",\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: \"0px\",\n\t\t\t\t\t\tleft: \"0px\",\n\t\t\t\t\t\tbackground: this.slider[\"left\" == this.options.direction ? \"image1\" : \"image2\"].css(\"background\")\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\t\"backface-visibility\": \"hidden\"\n\t\t\t\t\t}),\n\t\t\t\t\te = a('<div class=\"next\"></div>').css({\n\t\t\t\t\t\theight: c + \"px\",\n\t\t\t\t\t\twidth: b + \"px\",\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: \"0px\",\n\t\t\t\t\t\tleft: b + \"px\",\n\t\t\t\t\t\tbackground: this.slider[\"left\" == this.options.direction ? \"image2\" : \"image1\"].css(\"background\")\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\t\"backface-visibility\": \"hidden\"\n\t\t\t\t\t});\n\t\t\t\tthis.slideContainer = a('<div class=\"slide\"></div>').css({\n\t\t\t\t\twidth: 2 * b + \"px\",\n\t\t\t\t\theight: c + \"px\",\n\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\tleft: \"left\" == this.options.direction ? \"0px\" : -b + \"px\",\n\t\t\t\t\t\"z-index\": 101\n\t\t\t\t}).css3({\n\t\t\t\t\t\"transition-duration\": \"600ms\",\n\t\t\t\t\t\"transition-timing-function\": \"ease-in\",\n\t\t\t\t\t\"transition-property\": \"all\"\n\t\t\t\t}), this.slideContainer.append(d).append(e), this.slider.image1.append(this.slideContainer)\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tvar a = this,\n\t\t\t\t\tb = this.slider.image1.width();\n\t\t\t\t\"left\" == this.options.direction && (b = -b), this.slideContainer.transitionEnd(function() {\n\t\t\t\t\ta.finished()\n\t\t\t\t}), setTimeout(function() {\n\t\t\t\t\ta.slideContainer.css3({\n\t\t\t\t\t\ttransform: flux.browser.translate(b)\n\t\t\t\t\t})\n\t\t\t\t}, 50)\n\t\t\t}\n\t\t}, c))\n\t}\n}(window.jQuery || window.Zepto), function(a) {\n\tflux.transitions.explode = function(b, c) {\n\t\treturn new flux.transition_grid(b, a.extend({\n\t\t\tcolumns: 6,\n\t\t\tforceSquare: !0,\n\t\t\tdelayBetweenBars: 30,\n\t\t\tperspective: 800,\n\t\t\trequires3d: !0,\n\t\t\trenderTile: function(b, c, d, e, f, g, h) {\n\t\t\t\tvar i = Math.floor(10 * Math.random() * this.options.delayBetweenBars);\n\t\t\t\ta(b).css({\n\t\t\t\t\tbackground: this.slider.image1.css(\"background\"),\n\t\t\t\t\t\"background-size\": this.slider.width + \"px \" + this.slider.height + \"px\",\n\t\t\t\t\t\"background-position\": \"-\" + g + \"px -\" + h + \"px\"\n\t\t\t\t}).css3({\n\t\t\t\t\t\"transition-duration\": \"500ms\",\n\t\t\t\t\t\"transition-timing-function\": \"ease-in\",\n\t\t\t\t\t\"transition-property\": \"all\",\n\t\t\t\t\t\"transition-delay\": i + \"ms\"\n\t\t\t\t}), void 0 === this.maxDelay && (this.maxDelay = 0), i > this.maxDelay && (this.maxDelay = i, this.maxDelayTile = b)\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tthis.slider.image1.css3({\n\t\t\t\t\tperspective: this.options.perspective,\n\t\t\t\t\t\"perspective-origin\": \"50% 50%\"\n\t\t\t\t}).css({\n\t\t\t\t\t\"-moz-transform\": \"perspective(\" + this.options.perspective + \"px)\",\n\t\t\t\t\t\"-moz-perspective\": \"none\",\n\t\t\t\t\t\"-moz-transform-style\": \"preserve-3d\"\n\t\t\t\t});\n\t\t\t\tvar b = this,\n\t\t\t\t\tc = this.slider.image1.find(\"div.tile\");\n\t\t\t\tthis.maxDelayTile.transitionEnd(function() {\n\t\t\t\t\tb.slider.image1.css3({\n\t\t\t\t\t\t\"transform-style\": \"flat\"\n\t\t\t\t\t}), b.finished()\n\t\t\t\t}), setTimeout(function() {\n\t\t\t\t\tc.each(function(b, c) {\n\t\t\t\t\t\ta(c).css({\n\t\t\t\t\t\t\topacity: \"0\"\n\t\t\t\t\t\t}).css3({\n\t\t\t\t\t\t\ttransform: flux.browser.translate(0, 0, 700) + \" rotate3d(\" + (Math.round(2 * Math.random()) - 1) + \", \" + (Math.round(2 * Math.random()) - 1) + \", \" + (Math.round(2 * Math.random()) - 1) + \", 90deg) \"\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}, 50)\n\t\t\t}\n\t\t}, c))\n\t}\n}(window.jQuery || window.Zepto), function() {\n\twindow.eqxiuSvg = {\n\t\tNAMESPACE: \"http://www.w3.org/2000/svg\",\n\t\tSYMBOLS: {},\n\t\tboundingBox: function(a) {\n\t\t\tvar b, c = a.parentNode,\n\t\t\t\td = document.createElementNS(eqxiuSvg.NAMESPACE, \"svg\");\n\t\t\treturn d.setAttribute(\"width\", \"0\"), d.setAttribute(\"height\", \"0\"), d.setAttribute(\"style\", \"visibility: hidden; position: absolute; left: 0; top: 0;\"), d.appendChild(a), document.body.appendChild(d), b = a.getBBox(), c ? c.appendChild(a) : d.removeChild(a), document.body.removeChild(d), b\n\t\t},\n\t\tpointsToPolygon: function(a) {\n\t\t\tfor (var b = []; a.length >= 2;) b.push(a.shift() + \",\" + a.shift());\n\t\t\treturn b.join(\" \")\n\t\t},\n\t\tsymbol: function(a, b, c) {\n\t\t\tvar d = c ? c : \"#555\",\n\t\t\t\te = eqxiuSvg.SYMBOLS[a],\n\t\t\t\tf = '<g fill=\"' + d + '\" id=\"path_' + b + '\">' + e + \"</g>\";\n\t\t\treturn f\n\t\t},\n\t\tShapeFromType: function(a, b, c, d, e) {\n\t\t\treturn b || (b = 64), c || (c = 64), /symbols\\-/.test(a) ? eqxiuSvg.symbol(a.replace(/^symbols\\-/, \"\"), d, e) : \"rect\" == a ? eqxiuSvg.rect(b, c) : \"circle\" == a ? eqxiuSvg.ellipse(b, c) : \"diamond\" == a ? eqxiuSvg.polygon(b, c, 4) : \"octagon\" == a ? eqxiuSvg.polygon(b, c, 8) : \"triangle-up\" == a ? eqxiuSvg.triangleUp(b, c) : \"triangle-down\" == a ? eqxiuSvg.triangleDown(b, c) : \"triangle-left\" == a ? eqxiuSvg.triangleLeft(b, c) : \"triangle-right\" == a ? eqxiuSvg.triangleRight(b, c) : \"arrow-up\" == a ? eqxiuSvg.arrowUp(b, c) : \"arrow-down\" == a ? eqxiuSvg.arrowDown(b, c) : \"arrow-left\" == a ? eqxiuSvg.arrowLeft(b, c) : \"arrow-right\" == a ? eqxiuSvg.arrowRight(b, c) : void 0;\n\t\t},\n\t\trect: function(a, b) {\n\t\t\tvar c = document.createElementNS(eqxiuSvg.NAMESPACE, \"rect\");\n\t\t\treturn c.setAttribute(\"width\", a), c.setAttribute(\"height\", b), c\n\t\t},\n\t\tellipse: function(a, b) {\n\t\t\tvar c = document.createElementNS(eqxiuSvg.NAMESPACE, \"ellipse\");\n\t\t\treturn c.setAttribute(\"rx\", a / 2), c.setAttribute(\"ry\", b / 2), c.setAttribute(\"cx\", a / 2), c.setAttribute(\"cy\", b / 2), c\n\t\t},\n\t\ttriangleUp: function(a, b) {\n\t\t\tvar c = document.createElementNS(eqxiuSvg.NAMESPACE, \"polygon\");\n\t\t\treturn c.setAttribute(\"points\", eqxiuSvg.pointsToPolygon([a / 2, 0, a, b, 0, b])), c\n\t\t},\n\t\ttriangleDown: function(a, b) {\n\t\t\tvar c = document.createElementNS(eqxiuSvg.NAMESPACE, \"polygon\");\n\t\t\treturn c.setAttribute(\"points\", eqxiuSvg.pointsToPolygon([0, 0, a, 0, a / 2, b])), c\n\t\t},\n\t\ttriangleLeft: function(a, b) {\n\t\t\tvar c = document.createElementNS(eqxiuSvg.NAMESPACE, \"polygon\");\n\t\t\treturn c.setAttribute(\"points\", eqxiuSvg.pointsToPolygon([0, b / 2, a, 0, a, b])), c\n\t\t},\n\t\ttriangleRight: function(a, b) {\n\t\t\tvar c = document.createElementNS(eqxiuSvg.NAMESPACE, \"polygon\");\n\t\t\treturn c.setAttribute(\"points\", eqxiuSvg.pointsToPolygon([a, b / 2, 0, b, 0, 0])), c\n\t\t},\n\t\tarrowUp: function(a, b) {\n\t\t\tvar c = document.createElementNS(eqxiuSvg.NAMESPACE, \"polygon\");\n\t\t\treturn c.setAttribute(\"points\", eqxiuSvg.pointsToPolygon([.5 * a, 0, a, .5 * b, .7 * a, .5 * b, .7 * a, b, .3 * a, b, .3 * a, .5 * b, 0, .5 * b, .5 * a, 0])), c\n\t\t},\n\t\tarrowDown: function(a, b) {\n\t\t\tvar c = document.createElementNS(eqxiuSvg.NAMESPACE, \"polygon\");\n\t\t\treturn c.setAttribute(\"points\", eqxiuSvg.pointsToPolygon([.5 * a, b, a, .5 * b, .7 * a, .5 * b, .7 * a, 0, .3 * a, 0, .3 * a, .5 * b, 0, .5 * b, .5 * a, b])), c\n\t\t},\n\t\tarrowLeft: function(a, b) {\n\t\t\tvar c = document.createElementNS(eqxiuSvg.NAMESPACE, \"polygon\");\n\t\t\treturn c.setAttribute(\"points\", eqxiuSvg.pointsToPolygon([a, .3 * b, .5 * a, .3 * b, .5 * a, 0, 0, .5 * b, .5 * a, b, .5 * a, .7 * b, a, .7 * b, a, .3 * b])), c\n\t\t},\n\t\tarrowRight: function(a, b) {\n\t\t\tvar c = document.createElementNS(eqxiuSvg.NAMESPACE, \"polygon\");\n\t\t\treturn c.setAttribute(\"points\", eqxiuSvg.pointsToPolygon([0, .3 * b, .5 * a, .3 * b, .5 * a, 0, a, .5 * b, .5 * a, b, .5 * a, .7 * b, 0, .7 * b])), c\n\t\t},\n\t\tpolygon: function(a, b, c) {\n\t\t\tvar d = document.createElementNS(eqxiuSvg.NAMESPACE, \"polygon\"),\n\t\t\t\te = [];\n\t\t\tif (3 === c) e = [a / 2, 0, a, b, 0, b];\n\t\t\telse if (c > 3) for (var f = a / 2, g = b / 2, h = 0; c > h; h++) {\n\t\t\t\tvar i = f + f * Math.cos(2 * Math.PI * h / c),\n\t\t\t\t\tj = g + g * Math.sin(2 * Math.PI * h / c);\n\t\t\t\ti = Math.round(10 * i) / 10, j = Math.round(10 * j) / 10, e.push(i), e.push(j)\n\t\t\t}\n\t\t\treturn d.setAttribute(\"points\", eqxiuSvg.pointsToPolygon(e)), d\n\t\t}\n\t}\n}(), function(a, b) {\n\tfunction c(a) {\n\t\tfunction b(a, b, c) {\n\t\t\treturn a[b] || (a[b] = c())\n\t\t}\n\t\tvar c = b(a, \"eqShow\", Object);\n\t\treturn b(c, \"templateParser\", function() {\n\t\t\tvar a = {};\n\t\t\treturn function(c, d) {\n\t\t\t\tif (\"hasOwnProperty\" === c) throw new Error(\"hasOwnProperty is not a valid name\");\n\t\t\t\treturn d && a.hasOwnProperty(c) && (a[c] = null), b(a, c, d)\n\t\t\t}\n\t\t})\n\t}\n\tfunction d(b) {\n\t\ttemplateParser = c(a)\n\t}\n\tvar e = a.eqShow || (a.eqShow = {});\n\td(e)\n}(window, document), function() {\n\tvar a = !0,\n\t\tb = !0;\n\teqShow.playVideo = function(c) {\n\t\tif (c && c.bgAudio) {\n\t\t\tvar d = $(\"#media\"),\n\t\t\t\te = $(\"#audio_btn\"),\n\t\t\t\t//f = \"\";\n\t\t\t\tf = ($(\"#yinfu\"), \"\");\n\t\t\tc.bgAudio.url ? f = 0 === c.bgAudio.url.indexOf(\"http://\") ? c.bgAudio.url : PREFIX_FILE_HOST + c.bgAudio.url : !c.bgAudio.url && c.bgAudio.src && (f = 0 === c.bgAudio.src.indexOf(\"http://\") ? c.bgAudio.src : PREFIX_FILE_HOST + c.bgAudio.src), d.attr(\"src\", f), e.addClass(\"video_exist\"), d.bind(\"canplay\", function() {\n\t\t\t\td.get(0).play()\n\t\t\t}).bind(\"play\", function() {\n\t\t\t\te.addClass(\"rotate\")\n\t\t\t}).bind(\"pause\", function(a) {\n\t\t\t\te.removeClass(\"rotate\")\n\t\t\t});\n\t\t\tvar g = mobilecheck() ? \"touchend\" : \"click\";\n\t\t\t$(\"#audio_btn\").show().on(g, function(b) {\n\t\t\t\tb.cancelBubble = !0, b.stopPropagation(), $(this).hasClass(\"rotate\") ? (a = !1, d.get(0).pause()) : (d.get(0).play(), a = !0, utilSound.pause())\n\t\t\t})\n\t\t}\n\t\t$(\"#nr #page1\").on(\"mousedown touchstart\", function() {\n\t\t\tif (mobilecheck() && !isWeixin() && b) {\n\t\t\t\tvar a = $(\"#nr .z-current .m-img\"),\n\t\t\t\t\tc = parseInt(a.attr(\"id\").substring(4), 10);\n\t\t\t\tb && 1 === c && window.completeEffect(a) && (b = !1, window.scene.bgAudio && $(\"#media\").get(0).play())\n\t\t\t}\n\t\t})\n\t}, eqShow.executePlay = function() {\n\t\ta && $(\"#media\").get(0).play()\n\t}, eqShow.executePause = function() {\n\t\ta && $(\"#media\").get(0).pause()\n\t}\n}(), function(a) {\n\tfunction b(a) {\n\t\tvar b = document.getElementsByTagName(\"style\")[0];\n\t\tb || (b = document.createElement(\"style\"), head = document.head || document.getElementsByTagName(\"head\")[0], b.type = \"text/css\", head.appendChild(b));\n\t\tvar c = document.createTextNode(a);\n\t\tb.appendChild(c)\n\t}\n\tfunction c() {\n\t\tvar a = [{\n\t\t\tvalue: 1,\n\t\t\tpath: \"1.7 0.1 0.1 0 -0.287 0 1.7 0.1 0 -0.287 0 0.1 1.6 0 -0.287 0 0 0 1.0 0\"\n\t\t}, {\n\t\t\tvalue: 2,\n\t\t\tpath: \"2.1 -1.4 0.6 0.0 -0.12 -0.3 2.0 -0.3 0.0 -0.12 -1.1 -0.2 2.6 0.0 -0.12 0.0 0.0 0.0 1.0 0.0\"\n\t\t}, {\n\t\t\tvalue: 3,\n\t\t\tpath: \"1.9 -0.3 -0.2 0 -0.341 -0.2  1.7 -0.1  0 -0.341 -0.1 -0.6 2.0 0 -0.341 0 0 0 1.0 0\"\n\t\t}, {\n\t\t\tvalue: 4,\n\t\t\tpath: \"1.0 0.0 0.0 0.0 -0.26 0.0 1.1 0.0 0.0 -0.26 0.0 0.0 1.0 0.0 -0.26 0.0 0.0 0.0 1.0 0.0\"\n\t\t}, {\n\t\t\tvalue: 5,\n\t\t\tpath: \"1.2 0.0 0.0 0.0 0.0 0.0 0.9 0.0 0.0 0.0 0.0 0.0 0.8 0.0 0.0 0 0 0 1.0 0\"\n\t\t}, {\n\t\t\tvalue: 6,\n\t\t\tpath: \"0.8 0.3 0.1 0.0 0.182 0.1 0.9 0.0 0.0 0.182 0.1 0.3 0.7 0.0 0.182 0.0 0.0 0.0 1.0 0.0\"\n\t\t}, {\n\t\t\tvalue: 7,\n\t\t\tpath: \"0.9 0 0 0 0.255 0 0.9 0 0 0.255 0 0 0.9 0 0.255 0 0 0 1.0 0\"\n\t\t}, {\n\t\t\tvalue: 8,\n\t\t\tpath: \"0.6 0.3 0.1 0 0.28745 0.2 0.7 0.1 0 0.28745 0.2 0.3 0.4 0 0.28745 0 0 0 1.0 0\"\n\t\t}, {\n\t\t\tvalue: 9,\n\t\t\tpath: \"0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0 0 0 1.0 0\"\n\t\t}, {\n\t\t\tvalue: 10,\n\t\t\tpath: \"0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0 0 0 1 0\"\n\t\t}, {\n\t\t\tvalue: 11,\n\t\t\tpath: \"4.8 -1.0 -0.1 0 -1.523 -0.5 4.4 -0.1 0 -1.523 -0.5 -1.0 5.2 0 -1.523 0 0 0 1.0 0\"\n\t\t}];\n\t\treturn a\n\t}\n\tfunction d(a, b) {\n\t\tfor (var c = 0; c < a.length; c++) {\n\t\t\tvar d = [];\n\t\t\t$.each(b, function(b, e) {\n\t\t\t\tvar f, g = $(e).attr(\"style\");\n\t\t\t\tif (g) {\n\t\t\t\t\tfor (var h = g.split(\";\"), i = 0, j = h.length; j > i; i++) if (h[i].indexOf(\"fill:\") >= 0) {\n\t\t\t\t\t\tf = h[i].split(\":\")[1];\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t} else f = $(e).attr(\"fill\");\n\t\t\t\tf === a[c].svgFill && d.push(b)\n\t\t\t}), a[c].elements = d\n\t\t}\n\t\treturn a\n\t}\n\tfunction e(a, b, c, d) {\n\t\tvar e = {},\n\t\t\tf = a / b,\n\t\t\tg = c / d;\n\t\treturn f > g ? (e.width = c, e.height = c / f) : (e.height = d, e.width = d * f), e\n\t}\n\tfunction f(a, b, c) {\n\t\tvar d, e = a.properties.lineChart,\n\t\t\tf = [],\n\t\t\tg = \"\",\n\t\t\th = \"\",\n\t\t\ti = \"\",\n\t\t\tj = [],\n\t\t\tk = [],\n\t\t\tl = [],\n\t\t\tm = [],\n\t\t\tn = [];\n\t\tc.datasets.forEach(function(a) {\n\t\t\tm.push(a.strokeColor), n.push(a.fillColor)\n\t\t});\n\t\tfor (var o = 0; o < m.length; o++)\"line\" === e.chartType ? m[o] = e.fillColors[o] : n[o] = e.fillColors[o];\n\t\tfor (var p = e.segments, q = 0; q < p.length; q++) d = p[q], g = isNaN(d.value1) || d.value1 < 0 ? 0 : d.value1, h = isNaN(d.value2) || d.value2 < 0 ? 0 : d.value2, i = isNaN(d.value3) || d.value3 < 0 ? 0 : d.value3, (d.label || g || h || i) && (f.push(d.label), j.push(g), k.push(h), l.push(i));\n\t\tvar r = {\n\t\t\tlabels: f,\n\t\t\tdatasets: [{\n\t\t\t\tlabel: e.lengends[0],\n\t\t\t\tfillColor: n[0],\n\t\t\t\tstrokeColor: m[0],\n\t\t\t\tpointColor: m[0],\n\t\t\t\tpointStrokeColor: \"#fff\",\n\t\t\t\tdata: j\n\t\t\t}, {\n\t\t\t\tlabel: e.lengends[1],\n\t\t\t\tfillColor: n[1],\n\t\t\t\tstrokeColor: m[1],\n\t\t\t\tpointColor: m[1],\n\t\t\t\tpointStrokeColor: \"#fff\",\n\t\t\t\tdata: k\n\t\t\t}, {\n\t\t\t\tlabel: e.lengends[2],\n\t\t\t\tfillColor: n[2],\n\t\t\t\tstrokeColor: m[2],\n\t\t\t\tpointColor: m[2],\n\t\t\t\tpointStrokeColor: \"#fff\",\n\t\t\t\tdata: l\n\t\t\t}]\n\t\t},\n\t\t\ts = c.options;\n\t\treturn e.options && e.options.scaleFontColor && (s.scaleFontColor = e.options.scaleFontColor), c.destroy(), c = new Chart(b).Line(r, s), c.datasets.forEach(function(a) {\n\t\t\tvar b = !0;\n\t\t\ta.points.forEach(function(a) {\n\t\t\t\ta.value && (b = !1)\n\t\t\t}), b ? a.points.length = 0 : a.points.forEach(function(a) {\n\t\t\t\ta.value || (a.value = 0)\n\t\t\t})\n\t\t}), c.update(), c\n\t}\n\tfunction g(a, b, c) {\n\t\tfor (var d, e = c.options, f = a.properties.barChart, g = [], h = \"\", i = \"\", j = \"\", k = [], l = [], m = [], n = f.segments, o = 0; o < n.length; o++) {\n\t\t\tvar d = n[o];\n\t\t\th = isNaN(d.value1) || d.value1 < 0 ? \"\" : d.value1, i = isNaN(d.value2) || d.value2 < 0 ? \"\" : d.value2, j = isNaN(d.value3) || d.value3 < 0 ? \"\" : d.value3, (d.label || h || i || j) && (g.push(d.label), k.push(h), l.push(i), m.push(j))\n\t\t}\n\t\tvar p = {\n\t\t\tlabels: g,\n\t\t\tdatasets: [{\n\t\t\t\tfillColor: f.fillColors[0],\n\t\t\t\tstrokeColor: \"rgba(0,0,0,0)\",\n\t\t\t\tdata: k,\n\t\t\t\tlabel: f.lengends[0]\n\t\t\t}, {\n\t\t\t\tfillColor: f.fillColors[1],\n\t\t\t\tstrokeColor: \"rgba(0,0,0,0)\",\n\t\t\t\tdata: l,\n\t\t\t\tlabel: f.lengends[1]\n\t\t\t}, {\n\t\t\t\tfillColor: f.fillColors[2],\n\t\t\t\tstrokeColor: \"rgba(0,0,0,0)\",\n\t\t\t\tdata: m,\n\t\t\t\tlabel: f.lengends[2]\n\t\t\t}]\n\t\t};\n\t\treturn f.options && f.options.scaleFontColor && (e.scaleFontColor = f.options.scaleFontColor), c.destroy(), new Chart(b).Bar(p, e)\n\t}\n\tfunction h(a, b, c) {\n\t\tvar d = c.options,\n\t\t\te = \"#000\",\n\t\t\tf = a.properties.pieChart;\n\t\tf.options && f.options.scaleFontColor && (e = f.options.scaleFontColor), d.scaleFontColor = e, d.onAnimationComplete = function() {\n\t\t\tvar a = this.chart.ctx,\n\t\t\t\tb = this.segments;\n\t\t\ta.textAlign = \"start\", a.textBaseline = \"middle\";\n\t\t\tfor (var c = 0, d = 0; d < b.length; d++) c += parseFloat(b[d].value);\n\t\t\ta.fillText(c, a.width / 2 - 20, a.height / 2, 100);\n\t\t\tfor (var d = 0; d < b.length; d++) {\n\t\t\t\tvar f = b[d].startAngle + (b[d].endAngle - b[d].startAngle) / 2,\n\t\t\t\t\tg = (b[d].outerRadius - b[d].innerRadius) / 1.5 + b[d].innerRadius,\n\t\t\t\t\th = b[d].x + Math.cos(f) * g,\n\t\t\t\t\ti = b[d].y + Math.sin(f) * g;\n\t\t\t\ta.textAlign = \"center\", a.textBaseline = \"middle\", a.fillStyle = e, a.font = \"normal 12px Helvetica\", a.fillText(b[d].value, h, i)\n\t\t\t}\n\t\t};\n\t\tvar g = f;\n\t\tf.segments && (g = f.segments);\n\t\tfor (var h = 0; h < g.length; h++)(isNaN(g[h].value) || g[h].value < 0) && (g[h].value = \"\");\n\t\treturn c.destroy(), new Chart(b).Pie(g, d)\n\t}\n\tfunction i(a) {\n\t\tvar b = [{\n\t\t\tvalue: 300,\n\t\t\tcolor: \"#57c7d4\",\n\t\t\tlabel: \"1\"\n\t\t}, {\n\t\t\tvalue: 150,\n\t\t\tcolor: \"#3aa99e\",\n\t\t\tlabel: \"2\"\n\t\t}, {\n\t\t\tvalue: 100,\n\t\t\tcolor: \"#f2a654\",\n\t\t\tlabel: \"3\"\n\t\t}, {\n\t\t\tvalue: 140,\n\t\t\tcolor: \"#f96868\",\n\t\t\tlabel: \"4\"\n\t\t}, {\n\t\t\tvalue: 120,\n\t\t\tcolor: \"#926dde\",\n\t\t\tlabel: \"5\"\n\t\t}],\n\t\t\tc = {\n\t\t\t\tsegmentShowStroke: !1,\n\t\t\t\tshowTooltips: !1,\n\t\t\t\tscaleFontColor: \"#000\",\n\t\t\t\tlegendTemplate: '<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><%if(segments[i].label){%><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%=segments[i].label%><%}%></li><%}%></ul>',\n\t\t\t\tanimation: !1,\n\t\t\t\tonAnimationComplete: function() {\n\t\t\t\t\tvar a = this.chart.ctx,\n\t\t\t\t\t\tb = this.segments;\n\t\t\t\t\ta.textAlign = \"start\", a.textBaseline = \"middle\";\n\t\t\t\t\tfor (var c = 0, d = 0; d < b.length; d++) c += parseFloat(b[d].value);\n\t\t\t\t\ta.fillText(c, a.width / 2 - 20, a.height / 2, 100);\n\t\t\t\t\tfor (var d = 0; d < b.length; d++) {\n\t\t\t\t\t\tvar e = b[d].startAngle + (b[d].endAngle - b[d].startAngle) / 2,\n\t\t\t\t\t\t\tf = (b[d].outerRadius - b[d].innerRadius) / 1.5 + b[d].innerRadius,\n\t\t\t\t\t\t\tg = b[d].x + Math.cos(e) * f,\n\t\t\t\t\t\t\th = b[d].y + Math.sin(e) * f;\n\t\t\t\t\t\ta.textAlign = \"center\", a.textBaseline = \"middle\", a.fillStyle = \"#000\", a.font = \"normal 12px Helvetica\", a.fillText(b[d].value, g, h)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\td = new Chart(a).Pie(b, c);\n\t\treturn d\n\t}\n\tfunction j(a) {\n\t\tvar b = {\n\t\t\tlabels: [\"1\", \"2\", \"3\", \"4\", \"5\"],\n\t\t\tdatasets: [{\n\t\t\t\tfillColor: \"#62a8ea\",\n\t\t\t\tstrokeColor: \"rgba(0,0,0,0)\",\n\t\t\t\tdata: [60, 70, 80, 56, 40],\n\t\t\t\tlabel: \"1\"\n\t\t\t}, {\n\t\t\t\tfillColor: \"#926dde\",\n\t\t\t\tstrokeColor: \"rgba(0,0,0,0)\",\n\t\t\t\tdata: [80, 56, 40, 93, 112],\n\t\t\t\tlabel: \"2\"\n\t\t\t}, {\n\t\t\t\tfillColor: \"#f2a654\",\n\t\t\t\tstrokeColor: \"rgba(0,0,0,0)\",\n\t\t\t\tdata: [160, 86, 140, 123, 23],\n\t\t\t\tlabel: \"3\"\n\t\t\t}]\n\t\t},\n\t\t\tc = {\n\t\t\t\tshowTooltips: !1,\n\t\t\t\tscaleShowLabels: !0,\n\t\t\t\tscaleShowGridLines: !1,\n\t\t\t\tscaleBeginAtZero: !0,\n\t\t\t\tlegendTemplate: '<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style=\"background-color:<%=datasets[i].fillColor%>\"></span><%=datasets[i].label%><%}%></li><%}%></ul>',\n\t\t\t\tanimation: !1,\n\t\t\t\tonAnimationComplete: function() {\n\t\t\t\t\tvar a = this.chart.ctx;\n\t\t\t\t\ta.fillStyle = this.scale.textColor, a.font = \"normal 12px Helvetica\", a.textAlign = \"center\", a.textBaseline = \"bottom\", this.datasets.forEach(function(b) {\n\t\t\t\t\t\tb.bars.forEach(function(b) {\n\t\t\t\t\t\t\ta.fillText(b.value, b.x, b.y)\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\td = new Chart(a).Bar(b, c);\n\t\treturn d\n\t}\n\tfunction k(a, b) {\n\t\tvar c = [\"rgba(255,255,255,0)\", \"rgba(255,255,255,0)\", \"rgba(255,255,255,0)\"],\n\t\t\td = [\"rgba(146,109,222,1)\", \"rgba(87,199,212,1)\", \"rgba(242,166,84,1)\"],\n\t\t\te = !1,\n\t\t\tf = '<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style=\"background-color:<%=datasets[i].pointColor%>\"></span><%=datasets[i].label%><%}%></li><%}%></ul>';\n\t\t\"curve\" === b && (c = [\"rgba(146, 109, 222,0.2)\", \"rgba(87,199,212,0.2)\", \"rgba(242,166,84,0.2)\"], e = !0, f = '<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style=\"background-color:<%=datasets[i].fillColor%>\"></span><%=datasets[i].label%><%}%></li><%}%></ul>');\n\t\tvar g = {\n\t\t\tlabels: [\"1\", \"2\", \"3\", \"4\", \"5\"],\n\t\t\tdatasets: [{\n\t\t\t\tlabel: \"1\",\n\t\t\t\tfillColor: c[0],\n\t\t\t\tstrokeColor: d[0],\n\t\t\t\tpointColor: d[0],\n\t\t\t\tpointStrokeColor: \"#fff\",\n\t\t\t\tdata: [28, 24, 40, 19, 27]\n\t\t\t}, {\n\t\t\t\tlabel: \"2\",\n\t\t\t\tfillColor: c[1],\n\t\t\t\tstrokeColor: d[1],\n\t\t\t\tpointColor: d[1],\n\t\t\t\tpointStrokeColor: \"#fff\",\n\t\t\t\tdata: [123, 132, 146, 118, 189]\n\t\t\t}, {\n\t\t\t\tlabel: \"3\",\n\t\t\t\tfillColor: c[2],\n\t\t\t\tstrokeColor: d[2],\n\t\t\t\tpointColor: d[2],\n\t\t\t\tpointStrokeColor: \"#fff\",\n\t\t\t\tdata: [201, 232, 256, 215, 278]\n\t\t\t}]\n\t\t},\n\t\t\th = {\n\t\t\t\tshowTooltips: !1,\n\t\t\t\tscaleShowLabels: !0,\n\t\t\t\tscaleShowGridLines: !1,\n\t\t\t\tscaleBeginAtZero: !0,\n\t\t\t\tbezierCurve: e,\n\t\t\t\tlegendTemplate: f,\n\t\t\t\tanimation: !1,\n\t\t\t\tonAnimationComplete: function() {\n\t\t\t\t\tvar a = this.chart.ctx,\n\t\t\t\t\t\tb = this.scale.max;\n\t\t\t\t\ta.font = this.scale.font, a.fillStyle = this.scale.textColor, a.textAlign = \"center\", a.textBaseline = \"bottom\", this.datasets.forEach(function(c) {\n\t\t\t\t\t\tc.points.forEach(function(d, e) {\n\t\t\t\t\t\t\tvar f = 5;\n\t\t\t\t\t\t\tb - d.value < 10 && (f = 0), 0 === e ? a.fillText(d.value, d.x + 10, d.y - f) : e === c.points.length - 1 ? a.fillText(d.value, d.x - 10, d.y - f) : a.fillText(d.value, d.x, d.y - f)\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\ti = new Chart(a).Line(g, h);\n\t\treturn i\n\t}\n\tfunction l(a, b) {\n\t\t\"view\" === t.mode && b.properties.url && $(a).click(function() {\n\t\t\tvar a = b.properties.url;\n\t\t\tisNaN(a) ? window.open(a) : eqxiu.pageScroll(a)\n\t\t})\n\t}\n\tfunction m(a) {\n\t\t$(a).bind(\"touchstart mousedown\", function(a) {\n\t\t\ta.stopPropagation()\n\t\t})\n\t}\n\tfunction n(a) {\n\t\ta.focus(function() {\n\t\t\teqxiu.pauseAutoFlip()\n\t\t}).blur(function() {\n\t\t\t$(document).trigger(\"startAutoFlip\")\n\t\t})\n\t}\n\tfunction o(a) {\n\t\tfor (var b = $(a).find(\"a[data]\"), c = 0; c < b.length; c++) if (b[c] && \"view\" === t.mode) {\n\t\t\t$(b[c]).css(\"cursor\", \"pointer\");\n\t\t\tvar d = $(b[c]).attr(\"data\");\n\t\t\t!\n\t\t\tfunction(a) {\n\t\t\t\tb[c].removeAttribute(\"href\"), $(b[c]).click(function() {\n\t\t\t\t\teqxiu.pageScroll(a)\n\t\t\t\t})\n\t\t\t}(d)\n\t\t}\n\t}\n\tfunction p(b, c, d) {\n\t\tvar e = PREFIX_S1_URL + \"index.php?c=scenedata&a=getmsg&sceneId=\" + b;\n\t\td && (e += \"&lastTime=\" + d), e += \"&date=\" + (new Date).getTime(), $.ajax({\n\t\t\ttype: \"GET\",\n\t\t\turl: e,\n\t\t\tsuccess: function(b) {\n\t\t\t\tif (b.success) {\n\t\t\t\t\tfor (var d, e, f, g = document.createDocumentFragment(), h = b.list, i = 0; i < h.length; i++) e = h[i].url ? '<div class=\"headimg\" style=\"background-image:url(' + h[i].url + ')\"></div>' : '<div class=\"headimg headimg-bg\"><div class=\"logo-scale\"><em class=\"eqf-eqxiu\"></em></div></div>', d = $('<div class=\"record\">' + e + '<div class=\"name\">' + h[i].name + '</div><div class=\"mes\">' + h[i].content + '</div><div class=\"time\">' + a.DateFormit(h[i].createTime, \"MMDD\") + \"</div></div>\").get(0), g.appendChild(d);\n\t\t\t\t\t10 === h.length ? f = h[h.length - 1].createTime : 0 === h.length && (f = 0), d && g.appendChild(d), c(g, f)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\tfunction q(a, b) {\n\t\tif (b.trigger) {\n\t\t\tvar c = $(a);\n\t\t\tc.attr(\"data-event\", \"1120603\"), w && clearTimeout(w), b.trigger.sends && b.trigger.sends.length && $.each(b.trigger.sends, function(a, b) {\n\t\t\t\tc.bind(utilTrigger.getSendType(b.type).name, function() {\n\t\t\t\t\tw = setTimeout(function() {\n\t\t\t\t\t\t$.each(b.handles, function(a, b) {\n\t\t\t\t\t\t\tvar c = utilTrigger.getHandleType(b.type).name;\n\t\t\t\t\t\t\t$.each(b.ids, function(a, b) {\n\t\t\t\t\t\t\t\tvar d;\n\t\t\t\t\t\t\t\td = $(\"#inside_\" + b, \".phone-view\").length ? $(\"#inside_\" + b, \".phone-view\") : $(\"#inside_\" + b), d.trigger(c)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 1e3 * b.delay)\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\tfunction r(b, c) {\n\t\tif (c.sound) {\n\t\t\tvar d = $(b),\n\t\t\t\te = $(\"#media\").get(0);\n\t\t\t0 === c.sound.src.indexOf(\"http://\") ? c.sound.src = c.sound.src : c.sound.src = PREFIX_FILE_HOST + c.sound.src, utilSound.addAudio(b, c.sound.src), d.click(function() {\n\t\t\t\tutilSound.play(b, function() {\n\t\t\t\t\te && a.executePlay()\n\t\t\t\t}, function() {\n\t\t\t\t\te && a.executePause()\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\tvar t = a.templateParser(\"jsonParser\", function() {\n\t\tfunction a(a) {\n\t\t\treturn function(b, c) {\n\t\t\t\ta[b] = c\n\t\t\t}\n\t\t}\n\t\tfunction c(a, c) {\n\t\t\ttry {\n\t\t\t\tvar d = j[(\"\" + a.type).charAt(0)](a, c)\n\t\t\t} catch (e) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (d) {\n\t\t\t\tvar f = $('<li comp-drag comp-rotate class=\"comp-resize comp-rotate inside\" id=\"inside_' + a.id + '\" num=\"' + a.num + '\" ctype=\"' + a.type + '\"></li>'),\n\t\t\t\t\tg = (\"\" + a.type).charAt(0);\n\t\t\t\tif (\"3\" !== g && \"1\" !== g && f.attr(\"comp-resize\", \"\"), \"p\" === g ? f.removeAttr(\"comp-rotate\") : \"1\" === g ? f.removeAttr(\"comp-drag\") : \"2\" === g ? f.addClass(\"wsite-text\") : \"x\" === g ? f.addClass(\"show-text\") : \"4\" === g ? (a.properties.imgStyle && $(d).css(a.properties.imgStyle), f.addClass(\"wsite-image\")) : \"n\" === g ? f.addClass(\"wsite-image\") : \"h\" === g ? f.addClass(\"wsite-shape\") : \"5\" === g ? f.addClass(\"wsite-input\") : \"6\" === g ? f.addClass(\"wsite-button\") : \"8\" === g ? f.addClass(\"wsite-button\") : \"v\" === g ? f.addClass(\"wsite-video\") : \"b\" === g && (f.addClass(\"wsite-boards\"), f.attr(\"min-h\", 60), f.attr(\"min-w\", 230)), \"v\" === (\"\" + a.type).charAt(0) && f.addClass(\"wsite-video\"), a.properties && a.properties.lock && f.addClass(\"alock\"), f.mouseenter(function() {\n\t\t\t\t\t$(this).addClass(\"inside-hover\")\n\t\t\t\t}), f.mouseleave(function() {\n\t\t\t\t\t$(this).removeClass(\"inside-hover\")\n\t\t\t\t}), \"edit\" === t.mode || \"x\" !== (\"\" + a.type).charAt(0)) {\n\t\t\t\t\tvar h = $('<div class=\"element-box-contents\">'),\n\t\t\t\t\t\ti = $('<div class=\"element-box\">').append(h.append(d));\n\t\t\t\t\tf.append(i), \"5\" !== (\"\" + a.type).charAt(0) && \"6\" !== (\"\" + a.type).charAt(0) && \"r\" !== a.type && \"c\" !== a.type && \"a\" !== a.type && \"8\" !== a.type && \"l\" !== a.type && \"s\" !== a.type && \"i\" !== a.type && \"h\" !== a.type && \"z\" !== a.type || \"edit\" !== c || $(d).before($('<div class=\"element\" style=\"position: absolute; height: 100%; width: 100%;z-index: 1;\">'))\n\t\t\t\t}\n\t\t\t\tvar k, l = a.fonts || a.css.fontFamily || a.fontFamily;\n\t\t\t\tif (\"2\" === g || \"x\" === g) {\n\t\t\t\t\tfor (var m = a.content, n = /font-family:(.*?);/g, o = [], p = []; null !== (o = n.exec(m));) p.push(o[1].trim());\n\t\t\t\t\tif (1 !== p.length || \"defaultFont\" !== p[0] && \"moren\" !== p[0] || (l = null), l) {\n\t\t\t\t\t\tif (\"view\" === t.mode && a.css.fontFamily && window.scene && (window.scene.publishTime || !mobilecheck() && !tabletCheck() || (k = \"@font-face{font-family:\" + a.css.fontFamily + ';src: url(\"' + a.properties.localFontPath + '\") format(\"truetype\");}', b(k))), \"object\" == typeof l && l.constructor === Object) {\n\t\t\t\t\t\t\tif (!jQuery.isEmptyObject(l)) for (var q in l) u[q] || (\"edit\" === t.mode ? k = \"@font-face{font-family:\" + q + \";src: url(\" + PREFIX_FILE_HOST + l[q] + \") format(woff);}\" : window.scene && window.scene.publishTime && (k = \"@font-face{font-family:\" + q + ';src: url(\"' + PREFIX_S2_URL + \"fc/\" + q + \"_\" + a.sceneId + \"_\" + scene.publishTime + '.woff\") format(\"woff\");}'), b(k), u[q] = !0)\n\t\t\t\t\t\t} else u[l] || (\"edit\" === t.mode ? k = \"@font-face{font-family:\" + l + \";src: url(\" + PREFIX_FILE_HOST + a.preWoffPath + \") format(woff);}\" : window.scene && window.scene.publishTime && (k = \"@font-face{font-family:\" + l + ';src: url(\"' + PREFIX_S2_URL + \"fc/\" + l + \"_\" + a.sceneId + \"_\" + scene.publishTime + '.woff\") format(\"woff\");}'), b(k), u[l] = !0);\n\t\t\t\t\t\t\"edit\" === t.mode && localStorage.setItem(\"shoppingFontFamily\", JSON.stringify(u))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (a.css) {\n\t\t\t\t\tvar r = 320 - parseInt(a.css.left, 10);\n\t\t\t\t\tif (f.css({\n\t\t\t\t\t\twidth: r\n\t\t\t\t\t}), f.css({\n\t\t\t\t\t\twidth: a.css.width,\n\t\t\t\t\t\theight: a.css.height,\n\t\t\t\t\t\tleft: a.css.left,\n\t\t\t\t\t\ttop: a.css.top,\n\t\t\t\t\t\tzIndex: a.css.zIndex,\n\t\t\t\t\t\tbottom: a.css.bottom,\n\t\t\t\t\t\ttransform: a.css.transform\n\t\t\t\t\t}), (0 === a.css.boxShadowSize || \"\" + a.css.boxShadowSize == \"0\") && (a.css.boxShadow = \"0px 0px 0px rgba(0,0,0,0.5)\"), \"edit\" !== t.mode && \"x\" === (\"\" + a.type).charAt(0)) return f.append(d), f.find(\".element-box\").css({\n\t\t\t\t\t\tborderStyle: a.css.borderStyle,\n\t\t\t\t\t\tborderWidth: a.css.borderWidth,\n\t\t\t\t\t\tborderColor: a.css.borderColor,\n\t\t\t\t\t\tborderTopLeftRadius: a.css.borderTopLeftRadius,\n\t\t\t\t\t\tborderTopRightRadius: a.css.borderTopRightRadius,\n\t\t\t\t\t\tborderBottomRightRadius: a.css.borderBottomRightRadius,\n\t\t\t\t\t\tborderBottomLeftRadius: a.css.borderBottomLeftRadius,\n\t\t\t\t\t\tboxShadow: a.css.boxShadow,\n\t\t\t\t\t\tbackgroundColor: a.css.backgroundColor,\n\t\t\t\t\t\topacity: a.css.opacity,\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\toverflow: \"hidden\"\n\t\t\t\t\t}), f.find(\"img\").css({\n\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t}), f;\n\t\t\t\t\tisAndroid() && isWeixin() && \"\" + a.type == \"4\" && \"0px\" !== a.css.borderRadius && 0 === a.css.borderWidth && a.properties.anim && (a.css.borderWidth = 1, a.css.borderColor = \"rgba(0,0,0,0)\");\n\t\t\t\t\tvar s = $.extend(!0, {}, a.css);\n\t\t\t\t\tdelete s.fontFamily, i.css(s).css({\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\ttransform: \"none\"\n\t\t\t\t\t}), i.children(\".element-box-contents\").css({\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: \"100%\"\n\t\t\t\t\t}), \"4\" !== (\"\" + a.type).charAt(0) && \"n\" !== (\"\" + a.type).charAt(0) && \"p\" !== (\"\" + a.type).charAt(0) && \"h\" !== (\"\" + a.type).charAt(0) && \"t\" !== (\"\" + a.type).charAt(0) && \"z\" !== (\"\" + a.type).charAt(0) && $(d).css({\n\t\t\t\t\t\twidth: a.css.width,\n\t\t\t\t\t\theight: a.css.height\n\t\t\t\t\t}), (\"w01\" === a.type || \"w02\" === a.type) && $(d).css({\n\t\t\t\t\t\tlineHeight: a.css.height + \"px\"\n\t\t\t\t\t}), \"h\" === (\"\" + a.type).charAt(0) && ($(d).find(\"g\").length ? $(d).find(\"g\").attr(\"fill\", a.css.color) : $(d).children().attr(\"fill\", a.css.color), i.children(\".element-box-contents\").css(\"position\", \"relative\"))\n\t\t\t\t}\n\t\t\t\treturn f\n\t\t\t}\n\t\t}\n\t\tfunction d(a) {\n\t\t\tfor (var b = 0; b < a.length - 1; b++) for (var c = b + 1; c < a.length; c++) if (parseInt(a[b].css.zIndex, 10) > parseInt(a[c].css.zIndex, 10)) {\n\t\t\t\tvar d = a[b];\n\t\t\t\ta[b] = a[c], a[c] = d\n\t\t\t}\n\t\t\tfor (var e = 0; e < a.length; e++) a[e].css.zIndex = e + 1 + \"\";\n\t\t\treturn a\n\t\t}\n\t\tfunction e(a, b, e) {\n\t\t\tb = b.find(\".edit_area\");\n\t\t\tvar f, g = a.elements;\n\t\t\tif (g) for (g = d(g), f = 0; f < g.length; f++) if (g[f].sceneId = a.sceneId, \"\" + g[f].type == \"3\") {\n\t\t\t\tvar h = j[(\"\" + g[f].type).charAt(0)](g[f], b);\n\t\t\t\t\"edit\" === e && k[(\"\" + g[f].type).charAt(0)] && k[(\"\" + g[f].type).charAt(0)](h, g[f])\n\t\t\t} else {\n\t\t\t\tvar i = c(g[f], e);\n\t\t\t\tif (!i) continue;\n\t\t\t\tb.append(i);\n\t\t\t\tfor (var n = 0; n < m.length; n++) m[n](i, g[f], e);\n\t\t\t\tl[(\"\" + g[f].type).charAt(0)] && (l[(\"\" + g[f].type).charAt(0)](i, g[f]), \"edit\" !== e && (q(i, g[f]), r(i, g[f]))), \"edit\" === e && k[(\"\" + g[f].type).charAt(0)] && k[(\"\" + g[f].type).charAt(0)](i, g[f])\n\t\t\t}\n\t\t}\n\t\tfunction f() {\n\t\t\treturn k\n\t\t}\n\t\tfunction g() {\n\t\t\treturn j\n\t\t}\n\t\tfunction h(a) {\n\t\t\tm.push(a)\n\t\t}\n\t\tfunction i() {\n\t\t\treturn m\n\t\t}\n\t\tvar j = {},\n\t\t\tk = {},\n\t\t\tl = {},\n\t\t\tm = [],\n\t\t\tn = containerWidth = 320,\n\t\t\to = containerHeight = 486,\n\t\t\tp = 1,\n\t\t\ts = 1,\n\t\t\tv = {\n\t\t\t\tgetComponents: g,\n\t\t\t\tgetEventHandlers: f,\n\t\t\t\taddComponent: a(j),\n\t\t\t\tbindEditEvent: a(k),\n\t\t\t\tbindAfterRenderEvent: a(l),\n\t\t\t\taddInterceptor: h,\n\t\t\t\tgetInterceptors: i,\n\t\t\t\twrapComp: c,\n\t\t\t\tdisEvent: !1,\n\t\t\t\tmode: \"view\",\n\t\t\t\tparse: function(a) {\n\t\t\t\t\tvar b = $('<div class=\"edit_wrapper\" data-scene-id=\"' + a.def.sceneId + '\"><ul eqx-edit-destroy id=\"edit_area' + a.def.id + '\" paste-element class=\"edit_area weebly-content-area weebly-area-active\"></div>'),\n\t\t\t\t\t\tc = this.mode = a.mode;\n\t\t\t\t\tthis.def = a.def, a.disEvent && (this.disEvent = !0), \"view\" === c && tplCount++;\n\t\t\t\t\tvar d = $(a.appendTo);\n\t\t\t\t\treturn containerWidth = d.width(), containerHeight = d.height(), p = n / containerWidth, s = o / containerHeight, e(a.def, b.appendTo($(a.appendTo)), c)\n\t\t\t\t}\n\t\t\t};\n\t\treturn v\n\t});\n\tt.addInterceptor(function(a, b, c) {\n\t\teqxCommon.animation(a, b, c, t.def.properties)\n\t}), t.addComponent(\"1\", function(a) {\n\t\tvar b = document.createElement(\"div\");\n\t\tif (b.id = a.id, b.setAttribute(\"class\", \"element comp_title\"), a.content && (b.textContent = a.content), a.css) {\n\t\t\tvar c, d = a.css;\n\t\t\tfor (c in d) b.style[c] = d[c]\n\t\t}\n\t\tif (a.properties.labels) for (var e = a.properties.labels, f = 0; f < e.length; f++) $('<a class = \"label_content\" style = \"display: inline-block;\">').appendTo($(b)).html(e[f].title).css(e[f].color).css(\"width\", 100 / e.length + \"%\");\n\t\treturn b\n\t});\n\tvar u = {};\n\tt.addComponent(\"2\", function(a) {\n\t\tvar b = document.createElement(\"div\");\n\t\treturn b.id = a.id, b.setAttribute(\"ctype\", a.type), b.setAttribute(\"class\", \"element comp_paragraph editable-text\"), a.content && (a.properties.anim && a.properties.anim.length && \"typer\" === a.properties.anim[0].type && \"view\" === t.mode ? b.innerHTML = \"\" : b.innerHTML = a.content), b.style.cursor = \"default\", a.css.fontSize && (b.style.fontSize = a.css.fontSize + \"px\"), b\n\t}), t.addComponent(\"x\", function(a) {\n\t\tfunction b() {\n\t\t\tc = document.createElement(\"div\"), c.id = a.id, c.setAttribute(\"ctype\", a.type), c.setAttribute(\"class\", \"element comp_paragraph editable-text\"), a.content && (c.innerHTML = a.content), c.style.cursor = \"default\"\n\t\t}\n\t\tvar c;\n\t\treturn !mobilecheck() && window.top === window.self && $(\".create_left\").get(0) && (t.mode = \"edit\"), b(), c\n\t}), t.addComponent(\"3\", function(b, c) {\n\t\tvar d, e = document.createElement(\"div\");\n\t\tif (\"edit\" === t.mode ? (d = c ? c.parent(\".edit_wrapper\") : $(\"#nr .edit_wrapper\"), e.setAttribute(\"class\", \"wrapper-background\"), e.setAttribute(\"id\", b.id)) : \"view\" === t.mode && (d = c ? c.parent(\".edit_wrapper\") : $(\"#edit_area\" + t.def.id).parent(\".edit_wrapper\"), e.setAttribute(\"id\", \"wrapper-background\" + t.def.id)), 2 !== b.properties.croptype || \"edit\" === t.mode || t.def.istpl) {\n\t\t\tvar f = \"100%\";\n\t\t\t$(e).prependTo(d), 2 !== b.properties.croptype || t.def.istpl || (f = 486 * b.properties.pageLength + \"px\", $(e).parent().css(\"overflow\", \"visible\")), $(e).css({\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: f\n\t\t\t})\n\t\t}\n\t\tvar g, h = new Image;\n\t\tif (b.properties.imgSrc) {\n\t\t\tg = b.properties.imgSrc;\n\t\t\tvar i = /\\?imageMogr2/,\n\t\t\t\tj = /.svg/;\n\t\t\tif (a.isMobileApp() || j.test(g) || (g += i.test(g) ? \"\" : \"\"), 2 === b.properties.croptype && \"view\" === t.mode && !t.def.istpl) {\n\t\t\t\tvar k = \"\";\n\t\t\t\treturn k = /^http.*!/.test(g) ? \"url(\" + g + \")\" : \"url(\" + PREFIX_FILE_HOST + g + \")\", c.parent().css({\n\t\t\t\t\tbackgroundImage: k,\n\t\t\t\t\theight: 486 * (b.properties.pageLength - 1) + (mobilecheck() ? $(document).height() : 486) + \"px\"\n\t\t\t\t}), e\n\t\t\t}\n\t\t\t/^http.*!/.test(g) ? (h.src = g, e.style.backgroundImage = \"url(\" + g + \")\") : (h.src = PREFIX_FILE_HOST + g, e.style.backgroundImage = \"url(\" + PREFIX_FILE_HOST + g + \")\"), e.style.backgroundOrigin = \"element content-box\", e.style.backgroundSize = \"cover\", e.style.backgroundPosition = \"50% 50%\", b.effect && (\"scaleUp\" === b.effect.type ? $(e).css({\n\t\t\t\tanimation: \"scaleUp 7s ease 1s\",\n\t\t\t\t\"animation-fill-mode\": \"both\"\n\t\t\t}) : \"scaleDown\" === b.effect.type && $(e).css({\n\t\t\t\tanimation: \"scaleDown 7s ease 1s\",\n\t\t\t\t\"animation-fill-mode\": \"both\"\n\t\t\t}))\n\t\t} else b.properties.bgColor && (e.style.backgroundColor = b.properties.bgColor, b.properties.pageLength && \"edit\" === t.mode && $(e).css({\n\t\t\theight: 486 * b.properties.pageLength + \"px\"\n\t\t}).parent().css(\"overflow\", \"visible\"));\n\t\treturn e\n\t}), t.addComponent(\"4\", function(b) {\n\t\tvar d, e = new RegExp(a.getDomain(PREFIX_FILE_HOST)),\n\t\t\tf = /^http.*/.test(b.properties.originSrc) ? b.properties.originSrc : PREFIX_FILE_HOST + b.properties.originSrc;\n\t\ta.isMobileApp() || (f = f.replace(OLD_FILE_HOST, PREFIX_FILE_HOST));\n\t\tvar g = /\\?imageMogr2/,\n\t\t\th = /.svg/; \n\t\t\n\t\tif (e.test(f) && !h.test(f)) if (g.test(f)) f += \"/strip\";\n\t\telse {\n\t\t\tvar i = b.css;\n\t\t\tif (i) {\n\t\t\t\tvar j = parseInt(b.css.height, 10),\n\t\t\t\t\tk = parseInt(b.css.width, 10);\n\t\t\t\tf += 600 >= j && 600 >= k ? \"\" : \"\"\n\t\t\t} else f += \"?imageMogr2/strip\"\n\t\t}\n\t\tif (b.properties.filter) {\n\t\t\tif (b.properties.filter.type) {\n\t\t\t\tvar l = c(),\n\t\t\t\t\tm = l[b.properties.filter.type - 1];\n\t\t\t\td = document.createElement(\"div\");\n\t\t\t\tvar n;\n\t\t\t\tn = mobilecheck() ? '<svg width=\"100%\" height=\"100%\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><g><image width=\"100%\" height=\"100%\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"' + f + '\" filter=\"url(#' + b.id + ')\"></image><defs><filter id=\"' + b.id + '\"><feColorMatrix class=\"saturation\" color-interpolation-filters=\"sRGB\" type=\"matrix\" values=\"' + m.path + '\"></feColorMatrix></filter></defs></g></svg>' : '<svg width=\"100%\" height=\"100%\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><g><image width=\"100%\" height=\"100%\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"' + f + '\" filter=\"url(' + window.location.href + \"#\" + b.id + ')\"></image><defs><filter id=\"' + b.id + '\"><feColorMatrix class=\"saturation\" color-interpolation-filters=\"sRGB\" type=\"matrix\" values=\"' + m.path + '\"></feColorMatrix></filter></defs></g></svg>', d.innerHTML = n\n\t\t\t}\n\t\t} else d = document.createElement(\"img\"), d.id = b.id, d.setAttribute(\"ctype\", b.type), d.setAttribute(\"class\", \"element comp_image editable-image\"), d.src = f;\n\t\treturn \"\" + b.type == \"403\" && d.setAttribute(\"data-event\", \"1120611\"), \"\" + b.type == \"403\" && b.properties.wxSrc && isWeixin() && (d.style.display = \"none\"), d\n\t}), t.addComponent(\"h\", function(a) {\n\t\tvar b, c;\n\t\tif (a.properties.src) return b = document.createElementNS(eqxiuSvg.NAMESPACE, \"svg\"), b.setAttribute(\"class\", \"element svg-element\"), $.ajax({\n\t\t\ttype: \"GET\",\n\t\t\turl: PREFIX_FILE_HOST + a.properties.src,\n\t\t\tdataType: \"xml\",\n\t\t\tsuccess: function(c) {\n\t\t\t\tvar e = c.getElementsByTagName(\"svg\"),\n\t\t\t\t\tf = parseFloat($(e).attr(\"width\")),\n\t\t\t\t\tg = parseFloat($(e).attr(\"height\")),\n\t\t\t\t\th = $(e).find('[fill], [style*=\"fill\"]'),\n\t\t\t\t\ti = a.properties.items ? a.properties.items : [];\n\t\t\t\tif (a.properties.items) if (i[0].elements || (a.properties.items = d(i, h)), h.length === i.length) for (var j = 0; j < i.length; j++) h.eq(j).css({\n\t\t\t\t\tfill: i[j].fill\n\t\t\t\t});\n\t\t\t\telse $.each(h, function(a, b) {\n\t\t\t\t\tfor (var c = 0; c < i.length; c++) for (var d = i[c].elements, e = 0; e < d.length; e++) a === d[e] && (\"\" !== i[c].fill ? h.eq(a).css({\n\t\t\t\t\t\tfill: i[c].fill\n\t\t\t\t\t}) : h.eq(a).css({\n\t\t\t\t\t\tfill: \"none\"\n\t\t\t\t\t}))\n\t\t\t\t});\n\t\t\t\telse {\n\t\t\t\t\tvar k = [],\n\t\t\t\t\t\tl = {};\n\t\t\t\t\t$.each(h, function(a, b) {\n\t\t\t\t\t\tvar c = $(b).attr(\"style\");\n\t\t\t\t\t\tif (c) {\n\t\t\t\t\t\t\tfor (var d = c.split(\";\"), e = 0, f = d.length; f > e; e++) if (d[e].indexOf(\"fill:\") >= 0) {\n\t\t\t\t\t\t\t\tk.push(d[e].split(\":\")[1]);\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else k.push($(b).attr(\"fill\"))\n\t\t\t\t\t});\n\t\t\t\t\tfor (var m = 0; m < k.length; m++) l[k[m]] || (l[k[m]] = 1, \"none\" !== k[m] ? i.push({\n\t\t\t\t\t\tfill: k[m],\n\t\t\t\t\t\tsvgFill: k[m]\n\t\t\t\t\t}) : i.push({\n\t\t\t\t\t\tfill: \"\",\n\t\t\t\t\t\tsvgFill: \"none\"\n\t\t\t\t\t}));\n\t\t\t\t\ta.properties.items = d(i, h)\n\t\t\t\t}\n\t\t\t\tviewBoxVal = \"0 0 \" + f + \" \" + g;\n\t\t\t\tvar n = b.parentNode;\n\t\t\t\tn.removeChild(b), b = e[0], n.appendChild(b), b.setAttribute(\"viewBox\", viewBoxVal), b.setAttribute(\"preserveAspectRatio\", \"none\"), b.setAttribute(\"width\", \"100%\"), b.setAttribute(\"height\", \"100%\"), b.id = a.id, b.setAttribute(\"class\", \"element svg-element\")\n\t\t\t}\n\t\t}), b;\n\t\tif (a.properties.type.indexOf(\"symbol\") < 0) {\n\t\t\tvar b = document.createElementNS(eqxiuSvg.NAMESPACE, \"svg\");\n\t\t\treturn b.id = a.id, b.setAttribute(\"class\", \"element svg-element\"), b.setAttribute(\"xmlns\", eqxiuSvg.NAMESPACE), b.setAttribute(\"version\", \"1.1\"), b.setAttribute(\"width\", \"100%\"), b.setAttribute(\"height\", \"100%\"), b.setAttribute(\"preserveAspectRatio\", \"none\"), c = eqxiuSvg.ShapeFromType(a.properties.type), c.setAttribute(\"fill\", \"#555\"), b.appendChild(c), s = eqxiuSvg.boundingBox(c), viewBox = [Math.round(s.x) || 0, Math.round(s.y) || 0, Math.round(s.width) || 32, Math.round(s.height) || 32].join(\" \"), b.setAttribute(\"viewBox\", viewBox), b\n\t\t}\n\t\treturn b = document.createElement(\"div\"), c = eqxiuSvg.ShapeFromType(a.properties.type, 100, 100, a.id, a.css.color), b = '<svg id=\"' + a.id + '\" class=\"element svg-element\" ctype=\"' + a.type + '\" xmlns=\"' + eqxiuSvg.NAMESPACE + '\" version=\"1.1\" width=\"100%\" height=\"100%\" preserveAspectRatio=\"xMidYMid\" viewBox=\"' + a.properties.viewBox + '\">' + c + \"</svg>\"\n\t}), t.addComponent(\"v\", function(a) {\n\t\tvar b = document.createElement(\"a\");\n\t\treturn b.setAttribute(\"class\", \"element video_area\"), b.id = a.id, b.setAttribute(\"ctype\", a.type), a.properties.src && b.setAttribute(\"videourl\", a.properties.src), b\n\t}), t.addComponent(\"5\", function(a) {\n\t\tvar b = document.createElement(\"textarea\");\n\t\treturn b.id = a.id, b.setAttribute(\"ctype\", a.type), b.setAttribute(\"class\", \"element comp_input editable-text\"), b.setAttribute(\"maxlength\", \"300\"), a.properties.required && b.setAttribute(\"required\", a.properties.required), a.properties.placeholder && b.setAttribute(\"placeholder\", a.properties.placeholder), b.setAttribute(\"name\", \"eq[f_\" + a.id + \"]\"), b.style.width = \"100%\", b\n\t}), t.addComponent(\"r\", function(a) {\n\t\tvar b = $('<div class=\"element comp_radio editable-text\" id=\"' + a.id + '\"></div>');\n\t\tb.attr(\"ctype\", a.type), b.attr(\"required\", a.properties.required), b.attr(\"title\", a.title), b.attr(\"name\", \"eq[f_\" + a.id + \"]\");\n\t\tvar c = $('<div class=\"radio-title\">' + a.title + \"</div>\");\n\t\ta.properties.titleStyle && c.css(a.properties.titleStyle), b.append(c);\n\t\tvar d = $('<div class=\"options\"></div>'),\n\t\t\te = JSON.parse(a.choices);\n\t\treturn $.each(e.options, function(b, c) {\n\t\t\tvar f = $('<div class=\"option-group\"><label class=\"option-label\" for=\"' + (a.id + \"\" + (b + 1)) + '\" data-event=\"11208\"><input class=\"option\" id=\"' + (a.id + \"\" + (b + 1)) + '\" type=\"radio\" name=\"eq[f_' + a.id + ']\" value=\"' + c.id + '\" data-event=\"11208\">' + c.label + \"</label></div>\");\n\t\t\ta.properties.optionStyle && b < e.options.length - 1 && f.css(a.properties.optionStyle), d.append(f)\n\t\t}), b.append(d), b.width(\"100%\"), b.get(0)\n\t}), t.addComponent(\"c\", function(a) {\n\t\tvar b = $('<div class=\"element comp_radio editable-text\" id=\"' + a.id + '\"></div>');\n\t\tb.attr(\"ctype\", a.type), b.attr(\"required\", a.properties.required), b.attr(\"title\", a.title), b.attr(\"name\", \"eq[f_\" + a.id + \"]\");\n\t\tvar c = $('<div class=\"radio-title\">' + a.title + \"()</div>\");\n\t\ta.properties.titleStyle && c.css(a.properties.titleStyle), b.append(c);\n\t\tvar d = $('<div class=\"options\"></div>'),\n\t\t\te = JSON.parse(a.choices);\n\t\treturn $.each(e.options, function(b, c) {\n\t\t\tvar f = $('<div class=\"option-group\"><label class=\"option-label\" for=\"' + (a.id + \"\" + (b + 1)) + '\" data-event=\"11209\"><input class=\"option\" id=\"' + (a.id + \"\" + (b + 1)) + '\" type=\"checkbox\" name=\"eq[f_' + a.id + ']\" value=\"' + c.id + '\" data-event=\"11209\">' + c.label + \"</label></div>\");\n\t\t\ta.properties.optionStyle && b < e.options.length - 1 && f.css(a.properties.optionStyle), d.append(f)\n\t\t}), b.append(d), b.width(\"100%\"), b.get(0)\n\t}), t.addComponent(\"a\", function(a) {\n\t\tvar b = $('<div class=\"element comp_rating editable-text\" id=\"' + a.id + '\"></div>');\n\t\tb.attr(\"ctype\", a.type), b.attr(\"required\", a.properties.required), b.attr(\"title\", a.title), b.attr(\"name\", \"eq[f_\" + a.id + \"]\"), b.append($('<div class=\"rating-title\">' + a.title + \"</div>\"));\n\t\tfor (var c = $('<div class=\"rating-icons\"></div>'), d = 0; 5 > d; d++) c.append($('<i class=\"' + a.properties.icon + \"-line \" + a.properties.size + '\">').css(\"color\", a.properties.color));\n\t\treturn b.append(c), b.append($('<input type=\"hidden\" name=\"eq[f_' + a.id + ']\" value=\"\">')), b.width(\"100%\"), b.get(0)\n\t}), t.addComponent(\"p\", function(b) {\n\t\tif (b.properties && b.properties.children) {\n\t\t\tvar c = b.css.width,\n\t\t\t\td = b.css.height,\n\t\t\t\tf = $('<div id=\"' + b.id + '\" class=\"slider element\" ctype=\"' + b.type + '\"></div>');\n\t\t\tb.properties.bgColor && f.css(\"backgroundColor\", b.properties.bgColor);\n\t\t\tvar g = /\\?imageMogr2/,\n\t\t\t\th = /.svg/;\n\t\t\treturn $.each(b.properties.children, function(b, i) {\n\t\t\t\tvar j = e(i.width, i.height, c, d),\n\t\t\t\t\tk = i.src;\n\t\t\t\ta.isMobileApp() || h.test(k) || (k += g.test(k) ? \"\" : \"\");\n\t\t\t\tvar l = $('<img src=\"' + PREFIX_FILE_HOST + k + '\">');\n\t\t\t\tl.css({\n\t\t\t\t\tmargin: (d - j.height) / 2 + \"px \" + (c - j.width) / 2 + \"px\",\n\t\t\t\t\twidth: j.width,\n\t\t\t\t\theight: j.height\n\t\t\t\t}), f.append(l)\n\t\t\t}), utilPictures.deleteInterval(b.id), f.get(0)\n\t\t}\n\t}), t.addComponent(\"n\", function(a) {\n\t\tif (a.properties && a.properties.pics.length) {\n\t\t\tvar b = $('<div id=\"' + a.id + '\" class=\"random-event element comp_image editable-image\" ctype=\"' + a.type + '\"></div>');\n\t\t\ta.css.width || (a.css.width = \"180px\");\n\t\t\tvar c = 180 * parseInt(a.properties.pics[0].height, 10) / parseInt(a.properties.pics[0].width, 10);\n\t\t\treturn a.css.height || (a.css.height = c + \"px\"), $.each(a.properties.pics, function(a, c) {\n\t\t\t\tvar d = $('<img src=\"' + PREFIX_FILE_HOST + c.originSrc + '\">');\n\t\t\t\td.css({\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: \"100%\",\n\t\t\t\t\tdisplay: \"none\"\n\t\t\t\t}), 0 === a && (d.css({\n\t\t\t\t\tdisplay: \"block\"\n\t\t\t\t}), b.css({\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: \"100%\"\n\t\t\t\t})), b.append(d)\n\t\t\t}), b.get(0)\n\t\t}\n\t}), t.addComponent(\"6\", function(a) {\n\t\tvar b = document.createElement(\"button\");\n\t\tif (b.id = a.id, b.setAttribute(\"ctype\", a.type), b.setAttribute(\"class\", \"element comp_button editable-text\"), b.setAttribute(\"data-event\", \"11201\"), a.properties.title) {\n\t\t\tvar c = a.properties.title.replace(/ /g, \"&nbsp;\");\n\t\t\tb.innerHTML = c\n\t\t}\n\t\treturn b.style.width = \"100%\", b\n\t}), t.addComponent(\"8\", function(a) {\n\t\tvar b = document.createElement(\"a\");\n\t\tb.id = a.id, b.setAttribute(\"ctype\", a.type), b.setAttribute(\"class\", \"element comp_anchor editable-text\"), b.setAttribute(\"data-event\", \"1120602\");\n\t\tvar c = null;\n\t\treturn a.properties.imgSrc ? (c = $('<img style=\"width: 100%; height: 100%;\" src=\"' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '\"/>'), $(b).html(c), \"view\" === t.mode && $(b).attr(\"href\", \"tel:\" + a.properties.number)) : a.properties.title && (c = a.properties.title.replace(/ /g, \"&nbsp;\"), $(b).html(c), \"view\" === t.mode && $(b).attr(\"href\", \"tel:\" + a.properties.number)), b.style.cursor = \"default\", b.style.width = \"100%\", b\n\t}), t.addComponent(\"l\", function(a) {\n\t\tvar b = document.createElement(\"a\");\n\t\tb.id = a.id, b.setAttribute(\"ctype\", a.type), b.setAttribute(\"class\", \"element comp_anchor editable-text\"), b.setAttribute(\"data-event\", \"1120601\");\n\t\tvar c = null;\n\t\treturn a.properties.imgSrc ? (c = $('<img style=\"width: 100%; height: 100%;\" src=\"' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '\"/>'), $(b).html(c)) : a.properties.title && (c = a.properties.title.replace(/ /g, \"&nbsp;\"), $(b).html(c)), b.style.cursor = \"default\", b.style.width = \"100%\", b\n\t}), t.addComponent(\"s\", function(a) {\n\t\tvar b = document.createElement(\"a\");\n\t\tb.id = a.id, b.setAttribute(\"ctype\", a.type), b.setAttribute(\"class\", \"element comp_anchor editable-text\"), b.setAttribute(\"data-event\", \"1120604\");\n\t\tvar c = null;\n\t\treturn a.properties.imgSrc ? (c = $('<img style=\"width: 100%; height: 100%;\" src=\"' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '\"/>'), $(b).html(c)) : a.properties.title && (c = a.properties.title.replace(/ /g, \"&nbsp;\"), $(b).html(c)), b.style.cursor = \"default\", b.style.width = \"100%\", b\n\t}), t.addComponent(\"i\", function(b) {\n\t\tvar c = $('<div class=\"element comp_counter not-voted editable-text\" id=\"' + b.id + '\"></div>');\n\t\tc.attr(\"ctype\", b.type), c.attr(\"name\", \"eq[f_\" + b.id + \"]\"), c.addClass(b.properties.layout).addClass(b.properties.size);\n\t\tvar d = $('<div class=\"counter-container\"></div>');\n\t\tb.properties.imgSrc ? (d.append($('<img class=\"counter-elem counter-icon\" style=\"width: 115px; height: 115px; margin: 0 auto;\" src=\"' + (PREFIX_FILE_HOST + b.properties.imgSrc) + '\"/>')), d.attr(\"data-event\", \"1120609\")) : (d.append($('<i class=\"counter-elem counter-icon ' + b.properties.icon + '\">').css(\"color\", b.properties.color)), \"eqf-love\" === b.properties.icon ? d.attr(\"data-event\", \"1120605\") : \"eqf-good\" === b.properties.icon ? d.attr(\"data-event\", \"1120606\") : \"eqf-flower2\" === b.properties.icon ? d.attr(\"data-event\", \"1120607\") : \"eqf-vote\" === b.properties.icon && d.attr(\"data-event\", \"1120608\"));\n\t\tvar e = $('<span class=\"counter-elem counter-number\">0</span>').css(\"color\", b.properties.color);\n\t\tif (d.append(e), \"view\" === t.mode ? a.counterValues && a.counterValues.then(function(c) {\n\t\t\tvar d = c.map[b.id] || 0;\n\t\t\te.attr(\"data-counter-number\", d);\n\t\t\tvar f = a.fixedNum(d);\n\t\t\te.text(f)\n\t\t}) : c.removeClass(\"not-voted\"), c.width(\"100%\"), \"counter-tb\" === b.properties.layout) {\n\t\t\tvar f = 0;\n\t\t\tf = b.properties.imgSrc ? \"counter-l\" === b.properties.size ? 77 : \"counter-m\" === b.properties.size ? 71 : 66 : \"counter-l\" === b.properties.size ? 40 : \"counter-m\" === b.properties.size ? 30 : 20, d.css(\"margin-top\", -f)\n\t\t}\n\t\treturn \"edit\" !== t.mode && setTimeout(function() {\n\t\t\tvar a = {\n\t\t\t\twidth: \"auto\",\n\t\t\t\t\"min-width\": b.css.width\n\t\t\t};\n\t\t\tc.css(a), c.parents(\"li.comp-resize\").css(a)\n\t\t}, 100), c.append(d), b.css.lineHeight && c.css(\"line-height\", b.css.lineHeight), c.get(0)\n\t}), t.addComponent(\"d\", function(b) {\n\t\tvar c = $('<div class=\"element comp_counter editable-text\" id=\"' + b.id + '\"></div>');\n\t\tc.attr(\"ctype\", b.type), c.addClass(b.properties.layout).addClass(b.properties.size);\n\t\tvar d = $('<div class=\"counter-container\"></div>');\n\t\td.append($('<i class=\"counter-elem counter-icon ' + b.properties.icon + '\">').css(\"color\", b.properties.color));\n\t\tvar e = $('<span class=\"counter-elem counter-number\">0</span>').css(\"color\", b.properties.color);\n\t\tif (d.append(e), \"view\" === t.mode && a.showCount && a.showCount.then(function(b) {\n\t\t\tvar c = a.fixedNum(b),\n\t\t\t\td = c || 0;\n\t\t\te.text(d)\n\t\t}), c.width(\"100%\"), \"counter-tb\" === b.properties.layout) {\n\t\t\tvar f = 0;\n\t\t\tf = \"counter-l\" === b.properties.size ? 40 : \"counter-m\" === b.properties.size ? 30 : 20, d.css(\"margin-top\", -f)\n\t\t}\n\t\treturn c.append(d), b.css.lineHeight && c.css(\"line-height\", b.css.lineHeight), c.get(0)\n\t}), t.addComponent(\"7\", function(a) {\n\t\tvar b = document.createElement(\"div\");\n\t\tif (b.id = \"map_\" + a.id, b.setAttribute(\"class\", \"element comp_map_wrapper\"), a.content && (b.textContent = a.content), a.css) {\n\t\t\tvar c, d = a.css;\n\t\t\tfor (c in d) b.style[c] = d[c]\n\t\t}\n\t\treturn b.style.height = \"250px\", b\n\t}), t.addComponent(\"m\", function(a) {\n\t\tvar b, c, d = new qq.maps.LatLng(a.properties.lat ? a.properties.lat : 39.916527, a.properties.lng ? a.properties.lng : 116.397128);\n\t\tb = document.createElement(\"div\"), b.id = a.id, b.setAttribute(\"ctype\", a.type), b.setAttribute(\"class\", \"element\"), \"edit\" === t.mode ? c = {\n\t\t\tdraggable: !1,\n\t\t\tscrollwheel: !1,\n\t\t\tdisableDoubleClickZoom: !0,\n\t\t\tdisableDefaultUI: !0,\n\t\t\tcenter: d,\n\t\t\tzoom: a.properties.zoom ? a.properties.zoom : 11\n\t\t} : (c = {\n\t\t\tdisableDefaultUI: !0,\n\t\t\tcenter: d,\n\t\t\tzoom: a.properties.zoom ? a.properties.zoom : 11\n\t\t}, $(b).on(\"mousedown mousemove mouseup mouseleave touchstart touchmove touchend\", function(a) {\n\t\t\ta.stopPropagation()\n\t\t}));\n\t\tvar e = new qq.maps.Map(b, c);\n\t\tif (\"edit\" === t.mode && $(b).data(\"map\", e), a.content && \"\" !== a.content) {\n\t\t\tvar f = new qq.maps.Label({\n\t\t\t\tposition: d,\n\t\t\t\tmap: e,\n\t\t\t\tcontent: a.content\n\t\t\t});\n\t\t\t\"edit\" === t.mode && $(b).data(\"label\", f)\n\t\t}\n\t\tvar g = new qq.maps.Point(25, 5),\n\t\t\th = new qq.maps.Size(34, 34),\n\t\t\ti = new qq.maps.Point(0, 0),\n\t\t\tj = new qq.maps.MarkerImage(PREFIX_HOST + \"/assets/images/marker.png\", h, i, g),\n\t\t\tk = new qq.maps.Marker({\n\t\t\t\tmap: e,\n\t\t\t\tposition: e.getCenter()\n\t\t\t});\n\t\treturn k.setIcon(j), $(b).data(\"marker\", k), b\n\t}), t.addComponent(\"w\", function(a) {\n\t\tvar b, c = document.createElement(\"a\");\n\t\treturn \"\" + a.type == \"w01\" ? (b = \"element comp_wechat_play\", c.innerHTML = '<span style=\"font-size:16px;\" class=\"eqf-nosy\"></span>') : \"\" + a.type == \"w02\" && (b = \"element comp_wechat_hear\", c.innerHTML = a.properties.title, c.setAttribute(\"data-event\", \"1120612\")), c.id = a.id, c.setAttribute(\"class\", b), c.setAttribute(\"ctype\", a.type), c\n\t}), t.addComponent(\"t\", function(a) {\n\t\tvar b = $('<div class=\"create-chart\" id=\"chart-' + a.id + '\"></div>'),\n\t\t\tc = document.createElement(\"h5\");\n\t\tc.setAttribute(\"class\", \"chart-title\"), b.append(c);\n\t\tvar d = document.createElement(\"canvas\");\n\t\td.id = a.id, d.setAttribute(\"ctype\", a.type), b.append(d);\n\t\tvar e = document.createElement(\"div\");\n\t\te.id = \"legend-\" + a.id, b.append(e);\n\t\tvar l, m = a.properties.chartType,\n\t\t\tn = d.getContext(\"2d\"),\n\t\t\to = v(n);\n\t\tif (mobilecheck() && o > 1) {\n\t\t\tvar p = parseFloat(a.css.width),\n\t\t\t\tq = parseFloat(a.css.height) / 2;\n\t\t\td.width = p, d.height = q, d.style.width = p / o + \"px\", d.style.height = q / o + \"px\", n.scale(o, o)\n\t\t}\n\t\t\"pie\" === m ? (l = i(n), \"edit\" === t.mode && $(d).data(\"pieChart\", l)) : \"bar\" === m ? (l = j(n), \"edit\" === t.mode && $(d).data(\"barChart\", l)) : (\"line\" === m || \"curve\" === m) && (l = k(n, m), \"edit\" === t.mode && $(d).data(\"lineChart\", l)), a.properties.chartTitle && (c.innerHTML = a.properties.chartTitle), \"pie\" === m && a.properties.pieChart && (l = h(a, n, l), $(d).data(\"pieChart\", l)), \"bar\" === m && a.properties.barChart && (l = g(a, n, l), $(d).data(\"barChart\", l)), \"line\" !== m && \"curve\" !== m || !a.properties.lineChart || (l = f(a, n, l), $(d).data(\"lineChart\", l)), e.innerHTML = l.generateLegend();\n\t\tvar r = a.properties.legPosition;\n\t\treturn \"position-align\" === r ? $(e).addClass(\"position-align\") : \"position-right\" === r ? $(e).addClass(\"position-right\") : \"position-none\" === r && $(e).addClass(\"position-none\"), mobilecheck() || ($(d).attr(\"width\") && ($(d).removeAttr(\"width\"), $(d).css(\"width\", \"100%\")), $(d).attr(\"height\") && ($(d).removeAttr(\"height\"), $(d).css(\"height\", \"50%\")), l.update()), b.get(0)\n\t});\n\tvar v = function(a) {\n\t\t\tvar b = a.webkitBackingStorePixelRatio || a.mozBackingStorePixelRatio || a.msBackingStorePixelRatio || a.oBackingStorePixelRatio || a.backingStorePixelRatio || 1,\n\t\t\t\tc = (window.devicePixelRatio || 1) / b;\n\t\t\treturn c\n\t\t};\n\tt.addComponent(\"z\", function(a) {\n\t\tvar b = $('<div style=\"width:100%;height:100%\" id=\"' + a.id + '\"></div>');\n\t\tb.attr(\"ctype\", a.type), b.attr(\"required\", a.required);\n\t\tvar c = $('<button type=\"button\" class=\"btn dropdown-toggle btn-default\" style=\"width:100%;height:100%;background-color:#ffffff;color:#666;padding-top: 0px;border: 1px solid rgb(8,161,239);font-family: Open Sans, sans-serif;font-weight: 400;font-size: 16px;border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;position:absolute;top:0px;left:0px;pointer-events:none;padding-bottom: 0px;padding-right:0px;padding-left:0px;overflow: hidden\" data-toggle=\"dropdown\" title=\"Nothing selected\" aria-expanded=\"false\"><span class=\"filter-option pull-left\" style=\"margin-left: 8px;float:left;width:calc(100% - 42px);width:-moz-calc(100% - 42px);width:-webkit-calc(100% - 42px);overflow:hidden;text-align: left;\" id=\"selectButton' + a.id + '\">' + a.showText + '</span>&nbsp;<span class=\"bs-caret\" style=\"float:right;margin-right:10px;\"><span class=\"caret\" style=\"display: inline-block;width: 0px;height: 0px;vertical-align: middle;border-top:4px dashed;border-right: 4px solid transparent;border-left: 4px solid transparent;margin-left: 0px;\"></span></span></button>');\n\t\tb.append(c);\n\t\tvar d = JSON.parse(a.choices).options,\n\t\t\te = $('<select style=\"width:100%;height:100%; \" name=\"eq[f_' + a.id + ']\"></select>');\n\t\te.attr(\"ctype\", a.type), e.attr(\"data-event\", \"11210\");\n\t\tvar f = null,\n\t\t\tg = 0;\n\t\treturn f = a.placeholderText === a.showText ? $('<option value=\"' + a.placeholderText + '\" selected>' + a.placeholderText + \"</option>\") : $('<option value=\"' + a.placeholderText + '\">' + a.placeholderText + \"</option>\"), e.append(f), $.each(d, function(b, c) {\n\t\t\tc.label === a.showText ? (g++, f = $('<option value=\"' + c.label + '\" selected>' + c.label + \"</option>\")) : f = $('<option value=\"' + c.label + '\">' + c.label + \"</option>\"), e.append(f)\n\t\t}), $(e).change(function() {\n\t\t\t$(\"#selectButton\" + a.id).text($(e).val())\n\t\t}), b.append(e), b\n\t}), t.addComponent(\"b\", function(a) {\n\t\tvar b, c, d = document.createElement(\"div\"),\n\t\t\te = document.createDocumentFragment(),\n\t\t\tf = $('<div class=\"tool\"><a class=\"replay\">' + a.properties.meslabel + '</a><a class=\"more\">' + a.properties.morelabel + \"</a></div>\").get(0);\n\t\tif (e.appendChild(f), \"view\" !== t.mode || t.disEvent) {\n\t\t\tb = [{\n\t\t\t\tmes: \"~\",\n\t\t\t\tname: \"\",\n\t\t\t\ttime: \"21 13:00\"\n\t\t\t}, {\n\t\t\t\tmes: \"~\",\n\t\t\t\tname: \"\",\n\t\t\t\ttime: \"21 12:58\"\n\t\t\t}, {\n\t\t\t\tmes: \"~\",\n\t\t\t\tname: \"\",\n\t\t\t\ttime: \"21 12:55\"\n\t\t\t}];\n\t\t\tfor (var g = 0; g < b.length; g++) c = $('<div class=\"record\"><div class=\"headimg headimg-bg\"><div class=\"logo\"><em class=\"eqf-logo\"></em></div></div><div class=\"name\">' + b[g].name + '</div><div class=\"mes\">' + b[g].mes + '</div><div class=\"time\">' + b[g].time + \"</div></div>\").get(0), e.appendChild(c)\n\t\t} else p(a.sceneId, function(b, c) {\n\t\t\tif (0 === c) {\n\t\t\t\tvar e = $('<div class=\"empty-boards\"><image style=\"margin-top:-20px;\" src=\"' + CLIENT_CDN + \"view/images/\" + a.properties.style + '_boards.png\" /></div>').get(0);\n\t\t\t\td.appendChild(e)\n\t\t\t} else d.appendChild(b)\n\t\t});\n\t\treturn d.appendChild(e), d.id = a.id, d.setAttribute(\"class\", \"element boards-\" + a.properties.style), d.setAttribute(\"ctype\", a.type), d\n\t}), t.addComponent(\"g\", function(a, b) {\n\t\tvar c = document.createElement(\"div\");\n\t\treturn \"edit\" === b && $('<div class=\"over-ele\"></div><div class=\"ad-contain\"></div>').appendTo(c), a.content && (\"edit\" === b ? $(c).find(\".ad-contain\").append($(a.content)) : ($(a.content).appendTo(c), a.css.zIndex = 1e5)), c.id = a.id, c.setAttribute(\"class\", \"element\"), c.setAttribute(\"ctype\", a.type), c\n\t}), t.bindAfterRenderEvent(\"8\", function(a, b) {\n\t\ta = $(\"a\", a)[0];\n\t\tvar c = {\n\t\t\tid: b.sceneId,\n\t\t\tnum: b.properties.number\n\t\t};\n\t\tif (\"view\" === t.mode) {\n\t\t\tvar d = function() {\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\tcache: !0,\n\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\turl: PREFIX_S1_URL + \"eqs/dial\",\n\t\t\t\t\t\tdata: $.param(c),\n\t\t\t\t\t\tasync: !1,\n\t\t\t\t\t\terror: function() {\n\t\t\t\t\t\t\t//alert(\"Connection error\")\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\ta.addEventListener(\"click\", d)\n\t\t}\n\t}), t.bindAfterRenderEvent(\"l\", function(a, b) {\n\t\tif (a = $(\"a\", a)[0], \"view\" === t.mode) {\n\t\t\tvar c = b.properties.url;\n\t\t\t$(a).click(function() {\n\t\t\t\tisNaN(c) ? window.open(c) : eqxiu.pageScroll(c)\n\t\t\t})\n\t\t}\n\t}), t.bindAfterRenderEvent(\"i\", function(b, c) {\n\t\tif (\"view\" === t.mode && !t.disEvent) {\n\t\t\tvar d = $(b).find(\".comp_counter\");\n\t\t\td.click(function() {\n\t\t\t\tvar e = {\n\t\t\t\t\tsceneId: c.sceneId,\n\t\t\t\t\tfieldId: c.id\n\t\t\t\t},\n\t\t\t\t\tf = $(b);\n\t\t\t\t$.ajax({\n\t\t\t\t\tcache: !0,\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\turl: PREFIX_S1_URL + \"index.php?c=scene&a=counterset\",\n\t\t\t\t\tdata: $.param(e),\n\t\t\t\t\tasync: !1,\n\t\t\t\t\terror: function() {\n\t\t\t\t\t\talert(\"Connection error\")\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\td.unbind(\"click\"), f.find(\".comp_counter\").removeClass(\"not-voted\");\n\t\t\t\t\t\tvar b = $(\".counter-number\", f),\n\t\t\t\t\t\t\tc = (parseInt(b.attr(\"data-counter-number\"), 10) || 0) + 1;\n\t\t\t\t\t\tb.attr(\"data-counter-number\", c);\n\t\t\t\t\t\tvar e = a.fixedNum(c);\n\t\t\t\t\t\t$(\".counter-number\", f).text(e)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}), t.bindAfterRenderEvent(\"4\", function(a, b) {\n\t\t\"view\" === t.mode && (\"\" + b.type == \"4\" ? ($(a).attr(\"data-event\", \"1120601\"), l(a, b)) : \"\" + b.type == \"403\" && a.on(\"click\", function() {\n\t\t\treturn isWeixin() ? void $(document).trigger(\"wx.img.upload\", b.id) : void alert(\"\")\n\t\t}))\n\t}), t.bindAfterRenderEvent(\"x\", function(a, b) {\n\t\tl(a, b)\n\t}), t.bindAfterRenderEvent(\"h\", function(a, b) {\n\t\t$(a).attr(\"data-event\", \"1120601\"), l(a, b)\n\t}), t.bindAfterRenderEvent(\"5\", function(a, b) {\n\t\tvar c = mobilecheck();\n\t\tm($(a).find(\"textarea\")), n($(a).find(\"textarea\")), \"view\" === t.mode && c && parseFloat(b.css.top) >= 200 && ($(a).find(\"textarea\").focus(function() {\n\t\t\t$(a).closest(\".edit_area\").css({\n\t\t\t\ttop: \"-150px\"\n\t\t\t})\n\t\t}), $(a).find(\"textarea\").blur(function() {\n\t\t\t$(a).closest(\".edit_area\").css({\n\t\t\t\ttop: 0\n\t\t\t})\n\t\t}))\n\t}), t.bindAfterRenderEvent(\"r\", function(a) {\n\t\t\"view\" === t.mode && m($(a).find(\"label\"))\n\t}), t.bindAfterRenderEvent(\"c\", function(a) {\n\t\t\"view\" === t.mode && m($(a).find(\"label\"))\n\t}), t.bindAfterRenderEvent(\"v\", function(a, b) {\n\t\t\"view\" === t.mode && $(a).click(function() {\n\t\t\t$(a).hide(), $(\"#audio_btn\").hasClass(\"video_exist\") && ($(\"#audio_btn\").hide(), $(\"#media\")[0].pause()), utilSound.pause(), $('<div class=\"video_mask page_effect lock\" id=\"mask_' + b.id + '\"></div>').appendTo($(a).closest(\".m-img\")), $('<a class = \"close_mask eqf-wrong\" id=\"close_' + b.id + '\"></a>').appendTo($(a).closest(\".m-img\")), $(b.properties.src).appendTo($(\"#mask_\" + b.id)).attr(\"style\", \"position: absolute;top:0; min-height: 45%; max-height: 100%; top: 20%;\").attr(\"width\", \"100%\").removeAttr(\"height\"), $(\"#close_\" + b.id).bind(\"click\", function() {\n\t\t\t\t$(a).show(), $(\"#mask_\" + b.id).remove(), $(\"#close_\" + b.id).remove(), $(\"#audio_btn\").hasClass(\"video_exist\") && $(\"#audio_btn\").show(function() {\n\t\t\t\t\t$(\"#media\")[0].play()\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t}), t.bindAfterRenderEvent(\"2\", function(a, b) {\n\t\to(a), l(a, b)\n\t}), t.bindAfterRenderEvent(\"6\", function(b, c) {\n\t\tif (b = $(\"button\", b)[0], \"view\" === t.mode) {\n\t\t\tvar d = {\n\t\t\t\tREQUIRED: \"\",\n\t\t\t\tWRONG_PHONE_NUMBER_FORMAT: \"\",\n\t\t\t\tWRONG_EMAIL_FORMAT: \"\",\n\t\t\t\tFILL_OUT_THE_FORM: \"\",\n\t\t\t\tDUPLICATED_SUBMISSION: \"\",\n\t\t\t\tTHANKS_FOR_PARTICIPATION: \"\"\n\t\t\t},\n\t\t\t\te = function(a, b, e) {\n\t\t\t\t\tvar f = !0,\n\t\t\t\t\t\tg = {};\n\t\t\t\t\tif ($(\"textarea\", e).each(function() {\n\t\t\t\t\t\tif (f) {\n\t\t\t\t\t\t\tif (\"required\" === $(this).attr(\"required\") && \"\" === $(this).val().trim()) return alert($(this).attr(\"placeholder\") + d.REQUIRED), void(f = !1);\n\t\t\t\t\t\t\tif (\"502\" === $(this).attr(\"ctype\") && \"\" !== $(this).val().trim()) {\n\t\t\t\t\t\t\t\tvar a = new RegExp(/^\\d{3,15}$/);\n\t\t\t\t\t\t\t\tif (!a.test($(this).val())) return alert(\"3-15\"), void(f = !1)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (\"503\" === $(this).attr(\"ctype\") && \"\" !== $(this).val().trim()) {\n\t\t\t\t\t\t\t\tvar b = new RegExp(/^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/g);\n\t\t\t\t\t\t\t\tif (!b.test($(this).val())) return alert(\"\"), void(f = !1)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tg[$(this).attr(\"name\")] = $(this).val()\n\t\t\t\t\t\t}\n\t\t\t\t\t}), $(\"input:checked\", e).each(function() {\n\t\t\t\t\t\tvar a = $(this);\n\t\t\t\t\t\tg[a.attr(\"name\")] ? g[a.attr(\"name\")] += \",\" + a.val() : g[a.attr(\"name\")] = a.val()\n\t\t\t\t\t}), $('.comp_radio[required=\"required\"]', e).each(function() {\n\t\t\t\t\t\tvar a = $(this);\n\t\t\t\t\t\tg[a.attr(\"name\")] || (alert(a.attr(\"title\") + d.REQUIRED), f = !1)\n\t\t\t\t\t}), $('input[type=\"hidden\"]', e).each(function() {\n\t\t\t\t\t\tg[$(this).attr(\"name\")] = $(this).val()\n\t\t\t\t\t}), $('.comp_rating[required=\"required\"]', e).each(function() {\n\t\t\t\t\t\tvar a = $(this);\n\t\t\t\t\t\tg[a.attr(\"name\")] && \"\" + g[a.attr(\"name\")] != \"0\" || (alert(a.attr(\"title\") + \"\"), f = !1)\n\t\t\t\t\t}), f) {\n\t\t\t\t\t\tvar h = !1;\n\t\t\t\t\t\tif ($.isEmptyObject(g)) return void(h = !0);\n\t\t\t\t\t\tfor (var i in g) if (\"\" !== g[i]) {\n\t\t\t\t\t\t\th = !0;\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!h) return void alert(\"\");\n\t\t\t\t\t\t$(\"select\", e).each(function() {\n\t\t\t\t\t\t\tvar a = $(this).attr(\"name\").substring(5, $(this).attr(\"name\").length - 1),\n\t\t\t\t\t\t\t\tb = $(this).find(\"option:first\").val(),\n\t\t\t\t\t\t\t\tc = $(this).val();\n\t\t\t\t\t\t\tif (\"required\" === $(\"#\" + a).attr(\"required\")) {\n\t\t\t\t\t\t\t\tif (b === c) return alert(\"\"), void(f = !1)\n\t\t\t\t\t\t\t} else b === c && $(this).val(null);\n\t\t\t\t\t\t\tg[$(this).attr(\"name\")] = $(this).val()\n\t\t\t\t\t\t}), f && $.ajax({\n\t\t\t\t\t\t\tcache: !0,\n\t\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\t\turl: PREFIX_S1_URL + \"index.php?c=scenedata&a=add&id=\" + b,\n\t\t\t\t\t\t\tdata: $.param(g),\n\t\t\t\t\t\t\tasync: !1,\n\t\t\t\t\t\t\terror: function() {\n\t\t\t\t\t\t\t\talert(\"Connection error\")\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t$(a).unbind(\"click\").click(function() {\n\t\t\t\t\t\t\t\t\talert(\"\")\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvar b;\n\t\t\t\t\t\t\t\tc.properties.layout || (c.properties.layout = \"rating-l\", c.properties.text = \"\"), c.properties.text.trim() || \"rating-l\" !== c.properties.layout ? (\"rating-m\" === c.properties.layout && (b = c.properties.checkedLink ? '<div class=\"feedback-box\"><div class=\"feedback-form\"><img src = \"' + (PREFIX_FILE_HOST + c.properties.imgSrc) + '\"/><a href=\"' + c.properties.link + '\" style=\"margin-top:20px;\"><span>' + c.properties.text + '</span></a><button class=\"feedback-button\"></button></div></div>' : '<div class=\"feedback-box\"><div class=\"feedback-form\"><img src = \"' + (PREFIX_FILE_HOST + c.properties.imgSrc) + '\"/><span style=\"margin-top:20px;\">' + c.properties.text + '</span><button class=\"feedback-button\"></button></div></div>'), \"rating-s\" === c.properties.layout && (b = c.properties.checkedLink ? '<div class=\"feedback-box\"><div class=\"feedback-form\"><a href=\"' + c.properties.link + '\"><span>' + c.properties.text + '</span></a><img src = \"' + (PREFIX_FILE_HOST + c.properties.imgSrc) + '\" style=\"margin-top:20px;\"/><button class=\"feedback-button\"></button></div></div>' : '<div class=\"feedback-box\"><div class=\"feedback-form\"><span>' + c.properties.text + '</span><img src = \"' + (PREFIX_FILE_HOST + c.properties.imgSrc) + '\" style=\"margin-top:20px;\"/><button class=\"feedback-button\"></button></div></div>'), \"rating-l\" === c.properties.layout && (b = c.properties.checkedLink ? '<div class=\"feedback-box\"><div class=\"feedback-form\"><a href=\"' + c.properties.link + '\"><span>' + c.properties.text + '</span></a><button class=\"feedback-button\"></button></div></div>' : '<div class=\"feedback-box\"><div class=\"feedback-form\"><span>' + c.properties.text + '</span><button class=\"feedback-button\"></button></div></div>')) : b = '<div class=\"feedback-box\"><div class=\"feedback-form\"><span>!</span><button class=\"feedback-button\"></button></div></div>', $(b).prependTo(\".z-current\");\n\t\t\t\t\t\t\t\tvar d = (0 - parseInt($(\".feedback-form\").css(\"height\"), 10)) / 2;\n\t\t\t\t\t\t\t\t$(\".feedback-form\").css({\n\t\t\t\t\t\t\t\t\tmarginTop: d + \"px\"\n\t\t\t\t\t\t\t\t}), $(\".z-current\").on(\"click\", \".feedback-button\", function() {\n\t\t\t\t\t\t\t\t\t$(\".feedback-box\").animate({\n\t\t\t\t\t\t\t\t\t\topacity: 0\n\t\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\t\tduration: 1e3,\n\t\t\t\t\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t\t\t\t\t$(\".feedback-box\").remove()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t$(b).bind(\"click\", function() {\n\t\t\t\tif (a.isMobileApp()) return void alert(\"\");\n\t\t\t\tvar c, d = $(b).parents(\".edit_wrapper\").attr(\"data-scene-id\");\n\t\t\t\tc = d ? $(b).parents(\".nr\").find('.edit_wrapper[data-scene-id=\"' + d + '\"]') : $(b).parents(\".nr\"), e(this, d, c)\n\t\t\t})\n\t\t}\n\t}), t.bindAfterRenderEvent(\"7\", function(a, b) {\n\t\tvar c = new BMap.Map(\"map_\" + b.id, {\n\t\t\tenableMapClick: !1\n\t\t}),\n\t\t\td = new BMap.Point(b.properties.x, b.properties.y),\n\t\t\te = new BMap.Marker(d);\n\t\tc.addOverlay(e);\n\t\tvar f = new BMap.Label(b.properties.markTitle, {\n\t\t\toffset: new BMap.Size(20, -10)\n\t\t});\n\t\te.setLabel(f), c.disableDoubleClickZoom(), c.centerAndZoom(d, 15)\n\t}), t.bindAfterRenderEvent(\"p\", function(a, b) {\n\t\tif (!$(a).closest(\".page_tpl_container \").length) {\n\t\t\t$(a).children(\".element-box\").css(\"overflow\", \"visible\"), utilPictures.deleteInterval(b.id);\n\t\t\tvar c = $(a).find(\"#\" + b.id);\n\t\t\tnew flux.slider(c, {\n\t\t\t\tautoplay: b.properties.autoPlay,\n\t\t\t\tdelay: b.properties.interval,\n\t\t\t\tpagination: !1,\n\t\t\t\ttransitions: [utilPictures.getPicStyle(b.properties.picStyle).name],\n\t\t\t\twidth: b.css.width,\n\t\t\t\theight: b.css.height,\n\t\t\t\tbgColor: b.properties.bgColor,\n\t\t\t\tonStartEnd: function(a) {\n\t\t\t\t\tutilPictures.addInterval(b.id, a)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}), t.bindAfterRenderEvent(\"a\", function(a, b) {\n\t\tfunction c(a) {\n\t\t\te.each(function(b, c) {\n\t\t\t\t$(c).removeClass(g).addClass(g + \"-line\"), a >= b && $(c).removeClass(g + \"-line\").addClass(g)\n\t\t\t})\n\t\t}\n\t\tvar d = $(a);\n\t\tif (\"view\" === t.mode) {\n\t\t\tvar e = d.find(\"i\"),\n\t\t\t\tf = d.find(\"input\"),\n\t\t\t\tg = b.properties.icon;\n\t\t\te.each(function(a, b) {\n\t\t\t\t$(b).attr(\"data-event\", \"11211\"), $(b).bind(\"click\", function() {\n\t\t\t\t\tc(a), f.val(a + 1)\n\t\t\t\t}), $(b).bind(\"mouseenter\", function() {\n\t\t\t\t\tc(a)\n\t\t\t\t})\n\t\t\t}), d.find(\".rating-icons\").bind(\"mouseleave\", function() {\n\t\t\t\tc(parseInt(f.val(), 10) - 1)\n\t\t\t}), m(d.find(\".rating-icons\"))\n\t\t}\n\t}), t.bindAfterRenderEvent(\"w\", function(a, b) {\n\t\t\"view\" === t.mode && (m($(a)), $(a).on(\"mousedown touchstart\", function(a) {\n\t\t\tif (a.preventDefault(), isWeixin())\"w01\" === b.type ? $(document).trigger(\"wx.audio.play\", b.id) : \"w02\" === b.type && $(document).trigger(\"wx.audio.record\", b.id);\n\t\t\telse if (\"w01\" === b.type) {\n\t\t\t\tvar c = document.createElement(\"audio\");\n\t\t\t\tc.src = b.properties.src, c.play();\n\t\t\t\tvar d = $(\"#media\").get(0);\n\t\t\t\td.pause()\n\t\t\t} else \"w02\" === b.type && alert(\"\")\n\t\t}).on(\"mouseup touchend\", function() {\n\t\t\tisWeixin() && \"w02\" === b.type && $(document).trigger(\"wx.audio.recordend\", b.id)\n\t\t}))\n\t}), t.bindAfterRenderEvent(\"g\", function(a) {\n\t\ta.attr(\"data-event\", \"11212\")\n\t}), t.bindAfterRenderEvent(\"b\", function(b, c) {\n\t\tfunction d() {\n\t\t\tif (h.find(\".boards-panel\").length) h.find(\".boards-panel\").show();\n\t\t\telse {\n\t\t\t\th.append($('<div class=\"boards-panel boards-' + c.properties.style + '\"><div class=\"boards-top\"><div class=\"head\"><em class=\"eqf-wrong\"></em></div><div class=\"boards-form\"><textarea maxlength=\"140\" class=\"content-text\"></textarea><span class=\"content-tip\">0/140</span><a class=\"record-btn\" data-event=\"11207\"></a></div><div class=\"spline-con\"><span></span><span class=\"spline\"></span></div></div><div class=\"boards-con\"><div class=\"list\"></div></div>' + i + \"</div>\")), f = h.find(\".record-btn\"), iphoneCheck() && h.find(\".boards-con\").addClass(\"ios-boards-con\");\n\t\t\t\tvar b = 0;\n\t\t\t\tf.on(\"click\", function() {\n\t\t\t\t\tif (a.isMobileApp()) return void alert(\"\");\n\t\t\t\t\tif (!b) {\n\t\t\t\t\t\tvar c = h.find(\".boards-panel .content-text\").val();\n\t\t\t\t\t\tif (!$.trim(c)) return void alert(\"!\");\n\t\t\t\t\t\tb = 10, f.text(\"(\" + b + \")\"), f.css(\"backgroundColor\", \"#b4b4b4\");\n\t\t\t\t\t\tvar d = setInterval(function() {\n\t\t\t\t\t\t\tb--, f.text(\"(\" + b + \")\"), b || (f.css(\"backgroundColor\", \"\").text(\"\"), clearInterval(d))\n\t\t\t\t\t\t}, 1e3),\n\t\t\t\t\t\t\te = {\n\t\t\t\t\t\t\t\tsceneId: j,\n\t\t\t\t\t\t\t\tcontent: c,\n\t\t\t\t\t\t\t\turl: \"\",\n\t\t\t\t\t\t\t\tname: \"\"\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tweChatUser && weChatUser.headimgurl && (e.name = weChatUser.nickname, e.url = weChatUser.headimgurl), $.ajax({\n\t\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\t\turl: PREFIX_URL + \"index.php?c=scenedata&a=sendmsg\",\n\t\t\t\t\t\t\tdata: $.param(e),\n\t\t\t\t\t\t\terror: function() {\n\t\t\t\t\t\t\t\talert(\"Connection error\")\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: function(a) {\n\t\t\t\t\t\t\t\tif (a.success) {\n\t\t\t\t\t\t\t\t\talert(\"\");\n\t\t\t\t\t\t\t\t\tvar b = '<div class=\"headimg headimg-bg\"><div class=\"logo-scale\"><em class=\"eqf-eqxiu\"></em></div></div>';\n\t\t\t\t\t\t\t\t\tweChatUser.headimgurl && (b = '<div class=\"headimg\" style=\"background-image:url(' + weChatUser.headimgurl + ')\"></div>'), $(\".z-current #\" + k).find(\".empty-boards\").length && $(\".z-current #\" + k).find(\".empty-boards\").remove(), $(\".z-current #\" + k).find(\".tool\").after($('<div class=\"record\">' + b + '<div class=\"name\">' + a.obj.name + '</div><div class=\"mes\">' + a.obj.content + '</div><div class=\"time\"></div></div>')), h.find(\".list\").prepend($('<div class=\"record clearfix\">' + b + '<div class=\"name\">' + a.obj.name + '</div><div class=\"mes\">' + a.obj.content + '</div><div class=\"time\"></div></div>'))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}), h.find(\".boards-panel .content-text\").on(\"input\", function(a) {\n\t\t\t\t\tvar b = a.target.value.length + a.target.value.split(\"\\n\").length - 1;\n\t\t\t\t\th.find(\".boards-panel .content-tip\").html(b + \"/140\")\n\t\t\t\t})\n\t\t\t}\n\t\t\th.find(\".boards-panel\").on(\"touchstart touchmove touchend mousedown mouseup mousemove\", function(a) {\n\t\t\t\ta.stopPropagation()\n\t\t\t}), h.find(\".z-current\").hide();\n\t\t\tvar d = $('<div class=\"more-mes\"></div>'),\n\t\t\t\tg = h.find(\".list\");\n\t\t\tg.empty();\n\t\t\tvar l = g.get(0);\n\t\t\tg.append(d), p(j, function(a, b) {\n\t\t\t\te = b, l.insertBefore(a, d.get(0)), b || (d.html(\"\"), d.unbind(\"click\"))\n\t\t\t}), d.on(\"click\", function() {\n\t\t\t\tp(j, function(a, b) {\n\t\t\t\t\te = b, g.get(0).insertBefore(a, d.get(0)), b || (d.html(\"\"), d.unbind(\"click\"))\n\t\t\t\t}, e)\n\t\t\t})\n\t\t}\n\t\tif (\"view\" === t.mode && !t.disEvent) {\n\t\t\tvar e, f, g = $(b),\n\t\t\t\th = mobilecheck() ? $(document.body) : $(\".nr\"),\n\t\t\t\ti = mobilecheck() ? '<div class=\"boards-bottom\"></div>' : \"\",\n\t\t\t\tj = c.sceneId,\n\t\t\t\tk = c.id;\n\t\t\tg.find(\".tool a\").on(\"click\", function(a, b) {\n\t\t\t\t(!a.isTrigger || b) && (!a.isTrigger || \"longPage\" !== b || mobilecheck()) && ($.isEmptyObject(weChatUser) && isWeixin() ? d() : d())\n\t\t\t}), h.on(\"click\", \".boards-panel .eqf-wrong\", function() {\n\t\t\t\th.find(\".boards-panel .list\").empty(), h.find(\".boards-panel\").hide(), h.find(\".z-current\").show()\n\t\t\t})\n\t\t}\n\t});\n\tvar w\n}(window.eqShow);\nvar tplCount = 0,\n\teqxCommon = function() {\n\t\tvar a = function(a) {\n\t\t\t\tvar b, c, d = a.type;\n\t\t\t\treturn \"typer\" === d && (b = \"typer\"), 0 === d && (b = \"fadeIn\"), 1 === d && (c = a.direction, 0 === c && (b = \"fadeInLeft\"), 1 === c && (b = \"fadeInDown\"), 2 === c && (b = \"fadeInRight\"), 3 === c && (b = \"fadeInUp\")), 6 === d && (b = \"wobble\"), 5 === d && (b = \"rubberBand\"), 7 === d && (b = \"rotateIn\"), 8 === d && (b = \"flip\"), 9 === d && (b = \"swing\"), 2 === d && (c = a.direction, 0 === c && (b = \"bounceInLeft\"), 1 === c && (b = \"bounceInDown\"), 2 === c && (b = \"bounceInRight\"), 3 === c && (b = \"bounceInUp\")), 3 === d && (b = \"bounceIn\"), 4 === d && (b = \"zoomIn\"), 10 === d && (b = \"fadeOut\"), 11 === d && (b = \"flipOutY\"), 12 === d && (b = \"rollIn\"), 13 === d && (b = \"lightSpeedIn\"), 14 === d && (b = \"bounceOut\"), 15 === d && (b = \"rollOut\"), 16 === d && (b = \"lightSpeedOut\"), 17 === d && (c = a.direction, 0 === c && (b = \"fadeOutRight\"), 1 === c && (b = \"fadeOutDown\"), 2 === c && (b = \"fadeOutLeft\"), 3 === c && (b = \"fadeOutUp\")), 18 === d && (b = \"zoomOut\"), 19 === d && (c = a.direction, 0 === c && (b = \"bounceOutRight\"), 1 === c && (b = \"bounceOutDown\"), 2 === c && (b = \"bounceOutLeft\"), 3 === c && (b = \"bounceOutUp\")), 20 === d && (b = \"flipInY\"), 21 === d && (b = \"tada\"), 22 === d && (b = \"jello\"), 23 === d && (b = \"flash\"), 26 === d && (b = \"twisterInDown\"), 27 === d && (b = \"puffIn\"), 28 === d && (b = \"puffOut\"), 29 === d && (b = \"slideDown\"), 30 === d && (b = \"slideUp\"), 24 === d && (b = \"flipInX\"), 25 === d && (b = \"flipOutX\"), 31 === d && (b = \"twisterInUp\"), 32 == d && (b = \"vanishOut\"), 33 == d && (b = \"vanishIn\"), b\n\t\t\t},\n\t\t\tb = function(a, b, c, d, e) {\n\t\t\t\tfunction f(a, d, e, g, h) {\n\t\t\t\t\tif (e.length && i < e.length) {\n\t\t\t\t\t\tif (\"typer\" == d[i]) {\n\t\t\t\t\t\t\tvar j = a.find(\".element\"),\n\t\t\t\t\t\t\t\tk = e[i].interval,\n\t\t\t\t\t\t\t\tl = e[i].delay;\n\t\t\t\t\t\t\tif (g && h.top > 486 && \"view\" == c) {\n\t\t\t\t\t\t\t\tvar m = function(c, g) {\n\t\t\t\t\t\t\t\t\t\tMath.abs(g) > h.top && (j.data(\"typed\") && (clearInterval(j.data(\"typed\").timeout), j.removeData(\"typed\")), j.empty(), j.typed({\n\t\t\t\t\t\t\t\t\t\t\tstrings: [b.content],\n\t\t\t\t\t\t\t\t\t\t\tcontentType: \"html\",\n\t\t\t\t\t\t\t\t\t\t\tshowCursor: !1,\n\t\t\t\t\t\t\t\t\t\t\ttypeSpeed: 1e3 * k || 0,\n\t\t\t\t\t\t\t\t\t\t\tstartDelay: 1e3 * l || 0,\n\t\t\t\t\t\t\t\t\t\t\tcallback: function() {\n\t\t\t\t\t\t\t\t\t\t\t\tclearInterval(j.data(\"typed\").timeout), j.removeData(\"typed\"), i++, f(a, d, e)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}), $(document).unbind(\"pageScrollPos\", m))\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\treturn void $(document).bind(\"pageScrollPos\", m)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tj.data(\"typed\") && (clearInterval(j.data(\"typed\").timeout), j.removeData(\"typed\")), j.empty(), j.typed({\n\t\t\t\t\t\t\t\tstrings: [b.content],\n\t\t\t\t\t\t\t\tcontentType: \"html\",\n\t\t\t\t\t\t\t\tshowCursor: !1,\n\t\t\t\t\t\t\t\ttypeSpeed: 1e3 * k || 0,\n\t\t\t\t\t\t\t\tstartDelay: 1e3 * e[i].delay || 0,\n\t\t\t\t\t\t\t\tcallback: function() {\n\t\t\t\t\t\t\t\t\tclearInterval(j.data(\"typed\").timeout), j.removeData(\"typed\"), i++, f(a, d, e)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\ta.css(\"animation\", \"\");\n\t\t\t\t\t\ta.get(0);\n\t\t\t\t\t\tif (a.css(\"animation\", d[i] + \" \" + e[i].duration + \"s ease \" + e[i].delay + \"s \" + (e[i].countNum ? e[i].countNum : \"\")), \"view\" == c ? (e[i].count && i == e.length - 1 && a.css(\"animation-iteration-count\", \"infinite\"), a.css(\"animation-fill-mode\", \"both\")) : (a.css(\"animation-iteration-count\", \"1\"), a.css(\"animation-fill-mode\", \"backwards\")), e[i].linear && a.css(\"animation-timing-function\", \"linear\"), g && h.top > 486 && \"view\" == c) {\n\t\t\t\t\t\t\ta.css(\"display\", \"none\");\n\t\t\t\t\t\t\tvar n = function(b, c) {\n\t\t\t\t\t\t\t\t\tMath.abs(c) > h.top && (a.css(\"display\", \"block\"), $(document).unbind(\"pageScrollPos\", n))\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t$(document).bind(\"pageScrollPos\", n)\n\t\t\t\t\t\t}\n\t\t\t\t\t\ta.one(\"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend\", function() {\n\t\t\t\t\t\t\ti++, f(a, d, e)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (b.trigger && b.trigger.receives && b.trigger.receives.length && !e && \"view\" == c) for (var g = b.trigger.receives, h = 0; h < g.length; h++) if (1 == g[h].type && g[h].ids.length) return;\n\t\t\t\tvar i = 0;\n\t\t\t\tif (b.properties && b.properties.anim) {\n\t\t\t\t\tvar j = [];\n\t\t\t\t\tb.properties.anim.length ? j = b.properties.anim : j.push(b.properties.anim);\n\t\t\t\t\tvar k = $(\".element-box\", a);\n\t\t\t\t\tk.attr(\"element-anim\", \"\");\n\t\t\t\t\tfor (var l, m = [], n = [], h = 0, o = j.length; o > h; h++) null != j[h].type && -1 != j[h].type && (l = eqxCommon.convertType(j[h]), m.push(l), n.push(j[h]));\n\t\t\t\t\tif (d && d.scale) return;\n\t\t\t\t\tb.properties.anim.trigger ? a.click(function() {\n\t\t\t\t\t\tf(k, l, b.properties.anim)\n\t\t\t\t\t}) : d && d.longPage ? f(k, m, n, !0, b.css) : f(k, m, n)\n\t\t\t\t}\n\t\t\t},\n\t\t\tc = function(a, b) {\n\t\t\t\tvar c, d = $(a);\n\t\t\t\tif (b.trigger && b.trigger.receives && b.trigger.receives.length) {\n\t\t\t\t\t$.each(b.trigger.receives, function(a, e) {\n\t\t\t\t\t\tif (e.ids.length) {\n\t\t\t\t\t\t\tvar f = utilTrigger.getHandleType(e.type).name;\n\t\t\t\t\t\t\t(\"show\" == f || \"randomEvent\" == f) && d.hide(), \"hide\" == f && d.show(), d.bind(f, function(a, e) {\n\t\t\t\t\t\t\t\tif (\"show\" == f) $(this).show(), c || (c = !0, eqxCommon.animation(d, b, \"view\", null, !0));\n\t\t\t\t\t\t\t\telse if (\"hide\" == f) $(this).hide(), c = !1;\n\t\t\t\t\t\t\t\telse if (\"randomEvent\" == f) {\n\t\t\t\t\t\t\t\t\teqShow.playTriggerSound(), $(this).show();\n\t\t\t\t\t\t\t\t\tvar g = Math.floor(Math.random() * b.properties.pics.length);\n\t\t\t\t\t\t\t\t\t$(this).find(\"img\").css({\n\t\t\t\t\t\t\t\t\t\tdisplay: \"none\"\n\t\t\t\t\t\t\t\t\t}), $(this).find(\"img\").eq(g).css({\n\t\t\t\t\t\t\t\t\t\tdisplay: \"block\"\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\td = function() {\n\t\t\t\tvar a, b, c = window.navigator,\n\t\t\t\t\td = [\"language\", \"browserLanguage\", \"systemLanguage\", \"userLanguage\"];\n\t\t\t\tif ($.isArray(c.languages)) for (a = 0; a < c.languages.length; a++) if (b = c.languages[a], b && b.length) return b;\n\t\t\t\tfor (a = 0; a < d.length; a++) if (b = c[d[a]], b && b.length) return b;\n\t\t\t\treturn null\n\t\t\t};\n\t\treturn {\n\t\t\tconvertType: a,\n\t\t\tanimation: b,\n\t\t\tbindTrigger: c,\n\t\t\tgetFirstBrowserLanguage: d\n\t\t}\n\t}();\neqShow.clearTyperText = function(a) {\n\tif (a && a.elements) {\n\t\tvar b = a.elements;\n\t\t$.each(b, function(a, b) {\n\t\t\tif (b.properties && b.properties.anim) {\n\t\t\t\tvar c = b.properties.anim;\n\t\t\t\t$.each(c, function(a, c) {\n\t\t\t\t\t0 == a && \"typer\" == c.type && $(\"#inside_\" + b.id).find(\".element\").empty()\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n}, eqShow.isMobileApp = function() {\n\treturn !!window.viewData\n}, eqShow.setPageHis = function(a) {\n\tif (mobilecheck()) {\n\t\tvar b = eqShow.getQueryString(\"toPage\"),\n\t\t\tc = location.href;\n\t\tb ? b !== \"\" + a && (c = c.replace(b, a)) : c += (/\\?/.test(c) ? \"&\" : \"?\") + \"toPage=\" + a, window.history.pushState({\n\t\t\ttitle: $(\"title\").html(),\n\t\t\turl: c\n\t\t}, $(\"title\").html(), c)\n\t}\n}, eqShow.getShowCount = function(a) {\n\treturn this.showCount = $.ajax({\n\t\ttype: \"GET\",\n\t\turl: PREFIX_S1_URL + \"index.php?c=scene&a=pv&sceneId=\" + a,\n\t\txhrFields: {\n\t\t\twithCredentials: !0\n\t\t},\n\t\terror: function() {\n\t\t\talert(\"Connection error\")\n\t\t},\n\t\tcrossDomain: !0\n\t}), this.showCount\n}, eqShow.getQueryString = function(a) {\n\tvar b = new RegExp(\"(^|&)\" + a + \"=([^&]*)(&|$)\", \"i\"),\n\t\tc = window.location.search.substr(1).match(b);\n\treturn c ? unescape(c[2]) : null\n}, eqShow.delQueStr = function(a, b) {\n\tvar c = \"\";\n\tif (-1 === a.indexOf(\"?\")) return a;\n\tc = a.substr(a.indexOf(\"?\") + 1);\n\tvar d = [],\n\t\te = \"\";\n\tif (-1 !== c.indexOf(\"&\")) {\n\t\td = c.split(\"&\");\n\t\tfor (i in d) d[i].split(\"=\")[0] != b && (e = e + d[i].split(\"=\")[0] + \"=\" + d[i].split(\"=\")[1] + \"&\");\n\t\treturn a.substr(0, a.indexOf(\"?\")) + \"?\" + e.substr(0, e.length - 1)\n\t}\n\treturn d = c.split(\"=\"), d[0] == b ? a.substr(0, a.indexOf(\"?\")) : a\n}, eqShow.getDomain = function(a) {\n\tvar b = \"null\";\n\t(\"undefined\" == typeof a || null == a) && (a = window.location.href);\n\tvar c = /.*\\:\\/\\/([^\\/]*).*/,\n\t\td = a.match(c);\n\treturn \"undefined\" != typeof d && null != d && (b = d[1]), b\n}, eqShow.DateFormit = function(a, b) {\n\tvar c, d = new Date(a);\n\tswitch (b) {\n\tcase \"MMDD\":\n\t\tc = d.getMonth() + 1 + \"\" + d.getDate() + \" \" + d.getHours() + \":\" + d.getMinutes();\n\t\tbreak;\n\tcase \"T\":\n\t\tc = \"\"\n\t}\n\treturn c\n}, eqShow.fixedNum = function(a) {\n\tvar b;\n\treturn 1e4 > a ? b = a : a >= 1e4 && 1e8 > a ? b = (a / 1e4).toFixed(2) + \"\" : a >= 1e8 && (b = (a / 1e8).toFixed(2) + \"\"), b\n}, eqShow.showProgressBar = function(a, b, c) {\n\tif (a.obj.property.slideNumber) {\n\t\tvar d = $('<div class=\"progress\"></div>'),\n\t\t\te = $(\"<span></span>\"),\n\t\t\tf = $('<em class=\"page-tip\"></em>');\n\t\td.append(e).append(f), c && a.obj.property.slideDisplay ? c.append(d.css(\"display\", a.obj.property.slideDisplay)) : $(\"#nr\").append(d.css(\"display\", \"block\"))\n\t}\n\tvar g = function() {\n\t\t\ta.obj.property.slideNumber && e && setTimeout(function() {\n\t\t\t\tvar a = $(\".z-active\").get(0) ? $(\".z-active\").get(0) : $(\".z-current\").get(0);\n\t\t\t\tif (a) {\n\t\t\t\t\tvar c = $(a).find(\".m-img\").attr(\"id\").substring(4),\n\t\t\t\t\t\tg = b.length,\n\t\t\t\t\t\th = c / g,\n\t\t\t\t\t\ti = 100;\n\t\t\t\t\tf.text(c + \"/\" + g), e.css(\"width\", parseFloat(d.width()) * h), $(a).find(\".lock\").length && (i = 0), d.css(\"z-index\", i)\n\t\t\t\t}\n\t\t\t}, 100)\n\t\t};\n\tg(), b.eq(0).find(\".u-arrow-bottom\").css(\"bottom\", \"30px\"), eqShow.progressInterval = setInterval(function() {\n\t\tg()\n\t}, 300)\n}, eqShow.selectElement = function(a) {\n\tvar b;\n\treturn b = $(\"#inside_\" + a, \".phone-view\").length ? $(\"#inside_\" + a, \".phone-view\") : $(\"#inside_\" + a)\n}, eqShow.substtrCharacters = function(a, b) {\n\tif (a && (a = a.replace(/\\n|\\r/g, \" \")), a && a.length > b / 2) {\n\t\tvar c = a.replace(/[^\\x00-\\xff]/g, \"xx\");\n\t\tif (c.length > b) {\n\t\t\tvar d = c.substring(0, b).replace(/xx/g, \"\").length;\n\t\t\ta = a.substring(0, d)\n\t\t}\n\t}\n\treturn a\n}, eqShow.getCharactersLen = function(a) {\n\tvar b = a.replace(/[^\\x00-\\xff]/g, \"xx\");\n\treturn b.length\n}, eqShow.getRGB = function(a) {\n\tif (a = a.toLowerCase(), a.indexOf(\"rgba\") >= 0) {\n\t\tvar b = a.split(\",\");\n\t\tb[0] = b[0].replace(\"rgba\", \"rgb\"), b.pop(), b[b.length - 1] += \")\", a = b.join(\",\")\n\t}\n\treturn a\n}, eqShow.convertToHexColor = function(a) {\n\tif (a = a.toLowerCase(), a.indexOf(\"rgb\") >= 0) {\n\t\tvar b = a.split(\",\"),\n\t\t\tc = b[0].substring(b[0].indexOf(\"(\") + 1);\n\t\tc = parseInt(c, 10).toString(16), c = c.length < 2 ? \"0\" + c : c;\n\t\tvar d = parseInt(b[1], 10).toString(16);\n\t\td = d.length < 2 ? \"0\" + d : d;\n\t\tvar e = b[2].substring(0, b[2].indexOf(\")\"));\n\t\te = parseInt(e, 10).toString(16), e = e.length < 2 ? \"0\" + e : e, a = \"#\" + c + d + e\n\t}\n\treturn a\n}, eqShow.responsiveImage = function(a, b, c, d, e) {\n\tvar f = new Image;\n\tf.src = a, f.onload = function(f) {\n\t\tvar g, h, i = this;\n\t\t$.each(b, function(a, b) {\n\t\t\tb.elements && b.elements.length && $.each(b.elements, function(a, b) {\n\t\t\t\tif (b.id == c) {\n\t\t\t\t\tvar d = parseInt(b.css.width),\n\t\t\t\t\t\te = parseInt(b.css.height);\n\t\t\t\t\ti.width / i.height >= d / e ? (g = d, h = i.height * (d / i.width)) : (h = e, g = i.width * (e / i.height))\n\t\t\t\t}\n\t\t\t})\n\t\t}), e.css({\n\t\t\tdisplay: \"block\",\n\t\t\twidth: g + \"px\",\n\t\t\theight: h + \"px\",\n\t\t\t\"margin-top\": (parseInt(d.height()) - h) / 2 + \"px\",\n\t\t\t\"margin-left\": (parseInt(d.width()) - g) / 2 + \"px\"\n\t\t}).attr(\"src\", a)\n\t}\n}, eqShow.getCookieId = function() {\n\tvar a = \"\",\n\t\tb = \"C_ID=\",\n\t\tc = document.cookie,\n\t\td = c.indexOf(b);\n\tif (-1 != d) {\n\t\td += b.length;\n\t\tvar e = c.indexOf(\";\", d); - 1 == e && (e = c.length), a = c.substring(d, e)\n\t}\n\treturn a\n}, eqShow.delayLoadJSAndCSS = function(a, b, c) {\n\tvar d, e;\n\tif (b || (b = a.substr(a.lastIndexOf(\".\") + 1)), \"js\" == b) {\n\t\tvar f = document.getElementsByTagName(\"script\");\n\t\tfor (e = 0; e < f.length; e++) if (f[e].src && -1 != f[e].src.indexOf(a) || f[e].title == c) return f[e];\n\t\td = document.createElement(\"script\"), d.type = \"text/javascript\", d.src = a, c && (d.title = c)\n\t} else {\n\t\tif (\"css\" != b) return;\n\t\tvar g = document.getElementsByTagName(\"link\");\n\t\tfor (e = 0; e < g.length; e++) if (g[e].href && -1 != g[e].href.indexOf(a) || g[e].title == c) return g[e];\n\t\td = document.createElement(\"link\"), d.rel = \"stylesheet\", d.type = \"text/css\", d.href = a, c && (d.title = c), d.disabled = !1\n\t}\n\tvar h = document.getElementsByTagName(\"head\")[0];\n\treturn h.appendChild(d), d\n}, eqShow.copyToClipboard = function(a) {\n\tvar b, c, d = \"_hiddenCopyText_\",\n\t\te = \"INPUT\" === a.tagName || \"TEXTAREA\" === a.tagName;\n\tif (e) f = a, b = a.selectionStart, c = a.selectionEnd;\n\telse {\n\t\tif (f = document.getElementById(d), !f) {\n\t\t\tvar f = document.createElement(\"textarea\");\n\t\t\tf.style.position = \"absolute\", f.style.left = \"-9999px\", f.style.top = \"0\", f.id = d, document.body.appendChild(f)\n\t\t}\n\t\tf.textContent = a.textContent\n\t}\n\tvar g = document.activeElement;\n\tf.focus(), f.setSelectionRange(0, f.value.length);\n\tvar h;\n\ttry {\n\t\th = document.execCommand(\"copy\")\n\t} catch (i) {\n\t\th = !1\n\t}\n\treturn g && \"function\" == typeof g.focus && g.focus(), e ? a.setSelectionRange(b, c) : f.textContent = \"\", h\n}, eqShow.getUrlParameter = function(a) {\n\tvar b, c, d = decodeURIComponent(window.location.search.substring(1)),\n\t\te = d.split(\"&\");\n\tfor (c = 0; c < e.length; c++) if (b = e[c].split(\"=\"), b[0] === a) return void 0 === b[1] ? !0 : b[1]\n};\nvar listPages = [];\n!\nfunction(a) {\n\tfunction b(b) {\n\t\treturn b.classList ? b.classList : a(b).attr(\"class\").match(/\\S+/gi)\n\t}\n\ta.fn.ShareLink = function(c) {\n\t\tfunction d(a) {\n\t\t\tvar b = g[a];\n\t\t\treturn b = b.replace(\"{url}\", encodeURIComponent(c.url)), b = b.replace(\"{title}\", encodeURIComponent(c.title)), b = b.replace(\"{text}\", encodeURIComponent(c.text)), b = b.replace(\"{image}\", encodeURIComponent(c.image))\n\t\t}\n\t\tvar e = {\n\t\t\ttitle: \"\",\n\t\t\ttext: \"\",\n\t\t\timage: \"\",\n\t\t\turl: window.location.href,\n\t\t\tclass_prefix: \"s_\"\n\t\t},\n\t\t\tc = a.extend({}, e, c),\n\t\t\tf = c.class_prefix.length,\n\t\t\tg = {\n\t\t\t\ttwitter: \"https://twitter.com/intent/tweet?url={url}&text={text}\",\n\t\t\t\tpinterest: \"https://www.pinterest.com/pin/create/button/?media={image}&url={url}&description={text}\",\n\t\t\t\tfacebook: \"https://www.facebook.com/sharer.php?u={url}\",\n\t\t\t\tvk: \"https://vkontakte.ru/share.php?url={url}&title={title}&description={text}&image={image}&noparse=true\",\n\t\t\t\tlinkedin: \"https://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={text}&source={url}\",\n\t\t\t\tmyworld: \"https://connect.mail.ru/share?url={url}&title={title}&description={text}&imageurl={image}\",\n\t\t\t\todnoklassniki: \"http://odnoklassniki.ru/dk?st.cmd=addShare&st.s=1&st._surl={url}&st.comments={text}\",\n\t\t\t\ttumblr: \"https://tumblr.com/share?s=&v=3&t={title}&u={url}\",\n\t\t\t\tblogger: \"https://blogger.com/blog-this.g?t={text}&n={title}&u={url}\",\n\t\t\t\tdelicious: \"https://delicious.com/save?url={url}&title={title}\",\n\t\t\t\tplus: \"https://plus.google.com/share?url={url}\",\n\t\t\t\tdigg: \"https://digg.com/submit?url={url}&title={title}\",\n\t\t\t\treddit: \"http://reddit.com/submit?url={url}&title={title}\",\n\t\t\t\tstumbleupon: \"https://www.stumbleupon.com/submit?url={url}&title={title}\",\n\t\t\t\tpocket: \"https://getpocket.com/edit?url={url}&title={title}\",\n\t\t\t\tchiq: \"http://www.chiq.com/create/bookmarklet?u={url}&i={image}&d={title}&c={url}\",\n\t\t\t\tqrifier: \"http://qrifier.com/q?inc=qr&type=url&size=350&string={url}\",\n\t\t\t\tqrsrc: \"http://www.qrsrc.com/default.aspx?shareurl={url}\",\n\t\t\t\tqzone: \"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={url}\",\n\t\t\t\ttulinq: \"http://www.tulinq.com/enviar?url={url}&title={title}\",\n\t\t\t\tmisterwong: \"http://www.mister-wong.com/index.php?action=addurl&bm_url={url}&bm_description={title}&bm_notice=\",\n\t\t\t\tsto_zakladok: \"http://www.100zakladok.ru/save/?bmurl={url}&bmtitle={title}\",\n\t\t\t\ttwo_linkme: \"http://www.2linkme.com/?collegamento={url}&id=2lbar\",\n\t\t\t\tadifni: \"http://www.adifni.com/account/bookmark/?bookmark_url={url}\",\n\t\t\t\tamazonwishlist: \"http://www.amazon.com/gp/wishlist/static-add?u={url}&t={title}\",\n\t\t\t\tamenme: \"http://www.amenme.com/AmenMe/Amens/AmenToThis.aspx?url={url}&title={title}\",\n\t\t\t\taim: \"http://lifestream.aol.com/share/?url={url}&title={title}&description={text} \",\n\t\t\t\taolmail: \"http://webmail.aol.com/25045/aol/en-us/Mail/compose-message.aspx?to=&subject={title}&body={{content}}\",\n\t\t\t\tarto: \"http://www.arto.com/section/linkshare/?lu={url}&ln={title}\",\n\t\t\t\tbaidu: \"http://cang.baidu.com/do/add?it={title}&iu={url}&fr=ien&dc={text}\",\n\t\t\t\tbitly: \"https://bitly.com/a/bitmarklet?u={url}\",\n\t\t\t\tbizsugar: \"http://www.bizsugar.com/bizsugarthis.php?url={url}\",\n\t\t\t\tblinklist: \"http://www.blinklist.com/blink?u={url}&t={title}&d={text}\",\n\t\t\t\tblip: \"http://blip.pl/dashboard?body={title}%3A%20{url}\",\n\t\t\t\tblogmarks: \"http://blogmarks.net/my/new.php?mini=1&simple=1&url={url}&title={title}&content={text}\",\n\t\t\t\tblurpalicious: \"http://www.blurpalicious.com/submit/?url={url}&title={title}&desc={text}\",\n\t\t\t\tbobrdobr: \"http://bobrdobr.ru/addext.html?url={url}&title={title}&desc={text}\",\n\t\t\t\tbonzobox: \"http://bonzobox.com/toolbar/add?u={url}&t={title}&desc={text}\",\n\t\t\t\tbookmerkende: \"http://www.bookmerken.de/?url={url}&title={title}\",\n\t\t\t\tbox: \"https://www.box.net/api/1.0/import?import_as=link&url={url}&name={title}&description={text}\",\n\t\t\t\tbryderi: \"http://bryderi.se/add.html?u={url}\",\n\t\t\t\tbuddymarks: \"http://buddymarks.com/add_bookmark.php?bookmark_title={title}&bookmark_url={url}&bookmark_desc={text}\",\n\t\t\t\tcamyoo: \"http://www.camyoo.com/note.html?url={url}\",\n\t\t\t\tcare2: \"http://www.care2.com/news/compose?sharehint=news&share[share_type]news&bookmarklet=Y&share[title]={title}&share[link_url]={url}&share[content]={text}\",\n\t\t\t\tciteulike: \"http://www.citeulike.org/posturl?url={url}&title={title}\",\n\t\t\t\tclassicalplace: \"http://www.classicalplace.com/?u={url}&t={title}&c={text}\",\n\t\t\t\tcosmiq: \"http://www.cosmiq.de/lili/my/add?url={url}\",\n\t\t\t\tdiggita: \"http://www.diggita.it/submit.php?url={url}&title={title}\",\n\t\t\t\tdiigo: \"http://www.diigo.com/post?url={url}&title={title}&desc={text}\",\n\t\t\t\tdomelhor: \"http://domelhor.net/submit.php?url={url}&title={title}\",\n\t\t\t\tdotnetshoutout: \"http://dotnetshoutout.com/Submit?url={url}&title={title}\",\n\t\t\t\tdouban: \"http://www.douban.com/recommend/?url={url}&title={title}\",\n\t\t\t\tdropjack: \"http://www.dropjack.com/submit.php?url={url}\",\n\t\t\t\tedelight: \"http://www.edelight.de/geschenk/neu?purl={url}\",\n\t\t\t\tekudos: \"http://www.ekudos.nl/artikel/nieuw?url={url}&title={title}&desc={text}\",\n\t\t\t\telefantapl: \"http://elefanta.pl/member/bookmarkNewPage.action?url={url}&title={title}&bookmarkVO.notes=\",\n\t\t\t\tembarkons: \"http://www.embarkons.com/sharer.php?u={url}&t={title}\",\n\t\t\t\tevernote: \"http://www.evernote.com/clip.action?url={url}&title={title}\",\n\t\t\t\textraplay: \"http://www.extraplay.com/members/share.php?url={url}&title={title}&desc={text}\",\n\t\t\t\tezyspot: \"http://www.ezyspot.com/submit?url={url}&title={title}\",\n\t\t\t\tfabulously40: \"http://fabulously40.com/writeblog?subject={title}&body={url}\",\n\t\t\t\tinformazione: \"http://fai.informazione.it/submit.aspx?url={url}&title={title}&desc={text}\",\n\t\t\t\tfark: \"http://www.fark.com/cgi/farkit.pl?u={url}&h={title}\",\n\t\t\t\tfarkinda: \"http://www.farkinda.com/submit?url={url}\",\n\t\t\t\tfavable: \"http://www.favable.com/oexchange?url={url}&title={title}&desc={text}\",\n\t\t\t\tfavlogde: \"http://www.favlog.de/submit.php?url={url}\",\n\t\t\t\tflaker: \"http://flaker.pl/add2flaker.php?title={title}&url={url}\",\n\t\t\t\tfolkd: \"http://www.folkd.com/submit/{url}\",\n\t\t\t\tfresqui: \"http://fresqui.com/enviar?url={url}\",\n\t\t\t\tfriendfeed: \"http://friendfeed.com/share?url={url}&title={title}\",\n\t\t\t\tfunp: \"http://funp.com/push/submit/?url={url}\",\n\t\t\t\tfwisp: \"http://fwisp.com/submit.php?url={url}\",\n\t\t\t\tgivealink: \"http://givealink.org/bookmark/add?url={url}&title={title}\",\n\t\t\t\tgmail: \"http://mail.google.com/mail/?view=cm&fs=1&to=&su={title}&body={text}&ui=1\",\n\t\t\t\tgoodnoows: \"http://goodnoows.com/add/?url={url}\",\n\t\t\t\tgoogle: \"http://www.google.com/bookmarks/mark?op=add&bkmk={url}&title={title}&annotation={text}\",\n\t\t\t\tgoogletranslate: \"http://translate.google.com/translate?hl=en&u={url}&tl=en&sl=auto\",\n\t\t\t\tgreaterdebater: \"http://greaterdebater.com/submit/?url={url}&title={title}\",\n\t\t\t\thackernews: \"http://news.ycombinator.com/submitlink?u={url}&t={title}\",\n\t\t\t\thatena: \"http://b.hatena.ne.jp/bookmarklet?url={url}&btitle={title}\",\n\t\t\t\thedgehogs: \"http://www.hedgehogs.net/mod/bookmarks/add.php?address={url}&title={title}\",\n\t\t\t\thotmail: \"http://www.hotmail.msn.com/secure/start?action=compose&to=&subject={title}&body={{content}}\",\n\t\t\t\tw3validator: \"http://validator.w3.org/check?uri={url}&charset=%28detect+automatically%29&doctype=Inline&group=0\",\n\t\t\t\tihavegot: \"http://www.ihavegot.com/share/?url={url}&title={title}&desc={text}\",\n\t\t\t\tinstapaper: \"http://www.instapaper.com/edit?url={url}&title={title}&summary={text}\",\n\t\t\t\tisociety: \"http://isociety.be/share/?url={url}&title={title}&desc={text}\",\n\t\t\t\tiwiw: \"http://iwiw.hu/pages/share/share.jsp?v=1&u={url}&t={title}\",\n\t\t\t\tjamespot: \"http://www.jamespot.com/?action=spotit&u={url}&t={title}\",\n\t\t\t\tjumptags: \"http://www.jumptags.com/add/?url={url}&title={title}\",\n\t\t\t\tkaboodle: \"http://www.kaboodle.com/grab/addItemWithUrl?url={url}&pidOrRid=pid=&redirectToKPage=true\",\n\t\t\t\tkaevur: \"http://kaevur.com/submit.php?url={url}\",\n\t\t\t\tkledy: \"http://www.kledy.de/submit.php?url={url}&title={title}\",\n\t\t\t\tlibrerio: \"http://www.librerio.com/inbox?u={url}&t={title}\",\n\t\t\t\tlinkuj: \"http://linkuj.cz?id=linkuj&url={url}&title={title}&description={text}&imgsrc=\",\n\t\t\t\tlivejournal: \"http://www.livejournal.com/update.bml?subject={title}&event={url}\",\n\t\t\t\tlogger24: \"http://logger24.com/?url={url}\",\n\t\t\t\tmashbord: \"http://mashbord.com/plugin-add-bookmark?url={url}\",\n\t\t\t\tmeinvz: \"http://www.meinvz.net/Suggest/Selection/?u={url}&desc={title}&prov=addthis.com\",\n\t\t\t\tmekusharim: \"http://mekusharim.walla.co.il/share/share.aspx?url={url}&title={title}\",\n\t\t\t\tmemori: \"http://memori.ru/link/?sm=1&u_data[url]={url}\",\n\t\t\t\tmeneame: \"http://www.meneame.net/submit.php?url={url}\",\n\t\t\t\tmixi: \"http://mixi.jp/share.pl?u={url}\",\n\t\t\t\tmoemesto: \"http://moemesto.ru/post.php?url={url}&title={title}\",\n\t\t\t\tmyspace: \"http://www.myspace.com/Modules/PostTo/Pages/?u={url}&t={title}&c=\",\n\t\t\t\tn4g: \"http://www.n4g.com/tips.aspx?url={url}&title={title}\",\n\t\t\t\tnetlog: \"http://www.netlog.com/go/manage/links/?view=save&origin=external&url={url}&title={title}&description={text}\",\n\t\t\t\tnetvouz: \"http://netvouz.com/action/submitBookmark?url={url}&title={title}&popup=no&description={text}\",\n\t\t\t\tnewstrust: \"http://newstrust.net/submit?url={url}&title={title}&ref=addthis\",\n\t\t\t\tnewsvine: \"http://www.newsvine.com/_tools/seed&save?u={url}&h={title}&s={text}\",\n\t\t\t\tnujij: \"http://nujij.nl/jij.lynkx?u={url}&t={title}&b={text}\",\n\t\t\t\toknotizie: \"http://oknotizie.virgilio.it/post?title={title}&url={url}\",\n\t\t\t\toyyla: \"http://www.oyyla.com/gonder?phase=2&url={url}\",\n\t\t\t\tpdfonline: \"http://savepageaspdf.pdfonline.com/pdfonline/pdfonline.asp?cURL={url}\",\n\t\t\t\tpdfmyurl: \"http://pdfmyurl.com?url={url}\",\n\t\t\t\tphonefavs: \"http://phonefavs.com/bookmarks?action=add&address={url}&title={title}\",\n\t\t\t\tplaxo: \"http://www.plaxo.com/events?share_link={url}&desc={text}\",\n\t\t\t\tplurk: \"http://www.plurk.com/m?content={url}+({title})&qualifier=shares \",\n\t\t\t\tposteezy: \"http://posteezy.com/node/add/story?title={title}&body={url}\",\n\t\t\t\tpusha: \"http://www.pusha.se/posta?url={url}&title={title}&description={text}\",\n\t\t\t\trediff: \"http://share.rediff.com/bookmark/addbookmark?title={title}&bookmarkurl={url}\",\n\t\t\t\tredkum: \"http://www.redkum.com/add?url={url}&step=1&title={title}\",\n\t\t\t\tscoopat: \"http://scoop.at/submit?url={url}&title={title}&body={text}\",\n\t\t\t\tsekoman: \"http://sekoman.lv/home?status={title}&url={url}\",\n\t\t\t\tshaveh: \"http://shaveh.co.il/submit.php?url={url}&title={title}\",\n\t\t\t\tshetoldme: \"http://shetoldme.com/publish?url={url}&title={title}&body={text}\",\n\t\t\t\tsinaweibo: \"http://v.t.sina.com.cn/share/share.php?url={url}&title={title}\",\n\t\t\t\tsodahead: \"http://www.sodahead.com/news/submit/?url={url}&title={title}\",\n\t\t\t\tsonico: \"http://www.sonico.com/share.php?url={url}&title={title}\",\n\t\t\t\tspringpad: \"http://springpadit.com/s?type=lifemanagr.Bookmark&url={url}&name={title}\",\n\t\t\t\tstartaid: \"http://www.startaid.com/index.php?st=AddBrowserLink&type=Detail&v=3&urlname={url}&urltitle={title}&urldesc={text}\",\n\t\t\t\tstartlap: \"http://www.startlap.hu/sajat_linkek/addlink.php?url={url}&title={title}\",\n\t\t\t\tstudivz: \"http://www.studivz.net/Suggest/Selection/?u={url}&desc={title}&prov=addthis.com\",\n\t\t\t\tstuffpit: \"http://www.stuffpit.com/add.php?produrl={url}\",\n\t\t\t\tstumpedia: \"http://www.stumpedia.com/submit?url={url}\",\n\t\t\t\tsvejo: \"http://svejo.net/story/submit_by_url?url={url}&title={title}&summary={text}\",\n\t\t\t\tsymbaloo: \"http://www.symbaloo.com/en/add/?url={url}&title={title}\",\n\t\t\t\tthewebblend: \"http://thewebblend.com/submit?url={url}&title={title}\",\n\t\t\t\tthinkfinity: \"http://www.thinkfinity.org/favorite-bookmarklet.jspa?url={url}&subject={title}\",\n\t\t\t\tthisnext: \"http://www.thisnext.com/pick/new/submit/url/?description={text}&name={title}&url={url}\",\n\t\t\t\ttuenti: \"http://www.tuenti.com/share?url={url}\",\n\t\t\t\ttypepad: \"http://www.typepad.com/services/quickpost/post?v=2&qp_show=ac&qp_title={title}&qp_href={url}&qp_text={text}\",\n\t\t\t\tviadeo: \"http://www.viadeo.com/shareit/share/?url={url}&title={title}&urlaffiliate=32005&encoding=UTF-8\",\n\t\t\t\tvirb: \"http://virb.com/share?external&v=2&url={url}&title={title}\",\n\t\t\t\tvisitezmonsite: \"http://www.visitezmonsite.com/publier?url={url}&title={title}&body={text}\",\n\t\t\t\tvybralisme: \"http://vybrali.sme.sk/sub.php?url={url}\",\n\t\t\t\twebnews: \"http://www.webnews.de/einstellen?url={url}&title={title}\",\n\t\t\t\twirefan: \"http://www.wirefan.com/grpost.php?d=&u={url}&h={title}&d={text}\",\n\t\t\t\twordpress: \"http://wordpress.com/wp-admin/press-this.php?u={url}&t={title}&s={text}&v=2\",\n\t\t\t\twowbored: \"http://www.wowbored.com/submit.php?url={url}\",\n\t\t\t\twykop: \"http://www.wykop.pl/dodaj?url={url}&title={title}&desc={text}\",\n\t\t\t\tyahoobkm: \"http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u={url}&t={title}&d={text}\",\n\t\t\t\tyahoomail: \"http://compose.mail.yahoo.com/?To=&Subject={title}&body={{content}}\",\n\t\t\t\tyammer: \"https://www.yammer.com/home/bookmarklet?bookmarklet_pop=1&u={url}&t={title}\",\n\t\t\t\tyardbarker: \"http://www.yardbarker.com/author/new/?pUrl={url}&pHead={title}\",\n\t\t\t\tyigg: \"http://www.yigg.de/neu?exturl={url}&exttitle={title}&extdesc={text}\",\n\t\t\t\tyoolink: \"http://go.yoolink.to/addorshare?url_value={url}&title={title}\",\n\t\t\t\tyorumcuyum: \"http://www.yorumcuyum.com/?baslik={title}&link={url}\",\n\t\t\t\tyoumob: \"http://youmob.com/mobit.aspx?title={title}&mob={url}\",\n\t\t\t\tzakladoknet: \"http://zakladok.net/link/?u={url}&t={title}\",\n\t\t\t\tziczac: \"http://ziczac.it/a/segnala/?gurl={url}&gtit={title}\"\n\t\t\t};\n\t\tthis.each(function(e, h) {\n\t\t\tfor (var i = b(h), e = 0; e < i.length; e++) {\n\t\t\t\tvar j = i[e];\n\t\t\t\tif (j.substr(0, f) == c.class_prefix && g[j.substr(f)]) {\n\t\t\t\t\tvar k = d(j.substr(f));\n\t\t\t\t\ta(h).attr(\"href\", k).click(function() {\n\t\t\t\t\t\tvar b = screen.width,\n\t\t\t\t\t\t\td = screen.height,\n\t\t\t\t\t\t\te = c.width ? c.width : b - .2 * b,\n\t\t\t\t\t\t\tf = c.height ? c.height : d - .2 * d,\n\t\t\t\t\t\t\tg = b / 2 - e / 2,\n\t\t\t\t\t\t\th = d / 2 - f / 2,\n\t\t\t\t\t\t\ti = \"toolbar=0,status=0,width=\" + e + \",height=\" + f + \",top=\" + h + \",left=\" + g;\n\t\t\t\t\t\treturn window.open(a(this).attr(\"href\"), \"\", i) && !1\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n}(jQuery), function() {\n\tvar a, b = 0;\n\teqShow.shakeTrigger = function(c, d) {\n\t\tfunction e(a) {\n\t\t\tvar c = a.accelerationIncludingGravity,\n\t\t\t\td = (new Date).getTime();\n\t\t\tif (d - m > 100) {\n\t\t\t\tvar g = parseInt(d - m);\n\t\t\t\tm = d, j = c.x, k = c.y, l = c.z;\n\t\t\t\tvar i = Math.abs(j + k + l - n - o - p) / g * 1e4;\n\t\t\t\twindow.removeEventListener(\"devicemotion\", e, !0), i > h && (q || (eqShow.playTriggerSound(), q = !0), window.removeEventListener(\"devicemotion\", e, !0), f.sends && f.sends.length && $.each(f.sends, function(a, c) {\n\t\t\t\t\ttime = setTimeout(function() {\n\t\t\t\t\t\t$.each(c.handles, function(a, c) {\n\t\t\t\t\t\t\tvar d = utilTrigger.getHandleType(c.type).name;\n\t\t\t\t\t\t\t$.each(c.ids, function(a, c) {\n\t\t\t\t\t\t\t\tvar e = $(\"#inside_\" + c);\n\t\t\t\t\t\t\t\te.trigger(d, b)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 1e3 * c.delay)\n\t\t\t\t})), n = j, o = k, p = l\n\t\t\t}\n\t\t}\n\t\tvar f, g = $(d).find(\".m-img\").attr(\"id\").substring(4);\n\t\tif (c[g - 1].properties && (f = c[g - 1].properties.trigger), f && f.sends) {\n\t\t\tvar h = 4e3,\n\t\t\t\ti = PREFIX_HOST + \"/assets/audio/wxShake.mp3\";\n\t\t\ta = document.createElement(\"audio\"), a.src = i;\n\t\t\tvar j, k, l, m = 0,\n\t\t\t\tn = 0,\n\t\t\t\to = 0,\n\t\t\t\tp = 0,\n\t\t\t\tq = !1;\n\t\t\twindow.DeviceMotionEvent && d && window.addEventListener(\"devicemotion\", e, !1)\n\t\t}\n\t}, eqShow.playTriggerSound = function() {\n\t\ta && a.play()\n\t}\n}(), function() {\n\teqShow.getImagesResourceHost = function(a, b) {\n\t\treturn -1 !== location.host.indexOf(window.DOMAIN) && (-1 !== [\"2\", \"21\"].indexOf(a) && -1 !== [\"1\", \"2\", \"3\", \"4\", \"6\", \"7\", \"8\", \"9\"].indexOf(b) ? PREFIX_FILE_HOST = VIP_FILE_HOST : PREFIX_FILE_HOST = COMMON_FILE_HOST), PREFIX_FILE_HOST\n\t}\n}(), function(a) {\n\tfunction b(a, b, i) {\n\t\tvar j = 0,\n\t\t\tk = [0],\n\t\t\tl = \"\",\n\t\t\tm = null,\n\t\t\tl = i || \"UTF8\";\n\t\tif (\"UTF8\" !== l && \"UTF16\" !== l) throw \"encoding must be UTF8 or UTF16\";\n\t\tif (\"HEX\" === b) {\n\t\t\tif (0 !== a.length % 2) throw \"srcString of HEX type must be in byte increments\";\n\t\t\tm = d(a), j = m.binLen, k = m.value\n\t\t} else if (\"ASCII\" === b || \"TEXT\" === b) m = c(a, l), j = m.binLen, k = m.value;\n\t\telse {\n\t\t\tif (\"B64\" !== b) throw \"inputFormat must be HEX, TEXT, ASCII, or B64\";\n\t\t\tm = e(a), j = m.binLen, k = m.value\n\t\t}\n\t\tthis.getHash = function(a, b, c, d) {\n\t\t\tvar e, i = null,\n\t\t\t\tl = k.slice(),\n\t\t\t\tm = j;\n\t\t\tif (3 === arguments.length ? \"number\" != typeof c && (d = c, c = 1) : 2 === arguments.length && (c = 1), c !== parseInt(c, 10) || 1 > c) throw \"numRounds must a integer >= 1\";\n\t\t\tswitch (b) {\n\t\t\tcase \"HEX\":\n\t\t\t\ti = f;\n\t\t\t\tbreak;\n\t\t\tcase \"B64\":\n\t\t\t\ti = g;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow \"format must be HEX or B64\"\n\t\t\t}\n\t\t\tif (\"SHA-1\" !== a) throw \"Chosen SHA variant is not supported\";\n\t\t\tfor (e = 0; c > e; e++) l = o(l, m), m = 160;\n\t\t\treturn i(l, h(d))\n\t\t}, this.getHMAC = function(a, b, i, m, n) {\n\t\t\tvar p, q, r, s, t = [],\n\t\t\t\tu = [];\n\t\t\tswitch (p = null, m) {\n\t\t\tcase \"HEX\":\n\t\t\t\tm = f;\n\t\t\t\tbreak;\n\t\t\tcase \"B64\":\n\t\t\t\tm = g;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow \"outputFormat must be HEX or B64\"\n\t\t\t}\n\t\t\tif (\"SHA-1\" !== i) throw \"Chosen SHA variant is not supported\";\n\t\t\tif (q = 64, s = 160, \"HEX\" === b) p = d(a), r = p.binLen, p = p.value;\n\t\t\telse if (\"ASCII\" === b || \"TEXT\" === b) p = c(a, l), r = p.binLen, p = p.value;\n\t\t\telse {\n\t\t\t\tif (\"B64\" !== b) throw \"inputFormat must be HEX, TEXT, ASCII, or B64\";\n\t\t\t\tp = e(a), r = p.binLen, p = p.value\n\t\t\t}\n\t\t\tif (a = 8 * q, b = q / 4 - 1, r / 8 > q) {\n\t\t\t\tif (\"SHA-1\" !== i) throw \"Unexpected error in HMAC implementation\";\n\t\t\t\tp = o(p, r), p[b] &= 4294967040\n\t\t\t} else q > r / 8 && (p[b] &= 4294967040);\n\t\t\tfor (q = 0; b >= q; q += 1) t[q] = 909522486 ^ p[q], u[q] = 1549556828 ^ p[q];\n\t\t\tif (\"SHA-1\" !== i) throw \"Unexpected error in HMAC implementation\";\n\t\t\treturn i = o(u.concat(o(t.concat(k), a + j)), a + s), m(i, h(n))\n\t\t}\n\t}\n\tfunction c(a, b) {\n\t\tvar c, d, e = [],\n\t\t\tf = [],\n\t\t\tg = 0;\n\t\tif (\"UTF8\" === b) for (d = 0; d < a.length; d += 1) for (c = a.charCodeAt(d), f = [], c > 2048 ? (f[0] = 224 | (61440 & c) >>> 12, f[1] = 128 | (4032 & c) >>> 6, f[2] = 128 | 63 & c) : c > 128 ? (f[0] = 192 | (1984 & c) >>> 6, f[1] = 128 | 63 & c) : f[0] = c, c = 0; c < f.length; c += 1) e[g >>> 2] |= f[c] << 24 - g % 4 * 8, g += 1;\n\t\telse if (\"UTF16\" === b) for (d = 0; d < a.length; d += 1) e[g >>> 2] |= a.charCodeAt(d) << 16 - g % 4 * 8, g += 2;\n\t\treturn {\n\t\t\tvalue: e,\n\t\t\tbinLen: 8 * g\n\t\t}\n\t}\n\tfunction d(a) {\n\t\tvar b, c, d = [],\n\t\t\te = a.length;\n\t\tif (0 !== e % 2) throw \"String of HEX type must be in byte increments\";\n\t\tfor (b = 0; e > b; b += 2) {\n\t\t\tif (c = parseInt(a.substr(b, 2), 16), isNaN(c)) throw \"String of HEX type contains invalid characters\";\n\t\t\td[b >>> 3] |= c << 24 - b % 8 * 4\n\t\t}\n\t\treturn {\n\t\t\tvalue: d,\n\t\t\tbinLen: 4 * e\n\t\t}\n\t}\n\tfunction e(a) {\n\t\tvar b, c, d, e, f, g = [],\n\t\t\th = 0;\n\t\tif (-1 === a.search(/^[a-zA-Z0-9=+\\/]+$/)) throw \"Invalid character in base-64 string\";\n\t\tif (b = a.indexOf(\"=\"), a = a.replace(/\\=/g, \"\"), -1 !== b && b < a.length) throw \"Invalid '=' found in base-64 string\";\n\t\tfor (c = 0; c < a.length; c += 4) {\n\t\t\tfor (f = a.substr(c, 4), d = e = 0; d < f.length; d += 1) b = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(f[d]), e |= b << 18 - 6 * d;\n\t\t\tfor (d = 0; d < f.length - 1; d += 1) g[h >> 2] |= (e >>> 16 - 8 * d & 255) << 24 - h % 4 * 8, h += 1\n\t\t}\n\t\treturn {\n\t\t\tvalue: g,\n\t\t\tbinLen: 8 * h\n\t\t}\n\t}\n\tfunction f(a, b) {\n\t\tvar c, d, e = \"\",\n\t\t\tf = 4 * a.length;\n\t\tfor (c = 0; f > c; c += 1) d = a[c >>> 2] >>> 8 * (3 - c % 4), e += \"0123456789abcdef\".charAt(d >>> 4 & 15) + \"0123456789abcdef\".charAt(15 & d);\n\t\treturn b.outputUpper ? e.toUpperCase() : e\n\t}\n\tfunction g(a, b) {\n\t\tvar c, d, e, f = \"\",\n\t\t\tg = 4 * a.length;\n\t\tfor (c = 0; g > c; c += 3) for (e = (a[c >>> 2] >>> 8 * (3 - c % 4) & 255) << 16 | (a[c + 1 >>> 2] >>> 8 * (3 - (c + 1) % 4) & 255) << 8 | a[c + 2 >>> 2] >>> 8 * (3 - (c + 2) % 4) & 255, d = 0; 4 > d; d += 1) f = 8 * c + 6 * d <= 32 * a.length ? f + \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(e >>> 6 * (3 - d) & 63) : f + b.b64Pad;\n\t\treturn f\n\t}\n\tfunction h(a) {\n\t\tvar b = {\n\t\t\toutputUpper: !1,\n\t\t\tb64Pad: \"=\"\n\t\t};\n\t\ttry {\n\t\t\ta.hasOwnProperty(\"outputUpper\") && (b.outputUpper = a.outputUpper), a.hasOwnProperty(\"b64Pad\") && (b.b64Pad = a.b64Pad)\n\t\t} catch (c) {}\n\t\tif (\"boolean\" != typeof b.outputUpper) throw \"Invalid outputUpper formatting option\";\n\t\tif (\"string\" != typeof b.b64Pad) throw \"Invalid b64Pad formatting option\";\n\t\treturn b\n\t}\n\tfunction i(a, b) {\n\t\treturn a << b | a >>> 32 - b\n\t}\n\tfunction j(a, b, c) {\n\t\treturn a ^ b ^ c\n\t}\n\tfunction k(a, b, c) {\n\t\treturn a & b ^ ~a & c\n\t}\n\tfunction l(a, b, c) {\n\t\treturn a & b ^ a & c ^ b & c\n\t}\n\tfunction m(a, b) {\n\t\tvar c = (65535 & a) + (65535 & b);\n\t\treturn ((a >>> 16) + (b >>> 16) + (c >>> 16) & 65535) << 16 | 65535 & c\n\t}\n\tfunction n(a, b, c, d, e) {\n\t\tvar f = (65535 & a) + (65535 & b) + (65535 & c) + (65535 & d) + (65535 & e);\n\t\treturn ((a >>> 16) + (b >>> 16) + (c >>> 16) + (d >>> 16) + (e >>> 16) + (f >>> 16) & 65535) << 16 | 65535 & f\n\t}\n\tfunction o(a, b) {\n\t\tvar c, d, e, f, g, h, o, p, q, r = [],\n\t\t\ts = k,\n\t\t\tt = j,\n\t\t\tu = l,\n\t\t\tv = i,\n\t\t\tw = m,\n\t\t\tx = n,\n\t\t\ty = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];\n\t\tfor (a[b >>> 5] |= 128 << 24 - b % 32, a[(b + 65 >>> 9 << 4) + 15] = b, q = a.length, o = 0; q > o; o += 16) {\n\t\t\tfor (c = y[0], d = y[1], e = y[2], f = y[3], g = y[4], p = 0; 80 > p; p += 1) r[p] = 16 > p ? a[p + o] : v(r[p - 3] ^ r[p - 8] ^ r[p - 14] ^ r[p - 16], 1), h = 20 > p ? x(v(c, 5), s(d, e, f), g, 1518500249, r[p]) : 40 > p ? x(v(c, 5), t(d, e, f), g, 1859775393, r[p]) : 60 > p ? x(v(c, 5), u(d, e, f), g, 2400959708, r[p]) : x(v(c, 5), t(d, e, f), g, 3395469782, r[p]), g = f, f = e, e = v(d, 30), d = c, c = h;\n\t\t\ty[0] = w(c, y[0]), y[1] = w(d, y[1]), y[2] = w(e, y[2]), y[3] = w(f, y[3]), y[4] = w(g, y[4])\n\t\t}\n\t\treturn y\n\t}\n\t true ? !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n\t\treturn b\n\t}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : \"undefined\" != typeof exports ? \"undefined\" != typeof module && module.exports ? module.exports = exports = b : exports = b : a.jsSHA = b\n}(this);\nvar wechatUtils = function() {\n\t\tfunction a(a, c, d, g, h) {\n\t\t\tf = \"\", e = \"\";\n\t\t\tvar i = c.obj.name,\n\t\t\t\tj = c.obj.cover,\n\t\t\t\tk = c.obj.description || \"\",\n\t\t\t\tl = a;\n\t\t\ta.indexOf(\"toPage\") > -1 && (l = eqShow.delQueStr(a, \"toPage\"));\n\t\t\tvar k = c.obj.description || \"\",\n\t\t\t\tm = c.obj.property;\n\t\t\tif (c.list) a: for (var n = 0; n < c.list.length; n++) if (c.list[n].elements) for (var o = 0; o < c.list[n].elements.length; o++) if ((\"401\" == c.list[n].elements[o].type || \"201\" == c.list[n].elements[o].type) && \"share\" == c.list[n].elements[o].properties.type) {\n\t\t\t\tl.indexOf(\"&userKey=\") > -1 ? l = l.split(\"&userKey=\")[0] : l.indexOf(\"?userKey=\") > -1 && (l = l.split(\"?userKey=\")[0]), f = Date.now() + \"\" + Math.floor(1e5 * Math.random()), e += (/\\?/.test(l) ? \"&\" : \"?\") + \"userKey=\" + f;\n\t\t\t\tbreak a\n\t\t\t}\n\t\t\td && g && (e = \"\", l.indexOf(\"&userKey=\") > -1 ? l = l.split(\"&userKey=\")[0] : l.indexOf(\"?userKey=\") > -1 && (l = l.split(\"?userKey=\")[0]), f = Date.now() + \"\" + Math.floor(1e5 * Math.random()), e += (/\\?/.test(l) ? \"&\" : \"?\") + \"userKey=\" + f),\n\t\t\td && g && (window.wxCompData[d] = g),\n\t\t\tm && \"1\" == m.showShareCount ? (c.map || (c.map = {}, c.map.shareCount = 0), $.ajax({\n\t\t\t\ttype: \"GET\",\n\t\t\t\turl: PREFIX_S1_URL + \"eqs/scene/pv?sceneId=\" + window.scene.id,\n\t\t\t\txhrFields: {\n\t\t\t\t\twithCredentials: !0\n\t\t\t\t},\n\t\t\t\terror: function(a) {\n\t\t\t\t\t//alert(\"\")\n\t\t\t\t},\n\t\t\t\tsuccess: function(a) {\n\t\t\t\t\tk += \"\" + a + \"\" + m.shareDes, k || (k = \" \"), b(i, k, l, e, j)\n\t\t\t\t}\n\t\t\t})) : (k || (k = \" \"), b(i, k, l, e, j)),\n\t\t\th && $(\"#media\") && $(\"#media\").get(0) && $(\"#media\").get(0).play()\n\t\t}\n\t\tfunction b(a, b, d, e, f) {\n\t\t\tvar g = d + e,\n\t\t\t\th = scene.dsAppId ? DS.linkChange(g) : g;\n\t\t\twx.onMenuShareTimeline({\n\t\t\t\ttitle: a,\n\t\t\t\tlink: h,\n\t\t\t\timgUrl: PREFIX_FILE_HOST + f,\n\t\t\t\tsuccess: function() {\n\t\t\t\t\tscene.dsAppId && DS.sendRepost(\"timeline\"), c(wxCompData)\n\t\t\t\t},\n\t\t\t\tcancel: function() {}\n\t\t\t}), wx.onMenuShareAppMessage({\n\t\t\t\ttitle: a,\n\t\t\t\tdesc: b,\n\t\t\t\tlink: h,\n\t\t\t\timgUrl: PREFIX_FILE_HOST + f,\n\t\t\t\tsuccess: function() {\n\t\t\t\t\tscene.dsAppId && DS.sendRepost(\"appMessage\"), c(wxCompData)\n\t\t\t\t},\n\t\t\t\tcancel: function(a) {\n\t\t\t\t\tconsole.log(a)\n\t\t\t\t}\n\t\t\t}), wx.onMenuShareQQ({\n\t\t\t\ttitle: a,\n\t\t\t\tdesc: b,\n\t\t\t\tlink: g,\n\t\t\t\timgUrl: PREFIX_FILE_HOST + f,\n\t\t\t\tsuccess: function() {},\n\t\t\t\tcancel: function() {}\n\t\t\t}), wx.onMenuShareWeibo({\n\t\t\t\ttitle: a,\n\t\t\t\tdesc: b,\n\t\t\t\tlink: g,\n\t\t\t\timgUrl: PREFIX_FILE_HOST + f,\n\t\t\t\tsuccess: function() {},\n\t\t\t\tcancel: function() {}\n\t\t\t})\n\t\t}\n\t\tfunction c(a) {\n\t\t\tif (f) {\n\t\t\t\tvar b = {\n\t\t\t\t\tuserKey: f\n\t\t\t\t};\n\t\t\t\tweChatUser && weChatUser.headimgurl && (a.shareUserHeader = weChatUser.headimgurl), weChatUser && weChatUser.headimgurl && (a.shareUserName = weChatUser.nickname), b.data = JSON.stringify(a), $.ajax({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\turl: PREFIX_S1_URL + \"eqs/wx/component\",\n\t\t\t\t\tdata: $.param(b),\n\t\t\t\t\terror: function(a) {\n\t\t\t\t\t\talert(JSON.stringify(a))\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function(a) {}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\tfunction d(a, b) {\n\t\t\tvar c = PREFIX_S1_URL + \"index.php?c=eqs&a=wxuser\";\n\t\t\t$.ajax({\n\t\t\t\ttype: \"GET\",\n\t\t\t\turl: c,\n\t\t\t\txhrFields: {\n\t\t\t\t\twithCredentials: !0\n\t\t\t\t},\n\t\t\t\tsuccess: function(d) {\n\t\t\t\t\tif (200 === d.code) if (d.obj) window.weChatUser = d.obj, a();\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar e = eqShow.getDomain(window.location.href),\n\t\t\t\t\t\t\tf = \"\";\n\t\t\t\t\t\tb && (f = \"?toPage=\" + b), eqShow.getQueryString(\"userKey\") && (f = (/\\?/.test(c) ? \"&\" : \"?\") + \"userKey=\" + eqShow.getQueryString(\"userKey\")), window.location.href = \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=\" + APPID_WX + \"&redirect_uri=\" + encodeURIComponent(PREFIX_S1_URL + \"eqs/wx/user/info\") + \"&response_type=code&scope=snsapi_userinfo&state=\" + encodeURIComponent(\"http://\" + e + \"/v/\" + window.scene.code + f) + \"#wechat_redirect\"\n\t\t\t\t\t} else alert(\"error\")\n\t\t\t\t},\n\t\t\t\terror: function(a) {},\n\t\t\t\tcrossDomain: !0\n\t\t\t})\n\t\t}\n\t\tvar e, f;\n\t\treturn {\n\t\t\tshareWeixinWhenReady: a,\n\t\t\tshareWidthSDK: b,\n\t\t\tsaveComponentInfo: c,\n\t\t\tweChatAuth: d\n\t\t}\n\t}(window);\n!\nfunction() {\n\tfunction a(b, c) {\n\t\tvar d = 0;\n\t\t$.each(c, function(e, f) {\n\t\t\t\"shareUserHeader\" != e && \"shareUserName\" != e && (d++, 1 == d && wx.downloadImage({\n\t\t\t\tserverId: f,\n\t\t\t\tisShowProgressTips: 0,\n\t\t\t\tsuccess: function(d) {\n\t\t\t\t\teqShow.responsiveImage(d.localId, b, e, $(\"#inside_\" + e), $(\"#\" + e)), delete c[e], a(b, c)\n\t\t\t\t},\n\t\t\t\tfail: function(a) {\n\t\t\t\t\t$(\"#\" + e).css(\"display\", \"block\")\n\t\t\t\t}\n\t\t\t}))\n\t\t})\n\t}\n\twechatUtils.wechatImgUpload = function(b, c) {\n\t\tvar d, e, f = c.list;\n\t\tif ($(document).on(\"wx.img.upload\", function(a, g) {\n\t\t\twx.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: [\"original\", \"compressed\"],\n\t\t\t\tsourceType: [\"album\", \"camera\"],\n\t\t\t\tsuccess: function(a) {\n\t\t\t\t\td = a.localIds, setTimeout(function() {\n\t\t\t\t\t\twx.uploadImage({\n\t\t\t\t\t\t\tlocalId: d.toString(),\n\t\t\t\t\t\t\tisShowProgressTips: 1,\n\t\t\t\t\t\t\tsuccess: function(a) {\n\t\t\t\t\t\t\t\teqShow.responsiveImage(d, f, g, $(\"#inside_\" + g), $(\"#\" + g)), e = a.serverId, wechatUtils.shareWeixinWhenReady(b, c, g, e, !1)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 100)\n\t\t\t\t}\n\t\t\t})\n\t\t}), c.map && c.map.wxComponent) {\n\t\t\tvar g = $.extend(!0, {}, c.map.wxComponent);\n\t\t\ta(c.list, g)\n\t\t}\n\t}\n}(), function() {\n\tvar a, b = {};\n\twechatUtils.wechatAudioUpload = function(c, d) {\n\t\tfunction e(a, e) {\n\t\t\tb[e] = a, wx.uploadVoice({\n\t\t\t\tlocalId: a,\n\t\t\t\tisShowProgressTips: 1,\n\t\t\t\tsuccess: function(a) {\n\t\t\t\t\tvar b = a.serverId;\n\t\t\t\t\twechatUtils.shareWeixinWhenReady(c, d, \"wxp\" + e.substring(3), b, !1)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tfunction f(a) {\n\t\t\tvar b = document.createElement(\"audio\");\n\t\t\tb.src = a, b.play(), $(b).bind(\"ended\", function() {\n\t\t\t\teqShow.executePlay()\n\t\t\t})\n\t\t}\n\t\tfunction g(a, b) {\n\t\t\t$(\"#panel\" + a).length && $(\"#panel\" + a).remove();\n\t\t\tvar c = $(\"#wxp\" + a.substring(3)),\n\t\t\t\td = '<div class=\"voice-panel\" id=\"panel' + a + '\"><span class=\"icon eqf-voice\"></span><div class=\"voice-tip\"> </div></div>';\n\t\t\t$(d).prependTo(\".z-current\"), c.addClass(\"background-transform\"), j = setInterval(function() {\n\t\t\t\tb++, c.toggleClass(\"green-back\"), b >= 50 && $(\"#panel\" + a).text(60 - b), 60 == b && (clearInterval(j), $(\"#panel\" + a).remove(), c.removeClass(\"green-back\"), wx.onVoiceRecordEnd({\n\t\t\t\t\tcomplete: function(c) {\n\t\t\t\t\t\tb = 0, $(document).trigger(\"wx.audio.recordend\", a), eqShow.executePlay(), e(c.localId, a)\n\t\t\t\t\t}\n\t\t\t\t}))\n\t\t\t}, 1e3)\n\t\t}\n\t\tvar h, i = 0;\n\t\t$(document).on(\"wx.audio.record\", function(a, b) {\n\t\t\twx.startRecord({\n\t\t\t\tsuccess: function(a) {\n\t\t\t\t\teqShow.executePause(), h = !0, i = 0, g(b, i)\n\t\t\t\t}\n\t\t\t}), $(\"#\" + b).addClass(\"recording\").text(\" \")\n\t\t}), $(document).on(\"wx.audio.recordend\", function(a, b) {\n\t\t\tj && clearInterval(j), $(\"#\" + b).removeClass(\"recording\").text(\" \"), $(\"#panel\" + b).remove(), $(\"#wxp\" + b.substring(3)).removeClass(\"green-back\"), wx.stopRecord({\n\t\t\t\tsuccess: function(a) {\n\t\t\t\t\ti = 0, eqShow.executePlay(), e(a.localId, b)\n\t\t\t\t},\n\t\t\t\terror: function(a) {\n\t\t\t\t\talert(JSON.stringify(a))\n\t\t\t\t}\n\t\t\t})\n\t\t}), $(document).on(\"wx.audio.play\", function(c, e) {\n\t\t\tvar g = ($(\"#media\").get(0), CLIENT_CDN + \"assets/audio/wexin_sound.mp3\");\n\t\t\tutilSound.pause(), b[\"wxr\" + e.substring(3)] ? (a = b[\"wxr\" + e.substring(3)], eqShow.executePause(), wx.playVoice({\n\t\t\t\tlocalId: a\n\t\t\t})) : d.map && d.map.wxComponent && d.map.wxComponent[e] ? wx.downloadVoice({\n\t\t\t\tserverId: d.map.wxComponent[e],\n\t\t\t\tisShowProgressTips: 1,\n\t\t\t\tsuccess: function(b) {\n\t\t\t\t\tvar c = a = b.localId;\n\t\t\t\t\teqShow.executePause(), wx.playVoice({\n\t\t\t\t\t\tlocalId: c\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\terror: function(a) {\n\t\t\t\t\teqShow.executePause(), f(g)\n\t\t\t\t}\n\t\t\t}) : (eqShow.executePause(), f(g)), wx.onVoicePlayEnd({\n\t\t\t\tsuccess: function(a) {\n\t\t\t\t\teqShow.executePlay()\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t\tvar j\n\t}, wechatUtils.stopWechatSound = function() {\n\t\ta && wx.stopVoice({\n\t\t\tlocalId: a\n\t\t})\n\t}\n}();\nvar wechatConfig = function() {\n\t\tfunction a(a) {\n\t\t\tvar e = location.href.split(\"#\")[0],\n\t\t\t\tf = Date.now(),\n\t\t\t\tg = \"index.php?c=eqs&a=ticket\",\n\t\t\t\th = new RegExp(d.replace(\"h5.\", \"\")),\n\t\t\t\ti = new RegExp(d.replace(\"h5.\", \"\").replace(\"cn\", \"com\"));\n\t\t\th.test(e) || i.test(e) || (g += (/\\?/.test(g) ? \"&\" : \"?\") + \"domain=\" + c), g += (/\\?/.test(g) ? \"&\" : \"?\") + \"time=\" + (new Date).getTime(), $.ajax({\n\t\t\t\ttype: \"GET\",\n\t\t\t\turl: PREFIX_S1_URL + g,\n\t\t\t\tcrossDomain: !0\n\t\t\t}).then(function(c) {\n\t\t\t\tc.success && c.obj.appId && c.obj.ticket && -1 != c.obj.ticket && b(c.obj.appId, c.obj.ticket, a, f)\n\t\t\t}, function(a) {})\n\t\t}\n\t\tfunction b(a, b, c, d) {\n\t\t\tvar e = location.href.split(\"#\")[0],\n\t\t\t\tf = \"eqxiuview\",\n\t\t\t\tg = \"jsapi_ticket=\" + b + \"&noncestr=\" + f + \"&timestamp=\" + d + \"&url=\" + e,\n\t\t\t\th = new jsSHA(g, \"TEXT\"),\n\t\t\t\ti = h.getHash(\"SHA-1\", \"HEX\");\n\t\t\twx.config({\n\t\t\t\tdebug: !1,\n\t\t\t\tappId: a,\n\t\t\t\ttimestamp: d,\n\t\t\t\tnonceStr: f,\n\t\t\t\tsignature: i,\n\t\t\t\tjsApiList: [\"checkJsApi\", \"onMenuShareTimeline\", \"onMenuShareAppMessage\", \"onMenuShareQQ\", \"onMenuShareWeibo\", \"chooseImage\", \"previewImage\", \"uploadImage\", \"downloadImage\", \"startRecord\", \"stopRecord\", \"onVoiceRecordEnd\", \"playVoice\", \"pauseVoice\", \"stopVoice\", \"onVoicePlayEnd\", \"uploadVoice\", \"downloadVoice\"]\n\t\t\t}), wx.ready(function() {\n\t\t\t\twechatUtils.shareWeixinWhenReady(e, c, null, null, !0), wechatUtils.wechatImgUpload(e, c), wechatUtils.wechatAudioUpload(e, c)\n\t\t\t})\n\t\t}\n\t\tvar c = eqShow.getDomain(window.location.href),\n\t\t\td = eqShow.getDomain(PREFIX_SHOW_HOST);\n\t\treturn {\n\t\t\tconfigWeixin: a\n\t\t}\n\t}(window);\n!\nfunction(a) {\n\ta.completeEffect = function(a) {\n\t\treturn a.find(\".lock\").get(0) ? !1 : !0\n\t}\n}(window, jQuery), function() {\n\twindow.eqx = {}, window.eqx.money = {\n\t\tconfig: {\n\t\t\tmode: 3,\n\t\t\teffectCallback: \"editMoney\",\n\t\t\timageCallback: \"countMoney\",\n\t\t\tresources: [{\n\t\t\t\turl: CLIENT_CDN + \"common/js/countMoney.js\",\n\t\t\t\ttype: \"js\"\n\t\t\t}, {\n\t\t\t\turl: CLIENT_CDN + \"assets/images/money/moneybg.png\",\n\t\t\t\ttype: \"image\"\n\t\t\t}, {\n\t\t\t\turl: CLIENT_CDN + \"assets/images/money/moremoney.png\",\n\t\t\t\ttype: \"image\"\n\t\t\t}, {\n\t\t\t\turl: CLIENT_CDN + \"assets/images/money/flymoney.png\",\n\t\t\t\ttype: \"image\"\n\t\t\t}, {\n\t\t\t\turl: CLIENT_CDN + \"assets/images/money/float.png\",\n\t\t\t\ttype: \"image\"\n\t\t\t}, {\n\t\t\t\turl: CLIENT_CDN + \"assets/images/money/float2.png\",\n\t\t\t\ttype: \"image\"\n\t\t\t}, {\n\t\t\t\turl: CLIENT_CDN + \"assets/images/money/float3.png\",\n\t\t\t\ttype: \"image\"\n\t\t\t}]\n\t\t}\n\t}, window.eqx.snowFly = {\n\t\tconfig: {\n\t\t\tmode: 4,\n\t\t\teffectCallback: \"flyAction\",\n\t\t\tresources: [{\n\t\t\t\turl: CLIENT_CDN + \"common/js/snoweffect.js\",\n\t\t\t\ttype: \"js\"\n\t\t\t}, {\n\t\t\t\turl: CLIENT_CDN + \"common/js/threecanvas.js\",\n\t\t\t\ttype: \"js\"\n\t\t\t}]\n\t\t}\n\t}, window.eqx.rainyDay = {\n\t\tconfig: {\n\t\t\tmode: 4,\n\t\t\teffectCallback: \"rainyEffect\",\n\t\t\tresources: [{\n\t\t\t\turl: CLIENT_CDN + \"common/js/rainyday.js\",\n\t\t\t\ttype: \"js\"\n\t\t\t}, {\n\t\t\t\turl: CLIENT_CDN + \"common/js/rainyeffect.js\",\n\t\t\t\ttype: \"js\"\n\t\t\t}]\n\t\t}\n\t}, window.eqx.fireWorks = {\n\t\tconfig: {\n\t\t\tmode: 4,\n\t\t\teffectCallback: \"fireWorks\",\n\t\t\tresources: [{\n\t\t\t\turl: CLIENT_CDN + \"common/js/fireworks.js\",\n\t\t\t\ttype: \"js\"\n\t\t\t}]\n\t\t}\n\t}\n}(), function() {\n\tfunction a(a) {\n\t\tresources.loaded = !0, a instanceof Array ? a.forEach(function(a) {\n\t\t\tb(a)\n\t\t}) : b(a)\n\t}\n\tfunction b(a) {\n\t\tif (\"loading\" !== f[a.url]) {\n\t\t\tif (f[a.url]) return f[a.url];\n\t\t\tif (f[a.url] = !1, \"image\" === a.type) {\n\t\t\t\tvar b = new Image;\n\t\t\t\tf[a.url] = \"loading\", b.onload = function() {\n\t\t\t\t\tf[a.url] = b, d() && g.forEach(function(a) {\n\t\t\t\t\t\ta()\n\t\t\t\t\t})\n\t\t\t\t}, b.src = a.url\n\t\t\t} else \"js\" === a.type && (f[a.url] = \"loading\", $.getScript(a.url, function() {\n\t\t\t\tf[a.url] = !0, d() && g.forEach(function(a) {\n\t\t\t\t\ta()\n\t\t\t\t})\n\t\t\t}))\n\t\t}\n\t}\n\tfunction c(a) {\n\t\treturn f[a]\n\t}\n\tfunction d() {\n\t\tvar a = !0;\n\t\tfor (var b in f) if (f.hasOwnProperty(b) && (!f[b] || \"loading\" === f[b])) return !1;\n\t\treturn a\n\t}\n\tfunction e(a) {\n\t\tg.push(a)\n\t}\n\tvar f = {},\n\t\tg = [];\n\twindow.resources = {\n\t\tload: a,\n\t\tget: c,\n\t\tonReady: e,\n\t\tisReady: d\n\t}\n}(), function(a, b) {\n\tfunction c(a, c) {\n\t\tcompleteEffect(b(\".z-current\")) && (E = \"started\", D.length || (D = n.find(\".main-page\")), c || (B ? (a = event, q = {\n\t\t\tx: a.touches[0].pageX - n.offset().left,\n\t\t\ty: a.touches[0].pageY - n.offset().top\n\t\t}) : q = {\n\t\t\tx: a.pageX - n.offset().left,\n\t\t\ty: a.pageY - n.offset().top\n\t\t}))\n\t}\n\tfunction d(a, c) {\n\t\tif (E = \"turning\", W && W.obj.property.autoFlip && W.obj.property.autoFlipTime && m(), c || (B ? (a = event, r = {\n\t\t\tx: a.touches[0].pageX - n.offset().left,\n\t\t\ty: a.touches[0].pageY - n.offset().top\n\t\t}) : r = {\n\t\t\tx: a.pageX - n.offset().left,\n\t\t\ty: a.pageY - n.offset().top\n\t\t}), s = r.x - q.x, 0 > s) {\n\t\t\tif (x) {\n\t\t\t\tx = !1, B && p ? v = !0 : q.y >= n.height() / 2 ? t = !0 : q.y < n.height() / 2 && (u = !0), y = b(\".z-current\").get(0);\n\t\t\t\tvar d = b(y).find(\".m-img\").attr(\"id\").substring(4);\n\t\t\t\tif (o = b(\"#flip\" + d), Z || (z = b(y).parent(\".flip-mask\").get(0).nextElementSibling && b(b(y).parent(\".flip-mask\").get(0).nextElementSibling).find(\".main-page\").get(0) ? b(b(y).parent(\".flip-mask\").get(0).nextElementSibling).find(\".main-page\").get(0) : A ? D.first().get(0) : !1), z) {\n\t\t\t\t\tb(z).find(\".m-img\").attr(\"id\").substring(4);\n\t\t\t\t\tb(y).parent(\".flip-mask\").css({\n\t\t\t\t\t\tzIndex: 100,\n\t\t\t\t\t\tdisplay: \"block\"\n\t\t\t\t\t}), b(z).addClass(\"z-active\").parent(\".flip-mask\").css({\n\t\t\t\t\t\tzIndex: 99,\n\t\t\t\t\t\tdisplay: \"block\"\n\t\t\t\t\t}), i(z), completeEffect(b(z)) || b(\"#audio_btn\").css(\"opacity\", 0), t ? (b(\".z-current\").css({\n\t\t\t\t\t\ttop: o.height() - n.height() + \"px\",\n\t\t\t\t\t\tleft: \"0\"\n\t\t\t\t\t}), o.css({\n\t\t\t\t\t\ttop: \"-\" + (o.height() - n.height()) + \"px\"\n\t\t\t\t\t}), b(\".turning\").css({\n\t\t\t\t\t\ttransformOrigin: \"0% 100% 0px\",\n\t\t\t\t\t\tleft: n.width() + \"px\",\n\t\t\t\t\t\ttop: n.height() + \"px\"\n\t\t\t\t\t})) : u ? b(\".turning\").css({\n\t\t\t\t\t\ttop: \"0\",\n\t\t\t\t\t\tleft: n.width() + \"px\",\n\t\t\t\t\t\ttransformOrigin: \"0% 0% 0px\"\n\t\t\t\t\t}) : v && (b(\".z-current\").css({\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: b(this).width() - n.width() + \"px\"\n\t\t\t\t\t}), o.css({\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: -(o.width() - n.width()) + \"px\"\n\t\t\t\t\t}), b(\".turning\").css({\n\t\t\t\t\t\ttransformOrigin: \"0% 100% 0px\",\n\t\t\t\t\t\tleft: n.width() + \"px\",\n\t\t\t\t\t\ttop: 0\n\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (s > 0 && x) {\n\t\t\tx = !1, w = !0, y = b(\".z-current\").get(0);\n\t\t\tvar d = b(y).find(\".m-img\").attr(\"id\").substr(4);\n\t\t\to = b(\"#flip\" + d), Z || (z = b(y).parent(\".flip-mask\").get(0).previousElementSibling && b(b(y).parent(\".flip-mask\").get(0).previousElementSibling).find(\".main-page\").get(0) ? b(b(y).parent(\".flip-mask\").get(0).previousElementSibling).find(\".main-page\").get(0) : A ? D.last().get(0) : !1), z && (i(z), completeEffect(b(z)) || b(\"#audio_btn\").css(\"opacity\", 0), b(y).parent(\".flip-mask\").css({\n\t\t\t\tdisplay: \"block\"\n\t\t\t}), b(z).addClass(\"z-active\").parent(\".flip-mask\").css({\n\t\t\t\tzIndex: 99,\n\t\t\t\tdisplay: \"block\"\n\t\t\t}), b(\".turning\").css({\n\t\t\t\ttop: \"0\",\n\t\t\t\tleft: \"0\",\n\t\t\t\ttransformOrigin: \"0% 0% 0px\"\n\t\t\t}))\n\t\t}\n\t\tz && f(r)\n\t}\n\tfunction e(a, b) {\n\t\tif (!z) return E = \"feeling\", t = !1, u = !1, v = !1, w = !1, void(x = !0);\n\t\tE = \"leaving\";\n\t\tvar c, d, e, g;\n\t\tb ? (c = a.x, d = a.y) : B ? (c = r.x - n.offset().left, d = r.y - n.offset().top) : (c = a.pageX - n.offset().left, d = a.pageY - n.offset().top), t ? (F = 16, e = -n.width(), g = n.height(), C = setInterval(function() {\n\t\t\tc = F >= c - e ? c : c - F, d = F >= g - d ? d : d + F, f({\n\t\t\t\tx: c,\n\t\t\t\ty: d\n\t\t\t}), F >= c - e && F >= g - d && (clearInterval(C), h())\n\t\t}, 10)) : u ? (F = 16, e = -n.width(), g = 0, C = setInterval(function() {\n\t\t\tc = F >= c - e ? c : c - F, d = F >= d - g ? d : d - F, f({\n\t\t\t\tx: c,\n\t\t\t\ty: d\n\t\t\t}), F >= c - e && F >= d - g && (clearInterval(C), h())\n\t\t}, 1)) : v ? (F = 5, e = -n.width(), C = setInterval(function() {\n\t\t\tc = F >= c - e ? c : c - F, f({\n\t\t\t\tx: c,\n\t\t\t\ty: d\n\t\t\t}), F >= c - e && (clearInterval(C), h())\n\t\t}, 1)) : w && (F = 3, e = n.width(), g = 0, C = setInterval(function() {\n\t\t\tc = F >= e - c ? c : c + F, f({\n\t\t\t\tx: c,\n\t\t\t\ty: d\n\t\t\t}), F >= e - c && (clearInterval(C), h())\n\t\t}, 1))\n\t}\n\tfunction f(a) {\n\t\tt || u ? (H = n.width() - a.x, t ? I = Math.abs(n.height() - a.y) : u && (I = a.y), J = I / H, K = I / Math.sqrt(H * H + I * I), L = Math.sqrt(1 - K * K), M = Math.sqrt(H * H + I * I) / 2, N = M * J, O = Math.sqrt(N * N + M * M), P = O / J, G = 180 * Math.atan(J) / Math.PI > 0 ? 180 * Math.atan(J) / Math.PI : 0, Q = (n.width() - O) * L, R = (n.width() - O) * K * L, S = (n.width() - O) * (1 - K * K), Q >= 1 && (t ? (G > 1 ? b(\".turning\").css({\n\t\t\twidth: O + \"px\",\n\t\t\theight: P + \"px\",\n\t\t\tbackgroundColor: \"#ff0000\",\n\t\t\tbackground: \"-webkit-linear-gradient(\" + (180 - G) + \"deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)\",\n\t\t\ttransform: \"translateX(-\" + (O - 3) + \"px) translateY(-\" + (P - 3) + \"px) rotate(\" + 2 * G + \"deg) scaleX(-1)\"\n\t\t}) : g(a), T = \"0% 100% 0px\", U = \"rotate(-\" + (90 - G) + \"deg) translateY(\" + Q + \"px)\", V = \"rotate(\" + (90 - G) + \"deg) translateY(-\" + R + \"px) translateX(-\" + S + \"px)\") : u && (G > 1 ? b(\".turning\").css({\n\t\t\twidth: O + \"px\",\n\t\t\theight: P + \"px\",\n\t\t\tbackgroundColor: \"#000\",\n\t\t\tbackground: \"-webkit-linear-gradient(-\" + (180 - G) + \"deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)\",\n\t\t\ttransform: \"translateX(-\" + (O - 2) + \"px) rotate(-\" + 2 * G + \"deg) scaleX(-1)\"\n\t\t}) : g(a), T = \"0% 0% 0px\", U = \"rotate(\" + (90 - G) + \"deg) translateY(-\" + Q + \"px)\", V = \"rotate(-\" + (90 - G) + \"deg) translateY(\" + R + \"px) translateX(-\" + S + \"px)\"), o.css({\n\t\t\tzIndex: 100,\n\t\t\ttransformOrigin: T,\n\t\t\ttransform: U\n\t\t}), b(z).parent(\".flip-mask\").css({\n\t\t\tzIndex: 99,\n\t\t\tdisplay: \"block\"\n\t\t}), b(z).css({\n\t\t\tzIndex: 1e3\n\t\t}), b(y).css({\n\t\t\ttransformOrigin: T,\n\t\t\ttransform: V\n\t\t}))) : v ? (b(\".turning\").css({\n\t\t\twidth: (n.width() - a.x) / 2 + \"px\",\n\t\t\theight: n.height() + \"px\",\n\t\t\tleft: a.x + \"px\",\n\t\t\tbackground: \"-webkit-linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)\"\n\t\t}), o.css({\n\t\t\ttransformOrigin: \"0% 50% 0px\",\n\t\t\tleft: 0,\n\t\t\ttransform: \"translateX(-\" + (o.width() - a.x) + \"px)\"\n\t\t}), b(y).css({\n\t\t\ttransformOrigin: \"0% 50% 0px\",\n\t\t\ttransform: \"translateX(\" + (o.width() - a.x) + \"px)\"\n\t\t})) : w && (o.css({\n\t\t\tzIndex: 100,\n\t\t\ttransformOrigin: \"0% 50% 0px\",\n\t\t\ttransform: \"translateX(\" + a.x + \"px)\"\n\t\t}), b(y).css({\n\t\t\ttransformOrigin: \"0% 50% 0px\",\n\t\t\ttransform: \"translateX(-\" + a.x + \"px)\"\n\t\t}), b(\".turning\").css({\n\t\t\twidth: n.width() - a.x + \"px\",\n\t\t\theight: n.height() + \"px\",\n\t\t\tleft: -(n.width() - 2 * a.x) + \"px\",\n\t\t\tbackground: \"-webkit-linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)\"\n\t\t}))\n\t}\n\tfunction g(a) {\n\t\tb(\".turning\").css({\n\t\t\twidth: (n.width() - a.x + 6) / 2 + \"px\",\n\t\t\theight: n.height() + \"px\",\n\t\t\ttop: 0,\n\t\t\tleft: a.x + 2 + \"px\",\n\t\t\tbackground: \"-webkit-linear-gradient(left, #fff 0% , #d1cfc7 10%, #f2eee2 90%, #fff 100%)\",\n\t\t\ttransform: \"\",\n\t\t\tborder: 0\n\t\t})\n\t}\n\tfunction h() {\t\t\n\t\tvar a = W.list;\n\t\tW.obj.property.autoFlip && W.obj.property.autoFlipTime && l(), utilSound.pause();\n\t\tvar c = b(\"#report0\");\n\t\tc.length && c.remove(), E = \"feeling\", t = !1, u = !1, v = !1, w = !1, x = !0, s = 0, b(\".flip-mask\").css({\n\t\t\ttransform: \"\",\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tzIndex: 0\n\t\t}), b(y).removeClass(\"z-current\").css({\n\t\t\ttransform: \"\",\n\t\t\ttop: 0,\n\t\t\tleft: 0\n\t\t}), b(z).removeClass(\"z-active\").addClass(\"z-current\").css({\n\t\t\ttransform: \"\"\n\t\t}), b(\".turning\").css({\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\ttransform: \"\",\n\t\t\tbackground: \"none\"\n\t\t}), y = z;\n\t\tvar d = b(z).find(\".m-img\").attr(\"id\").substring(4);\n\t\tb(\"#flip\" + d).css({\n\t\t\tzIndex: 100\n\t\t}), b(\"#audio_btn\").css(\"opacity\", 1), z = null;\n\t\tvar e = b(y).find(\".m-img\").attr(\"id\").substring(4);\n\t\ta[e - 1].elements && a[e - 1].elements.length && b.each(a[e - 1].elements, function(a, c) {\n\t\t\t\"d\" == c.type && eqShow.getShowCount(W.obj.id).then(function(a) {\n\t\t\t\tvar d = eqShow.fixedNum(a);\n\t\t\t\tb(\"#\" + c.id).find(\".counter-number\").text(d)\n\t\t\t})\n\t\t}), $ || eqShow.showProgressBar(W, b(\"#nr\").find(\".main-page\")), $ = !0;\n\t}\n\tfunction i(a) {\n\t\tif (a) {\n\t\t\tvar c = b(a).find(\".m-img\").attr(\"id\").substring(4);\n\t\t\tb(a).find(\"li\").each(function(a) {\n\t\t\t\tfor (var d = 0; d < W.list[c - 1].elements.length; d++) W.list[c - 1].elements[d].id == parseInt(b(this).attr(\"id\").substring(7), 10) && eqxCommon.animation(b(this), W.list[c - 1].elements[d], \"view\")\n\t\t\t})\n\t\t}\n\t}\n\tfunction j() {\n\t\t\"turning\" != E && \"leaving\" != E && (q = {\n\t\t\tx: 0,\n\t\t\ty: n.height()\n\t\t}, c(q, \"mock\"), E = \"turning\", b(\".main-page\").css({\n\t\t\twidth: n.width() + \"px\",\n\t\t\theight: n.height() + \"px\"\n\t\t}), r = {\n\t\t\tx: 0,\n\t\t\ty: n.height()\n\t\t}, w = !0, C = setInterval(function() {\n\t\t\tr.x++, d(r, \"mock\"), r.x <= 250 && (clearInterval(C), e(r, \"mock\"))\n\t\t}, 1))\n\t}\n\tfunction k() {\n\t\t\"turning\" != E && \"leaving\" != E && (q = {\n\t\t\tx: n.width(),\n\t\t\ty: n.height()\n\t\t}, c(q, \"mock\"), E = \"turning\", b(\".main-page\").css({\n\t\t\twidth: n.width() + \"px\",\n\t\t\theight: n.height() + \"px\"\n\t\t}), r = {\n\t\t\tx: n.width(),\n\t\t\ty: n.height()\n\t\t}, B && p ? v = !0 : t = !0, Y = setInterval(function() {\n\t\t\tr.x -= 5, r.y -= 5, d(r, \"mock\"), r.x <= 200 && (clearInterval(Y), e(r, \"mock\"), A || z || m())\n\t\t}, 1))\n\t}\n\tfunction l() {\n\t\t_ = setInterval(function() {\n\t\t\treturn completeEffect(b(\".z-current\")) ? void k() : void m()\n\t\t}, 1e3 * X)\n\t}\n\tfunction m() {\n\t\tclearInterval(_)\n\t}\n\tvar n = b(\".nr\"),\n\t\to = null,\n\t\tp = isAndroid(),\n\t\tq = {},\n\t\tr = {},\n\t\ts = 0,\n\t\tt = !1,\n\t\tu = !1,\n\t\tv = !1,\n\t\tw = !1,\n\t\tx = !0,\n\t\ty = null,\n\t\tz = null,\n\t\tA = !1,\n\t\tB = mobilecheck(),\n\t\tC = null,\n\t\tD = [],\n\t\tE = \"feeling\",\n\t\tF = 0,\n\t\tG = 0,\n\t\tH = 0,\n\t\tI = 0,\n\t\tJ = 0,\n\t\tK = 0,\n\t\tL = 0,\n\t\tM = 0,\n\t\tN = 0,\n\t\tO = 0,\n\t\tP = 0,\n\t\tQ = 0,\n\t\tR = 0,\n\t\tS = 0,\n\t\tT = 0,\n\t\tU = 0,\n\t\tV = 0,\n\t\tW = null,\n\t\tX = 0,\n\t\tY = \"\",\n\t\tZ = !1;\n\ta.turnBook = function(a) {\n\t\tW = a, W.obj.property.autoFlip && W.obj.property.autoFlipTime && (X = W.obj.property.autoFlipTime, l()), A = W.obj.property.triggerLoop, b('<div class=\"turning\"></div>').appendTo(\".nr\"), b(\".main-page\").css({\n\t\t\twidth: b(\".nr\").width() + \"px\",\n\t\t\theight: b(\".nr\").height() + \"px\"\n\t\t}), n.on(B ? \"touchstart\" : \"mousedown\", function(a) {\n\t\t\tW.obj.property.forbidHandFlip || \"feeling\" == E && (c(a), b(\".main-page\").css({\n\t\t\t\twidth: n.width() + \"px\",\n\t\t\t\theight: n.height() + \"px\"\n\t\t\t}))\n\t\t}).on(B ? \"touchmove\" : \"mousemove\", function(a) {\n\t\t\tW.obj.property.forbidHandFlip || (\"started\" == E || \"turning\" == E) && d(a)\n\t\t}).on(B ? \"touchend\" : \"mouseup mouseleave\", function(a) {\n\t\t\treturn !W.obj.property.forbidHandFlip && (Z = !1, b(\".z-current\").get(0)) ? 0 == s ? (x = !0, void(E = \"feeling\")) : void(\"turning\" == E && e(a)) : void 0\n\t\t})\n\t};\n\tvar $ = !1;\n\ta.flipBookScroll = function(a) {\n\t\tZ = !0;\n\t\tfor (var c, d = 0, e = W.list.length; e > d; d++) a == W.list[d].id && (c = W.list[d].num);\n\t\tc || (c = a), y = b(\".z-current\").get(0);\n\t\tvar f = b(y).find(\".m-img\").attr(\"id\").substring(4),\n\t\t\tg = b(y).parent(\".flip-mask\").siblings(\".flip-mask\").find(\".main-page\").find(\"#page\" + c);\n\t\tg && (z = b(g).parent(\".main-page\").get(0), f > c ? j() : c > f && k())\n\t}, b(document).on(\"bookFlipPre\", function(a) {\n\t\tj()\n\t}), b(document).on(\"bookFlipNext\", function(a) {\n\t\tk()\n\t});\n\tvar _\n}(window, jQuery);\nvar eqxiu = function() {\n\t\tfunction a(a, d) {\n\t\t\tfor (var e, f = 0, g = n._pageData.length; g > f; f++) a == n._pageData[f].id && (e = n._pageData[f].num);\n\t\t\tif (e || (e = a), d) {\n\t\t\t\tif (1 == e) return;\n\t\t\t\t$(n.$currentPage).removeClass(\"z-current\"), n.$currentPage = $(n.$currentPage).siblings(\".main-page\").find(\"#page\" + e).parent().addClass(\"z-current\")\n\t\t\t} else if (\"10\" != n._scrollMode) {\n\t\t\t\tC = !0;\n\t\t\t\tvar h = $(n.$currentPage).find(\".m-img\").attr(\"id\").substring(4),\n\t\t\t\t\ti = $(n.$currentPage).siblings(\".main-page\").find(\"#page\" + e);\n\t\t\t\tif (!i) return;\n\t\t\t\tn.$activePage = $(i).parent(\".main-page\").get(0), h > e ? b() : e > h && c()\n\t\t\t} else flipBookScroll(a)\n\t\t}\n\t\tfunction b(a) {\n\t\t\tif (!(w && 2 == a || x && 1 == a)) if (\"10\" != n._scrollMode) {\n\t\t\t\tvar b = 0;\n\t\t\t\to();\n\t\t\t\tvar c = setInterval(function() {\n\t\t\t\t\tb += 2, \"0\" == n._scrollMode || \"1\" == n._scrollMode || \"2\" == n._scrollMode || \"6\" == n._scrollMode || \"7\" == n._scrollMode || \"8\" == n._scrollMode || \"11\" == n._scrollMode || \"12\" == n._scrollMode || \"13\" == n._scrollMode || \"14\" == n._scrollMode || \"15\" == n._scrollMode ? I = b : (\"3\" == n._scrollMode || \"4\" == n._scrollMode || \"5\" == n._scrollMode || \"9\" == n._scrollMode) && (H = b), p(), b >= 21 && (clearInterval(c), q())\n\t\t\t\t}, 1)\n\t\t\t} else $(document).trigger(\"bookFlipPre\")\n\t\t}\n\t\tfunction c(a) {\n\t\t\tif (!(w && 2 == a || x && 1 == a)) if (\"10\" != n._scrollMode) {\n\t\t\t\tu = !1;\n\t\t\t\tvar b = 0;\n\t\t\t\t\"block\" == $(\"body .boards-panel\").css(\"display\") && ($(\"body .boards-panel\").hide(), $(\"body .z-current\").show()), o();\n\t\t\t\tvar c = setInterval(function() {\n\t\t\t\t\tb -= 2, \"0\" == n._scrollMode || \"1\" == n._scrollMode || \"2\" == n._scrollMode || \"6\" == n._scrollMode || \"7\" == n._scrollMode || \"8\" == n._scrollMode || \"11\" == n._scrollMode || \"12\" == n._scrollMode || \"13\" == n._scrollMode || \"14\" == n._scrollMode || \"15\" == n._scrollMode ? I = b : (\"3\" == n._scrollMode || \"4\" == n._scrollMode || \"5\" == n._scrollMode || \"9\" == n._scrollMode) && (H = b), p(), -21 >= b && (clearInterval(c), q(), B || n.$activePage || clearInterval(z))\n\t\t\t\t}, 1)\n\t\t\t} else $(document).trigger(\"bookFlipNext\")\n\t\t}\n\t\tfunction d() {\n\t\t\tz = setInterval(function() {\n\t\t\t\t10 === n._scrollMode || J || c()\n\t\t\t}, v)\n\t\t}\n\t\tfunction e() {\n\t\t\tclearInterval(z)\n\t\t}\n\t\tfunction f() {\n\t\t\tn.$activePage = n._$pages.last().get(0), n._$pages.parent().find(\".z-current\").removeClass(\"z-current\"), n._$pages.last().addClass(\"z-current\")\n\t\t}\n\t\tfunction g(a) {\n\t\t\ta ? n._$pages.last().prev().remove() : n._$pages.last().remove()\n\t\t}\n\t\tfunction h(a) {\n\t\t\tn._scrollMode = a, r = a, _scrollMode = a\n\t\t}\n\t\tfunction i(a) {\n\t\t\tn._isforbidHandFlip = a\n\t\t}\n\t\tfunction j(a) {\n\t\t\tv = 1e3 * a, e(), d()\n\t\t}\n\t\tfunction k() {\n\t\t\tn._$pages = n._$app.find(\".main-page\")\n\t\t}\n\t\tfunction f(a) {\n\t\t\tn._$pages.parent().find(\".z-current\").removeClass(\"z-current\"), a ? (n.$activePage = n._$pages.last().prev().get(0), n._$pages.last().prev().addClass(\"z-current\")) : (n.$activePage = n._$pages.last().get(0), n._$pages.last().addClass(\"z-current\"))\n\t\t}\n\t\tfunction l(a) {\n\t\t\tn._pageData = a\n\t\t}\n\t\tfunction m(a) {\n\t\t\tB = a\n\t\t}\n\t\tvar n, o, p, q, r, s, t, u, v, w, x, y, z, A = $(window),\n\t\t\tB = !1,\n\t\t\tC = !1,\n\t\t\tD = mobilecheck(),\n\t\t\tE = tabletCheck(),\n\t\t\tF = 0,\n\t\t\tG = 0,\n\t\t\tH = 0,\n\t\t\tI = 0,\n\t\t\tJ = !1,\n\t\t\tK = !1,\n\t\t\tL = !0,\n\t\t\tM = 500,\n\t\t\tN = .4,\n\t\t\tO = function(a, b, c, e) {\n\t\t\t\tfunction f(a, b, c) {\n\t\t\t\t\tfor (var d = [\"\", \"webkit\", \"moz\"], e = 0, f = d.length; f > e; e++) {\n\t\t\t\t\t\t0 != e || mobilecheck() || (b = b.substring(0, 1).toLowerCase() + b.substring(1, b.length));\n\t\t\t\t\t\tvar g = c instanceof Array ? c[e] : c,\n\t\t\t\t\t\t\th = d[e] + b;\n\t\t\t\t\t\ta[h] = g\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction g(a, b, c) {\n\t\t\t\t\tfor (var d = [\"\", \"-webkit-\", \"-moz-\"], e = 0; e < d.length; e++) a.css(d[e] + b, c)\n\t\t\t\t}\n\t\t\t\tfunction h(a) {\n\t\t\t\t\tvar b;\n\t\t\t\t\treturn b = $(\"#inside_\" + a, \".phone-view\").length ? $(\"#inside_\" + a, \".phone-view\") : $(\"#inside_\" + a)\n\t\t\t\t}\n\t\t\t\tfunction i() {\n\t\t\t\t\tn._isDisableFlipPage = !0;\n\t\t\t\t\tvar a;\n\t\t\t\t\t\"0\" == b || \"1\" == b || \"2\" == b || \"6\" == b || \"9\" == b || \"11\" == b || \"12\" == b ? (a = I > 0 ? -t : t, g($(n.$activePage), \"transform\", \"translateY(\" + a + \"px)\"), g($(n.$currentPage), \"transform\", \"translateY(0) scale(1)\")) : (\"3\" == b || \"5\" == b) && (a = H > 0 ? -s : s, g($(n.$activePage), \"transform\", \"translateX(\" + a + \"px)\"), g($(n.$currentPage), \"transform\", \"translateX(0) scale(1)\")), setTimeout(function() {\n\t\t\t\t\t\t$(n.$currentPage).attr(\"style\", \"\"), $(n.$activePage).attr(\"style\", \"\"), $(n.$activePage).removeClass(\"z-active z-move\"), n._isDisableFlipPage = !1\n\t\t\t\t\t}, 500)\n\t\t\t\t}\n\t\t\t\tfunction j() {\n\t\t\t\t\tif (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) if (I > 0) {\n\t\t\t\t\t\tif (n._isDisableFlipPrevPage) return;\n\t\t\t\t\t\tK || L ? (K = !1, L = !1, aa(!0), ba(!0, \"bottom center\", \"translateY\", t)) : ca(!0, \"translateY\", t, I, n._scrollMode)\n\t\t\t\t\t} else if (0 > I) {\n\t\t\t\t\t\tif (n._isDisableFlipNextPage) return;\n\t\t\t\t\t\t!K || L ? (K = !0, L = !1, aa(!1), ba(!1, \"top center\", \"translateY\", t)) : ca(!1, \"translateY\", t, I, n._scrollMode)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction k() {\n\t\t\t\t\tMath.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? (da(\"translateY\", I, t, n._scrollMode), $(document).trigger(\"flipend\")) : (n._isDisableFlipPage = !1, i())\n\t\t\t\t}\n\t\t\t\tfunction l() {\n\t\t\t\t\tif (Math.abs(H) > Math.abs(I) && completeEffect($(n.$currentPage))) if (H > 0) {\n\t\t\t\t\t\tif (n._isDisableFlipPrevPage) return;\n\t\t\t\t\t\tK || L ? (K = !1, L = !1, aa(!0), ba(!0, \"center right\", \"translateX\", s)) : ca(!0, \"translateX\", s, H, n._scrollMode)\n\t\t\t\t\t} else if (0 > H) {\n\t\t\t\t\t\tif (n._isDisableFlipNextPage) return;\n\t\t\t\t\t\t!K || L ? (K = !0, L = !1, aa(!1), ba(!1, \"center left\", \"translateX\", s)) : ca(!1, \"translateX\", s, H, n._scrollMode)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction m() {\n\t\t\t\t\tMath.abs(H) > Math.abs(I) && Math.abs(H) > 20 ? (da(\"translateX\", H, s, n._scrollMode), $(document).trigger(\"flipend\")) : (n._isDisableFlipPage = !1, i())\n\t\t\t\t}\n\t\t\t\tfunction r() {\n\t\t\t\t\tif (Math.abs(H) > Math.abs(I) && completeEffect($(n.$currentPage))) if (H > 0) {\n\t\t\t\t\t\tif (n._isDisableFlipPrevPage) return;\n\t\t\t\t\t\tK || L ? (K = !1, L = !1, aa(!0), s = D ? window.innerWidth : $(\".nr\").width(), ba(!0, \"\", \"translateX\", s)) : ca(!0, \"translateX\", s, H, n._scrollMode)\n\t\t\t\t\t} else if (0 > H) {\n\t\t\t\t\t\tif (n._isDisableFlipNextPage) return;\n\t\t\t\t\t\t!K || L ? (K = !0, L = !1, aa(!1), s = D ? window.innerWidth : $(\".nr\").width(), ba(!1, \"\", \"translateX\", s)) : ca(!1, \"translateX\", s, H, n._scrollMode)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction u() {\n\t\t\t\t\tMath.abs(H) > Math.abs(I) && Math.abs(H) > 20 ? (da(\"translateX\", H, s, n._scrollMode), $(document).trigger(\"flipend\")) : (n._isDisableFlipPage = !1, i())\n\t\t\t\t}\n\t\t\t\tfunction z() {\n\t\t\t\t\tif (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) if (I > 0) {\n\t\t\t\t\t\tif (n._isDisableFlipPrevPage) return;\n\t\t\t\t\t\tK || L ? (K = !1, L = !1, aa(!0), t = D ? window.innerHeight : $(\".nr\").height(), ba(!0, \"\", \"translateY\", t)) : ca(!0, \"translateY\", t, I, n._scrollMode)\n\t\t\t\t\t} else if (0 > I) {\n\t\t\t\t\t\tif (n._isDisableFlipNextPage) return;\n\t\t\t\t\t\t!K || L ? (K = !0, L = !1, aa(!1), t = D ? window.innerHeight : $(\".nr\").height(), ba(!1, \"\", \"translateY\", t)) : ca(!1, \"translateY\", t, I, n._scrollMode)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction O() {\n\t\t\t\t\tMath.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? (da(\"translateY\", I, t, n._scrollMode), $(document).trigger(\"flipend\")) : (n._isDisableFlipPage = !1, i())\n\t\t\t\t}\n\t\t\t\tfunction P() {\n\t\t\t\t\tif (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) if (I > 0) {\n\t\t\t\t\t\tif (n._isDisableFlipNextPage) return;\n\t\t\t\t\t\t(!K || L) && (K = !0, L = !1, n.$activePage && $(n.$activePage).removeClass(\"z-move z-active\"), aa(!0), f(n.$activePage.style, \"Transform\", \"rotateX(90deg) translateY(-\" + t / 2 + \"px) translateZ(\" + t / 2 + \"px)\"), f(ea.get(0).style, \"Perspective\", \"700px\"), f(ea.get(0).style, \"TransformStyle\", \"preserve-3d\")), n.$activePage && n.$activePage.classList.contains(\"main-page\") && ($(n.$activePage).addClass(\"z-active z-move\").trigger(\"active\").css(\"zIndex\", 1), f(n.$currentPage.style, \"Transform\", \"rotateX(-\" + I / t * 90 + \"deg) translateY(\" + I / 2 + \"px) translateZ(\" + I / 2 + \"px)\"), f(n.$activePage.style, \"Transform\", \"rotateX(\" + (90 - I / t * 90) + \"deg) translateY(\" + (-(t / 2) + I / 2) + \"px) translateZ(\" + (t / 2 - I / 2) + \"px)\"))\n\t\t\t\t\t} else if (0 > I) {\n\t\t\t\t\t\tif (n._isDisableFlipNextPage) return;\n\t\t\t\t\t\t(!K || L) && (K = !0, L = !1, n.$activePage && $(n.$activePage).removeClass(\"z-move z-active\"), aa(!1), f(n.$activePage.style, \"Transform\", \"rotateX(-90deg) translateY(-\" + t / 2 + \"px) translateZ(-\" + t / 2 + \"px)\"), f(ea.get(0).style, \"Perspective\", \"700px\"), f(ea.get(0).style, \"TransformStyle\", \"preserve-3d\")), n.$activePage && n.$activePage.classList.contains(\"main-page\") ? ($(n.$activePage).addClass(\"z-active z-move\").trigger(\"active\").css(\"zIndex\", 0), f(n.$currentPage.style, \"Transform\", \"rotateX(\" + -I / t * 90 + \"deg) translateY(\" + I / 2 + \"px) translateZ(\" + -I / 2 + \"px)\"), f(n.$activePage.style, \"Transform\", \"rotateX(\" + (-90 - I / t * 90) + \"deg) translateY(\" + (t / 2 + I / 2) + \"px) translateZ(\" + (t / 2 + I / 2) + \"px)\")) : (f(n.$currentPage.style, \"Transform\", \"translateX(0px) scale(1)\"), n.$activePage = null)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction Q() {\n\t\t\t\t\tMath.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? (I > 0 ? f(n.$currentPage.style, \"Transform\", \"rotateX(-90deg) translateY(\" + t / 2 + \"px) translateZ(\" + t / 2 + \"px)\") : f(n.$currentPage.style, \"Transform\", \"rotateX(90deg) translateY(-\" + t / 2 + \"px) translateZ(\" + t / 2 + \"px)\"), f(n.$currentPage.style, \"zIndex\", \"0\"), f(n.$activePage.style, \"Transform\", \"rotateX(0deg) translateY(0px) translateZ(0px)\"), f(n.$activePage.style, \"zIndex\", \"2\"), $(document).trigger(\"flipend\")) : (f(n.$currentPage.style, \"Transition\", \"none\"), f(n.$activePage.style, \"Transition\", \"none\"), n._isDisableFlipPage = !1, i())\n\t\t\t\t}\n\t\t\t\tfunction R() {\n\t\t\t\t\tif (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) if (I > 0) {\n\t\t\t\t\t\tif (n._isDisableFlipNextPage) return;\n\t\t\t\t\t\t(!K || L) && (K = !0, L = !1, n.$activePage && $(n.$activePage).removeClass(\"z-move z-active\"), aa(!0), g(ea, \"perspective\", \"700px\"), g(ea, \"transform-style\", \"preserve-3d\"), f(n.$activePage.style, \"TransformOrigin\", \"top\"), f(n.$activePage.style, \"Transform\", \"rotateX(90deg)\")), n.$activePage && n.$activePage.classList.contains(\"main-page\") && ($(n.$activePage).addClass(\"z-active z-move\").trigger(\"active\"), f(n.$activePage.style, \"Transform\", \"rotateX(\" + (90 - I / t * 90) + \"deg) \"))\n\t\t\t\t\t} else if (0 > I) {\n\t\t\t\t\t\tif (n._isDisableFlipNextPage) return;\n\t\t\t\t\t\t(!K || L) && (K = !0, L = !1, n.$activePage && $(n.$activePage).removeClass(\"z-move z-active\"), aa(!1), f(n.$activePage.style, \"TransformOrigin\", \"bottom\"), f(n.$activePage.style, \"Transform\", \"rotateX(-90deg)\"), g(ea, \"perspective\", \"700px\"), g(ea, \"transform-style\", \"preserve-3d\")), n.$activePage && n.$activePage.classList.contains(\"main-page\") ? ($(n.$activePage).addClass(\"z-active z-move\").trigger(\"active\"), f(n.$activePage.style, \"Transform\", \"rotateX(\" + (-90 - I / t * 90) + \"deg) \")) : (f(n.$currentPage.style, \"Transform\", \"translateX(0px) scale(1)\"), n.$activePage = null)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction S() {\n\t\t\t\t\tMath.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? (I > 0 ? f(n.$activePage.style, \"Transform\", \"rotateX(0deg)\") : f(n.$activePage.style, \"Transform\", \"rotateX(0deg)\"), $(document).trigger(\"flipend\")) : (f(n.$currentPage.style, \"Transition\", \"none\"), f(n.$activePage.style, \"Transition\", \"none\"), n._isDisableFlipPage = !1, i())\n\t\t\t\t}\n\t\t\t\tfunction T() {\n\t\t\t\t\tif (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) {\n\t\t\t\t\t\tif (I > 0) {\n\t\t\t\t\t\t\tif (n._isDisableFlipPrevPage) return;\n\t\t\t\t\t\t\t(K || L) && (K = !1, L = !1, n.$activePage && (n.$activePage.classList.remove(\"z-active\"), n.$activePage.classList.remove(\"z-move\")), aa(!0), n.$activePage.style.zIndex = 2, n.$activePage && n.$activePage.classList.contains(\"main-page\") && (n.$activePage.classList.add(\"z-active\"), n.$activePage.classList.add(\"z-move\")), n.$activePage.style.opacity = 0)\n\t\t\t\t\t\t} else if (0 > I) {\n\t\t\t\t\t\t\tif (n._isDisableFlipNextPage) return;\n\t\t\t\t\t\t\t(!K || L) && (K = !0, L = !1, n.$activePage && (n.$activePage.classList.remove(\"z-active\"), n.$activePage.classList.remove(\"z-move\")), aa(!1), n.$activePage.style.zIndex = 2, n.$activePage && n.$activePage.classList.contains(\"main-page\") && (n.$activePage.classList.add(\"z-active\"), n.$activePage.classList.add(\"z-move\")), n.$activePage.style.opacity = 0)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar a = Math.abs(I) / t * 1.3;\n\t\t\t\t\t\tn.$activePage.style.opacity = a.toFixed(1), a.toFixed(3) <= 1 && g($(n.$activePage), \"transform\", \"scale(\" + a.toFixed(3) + \")\")\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction U() {\n\t\t\t\t\tMath.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? (g($(n.$activePage), \"transform\", \"scale(1)\"), n.$activePage.style.opacity = 1, $(document).trigger(\"flipend\")) : (f(n.$currentPage.style, \"Transition\", \"none\"), f(n.$activePage.style, \"Transition\", \"none\"), n._isDisableFlipPage = !1, i())\n\t\t\t\t}\n\t\t\t\tfunction V() {\n\t\t\t\t\tif (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) if (I > 0) {\n\t\t\t\t\t\tif (n._isDisableFlipPrevPage) return;\n\t\t\t\t\t\t(K || L) && (K = !1, L = !1, n.$activePage && (n.$activePage.classList.remove(\"z-active\"), n.$activePage.classList.remove(\"z-fade-in\"), n.$activePage.classList.remove(\"z-move\")), aa(!0), n.$currentPage.style.zIndex = 1, n.$activePage.style.zIndex = 2, n.$activePage && n.$activePage.classList.contains(\"main-page\") && (n.$activePage.classList.add(\"z-active\"), n.$activePage.classList.add(\"z-fade-in\"), n.$activePage.classList.add(\"z-move\")))\n\t\t\t\t\t} else if (0 > I) {\n\t\t\t\t\t\tif (n._isDisableFlipNextPage) return;\n\t\t\t\t\t\t(!K || L) && (K = !0, L = !1, n.$activePage && (n.$activePage.classList.remove(\"z-active\"), n.$activePage.classList.remove(\"z-fade-in\"), n.$activePage.classList.remove(\"z-move\")), aa(!1), n.$currentPage.style.zIndex = 1, n.$activePage && n.$activePage.classList.contains(\"main-page\") && (n.$activePage.style.zIndex = 2, n.$activePage.classList.add(\"z-active\"), n.$activePage.classList.add(\"z-fade-in\"), n.$activePage.classList.add(\"z-move\")))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction W() {\n\t\t\t\t\tMath.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? setTimeout(function() {\n\t\t\t\t\t\t$(document).trigger(\"flipend\")\n\t\t\t\t\t}, 1600) : (n._isDisableFlipPage = !1, i())\n\t\t\t\t}\n\t\t\t\tfunction X() {\n\t\t\t\t\tif (Math.abs(H) > Math.abs(I) && completeEffect($(n.$currentPage))) if (H > 0) {\n\t\t\t\t\t\tif (n._isDisableFlipPrevPage) return;\n\t\t\t\t\t\tK || L ? (K = !1, L = !1, n.$activePage && (n.$activePage.classList.remove(\"z-active\"), n.$activePage.classList.remove(\"z-move\")), aa(!0), n.$activePage && n.$activePage.classList.contains(\"main-page\") && (n.$activePage.classList.add(\"z-active\"), n.$activePage.classList.add(\"z-move\"), g($(n.$activePage), \"Transform\", \"scale(0.3) translateX(0) translateZ(-\" + t + \"px) rotateY(45deg)\"), n.$activePage.style.zIndex = \"0\"), g(ea, \"perspective\", \"1000px\"), n.$currentPage.style.zIndex = \"100\") : n.$activePage && (s / 4 >= H ? g($(n.$currentPage), \"Transform\", \"translateX(\" + H + \"px)\") : g($(n.$currentPage), \"Transform\", \"translateX(\" + 1.5 * H + \"px) scale(\" + ((5 * s / 4 - H) / s).toFixed(3) + \") rotateY(\" + H / s * 45 + \"deg) translateZ(-\" + (H - s / 4) + \"px)\"))\n\t\t\t\t\t} else if (0 > H) {\n\t\t\t\t\t\tif (n._isDisableFlipNextPage) return;\n\t\t\t\t\t\t!K || L ? (K = !0, L = !1, n.$activePage && (n.$activePage.classList.remove(\"z-active\"), n.$activePage.classList.remove(\"z-move\")), aa(!1), n.$activePage && n.$activePage.classList.contains(\"main-page\") && (n.$activePage.classList.add(\"z-active\"), n.$activePage.classList.add(\"z-move\"), g($(n.$activePage), \"Transform\", \"scale(0.3) translateX(\" + (s + 300) + \"px) translateZ(-\" + t + \"px) rotateY(-45deg)\"), n.$activePage.style.zIndex = \"0\"), g(ea, \"perspective\", \"1000px\"), n.$currentPage.style.zIndex = \"100\") : n.$activePage && (H >= -s / 4 ? g($(n.$currentPage), \"Transform\", \"translateX(\" + H + \"px)\") : g($(n.$currentPage), \"Transform\", \"translateX(\" + 1.5 * H + \"px) scale(\" + ((5 * s / 4 + H) / s).toFixed(3) + \") rotateY(\" + H / s * 45 + \"deg) translateZ(\" + (H + s / 4) + \"px)\"), g($(n.$activePage), \"Transform\", \"scale(\" + (.3 - (H + s / 4) / s).toFixed(3) + \") translateX(\" + (-H - s / 4 + 200) + \"px) translateZ(\" + (-H - 3 * s / 4) + \"px) rotateY(-\" + (45 + (H + s / 4) / s * 45) + \"deg)\"))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction Y() {\n\t\t\t\t\tMath.abs(H) > Math.abs(I) && Math.abs(H) > 20 ? (H > 0 ? (n.$currentPage.style.webkitTransformOrigin = \"left\", n.$currentPage.style.webkitTransform = \"translateX(0) translateZ(-\" + t + \"px) rotateY(0) scale(0.2)\", n.$activePage.style.webkitTransform = \"translateX(0) translateZ(0) rotateY(0) scale(1)\", n.$currentPage.style.zIndex = \"0\", n.$activePage.style.zIndex = \"1\") : (n.$currentPage.style.webkitTransformOrigin = \"right\", n.$currentPage.style.webkitTransform = \"translateX(\" + s + \"px) translateZ(-\" + t + \"px) rotateY(0) scale(0.2)\", n.$activePage.style.webkitTransform = \"translateX(0) translateZ(0) rotateY(0) scale(1)\", n.$activePage.style.zIndex = \"1\", n.$currentPage.style.zIndex = \"0\"), $(document).trigger(\"flipend\")) : (f(n.$currentPage.style, \"Transition\", \"none\"), f(n.$activePage.style, \"Transition\", \"none\"), n._isDisableFlipPage = !1, i())\n\t\t\t\t}\n\t\t\t\tfunction Z() {\n\t\t\t\t\tif (Math.abs(I) > Math.abs(H) && completeEffect($(n.$currentPage))) {\n\t\t\t\t\t\tif (I > 0) {\n\t\t\t\t\t\t\tif (n._isDisableFlipPrevPage) return;\n\t\t\t\t\t\t\t(K || L) && (K = !1, L = !1, n.$activePage && (n.$activePage.classList.remove(\"z-active\"), n.$activePage.classList.remove(\"z-move\")), aa(!0), n.$activePage && n.$activePage.classList.contains(\"main-page\") && ($(n.$activePage).addClass(\"z-active z-move\"), $(n.$activePage).css({\n\t\t\t\t\t\t\t\tzIndex: 0,\n\t\t\t\t\t\t\t\topacity: 1\n\t\t\t\t\t\t\t})), $(n.$currentPage).css({\n\t\t\t\t\t\t\t\topacity: 1\n\t\t\t\t\t\t\t}), $(n.$activePage).css({\n\t\t\t\t\t\t\t\tzIndex: 0,\n\t\t\t\t\t\t\t\topacity: 1\n\t\t\t\t\t\t\t}), g($(n.$activePage), \"transform\", \"translateY(0)\"), g($(n.$currentPage), \"transform-origin\", \"0% 0% 0px\"))\n\t\t\t\t\t\t} else if (0 > I) {\n\t\t\t\t\t\t\tif (n._isDisableFlipNextPage) return;\n\t\t\t\t\t\t\t(!K || L) && (K = !0, L = !1, n.$activePage && (n.$activePage.classList.remove(\"z-active\"), n.$activePage.classList.remove(\"z-move\")), aa(!1), n.$activePage && n.$activePage.classList.contains(\"main-page\") && (n.$activePage.classList.add(\"z-active\"), n.$activePage.classList.add(\"z-move\"), $(n.$activePage).css({\n\t\t\t\t\t\t\t\tzIndex: 0,\n\t\t\t\t\t\t\t\topacity: 1\n\t\t\t\t\t\t\t})), $(n.$currentPage).css({\n\t\t\t\t\t\t\t\topacity: 1\n\t\t\t\t\t\t\t}), $(n.$activePage).css({\n\t\t\t\t\t\t\t\tzIndex: 0,\n\t\t\t\t\t\t\t\topacity: 1\n\t\t\t\t\t\t\t}), g($(n.$activePage), \"transform\", \"translateY(0)\"), g($(n.$currentPage), \"transform-origin\", \"0% 0% 0px\"))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tn.$activePage && (g($(n.$currentPage), \"transform-origin\", \"0% 0% 0px\"), g($(n.$currentPage), \"transform\", \"rotate(\" + Math.abs(I) / t * 90 + \"deg)\"), n.$currentPage.style.opacity = ((t - Math.abs(I)) / t).toFixed(1))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction _() {\n\t\t\t\t\tMath.abs(I) > Math.abs(H) && Math.abs(I) > 20 ? (g($(n.$currentPage), \"transform\", \"translateY(\" + t + \"px) rotate(\" + Math.abs(I) / t * 90 + \"deg)\"), $(n.$currentPage).css({\n\t\t\t\t\t\topacity: .5\n\t\t\t\t\t}), $(document).trigger(\"flipend\")) : (f(n.$currentPage.style, \"Transition\", \"none\"), f(n.$activePage.style, \"Transition\", \"none\"), n._isDisableFlipPage = !1, i())\n\t\t\t\t}\n\t\t\t\tfunction aa(a) {\n\t\t\t\t\tC || (a ? n.$currentPage.previousElementSibling && n.$currentPage.previousElementSibling.classList.contains(\"main-page\") ? n.$activePage = n.$currentPage.previousElementSibling : B ? n.$activePage = n._$pages.last().get(0) : n.$activePage = !1 : n.$currentPage.nextElementSibling && n.$currentPage.nextElementSibling.classList.contains(\"main-page\") ? n.$activePage = n.$currentPage.nextElementSibling : B ? n.$activePage = n._$pages.first().get(0) : n.$activePage = !1)\n\t\t\t\t}\n\t\t\t\tfunction ba(a, b, c, d) {\n\t\t\t\t\tif (n.$activePage && (n.$activePage.classList.remove(\"z-active\"), n.$activePage.classList.remove(\"z-move\")), n.$activePage && n.$activePage.classList.contains(\"main-page\")) {\n\t\t\t\t\t\tn.$activePage.classList.add(\"z-active\"), n.$activePage.classList.add(\"z-move\");\n\t\t\t\t\t\tvar e = a ? \"-\" : \"\";\n\t\t\t\t\t\tn.$activePage.style.webkitTransition = \"none\", n.$activePage.style.webkitTransform = c + \"(\" + e + d + \"px)\", n.$activePage.style.mozTransition = \"none\", n.$activePage.style.mozTransform = c + \"(\" + e + d + \"px)\", n.$activePage.style.transition = \"none\", n.$activePage.style.transform = c + \"(\" + e + d + \"px)\", $(n.$activePage).trigger(\"active\"), b && g($(n.$currentPage), \"transform-origin\", b)\n\t\t\t\t\t} else f(n.$currentPage.style, \"Transform\", c + \"(0px) scale(1)\")\n\t\t\t\t}\n\t\t\t\tfunction ca(a, b, c, d, e) {\n\t\t\t\t\tif (n.$activePage) {\n\t\t\t\t\t\tvar f = a ? \"-\" : \"\";\n\t\t\t\t\t\tg($(n.$activePage), \"transform\", b + \"(\" + f + (c - Math.abs(d)) + \"px)\"), \"1\" == e || \"3\" == e ? g($(n.$currentPage), \"transform\", \"scale(\" + ((c - Math.abs(d)) / t).toFixed(3) + \")\") : (\"5\" == e || \"11\" == e) && g($(n.$currentPage), \"transform\", b + \"(\" + d + \"px)\")\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction da(a, b, c, d) {\n\t\t\t\t\tif (\"1\" == d || \"3\" == d) g($(n.$currentPage), \"transform\", \"scale(0.2)\");\n\t\t\t\t\telse if (\"5\" == d || \"11\" == d) {\n\t\t\t\t\t\tvar e = b > 0 ? \"\" : \"-\";\n\t\t\t\t\t\tg($(n.$currentPage), \"transform\", a + \"(\" + e + c + \"px)\")\n\t\t\t\t\t} else g($(n.$currentPage), \"transform\", \"scale(1)\");\n\t\t\t\t\tg($(n.$activePage), \"transform\", a + \"(0px)\")\n\t\t\t\t}\n\t\t\t\tthis._$app = a, this._$pages = this._$app.find(\".main-page\"), this.$currentPage = this._$pages.eq(0), this.$activePage = null, this._isInitComplete = !1, this._isDisableFlipPage = !1, this._isDisableFlipPrevPage = !1, this._isDisableFlipNextPage = !1, this._scrollMode = b, this._pageData = c, this.pageData = e, b = b, this._isforbidHandFlip = e.obj.property.forbidHandFlip, n = this, s = D || E ? window.innerWidth : a.width(), t = D || E ? window.innerHeight : a.height();\n\t\t\t\tvar ea = $(\"#con\"),\n\t\t\t\t\tfa = !1;\n\t\t\t\t(\"8\" == b || \"9\" == b) && (N = .7, M = 800), 0 == b || 1 == b || 2 == b || 6 == b || 7 == b || 8 == b || 11 == b || 12 == b ? x = !0 : (3 == b || 4 == b || 5 == b || 10 == b) && (w = !0), x ? (y = $(\".ctrl_panel_dir .ctrl-down\"), $nextCtrl = $(\".ctrl_panel_dir .ctrl-up\")) : w && (y = $(\".ctrl_panel_dir .ctrl-right\"), $nextCtrl = $(\".ctrl_panel_dir .ctrl-left\")), e.obj.property.hasOwnProperty(\"triggerLoop\") || (e.obj.property.triggerLoop = !0), B = e.obj.property.triggerLoop, e.obj.property.autoFlip && (v = 1e3 * e.obj.property.autoFlipTime, d());\n\t\t\t\tvar ga;\n\t\t\t\tif (c[0].elements && c[0].elements.length) for (var ha = 0; ha < c[0].elements.length; ha++) {\n\t\t\t\t\tga || (eqShow.shakeTrigger(c, n.$currentPage), ga = !0);\n\t\t\t\t\tvar ia = h(c[0].elements[ha].id);\n\t\t\t\t\teqxCommon.bindTrigger(ia, c[0].elements[ha])\n\t\t\t\t}\n\t\t\t\tif (function() {\n\t\t\t\t\tA.on(\"scroll.elasticity\", function(a) {\n\t\t\t\t\t\ta.preventDefault()\n\t\t\t\t\t}).on(\"touchmove.elasticity\", function(a) {\n\t\t\t\t\t\ta.preventDefault()\n\t\t\t\t\t}), A.delegate(\"img\", \"mousemove\", function(a) {\n\t\t\t\t\t\ta.preventDefault()\n\t\t\t\t\t})\n\t\t\t\t}(), \"10\" != b) {\n\t\t\t\t\tvar ja = !1;\n\t\t\t\t\tn._$app.on(\"mousedown touchstart\", function(a) {\n\t\t\t\t\t\tn._isforbidHandFlip || (o(a), ja = !0)\n\t\t\t\t\t}).on(\"mousemove touchmove\", function(a) {\n\t\t\t\t\t\tn._isforbidHandFlip || ja && p(a)\n\t\t\t\t\t}).on(\"mouseup touchend mouseleave\", function(a) {\n\t\t\t\t\t\tn._isforbidHandFlip || (q(a), ja = !1)\n\t\t\t\t\t})\n\t\t\t\t} else turnBook(e);\n\t\t\t\to = function(a) {\n\t\t\t\t\tfa = !1, D && a && (a = event), n._isDisableFlipPage || (n.$currentPage = n._$pages.filter(\".z-current\").get(0), C || (n.$activePage = null), n.$currentPage && completeEffect($(n.$currentPage)) && (J = !0, K = !1, L = !0, H = 0, I = 0, a && \"mousedown\" == a.type ? (F = a.pageX, G = a.pageY) : a && \"touchstart\" == a.type && (F = a.touches ? a.touches[0].pageX : a.originalEvent.touches[0].pageX, G = a.touches ? a.touches[0].pageY : a.originalEvent.touches[0].pageY), n.$currentPage.classList.add(\"z-move\"), f(n.$currentPage.style, \"Transition\", \"none\"), \"12\" == n._scrollMode && (n.$currentPage.style.zIndex = 3)))\n\t\t\t\t}, p = function(a) {\n\t\t\t\t\tD && a && (a = event), J && n._$pages.length > 1 && (a && \"mousemove\" == a.type ? (H = a.pageX - F, I = a.pageY - G) : a && \"touchmove\" == a.type && (H = (a.touches ? a.touches[0].pageX : a.originalEvent.touches[0].pageX) - F, I = (a.touches ? a.touches[0].pageY : a.originalEvent.touches[0].pageY) - G), !fa && (Math.abs(H) > 20 || Math.abs(I) > 20) && (fa = !0), \"0\" == n._scrollMode || \"2\" == n._scrollMode || \"1\" == n._scrollMode || \"15\" == n._scrollMode ? j() : \"4\" == n._scrollMode || \"3\" == n._scrollMode ? l() : \"5\" == n._scrollMode ? r() : \"6\" == n._scrollMode ? P() : \"7\" == n._scrollMode ? R() : \"8\" == n._scrollMode ? T() : \"9\" == n._scrollMode ? X() : \"11\" == n._scrollMode ? z() : \"12\" == n._scrollMode ? Z() : \"13\" == n._scrollMode ? V() : \"14\" == n._scrollMode && V())\n\t\t\t\t}, q = function(a) {\n\t\t\t\t\tif (J && completeEffect($(n.$currentPage))) if (J = !1, n.$activePage) {\n\t\t\t\t\t\tn._isDisableFlipPage = !0;\n\t\t\t\t\t\tvar b;\n\t\t\t\t\t\tb = \"6\" == n._scrollMode || \"7\" == n._scrollMode ? \"cubic-bezier(0,0,0.99,1)\" : \"12\" == n._scrollMode ? \"cubic-bezier(.17,.67,.87,.13)\" : \"linear\", n.$currentPage.style.webkitTransition = \"-webkit-transform \" + N + \"s \" + b, n.$activePage.style.webkitTransition = \"-webkit-transform \" + N + \"s \" + b, n.$currentPage.style.mozTransition = \"-moz-transform \" + N + \"s \" + b, n.$activePage.style.mozTransition = \"-moz-transform \" + N + \"s \" + b, n.$currentPage.style.transition = \"transform \" + N + \"s \" + b, n.$activePage.style.transition = \"transform \" + N + \"s \" + b, \"0\" == n._scrollMode || \"2\" == n._scrollMode || \"1\" == n._scrollMode || \"15\" == n._scrollMode ? k() : \"4\" == n._scrollMode || \"3\" == n._scrollMode ? m() : \"5\" == n._scrollMode ? u() : \"6\" == n._scrollMode ? Q() : \"7\" == n._scrollMode ? S() : \"8\" == n._scrollMode ? U() : \"9\" == n._scrollMode ? Y() : \"11\" == n._scrollMode ? O() : \"12\" == n._scrollMode ? _() : \"13\" == n._scrollMode ? W() : \"14\" == n._scrollMode && W();\n\t\t\t\t\t\tvar c = $(n.$activePage).find(\".m-img\").attr(\"id\").replace(\"page\", \"\") - 1;\n\t\t\t\t\t\tn._pageData[c].properties && n._pageData[c].properties.longPage && $(document).trigger(\"clearTouchPos\"), $(n.$activePage).find(\"li.comp-resize\").each(function(a) {\n\t\t\t\t\t\t\tfor (var b = 0; b < n._pageData[c].elements.length; b++) if (n._pageData[c].elements[b].id == parseInt($(this).attr(\"id\").substring(7), 10)) {\n\t\t\t\t\t\t\t\teqxCommon.animation($(this), n._pageData[c].elements[b], \"view\", n._pageData[c].properties);\n\t\t\t\t\t\t\t\tvar d = h(n._pageData[c].elements[b].id);\n\t\t\t\t\t\t\t\teqxCommon.bindTrigger(d, n._pageData[c].elements[b])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfor (var d = 0; d < n._pageData.length; d++) n._pageData[d].effObj && (n._pageData[d].effObj.pause = !0);\n\t\t\t\t\t\tn._pageData[c].effObj && n._pageData[c].effObj.startPlay(), eqShow.setPageHis(n._pageData[c].id)\n\t\t\t\t\t} else n.$currentPage.classList.remove(\"z-move\");\n\t\t\t\t\tC = !1\n\t\t\t\t}, $(document).on(\"flipend\", function(a) {\n\t\t\t\t\tcompleteEffect($(n.$activePage)) || $(\"#audio_btn\").css(\"opacity\", 0);\n\t\t\t\t\tvar d = $(\"#report0\"),\n\t\t\t\t\t\tg = $(n.$activePage).find(\".m-img\").attr(\"id\").substring(4),\n\t\t\t\t\t\th = [];\n\t\t\t\t\tc = n._pageData, c[g - 1].elements && c[g - 1].elements.length && (h = c[g - 1].elements, $.each(h, function(a, b) {\n\t\t\t\t\t\t\"d\" == b.type && eqShow.getShowCount(e.obj.id).then(function(a) {\n\t\t\t\t\t\t\tvar c = eqShow.fixedNum(a);\n\t\t\t\t\t\t\t$(\"#\" + b.id).find(\".counter-number\").text(c)\n\t\t\t\t\t\t})\n\t\t\t\t\t})), eqShow.clearTyperText(c[g - 1]), setTimeout(function() {\n\t\t\t\t\t\tf(n.$currentPage.style, \"Transition\", \"none\"), $(n.$activePage).removeClass(\"z-active z-move\").addClass(\"z-current\"), $(n.$currentPage).removeClass(\"z-current z-move\"), n._isDisableFlipPage = !1, n.$currentPage = $(n.$activePage).trigger(\"current\"), $(n.$currentPage).trigger(\"hide\"), utilSound.pause(), d.length && d.remove(), (\"8\" == b || \"9\" == b || \"12\" == b) && ($(n.$currentPage).css(\"z-index\", \"1\"), $(\".main-page\").attr(\"style\", \"\")), eqShow.shakeTrigger(c, n.$currentPage), B || (1 == g ? y.removeClass(\"enabled\") : g == n._pageData.length ? $nextCtrl.removeClass(\"enabled\") : (y.addClass(\"enabled\"), $nextCtrl.addClass(\"enabled\"))), window.wechatUtils && wechatUtils.stopWechatSound();\n\t\t//clickAnim();\n\t\tconsole.log(\"fanye\");\n\t\t\t\t\t}, M)\n\t\t\t\t}), $(document).on(\"startAutoFlip\", function(a) {\n\t\t\t\t\te.obj.property.autoFlip && d()\n\t\t\t\t}), eqShow.showProgressBar(e, n._$pages, a)\n\t\t\t};\n\t\treturn {\n\t\t\tpageScroll: a,\n\t\t\tnextPage: c,\n\t\t\tprePage: b,\n\t\t\tlastPage: f,\n\t\t\tapp: O,\n\t\t\tpauseAutoFlip: e,\n\t\t\tremoveLastPage: g,\n\t\t\tchangeScrollMode: h,\n\t\t\tstartAutoFlip: j,\n\t\t\tchangeAppPage: k,\n\t\t\tsetTriggerLoop: m,\n\t\t\tforbidHandFlip: i,\n\t\t\tsetPageData: l\n\t\t}\n\t}();\n!\nfunction(a, b) {\n\tfunction c(a, c) {\n\t\tif (!b(\"#report0\").length) {\n\t\t\tvar e = [];\n\t\t\te[0] = '<div id=\"report0\"></div>', e[1] = '<div id=\"report1\"></div>', e[2] = '<div id=\"report2\"><p><img src=\"' + CLIENT_CDN + '/view/images/jubao_03.png\" width=\"50px;\"></p><h1></h1></div>', e[3] = '<div id=\"report3\"><ul id=\"reportList\"></ul></div>', e[4] = '<div id=\"report4\"><a id=\"reportSubmit\" data-event=\"11203\"></a></div>', b(e[0]).appendTo(\"#page\" + a), b(e[1]).appendTo(\"#report0\");\n\t\t\tfor (var f = 2; 4 >= f; f++) b(e[f]).appendTo(\"#report1\");\n\t\t\td(c)\n\t\t}\n\t}\n\tfunction d(a) {\n\t\tif (g.length) return void e(g, a);\n\t\tvar c = PREFIX_S1_URL + \"eqs/class/expose_types\";\n\t\tb.ajax({\n\t\t\ttype: \"GET\",\n\t\t\turl: c,\n\t\t\txhrFields: {\n\t\t\t\twithCredentials: !0\n\t\t\t},\n\t\t\tcrossDomain: !0\n\t\t}).then(function(b) {\n\t\t\tb.success && (g = b.list, e(g, a))\n\t\t})\n\t}\n\tfunction e(a, c) {\n\t\tfor (var d, e = 0, g = a.length; g > e; e++) {\n\t\t\tvar h = '<li value=\"' + a[e].value + '\"><span>' + a[e].name + \"</span></li>\";\n\t\t\tb(h).appendTo(\"#reportList\")\n\t\t}\n\t\tvar i = b(\"#reportList\").find(\"li\").eq(0);\n\t\ti.addClass(\"active\"), d = i.val(), b(\"#reportList\").find(\"li\").click(function(a) {\n\t\t\tb(this).siblings().removeClass(\"active\"), b(this).addClass(\"active\"), d = b(this).val()\n\t\t}), b(\"#reportSubmit\").click(function(a) {\n\t\t\tf(c, d)\n\t\t}), b(\"#report0\").parent(\".m-img\").click(function(a) {\n\t\t\tb(\"#report0\").remove()\n\t\t}), b(\"#report0\").click(function(a) {\n\t\t\ta.stopPropagation()\n\t\t})\n\t}\n\tfunction f(a, c) {\n\t\tvar d = PREFIX_URL + \"eqs/expose\",\n\t\t\te = {\n\t\t\t\tsceneId: a,\n\t\t\t\ttype: c\n\t\t\t};\n\t\tb.ajax({\n\t\t\ttype: \"POST\",\n\t\t\turl: d,\n\t\t\tdata: b.param(e),\n\t\t\txhrFields: {\n\t\t\t\twithCredentials: !0\n\t\t\t},\n\t\t\tcrossDomain: !0\n\t\t}).then(function(a) {\n\t\t\ta.success && (b(\"#report0\").remove(), alert(\"\"))\n\t\t}, function(a) {\n\t\t\tb(\"#report0\").remove()\n\t\t})\n\t}\n\ta.addReport = function(a, d) {\n\t\tvar e = '',\n\t\t\tf = b(\"#page\" + a).find(\".edit_wrapper\").find(\"ul\");\n\t\tb(e).appendTo(f).click(function(b) {\n\t\t\tb.stopPropagation(), c(a, d)\n\t\t})\n\t};\n\tvar g = []\n}\n(window, jQuery), function(window, $) {\n\tfunction appendActivityPage(a, b) {\n\t\ta.obj.property.activityPageId && (activityPagePromise = $.ajax({\n\t\t\ttype: \"GET\",\n\t\t\turl: PREFIX_S2_URL + \"?c=scene&a=getlastpagebg&id=\" + a.obj.property.activityPageId,\n\t\t\tcrossDomain: !0,\n\t\t\tsuccess: function(a) {\n\t\t\t\ta.obj && b.push(a.obj)\n\t\t\t}\n\t\t}))\n\t}\n\tfunction internationalLastPage(a, b, c) {\n\t\tvar d = '{\"id\":\"\",\"sceneId\":\"\",\"num\":2,\"name\":null,\"properties\":null,\"elements\":[{\"id\":439880,\"pageId\":129810,\"sceneId\":16060,\"num\":0,\"type\":\"3\",\"isInput\":0,\"title\":null,\"content\":null,\"status\":1,\"css\":{},\"properties\":{\"bgColor\":\"#E6E9EE\"}},{\"id\":439881,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div style=\\\\\"text-align: center;\\\\\"><span style=\\\\\"line-height: 1; background-color: initial;\\\\\"><font size=\\\\\"4\\\\\" color=\\\\\"#888888\\\\\"><b></b></font></span></div>\",\"status\":1,\"css\":{\"height\":\"65\",\"zIndex\":\"10\",\"width\":\"320\",\"left\":\"0px\",\"top\":\"77px\"},\"properties\":{}},{\"id\":439882,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"4\",\"isInput\":0,\"title\":null,\"content\":null,\"status\":1,\"css\":{\"borderRadius\":\"10px\",\"borderStyle\":\"solid\",\"zIndex\":\"9\",\"borderColor\":\"rgba(0,0,0,1)\",\"paddingTop\":\"0px\",\"height\":\"141\",\"backgroundColor\":\"\",\"color\":\"\",\"boxShadow\":\"0px 0px 0px #333333\",\"borderWidth\":\"0px\",\"width\":\"142.13709677419354\",\"left\":\"92px\",\"paddingBottom\":\"0px\",\"top\":\"177px\"},\"properties\":{\"height\":\"100px\",\"imgStyle\":{\"width\":142,\"height\":142,\"marginTop\":\"-0.5px\",\"marginLeft\":\"0px\"},\"width\":\"100px\",\"src\":\"group1/M00/BA/DA/yq0KA1Rq8COAAYRjAAKU4OVYum0889.jpg\"}},{\"id\":439883,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"4\",\"isInput\":0,\"title\":null,\"content\":null,\"status\":1,\"css\":{\"height\":\"16\",\"zIndex\":\"11\",\"width\":\"280\",\"left\":\"21px\",\"top\":\"122px\"},\"properties\":{\"height\":\"100px\",\"imgStyle\":{\"width\":280,\"height\":73,\"marginTop\":\"-24px\",\"marginLeft\":\"0px\"},\"width\":\"100px\",\"src\":\"' + CLIENT_CDN + 'view/images/line.png\"}},';\n\t\treturn 100 == a.obj.bizType && isMobile && (d += '{\"id\":439884,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div id=\\\\\"eqx-share-container\\\\\" style=\\\\\"text-align: center;padding-top: 0;\\\\\"></div>\",\"status\":1,\"css\":{\"height\":\"45\",\"zIndex\":\"11\",\"width\":\"280\",\"left\":\"21px\",\"top\":\"360px\",\"text-align\": \"center\"},\"properties\":{\"anim\":[{\"type\":20,\"direction\":0,\"duration\":\"1\",\"delay\":\"1\",\"countNum\":\"1\"}]}},'), d += '{\"id\":439885,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div style=\\\\\"text-align: center;padding-top: 0;\\\\\"><span style=\\\\\"font-size: small; line-height: 1; background-color: initial;\\\\\"><a href=\\\\\"' + PREFIX_S1_URL + \"eqs/link?id=16060&amp;url=\" + encodeURIComponent(redirectUrl) + '\\\\\" target=\\\\\"_blank\\\\\"><img style=\\\\\"width: 140px;\\\\\" src=\\\\\"' + CLIENT_CDN + 'assets/images/available-on-the-app-store.png\\\\\"></a></span></div>\",\"status\":1,\"css\":{\"borderRadius\":\"0px\",\"borderStyle\":\"solid\",\"height\":\"50\",\"paddingTop\":\"0px\",\"borderColor\":\"rgba(222,220,227,1)\",\"zIndex\":\"12\",\"boxShadow\":\"0px 0px 0px rgba(200,200,200,0.6)\",\"color\":\"\",\"backgroundColor\":\"rgba(255,255,255,0)\",\"borderWidth\":\"0px\",\"width\":\"320\",\"left\":\"1px\",\"paddingBottom\":\"20px\",\"top\":\"410px\"},\"properties\":{\"anim\":{\"type\":1,\"direction\":3,\"duration\":\"1\",\"delay\":\"0.6\"}}}]}'\n\t}\n\tfunction eqFreepage(a, b, c) {\n\t\tfunction d(a, b, c) {\n\t\t\tactivityPagePromise ? activityPagePromise.done(function() {\n\t\t\t\tc.list.push(a), parsePage(b, c)\n\t\t\t}).fail(function() {\n\t\t\t\tc.list.push(a), parsePage(b, c)\n\t\t\t}) : (c.list.push(a), parsePage(b, c))\n\t\t}\n\t\tvar e = '{\"id\":\"\",\"sceneId\":\"\",\"num\":2,\"name\":null,\"properties\":null,\"elements\":[{\"id\":439880,\"pageId\":129810,\"sceneId\":16060,\"num\":0,\"type\":\"3\",\"isInput\":0,\"title\":null,\"content\":null,\"status\":1,\"css\":{},\"properties\":{\"bgColor\":\"#E6E9EE\"}},{\"id\":439881,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div style=\\\\\"text-align: center;\\\\\"><span style=\\\\\"line-height: 1; background-color: initial;\\\\\"><font size=\\\\\"4\\\\\" color=\\\\\"#888888\\\\\"><b></b></font></span></div>\",\"status\":1,\"css\":{\"height\":\"65\",\"zIndex\":\"10\",\"width\":\"320\",\"left\":\"0px\",\"top\":\"77px\"},\"properties\":{}},{\"id\":439882,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"4\",\"isInput\":0,\"title\":null,\"content\":null,\"status\":1,\"css\":{\"borderRadius\":\"10px\",\"borderStyle\":\"solid\",\"zIndex\":\"9\",\"borderColor\":\"rgba(0,0,0,1)\",\"paddingTop\":\"0px\",\"height\":\"141\",\"backgroundColor\":\"\",\"color\":\"\",\"boxShadow\":\"0px 0px 0px #333333\",\"borderWidth\":\"0px\",\"width\":\"142.13709677419354\",\"left\":\"92px\",\"paddingBottom\":\"0px\",\"top\":\"177px\"},\"properties\":{\"height\":\"100px\",\"imgStyle\":{\"width\":142,\"height\":142,\"marginTop\":\"-0.5px\",\"marginLeft\":\"0px\"},\"width\":\"100px\",\"src\":\"group1/M00/BA/DA/yq0KA1Rq8COAAYRjAAKU4OVYum0889.jpg\"}},{\"id\":439883,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"4\",\"isInput\":0,\"title\":null,\"content\":null,\"status\":1,\"css\":{\"height\":\"16\",\"zIndex\":\"11\",\"width\":\"280\",\"left\":\"21px\",\"top\":\"122px\"},\"properties\":{\"height\":\"100px\",\"imgStyle\":{\"width\":280,\"height\":73,\"marginTop\":\"-24px\",\"marginLeft\":\"0px\"},\"width\":\"100px\",\"src\":\"' + CLIENT_CDN + 'view/images/line.png\"}},{\"id\":439885,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div style=\\\\\"text-align: center;padding-top: 0;\\\\\"><span style=\\\\\"font-size: small; line-height: 1; background-color: initial;\\\\\"><a href=\\\\\"' + PREFIX_S1_URL + \"index.php?c=scene&a=link&id=16060&amp;url=\" + encodeURIComponent(lastpagelink) + '\\\\\" target=\\\\\"_blank\\\\\"><font color=\\\\\"#888888\\\\\"></font><font color=\\\\\"'+lastpagetext_color+'\\\\\">'+lastpagetext+'</font></a></span></div>\",\"status\":1,\"css\":{\"borderRadius\":\"0px\",\"borderStyle\":\"solid\",\"height\":\"30\",\"paddingTop\":\"0px\",\"borderColor\":\"rgba(222,220,227,1)\",\"zIndex\":\"12\",\"boxShadow\":\"0px 0px 0px rgba(200,200,200,0.6)\",\"color\":\"\",\"backgroundColor\":\"rgba(255,255,255,0)\",\"borderWidth\":\"0px\",\"width\":\"320\",\"left\":\"1px\",\"paddingBottom\":\"20px\",\"top\":\"420px\"},\"properties\":{\"anim\":{\"type\":1,\"direction\":3,\"duration\":\"1\",\"delay\":\"0.6\"}}}]}',\n\t\t\te = '{\"id\":\"\",\"sceneId\":\"\",\"num\":2,\"name\":null,\"properties\":null,\"elements\":[{\"id\":439880,\"pageId\":129810,\"sceneId\":16060,\"num\":0,\"type\":\"3\",\"isInput\":0,\"title\":null,\"content\":null,\"status\":1,\"css\":{},\"properties\":{\"bgColor\":\"#E6E9EE\"}},{\"id\":439881,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div style=\\\\\"text-align: center;\\\\\"><span style=\\\\\"line-height: 1; background-color: initial;\\\\\"><font size=\\\\\"4\\\\\" color=\\\\\"#888888\\\\\"><b></b></font></span></div>\",\"status\":1,\"css\":{\"height\":\"65\",\"zIndex\":\"10\",\"width\":\"320\",\"left\":\"0px\",\"top\":\"77px\"},\"properties\":{}},{\"id\":439882,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div class=\\\\\"bottom-logo\\\\\" style=\\\\\"text-align: center;cursor:pointer;height:142px;width:142px;border-radius:10px;\\\\\"><em style=\\\\\"color:white;line-height:142px;font-size:120px;\\\\\" class=\\\\\"eqf-eqxiu\\\\\"></em></div>\",\"status\":1,\"css\":{\"height\":\"157\",\"width\":\"172\",\"left\":\"77px\",\"top\":\"170px\"},\"properties\":{}},{\"id\":439883,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div style=\\\\\"width:280px;height:1px;background-color:rgba(60,60,60,0.4);cursor:pointer;position:absolute;left:0;-webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));top:12px;\\\\\"></div>\",\"status\":1,\"css\":{\"height\":\"24\",\"width\":\"280\",\"left\":\"21px\",\"top\":\"122px\"},\"properties\":{}},{\"id\":439885,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div style=\\\\\"text-align: center;padding-top: 0;\\\\\"><span style=\\\\\"font-size: small; line-height: 1; background-color: initial;\\\\\"><a href=\\\\\"' + PREFIX_S1_URL + \"index.php?c=scene&a=link&id=16060&amp;url=\" + encodeURIComponent(lastpagelink) + '\\\\\" target=\\\\\"_blank\\\\\"><font color=\\\\\"#888888\\\\\"></font><font color=\\\\\"'+lastpagetext_color+'\\\\\">'+lastpagetext+'</font></a></span></div>\",\"status\":1,\"css\":{\"borderRadius\":\"0px\",\"borderStyle\":\"solid\",\"height\":\"30\",\"paddingTop\":\"0px\",\"borderColor\":\"rgba(222,220,227,1)\",\"zIndex\":\"12\",\"boxShadow\":\"0px 0px 0px rgba(200,200,200,0.6)\",\"color\":\"\",\"backgroundColor\":\"rgba(255,255,255,0)\",\"borderWidth\":\"0px\",\"width\":\"320\",\"left\":\"1px\",\"paddingBottom\":\"20px\",\"top\":\"420px\"},\"properties\":{\"anim\":{\"type\":1,\"direction\":3,\"duration\":\"1\",\"delay\":\"0.6\"}}}]}';\n\t\t100 == a.obj.bizType && (e = internationalLastPage(a, b, c));\n\t\tvar f = '{\"id\":439882,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"4\",\"isInput\":0,\"title\":null,\"content\":null,\"status\":1,\"css\":{\"borderRadius\":\"10px\",\"borderStyle\":\"solid\",\"zIndex\":\"9\",\"borderColor\":\"rgba(0,0,0,1)\",\"paddingTop\":\"0px\",\"height\":\"141\",\"backgroundColor\":\"\",\"color\":\"\",\"boxShadow\":\"0px 0px 0px #333333\",\"borderWidth\":\"0px\",\"width\":\"142.13709677419354\",\"left\":\"92px\",\"paddingBottom\":\"0px\",\"top\":\"177px\"},\"properties\":{\"height\":\"100px\",\"imgStyle\":{\"width\":142,\"height\":142,\"marginTop\":\"-0.5px\",\"marginLeft\":\"0px\"},\"width\":\"100px\",\"src\":\"group1/M00/BA/DA/yq0KA1Rq8COAAYRjAAKU4OVYum0889.jpg\"}}',\n\t\t\tg = '{\"id\":81395,\"pageId\":\"\",\"sceneId\":\"\",\"num\":1,\"type\":\"4\",\"isInput\":0,\"title\":null,\"content\":null,\"status\":1,\"css\":{\"borderRadius\":\"%\",\"borderStyle\":\"solid\",\"height\":\"158\",\"zIndex\":\"1000\",\"paddingTop\":\"0px\",\"borderColor\":\"rgba(0,0,0,1)\",\"boxShadow\":\"0 0px 0px #333333\",\"color\":\"#000000\",\"backgroundColor\":\"white\",\"borderWidth\":\"0px\",\"width\":\"158\",\"left\":\"84px\",\"paddingTop\":\"11px\",\"paddingLeft\":\"10px\",\"top\":\"170px\"},\"properties\":{\"height\":\"100px\",\"imgStyle\":{\"width\":139,\"height\":136,\"marginTop\":\"0px\",\"marginLeft\":\"0px\"},\"width\":\"100px\",\"src\":\"group1/M00/01/30/yq0JCFQpOR-AOULFAAFBPO1yzBQ984.jpg\",\"originSrc\":\"'+ (lastpagelogo)+'\"}}',\n\t\t\th = '{\"id\":439882,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div class=\\\\\"bottom-logo\\\\\" style=\\\\\"text-align: center;cursor:pointer;height:136px;width:139px;\\\\\"><em style=\\\\\"color:white;line-height:136px;font-size:120px;\\\\\" class=\\\\\"eqf-eqxiu\\\\\"></em></div>\",\"status\":1,\"css\":{\"height\":\"158\",\"width\":\"158\",\"left\":\"84px\",\"top\":\"170px\",\"backgroundColor\":\"white\"},\"properties\":{}}',\n\t\t\ti = '{\"id\":81465,\"pageId\":\"\",\"sceneId\":\"\",\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div style=\\\\\"text-align: center;\\\\\"><font color=\\\\\"#ffffff\\\\\" size=\\\\\"3\\\\\"></font></div>\",\"status\":1,\"css\":{\"zIndex\":\"102\",\"height\":\"65\",\"width\":\"320\",\"left\":\"0px\",\"top\":\"70px\"},\"properties\":{}}',\n\t\t\tj = '{\"id\":2557867,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div class=\\\\\"logo-shadow1\\\\\" style=\\\\\"text-align: center;cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);position:absolute;left:20px;top:56px;\\\\\"></div>\",\"status\":1,\"css\":{\"height\":\"257\",\"width\":\"257\",\"left\":\"78px\",\"top\":\"175px\"},\"properties\":{}}',\n\t\t\tk = '{\"id\":439883,\"pageId\":129810,\"sceneId\":16060,\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div style=\\\\\"width:280px;height:1px;background-color:rgba(60,60,60,0.4);cursor:pointer;position:absolute;left:0;-webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));top:12px;\\\\\"></div>\",\"status\":1,\"css\":{\"height\":\"24\",\"width\":\"280\",\"left\":\"21px\",\"top\":\"122px\"},\"properties\":{}}';\n\t\tif (ad = 1, a.obj.property.lastPageId) customLastPage = !0, $.ajax({\n\t\t\ttype: \"GET\",\n\t\t\turl: PREFIX_S2_URL + \"?c=scene&a=getlastpagebg&id=\" + a.obj.property.lastPageId,\n\t\t\tcrossDomain: !0,\n\t\t\tsuccess: function(c) {\n\t\t\t\tif (!c.obj) {\n\t\t\t\t\te = e.replace(/id=16060/, \"id=\" + a.obj.id);\n\t\t\t\t\tvar f = JSON.parse(e);\n\t\t\t\t\treturn f.num = a.list.length + 1, f.elements[2].properties.src = a.obj.cover.replace(\"/strip\", \"\"), f.elements[1].content = f.elements[1].content.replace(//, a.obj.name), f.elements[1].properties.height = 65, f.elements[1].height = 65, void d(f, b, a)\n\t\t\t\t}\n\t\t\t\tc.obj.sceneId = a.obj.id;\n\t\t\t\tfor (var l, m = 0; m < c.obj.elements.length; m++)\"4\" != c.obj.elements[m].type || \"group1/M00/A5/5E/yq0KA1QmePmAKr7yAAEByp5jyLc752.jpg\" != c.obj.elements[m].properties.src && \"group1/M00/C5/9D/yq0KA1SH1zuAFgkLAAAFgBR8hJs456.png\" != c.obj.elements[m].properties.src && \"group1/M00/C5/3F/yq0KA1SHp-2AQZZZAAB-7rIaK6I743.png\" != c.obj.elements[m].properties.src && \"group1/M00/C5/9D/yq0KA1SH1zuAeQuFAAAFfUkeXDc110.png\" != c.obj.elements[m].properties.src || (c.obj.elements.splice(m, 1), m--);\n\t\t\t\t\"group1/M00/61/8A/yq0KA1T2vYSAEgo7AACovQVgHxk048.jpg\" != a.obj.cover ? (l = JSON.parse(g), l.properties.src = a.obj.cover.replace(\"/strip\", \"\")) : l = JSON.parse(h), c.obj.elements.push(l), c.obj.elements.push(JSON.parse(j)), c.obj.elements.push(JSON.parse(k));\n\t\t\t\tvar n = JSON.parse(i);\n\t\t\t\tn.content = n.content.replace(//, a.obj.name), c.obj.elements.push(n);\n\t\t\t\tfor (var m = 0; m < c.obj.elements.length; m++)\"2\" === c.obj.elements[m].type ? /http:\\/\\/service.eqxiu.com\\/eqs\\/link/.test(c.obj.elements[m].content) && (c.obj.elements[m].content = c.obj.elements[m].content.replace(/;url=.*com\"/, \";url=\" + encodeURIComponent(redirectUrl) + '\"')) : \"3\" === c.obj.elements[m].type && c.obj.elements[m].properties.imgSrc ? c.obj.elements[m].properties.imgSrc = window.moblieViewImgBg ? window.moblieViewImgBg + c.obj.elements[m].properties.imgSrc : c.obj.elements[m].properties.imgSrc : \"4\" === c.obj.elements[m].type && c.obj.elements[m].properties.src && (c.obj.elements[m].properties.src = window.moblieViewImgBg ? window.moblieViewImgBg + c.obj.elements[m].properties.src : c.obj.elements[m].properties.src);\n\t\t\t\td(c.obj, b, a)\n\t\t\t}\n\t\t});\n\t\telse {\n\t\t\te = e.replace(/id=16060/, \"id=\" + a.obj.id);\n\t\t\tvar l = JSON.parse(e);\n\t\t\tl.num = a.list.length + 1, a.obj.cover = window.moblieViewImgBg ? window.moblieViewImgBg + a.obj.cover : a.obj.cover, \"group1/M00/00/0D/wKj5L1aog9iANhl8AAAdI0Feqt0377.jpg\" != a.obj.cover && (l.elements[2] = JSON.parse(f), l.elements[2].properties.src = a.obj.cover.replace(\"/strip\", \"\")), l.elements[1].content = l.elements[1].content.replace(//, a.obj.name), d(l, b, a)\n\t\t}\n\t}\n\tfunction eqDefaultBottomLabel(a, b) {\n\t\tvar c = '{\"id\":480292,\"pageId\":136042,\"sceneId\":16060,\"num\":1,\"type\":\"2\",\"isInput\":0,\"title\":null,\"content\":\"<div style=\\\\\"text-align: center;transform: none;-webkit-animation: fadeIn 2s ease 1s both;-webkit-animation-play-state: initial;\\\\\"><a href=\\\\\"' + PREFIX_S1_URL + \"eqs/link?id=16060&amp;url=\" + encodeURIComponent(redirectUrl) + '\\\\\" target=\\\\\"_blank\\\\\" style=\\\\\"font-size: x-small;display:block;line-height: 10px;\\\\\" data-event=\\\\\"1120202\\\\\"><font color=\\\\\"#ffffff\\\\\">' + companyName + '</font></a></div>\",\"status\":1,\"css\":{\"zIndex\":\"1000\",\"height\":\"20\",\"width\":\"129\",\"left\":\"97px\",\"top\":\"418px\",\"backgroundColor\":\"rgba(0,0,0,0.6)\",\"borderRadius\":\"20px\"},\"properties\":{\"anim\":{\"type\":0,\"direction\":0,\"duration\":2,\"delay\":\"0\"}}}';\n\t\tad = 2;\n\t\tvar d;\n\t\tc = c.replace(/id=16060/, \"id=\" + a.obj.id), d = b[b.length - 1].elements, b[b.length - 1].properties && b[b.length - 1].properties.longPage && (c = c.replace(\"418px\", 486 * b[b.length - 1].properties.longPage - 68 + \"px\")), b[b.length - 1].elements || (d = b[b.length - 1].elements = []), d.push(JSON.parse(c)), parsePage(b, a)\n\t}\n\tfunction eqCustomBottomLabel(a, b) {\n\t\tad = 2, $.ajax({\n\t\t\ttype: \"GET\",\n\t\t\turl: PREFIX_S2_URL + \"?c=scene&a=getlastpagebg&id=\" + a.obj.property.bottomLabel.id,\n\t\t\tcrossDomain: !0,\n\t\t\tsuccess: function(c) {\n\t\t\t\tif (!c.obj) return void eqDefaultBottomLabel(a, b);\n\t\t\t\tvar d = c.obj.elements;\n\t\t\t\tif (b[b.length - 1].properties && b[b.length - 1].properties.longPage) for (var e = b[b.length - 1].properties.longPage - 1, f = 0; f < d.length; f++) d[f].css.top += 486 * e;\n\t\t\t\tvar f = 0;\n\t\t\t\tfor (d.length; f < d.length; f++) {\n\t\t\t\t\tvar g = d[f];\n\t\t\t\t\tif (g.sceneId = a.obj.id, g.pageId = b[b.length - 1].id, a.obj.property.bottomLabel.name && a.obj.property.bottomLabel.url && \"http://\" != a.obj.property.bottomLabel.url) 2 == g.type && g.content.indexOf(\"EQXIU.COM\") > 0 && (g.content = g.content.replace(/EQXIU.COM/, '<a href=\"' + PREFIX_S1_URL + \"eqs/link?id=\" + a.obj.id + \"&amp;url=\" + encodeURIComponent(a.obj.property.bottomLabel.url) + '\" target=_blank data-event=\"1120203\">' + a.obj.property.bottomLabel.name + \"</a>\"));\n\t\t\t\t\telse if (a.obj.property.bottomLabel.name) 2 == g.type && g.content.indexOf(\"EQXIU.COM\") > 0 && (g.content = g.content.replace(/EQXIU.COM/, a.obj.property.bottomLabel.name));\n\t\t\t\t\telse if (//.test(g.content)) {\n\t\t\t\t\t\tg.content = '<div style=\"text-align: center;\">' + g.content + \"</div>\";\n\t\t\t\t\t\tvar h = {\n\t\t\t\t\t\t\tzIndex: \"1000\",\n\t\t\t\t\t\t\theight: \"33\",\n\t\t\t\t\t\t\twidth: \"129\",\n\t\t\t\t\t\t\tleft: \"97px\"\n\t\t\t\t\t\t};\n\t\t\t\t\t\t$.extend(g.css, h)\n\t\t\t\t\t} else 2 == g.type && g.content && (g.content = \"\");\n\t\t\t\t\tg.css.zIndex = 200, a.list[a.list.length - 1].elements || (a.list[a.list.length - 1].elements = []), a.list[a.list.length - 1].elements.push(g), customLastPage = !0\n\t\t\t\t}\n\t\t\t\tparsePage(b, a)\n\t\t\t}\n\t\t})\n\t}\n\tfunction eqHideAll(a, b) {\n\t\tad = 0, parsePage(b, a)\n\t}\n\tfunction parsePage(a, b) {\n\t\tvar c = b.map;\n\t\tc && c.wxComponent && $.each(c.wxComponent, function(b, c) {\n\t\t\t$.each(a, function(a, c) {\n\t\t\t\tc.elements && c.elements.length && $.each(c.elements, function(a, c) {\n\t\t\t\t\tb == c.id && (c.properties.wxSrc = !0)\n\t\t\t\t})\n\t\t\t})\n\t\t}), window.eqxiuSvg ? window.eqxiuSvg.SYMBOLS || (window.eqxiuSvg.SYMBOLS = {}) : window.eqxiuSvg = {\n\t\t\tSYMBOLS: {}\n\t\t};\n\t\tfor (var d = [], e = !1, f = !1, g = {\n\t\t\tbgAudio: b.obj.bgAudio\n\t\t}, h = [], i = 1; i <= a.length; i++) a[i - 1].elements && a[i - 1].elements.length && $.each(a[i - 1].elements, function(a, b) {\n\t\t\tif (\"h\" == b.type && b.properties.type && b.properties.type.indexOf(\"symbols\") >= 0) {\n\t\t\t\tf = !0;\n\t\t\t\tvar c = b.properties.type.replace(/^symbols\\-/, \"\"),\n\t\t\t\t\td = CLIENT_CDN + \"view/js/shape/\" + c + \".js\";\n\t\t\t\th.push({\n\t\t\t\t\turl: d,\n\t\t\t\t\ttype: \"js\"\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t\tvar j = 0;\n\t\tf && (resources.load(h), resources.onReady(function() {\n\t\t\tif (j++, 1 == j) {\n\t\t\t\tfor (var c = 1; c <= a.length; c++) {\n\t\t\t\t\tvar f = c;\n\t\t\t\t\tif (a[f - 1].properties && !$.isEmptyObject(a[f - 1].properties) ? a[f - 1].properties.image || a[f - 1].properties.scratch ? scriptLoaded.scratch ? addScratchEffect(a, f) : !\n\t\t\t\t\tfunction(b) {\n\t\t\t\t\t\t$.getScript(CLIENT_CDN + \"common/js/scratch_effect.js\", function(c, d, e) {\n\t\t\t\t\t\t\tscriptLoaded.scratch = !0, addScratchEffect(g, a, b)\n\t\t\t\t\t\t})\n\t\t\t\t\t}(f) : a[f - 1].properties.finger ? (d.push({\n\t\t\t\t\t\tnum: f,\n\t\t\t\t\t\tfinger: a[f - 1].properties.finger\n\t\t\t\t\t}), e || (e = !0, $.getScript(CLIENT_CDN + \"common/js/lock_effect.js\", function(b, c, e) {\n\t\t\t\t\t\tlockEffect(g, a, d, $(\".m-img\").width(), $(\".m-img\").height())\n\t\t\t\t\t}))) : a[f - 1].properties.fallingObject ? scriptLoaded.fallingObject ? fallingObject(a, f) : !\n\t\t\t\t\tfunction(b) {\n\t\t\t\t\t\t$.getScript(CLIENT_CDN + \"common/js/falling_object.js\", function(c, d, e) {\n\t\t\t\t\t\t\tscriptLoaded.fallingObject = !0, fallingObject(a, b), 1 == b && eqShow.playVideo(g)\n\t\t\t\t\t\t})\n\t\t\t\t\t}(f) : a[f - 1].properties.effect ? !\n\t\t\t\t\tfunction(b) {\n\t\t\t\t\t\tresources.load(window.eqx[a[b - 1].properties.effect.name].config.resources), resources.onReady(function() {\n\t\t\t\t\t\t\twindow[a[b - 1].properties.effect.name].doEffect(g, b, a, renderPage)\n\t\t\t\t\t\t})\n\t\t\t\t\t}(f) : renderPage(eqShow, f, a) : (renderPage(eqShow, f, a), 1 == f && eqShow.playVideo(g)), c == a.length) {\n\t\t\t\t\t\teqxiu.app($(\".nr\"), b.obj.pageMode, a, b);\n\t\t\t\t\t\taddEnabledClassToPageCtrl(b);\n\t\t\t\t\t\tvar h = eqShow.getQueryString(\"toPage\");\n\t\t\t\t\t\th && eqxiu.pageScroll(h, !0)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\taddReportToLastPage(a, b)\n\t\t\t}\n\t\t}));\n\t\tfor (var k = 1; k <= a.length; k++) {\n\t\t\tif ($('<section class=\"main-page\"><div class=\"m-img\" id=\"page' + k + '\"></div></section>').appendTo(\".nr\"), 10 == pageMode && ($(\"#page\" + k).parent(\".main-page\").wrap('<div class=\"flip-mask\" id=\"flip' + k + '\"></div>'), $(\".main-page\").css({\n\t\t\t\twidth: $(\".nr\").width() + \"px\",\n\t\t\t\theight: $(\".nr\").height() + \"px\"\n\t\t\t})), a.length > 1 && 14 != pageMode && !b.obj.property.forbidHandFlip && (0 == pageMode || 1 == pageMode || 2 == pageMode || 6 == pageMode || 7 == pageMode || 8 == pageMode || 11 == pageMode || 12 == pageMode || 13 == pageMode || 14 == pageMode ? $('<section class=\"u-arrow-bottom\"><div class=\"pre-wrap\"><div class=\"pre-box1\"><div class=\"pre1\"></div></div><div class=\"pre-box2\"><div class=\"pre2\"></div></div></div></section>').appendTo(\"#page\" + k) : (3 == pageMode || 4 == pageMode || 5 == pageMode || 9 == pageMode || 10 == pageMode) && $('<section class=\"u-arrow-right\"><div class=\"pre-wrap-right\"><div class=\"pre-box3\"><div class=\"pre3\"></div></div><div class=\"pre-box4\"><div class=\"pre4\"></div></div></div></section>').appendTo(\"#page\" + k)), 1 == k && ($(\".loading\").hide(), $(\".main-page\").eq(0).addClass(\"z-current\"), a[k - 1].elements && a[k - 1].elements.length && $.each(a[k - 1].elements, function(a, c) {\n\t\t\t\t\"d\" == c.type && eqShow.getShowCount(b.obj.id)\n\t\t\t})), !f && (a[k - 1].properties && !$.isEmptyObject(a[k - 1].properties) ? a[k - 1].properties.image || a[k - 1].properties.scratch ? scriptLoaded.scratch ? addScratchEffect(a, k) : !\n\t\t\tfunction(b) {\n\t\t\t\t$.getScript(CLIENT_CDN + \"common/js/scratch_effect.js\", function(c, d, e) {\n\t\t\t\t\tscriptLoaded.scratch = !0, addScratchEffect(g, a, b)\n\t\t\t\t})\n\t\t\t}(k) : a[k - 1].properties.finger ? (d.push({\n\t\t\t\tnum: k,\n\t\t\t\tfinger: a[k - 1].properties.finger\n\t\t\t}), e || (e = !0, $.getScript(CLIENT_CDN + \"common/js/lock_effect.js\", function(b, c, e) {\n\t\t\t\ttest(g, a, d, $(\".m-img\").width(), $(\".m-img\").height())\n\t\t\t}))) : a[k - 1].properties.fallingObject ? scriptLoaded.fallingObject ? a[k - 1].effObj = fallingObject(a, k) : !\n\t\t\tfunction(b) {\n\t\t\t\t$.getScript(CLIENT_CDN + \"common/js/falling_object.js\", function(c, d, e) {\n\t\t\t\t\tscriptLoaded.fallingObject = !0, a[b - 1].effObj = fallingObject(a, b), 1 == b && eqShow.playVideo(g)\n\t\t\t\t})\n\t\t\t}(k) : a[k - 1].properties.effect ? !\n\t\t\tfunction(b) {\n\t\t\t\tresources.load(window.eqx[a[b - 1].properties.effect.name].config.resources), resources.onReady(function() {\n\t\t\t\t\ta[b - 1].effObj = window[a[b - 1].properties.effect.name].doEffect(g, b, a, renderPage)\n\t\t\t\t})\n\t\t\t}(k) : (renderPage(eqShow, k, a), 1 == k && eqShow.playVideo(g)) : (renderPage(eqShow, k, a), 1 == k && eqShow.playVideo(g)), k == a.length)) {\n\t\t\t\teqxiu.app($(\".nr\"), b.obj.pageMode, a, b);\n\t\t\t\taddEnabledClassToPageCtrl(b)\n\t\t\t}\n\t\t\tif (k == a.length && (isMobile || $(\"img\").on(\"dragstart\", function(a) {\n\t\t\t\ta.preventDefault()\n\t\t\t}), !preview)) {\n\t\t\t\tvar m = PREFIX_S1_URL + \"index.php?c=scene&a=addpv&id=\" + b.obj.id;\n\t\t\t\tparam && (m += \"&1=1\", m += /\\?.*/.test(param) ? \"&\" + param.substring(1) : /\\&.*/.test(param) ? param : \"&\" + param), m += (/\\?/.test(m) ? \"&\" : \"&\") + \"ad=\" + ad, $.ajax({\n\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\turl: m,\n\t\t\t\t\txhrFields: {\n\t\t\t\t\t\twithCredentials: !0\n\t\t\t\t\t},\n\t\t\t\t\tcrossDomain: !0\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\tf || addReportToLastPage(a, b);\n\t}\n\tfunction addReportToLastPage(pages, data) {\n\t\tif (data.obj.createTime > 14165028e5) {\n\t\t\tif (100 != data.obj.bizType && !data.obj.property.hideEqAd && 1 == data.obj.property.eqAdType) return void addReport(pages.length, data.obj.id);\n\t\t\t100 == data.obj.bizType || data.obj.property.eqAdType || data.obj.property.hideEqAd || data.obj.property.isAdvancedUser || addReport(pages.length, data.obj.id)\n\t\t}\n\t\tif (100 == data.obj.bizType) {\n\t\t\tvar $eqxShareContainer = $(\"#eqx-share-container\");\n\t\t\twith($eqxShareContainer.length && ($eqxShareContainer.append($('<div class=\"eqx-share\">\\n    <a class=\"eqx-share-btn btn-facebook\"><span class=\"eqx-share-icon icon-facebook\"></span></a>\\n    <a class=\"eqx-share-btn btn-twitter\"><span class=\"eqx-share-icon icon-twitter\"></span></a>\\n    <a class=\"eqx-share-btn btn-plus\"><span class=\"eqx-share-icon icon-google_plus\"></span></a>\\n    <a class=\"eqx-share-btn btn-linkedin\"><span class=\"eqx-share-icon icon-linkedin\"></span></a>\\n    <a class=\"eqx-share-btn btn-pinterest\"><span class=\"eqx-share-icon icon-pinterest\"></span></a>\\n    <a class=\"addthis_sharing_toolbox\"></a>\\n</div>')), $(\".eqx-share-btn\").ShareLink({\n\t\t\t\ttitle: data.obj.name,\n\t\t\t\ttext: data.obj.description,\n\t\t\t\timage: PREFIX_FILE_HOST + data.obj.cover,\n\t\t\t\turl: window.location.href.split(\"#\")[0],\n\t\t\t\tclass_prefix: \"btn-\"\n\t\t\t})), document) 0[(getElementsByTagName(\"head\")[0] || body).appendChild(createElement(\"script\")).src = \"http://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-55c029461a7d08e5\"]\n\t\t}\n\t}\n\tfunction addEnabledClassToPageCtrl(a) {\n\t\tvar b, c, d = a.obj.pageMode,\n\t\t\te = a.obj.property.triggerLoop;\n\t\t0 == d || 1 == d || 2 == d || 6 == d || 7 == d || 8 == d || 11 == d || 12 == d ? b = !0 : (3 == d || 4 == d || 5 == d || 10 == d) && (c = !0), setTimeout(function() {\n\t\t\tb ? ($(\".ctrl_panel_dir .ctrl-up\").addClass(\"enabled\"), e && $(\".ctrl_panel_dir .ctrl-down\").addClass(\"enabled\")) : c && ($(\".ctrl_panel_dir .ctrl-left\").addClass(\"enabled\"), e && $(\".ctrl_panel_dir .ctrl-right\").addClass(\"enabled\"))\n\t\t}, 0)\n\t}\n\tfunction addPreviewFooter() {\n\t\tvar a = eqShow.getUrlParameter(\"id\"),\n\t\t\tb = PREFIX_HOST + \"/mobile/fillHome.html?edit=true&id=\" + a;\n\t\teqShow.getUrlParameter(\"preview\") && $('<div id=\"shareFooter\" style=\"background-color: rgba(51, 51, 51, 0.4);border-top: 2px solid rgba(8, 161, 239, 0.4);padding: 10px;position: fixed;bottom: 0;left: 0;right: 0;overflow: scroll;z-index: 10000;height:40px\"><div  style=\"float: left;margin-top: 12px;margin-left: 12px;color:#FFFFFF\"><laber ><a style=\"color:#FFFFFF\" href=\"' + b + '\"></a></laber></div><div style=\"float: right;margin-right: 15px;margin-top:2px;\"><button style=\"width: 80px;height: 32px;background-color: #44cb83;border: 0px;border-radius: 2px;color: #FFFFFF;\"><a style=\"color:#FFFFFF\" onclick=\"wapTitleSet();\"></a></button></div></div>').appendTo(\".nr\")\n\t}\n\tvar redirectUrl, companyName, pageMode, preview, param, ad, customLastPage = !1,\n\t\tisMobile = mobilecheck(),\n\t\tscriptLoaded = [],\n\t\tactivityPagePromise = null;\n\twindow.appendLastPage = function(a, b, c, d, e, f) {\n\t\tif (pageMode = c, preview = d, param = e, ad = f, 100 == a.obj.bizType ? (redirectUrl = \"https://itunes.apple.com/us/app/easyshow-free-h5-sence-slides/id987351120?mt=8\", companyName = \"Hypefolio\") : (redirectUrl = \"http://eqxiu.com\", companyName = \"\"), addPreviewFooter(), appendActivityPage(a, b), a.obj.createTime > 14165028e5) if (100 == a.obj.bizType) eqFreepage(a, b);\n\t\telse if (a.obj.property.hideEqAd) eqHideAll(a, b);\n\t\telse {\n\t\t\tif (a.obj.property && a.obj.property.eqAdType) switch (a.obj.property.eqAdType) {\n\t\t\tcase 1:\n\t\t\t\treturn void eqFreepage(a, b);\n\t\t\tcase 2:\n\t\t\t\treturn void eqDefaultBottomLabel(a, b);\n\t\t\tcase 3:\n\t\t\t\treturn void eqCustomBottomLabel(a, b)\n\t\t\t}\n\t\t\ta.obj.property.isAdvancedUser ? a.obj.property && a.obj.property.bottomLabel && a.obj.property.bottomLabel.id ? eqCustomBottomLabel(a, b) : eqDefaultBottomLabel(a, b) : eqFreepage(a, b)\n\t\t} else eqHideAll(a, b)\n\t}, isMobile && $(\".nr\").css({\n\t\twidth: \"100%\",\n\t\theight: \"100%\"\n\t}), window.wapTitleSet = function() {\n\t\t$.get(PREFIX_HOST + \"/view/share.html\", function(a) {\n\t\t\t$(\"#wapShareSet\").show(), $(\"#wapShareSet\").html(a), $(\"#shareFooter\").hide(), wapShare.init(scene)\n\t\t})\n\t}\n}\n(window, jQuery), function(window, $) {\n\tfunction isSample() {\n\t\t$(\"#view_reg\").after('<div id=\"sample_btn\"></div>')\n\t}\n\tfunction fontset(a,b){\n\t\tvar p = list = a.list;\n\t\tvar str=\"\";\n\t\tp.forEach(function(a,b){\n\t\t\tvar cp = a.elements;\n\t\t\tcp.forEach(function(a,b){\n\t\t\t\tif(a.fonts){\n\t\t\t\t\t$.each(a.fonts, function(key, val) {  \t\t\t\t\t\n\t\t\t\t\t\tvar c = JSON.stringify($.makeArray(val));\n\t\t\t\t\t\tvar cc = JSON.stringify($.makeArray(key));\n\t\t\t\t\t\td = c.substring(c.indexOf('font'),c.length-2);\n\t\t\t\t\t\te = cc.substring(2,cc.length- 2);\n\t\t\t\t\t\t//console.log(e); \n\t\t\t\t\t\tstr = str + '@font-face{font-family: \"'+e+'\"; src: url(\"' + PREFIX_FILE_HOST + d +'\") format(\"woff\");}';\n\t\t\t\t\t  });\t\t\t\t\t \n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\t$(\"head\").append('<style type=\"text/css\">'+ str +'</style>');\n\t}\t\n\tfunction getWechatAuth(a, b) {\n\t\twindow.weChatUser = {}, window.wxCompData = {};\n\t\treturn void(a ? completeLoad(b) : getSceneData());\n\t\tvar d = PREFIX_S1_URL + \"index.php?c=eqs&a=wxuser\";\n\t\t$.ajax({\n\t\t\ttype: \"GET\",\n\t\t\turl: d,\n\t\t\txhrFields: {\n\t\t\t\twithCredentials: !0\n\t\t\t},\n\t\t\tsuccess: function(c) {\n\t\t\t\tif (200 === c.code) if (c.obj) window.weChatUser = c.obj, a ? (replaceNameAndHeader(b, c.obj), completeLoad(b, !0)) : getSceneData(c.obj);\n\t\t\t\telse {\n\t\t\t\t\tvar d = \"\";\n\t\t\t\t\teqShow.getQueryString(\"userKey\") && (d = \"?userKey=\" + eqShow.getQueryString(\"userKey\")), window.location.href = \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=\" + APPID_WX + \"&redirect_uri=\" + encodeURIComponent(PREFIX_S1_URL + \"eqs/wx/user/info\") + \"&response_type=code&scope=snsapi_userinfo&state=\" + encodeURIComponent(\"http://\" + hostDomain + \"/v/\" + window.scene.code + d) + \"#wechat_redirect\"\n\t\t\t\t} else alert(\"error\")\n\t\t\t},\n\t\t\terror: function(a) {},\n\t\t\tcrossDomain: !0\n\t\t})\n\t}\n\tfunction getSceneData(a) {\n\t\tvar b = window.viewData;\n\t\tif (b) return b.obj = window.scene, replaceNameAndHeader(b, a), void completeLoad(b, !1);\n\t\twindow.isStatic && window.location.href.indexOf(VIP_HOST) >= 0 && (vipService = !0);\n\t\tvar c = getRequestUrl(),\n\t\t\td = {\n\t\t\t\ttype: \"GET\",\n\t\t\t\turl: c,\n\t\t\t\tcrossDomain: !0\n\t\t\t};\n\t\twindow.viewOverflow || vipService || (d.xhrFields = {\n\t\t\twithCredentials: !0\n\t\t}), $.ajax(d).done(function(b) {\n\t\t\tb.obj = b.obj || window.scene, replaceNameAndHeader(b, a), completeLoad(b, !1)\n\t\t})\n\t}\n\tfunction replaceNameAndHeader(a, b) {\n\t\tisWeixin() && a.list && a.list.length && $.each(a.list, function(c, d) {\n\t\t\td.elements && d.elements.length && $.each(d.elements, function(c, d) {\n\t\t\t\t\"201\" == d.type && (\"own\" == d.properties.type && b && (d.content = b.nickname), \"share\" == d.properties.type && a.map && a.map.wxComponent && a.map.wxComponent.shareUserName && (d.content = a.map.wxComponent.shareUserName)), \"401\" == d.type && (\"own\" == d.properties.type && b && (d.properties.src = b.headimgurl, delete d.properties.imgStyle), \"share\" == d.properties.type && a.map && a.map.wxComponent && a.map.wxComponent.shareUserHeader && (d.properties.src = a.map.wxComponent.shareUserHeader, delete d.properties.imgStyle))\n\t\t\t})\n\t\t})\n\t}\n\tfunction completeLoad(a, b) {\n\t\tfontset(a, b);\n\t\ta.map && a.map.wxComponent && (window.wxCompData = a.map.wxComponent), getCounterValues(a);\n\t\tfor (var c = !1, d = 0; d < a.list.length; d++) {\n\t\t\tvar e = a.list[d];\n\t\t\tif (e.elements) for (var f = 0; f < e.elements.length; f++) if (e.elements[f].type + \"\" == \"m\") {\n\t\t\t\tc = !0;\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tif (c) {\n\t\t\teqShow.parseStart = function() {\n\t\t\t\t$(document).trigger(\"parseStart\")\n\t\t\t}, $(document).on(\"parseStart\", function() {\n\t\t\t\tparseJson(a, b)\n\t\t\t});\n\t\t\tvar g = document.createElement(\"script\");\n\t\t\tg.type = \"text/javascript\", g.src = \"//map.qq.com/api/js?v=2.exp&callback=eqShow.parseStart\", document.body.appendChild(g)\n\t\t} else parseJson(a, b)\n\t}\n\tfunction getCounterValues(a) {\n\t\tvar b = {\n\t\t\tsceneId: a.obj.id,\n\t\t\tfieldIds: \"\"\n\t\t};\n\t\t$.each(a.list, function(a, c) {\n\t\t\tc.elements && $.each(c.elements, function(a, c) {\n\t\t\t\t\"i\" === c.type && (b.fieldIds += (b.fieldIds ? \",\" : \"\") + c.id)\n\t\t\t})\n\t\t}), b.fieldIds && (window.eqShow.counterValues = $.ajax({\n\t\t\ttype: \"GET\",\n\t\t\turl: PREFIX_S1_URL + \"index.php?c=scene&a=countervalues\",\n\t\t\tdata: $.param(b),\n\t\t\txhrFields: {\n\t\t\t\twithCredentials: !0\n\t\t\t},\n\t\t\terror: function(a) {\n\t\t\t\talert(\"Connection error\")\n\t\t\t},\n\t\t\tcrossDomain: !0\n\t\t}))\n\t}\n\tfunction getRequestUrl() {\n\t\twindow.isStatic && window.location.href.indexOf(VIP_HOST) >= 0 && (vipService = !0);\n\t\tvar a;\n\t\tif (preview) a = isNewPreviewLocation ? PREFIX_URL + \"m/scene/preview/\" + sceneId + \".data\" : PREFIX_URL + \"m/scene/preview/\" + sceneId, branchid && (a += (/\\?/.test(a) ? \"&\" : \"?\") + \"user=\" + branchid);\n\t\telse if (mobileview) a = PREFIX_URL + \"event/9100?p1=\" + sceneId;\n\t\telse if (window.scene && window.scene.id) if (window.isCheck) a = MAX_SERVER_HOST + \"m/eqs/view/page/\" + window.scene.id;\n\t\telse {\n\t\t\tvar b = window.viewOverflow || vipService ? PREFIX_S2_URL : PREFIX_S6_URL;\n\t\t\ta = b + \"?c=scene&a=view&id=\" + window.scene.id;\n\t\t\tvar b, c = eqShow.getQueryString(\"userKey\"),\n\t\t\t\td = eqShow.getQueryString(\"cache\");\n\t\t\tif (window.viewOverflow || vipService) b = PREFIX_S2_URL;\n\t\t\telse {\n\t\t\t\t//JSON.parse(window.scene.property);\n\t\t\t\tb = null != c && c.toString().length > 1 || null != d && d.toString().length > 1 ? PREFIX_S1_URL : PREFIX_S6_URL\n\t\t\t}\n\t\t\ta = b + \"?c=scene&a=view&id=\" + window.scene.id, null != c && c.toString().length > 1 && (a += (/\\?/.test(a) ? \"&\" : \"?\") + \"userKey=\" + c), null != d && d.toString().length > 1 && (a += (/\\?/.test(a) ? \"&\" : \"?\") + \"cache=\" + d)\n\t\t} else a = PREFIX_S1_URL + \"eqs/v/\" + sceneId;\n\t\treturn window.viewOverflow || vipService || (a += (/\\?/.test(a) ? \"&\" : \"?\") + \"time=\" + (new Date).getTime()), a\n\t}\n\tfunction bindShare(data) {\n\t\tif (mobilecheck() || tabletCheck()) isWeixin() && wechatConfig.configWeixin(data);\n\t\telse if (100 != data.obj.bizType) with(window._bd_share_config = {\n\t\t\tcommon: {\n\t\t\t\tbdSnsKey: {},\n\t\t\t\tbdText: data.obj.name,\n\t\t\t\tbdSign: \"on\",\n\t\t\t\tbdMini: \"2\",\n\t\t\t\tbdMiniList: !1,\n\t\t\t\tbdDesc: data.obj.description ? data.obj.description : \"\",\n\t\t\t\tbdUrl: PREFIX_HOST + \"/v/\" + sceneId,\n\t\t\t\tbdPic: PREFIX_FILE_HOST + data.obj.cover,\n\t\t\t\tbdStyle: \"0\",\n\t\t\t\tbdSize: \"32\"\n\t\t\t},\n\t\t\tshare: {}\n\t\t}, document) 0[(getElementsByTagName(\"head\")[0] || body).appendChild(createElement(\"script\")).src = \"/static/api/js/share.js?v=89860593.js?cdnversion=\" + ~ (-new Date / 36e5)]\n\t}\n\tfunction parseJson(a, b) {\n\t\tisNewPreviewLocation || window.scene || (document.title = a.obj.name, $(\"#metaDescription\").attr(\"content\", a.obj.name + \", \" + a.obj.description + \", \"), $(\".scene_title\").text(a.obj.name));\n\t\tvar c = a.obj.cover;\n\t\tif (isWeixin()) {\n\t\t\tvar d = /\\?imageMogr2/,\n\t\t\t\te = /.svg/;\n\t\t\te.test(c) || (c += d.test(c) ? \"\" : \"\"), $(\"#shareImage\").find(\"img\").attr(\"src\", PREFIX_FILE_HOST + c)\n\t\t}\n\t\tbindShare(a), pageMode = a.obj.pageMode;\n\t\tvar f = [];\n\t\treturn a.obj.property && (a.obj.property = JSON.parse(a.obj.property) || {}), a.obj.bgAudio && \"string\" == typeof a.obj.bgAudio && (a.obj.bgAudio = JSON.parse(a.obj.bgAudio) || null), f = a.list, f.length <= 0 ? (alert(\"!\"), void(window.location.href = window.PREFIX_URL)) : void appendLastPage(a, f, pageMode, preview, param, ad)\n\t}\n\tvar url, preview, mobileview, pageMode, branchid, ad = 0,\n\t\thostDomain = eqShow.getDomain(window.location.href),\n\t\teqxDomain = eqShow.getDomain(PREFIX_HOST),\n\t\th5Domain = eqShow.getDomain(PREFIX_SHOW_HOST);\n\t$.ajaxSetup({\n\t\tcache: !0\n\t});\n\tvar vipService, isNewPreviewLocation = /[http|https]:\\/\\/.*\\/m\\/scene\\/preview\\//.test(window.location.href);\n\turl = /[http|https]:\\/\\/.*\\/v\\//.test(window.location.href) ? window.location.href.split(\"/v/\")[1] : isNewPreviewLocation ? window.location.href.split(\"/m/scene/preview/\")[1] : window.location.href.split(\"?sceneId=\")[1], window.viewData && (url = scene.code);\n\tvar sceneId = url.split(\"#\")[0].split(\"&\")[0].split(\"?\")[0];\n\tisNewPreviewLocation && (sceneId = sceneId.substring(0, sceneId.indexOf(\".html\")));\n\tvar param = url.split(sceneId)[1];\n\tif ((param.indexOf(\"preview=preview\") > 0 || window.preview || isNewPreviewLocation) && (preview = !0), param.indexOf(\"branchid=\") > 0 && (branchid = param.substring(param.indexOf(\"branchid=\") + 9)), param.indexOf(\"mobileview=mobileview\") > 0 && (mobileview = !0), !(mobilecheck() || tabletCheck() && window == window.top)) {\n\t\tvar getBg = function() {\n\t\t\t\t$.ajax({\n\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\turl: PREFIX_S2_URL + \"?c=view&a=imagePreview\",\n\t\t\t\t\tcrossDomain: !0\n\t\t\t\t}).then(function(a) {\n\t\t\t\t\ta ? $(\"body\").css(\"backgroundImage\", \"url(\" + a + \")\") : $(\"body\").css(\"backgroundImage\", \"url(/view/images/previewbg_spring.jpg)\")\n\t\t\t\t}, function() {\n\t\t\t\t\t$(\"body\").css(\"backgroundImage\", \"url(/view/images/previewbg_spring.jpg)\")\n\t\t\t\t})\n\t\t\t};\n\t\twindow.addElmentsForPc = function(a) {\n\t\t\tvar b = document.getElementsByTagName(\"head\")[0],\n\t\t\t\tc = document.createElement(\"link\");\n\t\t\tc.href = CLIENT_CDN + \"common/css/pcviewer.css\", c.rel = \"stylesheet\", b.appendChild(c), window != window.top ? $(\"body\").css(\"background-image\", \"none\") : (getBg(), $.getScript(CLIENT_CDN + \"common/js/qrcode.js\", function() {\n\t\t\t\t$.getScript(CLIENT_CDN + \"common/js/jquery.qrcode.js\", function() {\n\t\t\t\t\twindow.scene && 100 == window.scene.bizType ? ($(\"#con\").before('<div id=\"code\" style=\"margin-top: -200px;\">\\n    <div style=\"font-size: 14px;\">Share your folio on social network!</div>\\n    <div class=\"eqx-share\">\\n        <a class=\"eqx-share-btn btn-facebook\"><span class=\"eqx-share-icon icon-facebook\"></span></a>\\n        <a class=\"eqx-share-btn btn-twitter\"><span class=\"eqx-share-icon icon-twitter\"></span></a>\\n        <a class=\"eqx-share-btn btn-plus\"><span class=\"eqx-share-icon icon-google_plus\"></span></a>\\n        <a class=\"eqx-share-btn btn-linkedin\"><span class=\"eqx-share-icon icon-linkedin\"></span></a>\\n        <a class=\"eqx-share-btn btn-pinterest\"><span class=\"eqx-share-icon icon-pinterest\"></span></a>\\n        <a class=\"addthis_sharing_toolbox\"></a>\\n    </div>\\n    <div id=\"view_reg\" style=\"border: none;margin-bottom: 26px;\"><span>\\n        <a target=\"_blank\" href=\"http://eqxiu.com\" style=\"color: #fff;border-bottom-color: #fff;font-size: 14px;\">So Cool, Let me try it!</a>\\n    </span></div>\\n    <div style=\"text-align: center;background:#fff;padding: 10px;\" id=\"codeImg\"/> \\n    <div style=\"text-align: center;font-size: 14px;\">Scan the QR Code!</div>\\n    <div id=\"support\">Powered BY <a target=\"_blank\" href=\"http://eqxiu.com\"><img id=\"logoSmall\" style=\"width: 64px;vertical-align: bottom;\" src=\"' + CLIENT_CDN + 'view/images/hypefolio-logo.png\"/></a></div></div>'), $(\".eqx-share-btn\").ShareLink({\n\t\t\t\t\t\ttitle: window.scene.name,\n\t\t\t\t\t\ttext: window.scene.description,\n\t\t\t\t\t\timage: PREFIX_FILE_HOST + window.scene.cover,\n\t\t\t\t\t\turl: window.location.href.split(\"#\")[0],\n\t\t\t\t\t\tclass_prefix: \"btn-\"\n\t\t\t\t\t})) : ($(\"#con\").before('<div id=\"code\"><div style=\"margin-bottom:15px;\"><div class=\"app\" style=\"position:relative;\"><div id=\"downAppView\" class=\"zoomIn-change\"><h3><a id=\"close\" style=\"cursor:pointer\">X</a>APP</h3><div id=\"downCode\"></div><p style=\"padding-bottom:20px;padding-top:10px;\">H5</p></div></div></div><div style=\"text-align: center;background:#fff;padding: 10px;\" id=\"codeImg\"/><div id=\"view_share\" class=\"bdsharebuttonbox\"><a href=\"#\" class=\"bds_more\" data-cmd=\"more\"></a><a href=\"#\" class=\"bds_tsina\" data-cmd=\"tsina\" title=\"\"></a><a href=\"#\" class=\"bds_tqq\" data-cmd=\"tqq\" title=\"\"></a><a href=\"#\" class=\"bds_qzone\" data-cmd=\"qzone\" title=\"QQ\"></a><a href=\"#\" class=\"bds_sqq\" data-cmd=\"sqq\" title=\"QQ\"></a><a href=\"#\" class=\"bds_douban\" data-cmd=\"douban\" title=\"\"></a></div><div id=\"view_reg\">&nbsp;<span><a target=\"_blank\" href='+your_demain+'></a></span></div><div id=\"support\"> BY <a target=\"_blank\" href='+your_demain+'><img id=\"logoSmall\" src=\"' + CLIENT_CDN + 'view/images/bg_small.png\"/></a></div></div>'), window.scene && 1 === window.scene.isTemplate && isSample());\n\t\t\t\t\tvar b;\n\t\t\t\t\t//b = window.location.href.indexOf(eqxDomain) >= 0 || window.location.href.indexOf(h5Domain) >= 0 ? 1 == scene.userType ? PREFIX_HOST_ARRAY[Math.floor(11 * Math.random()) % 11] + \"/\" : 2 != scene.userType && 21 != scene.userType || scene.memberType ? 3 == scene.userType || 4 == scene.userType ? PREFIX_SERVICE_HOST + \"/\" : 99 == scene.userType ? PREFIX_SHOW_HOST + \"/\" : scene.expiryTime && new Date(scene.expiryTime).getTime() < Date.now ? PREFIX_HOST_ARRAY[Math.floor(11 * Math.random()) % 11] + \"/\" : PREFIX_COMPANY_HOST_ARRAY[Math.floor(2 * Math.random()) % 2] + \"/\" : PREFIX_HOST_ARRAY[Math.floor(11 * Math.random()) % 11] + \"/\" : \"http://\" + hostDomain + \"/\", window.isStatic && (b = VIP_HOST), $(\"#downApp\").click(function() {\n\t\t\t\t\t\n\t\t\t\t\tb = PREFIX_S1_URL, window.isStatic && (b = VIP_HOST), $(\"#downApp\").click(function() {\n\t\t\t\t\t\t$(\"#downAppView\").css(\"display\", \"block\")\n\t\t\t\t\t}), $(\"#close\").click(function() {\n\t\t\t\t\t\t$(\"#downAppView\").css(\"display\", \"none\")\n\t\t\t\t\t}), $(\"#downCode\").qrcode({\n\t\t\t\t\t\trender: \"canvas\",\n\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\theight: 200,\n\t\t\t\t\t\ttext: \"http://a.app.qq.com/o/simple.jsp?pkgname=cn.knet.eqxiu\"\n\t\t\t\t\t}), $(\"#codeImg\").qrcode({\n\t\t\t\t\t\trender: \"canvas\",\n\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\theight: 200,\n\t\t\t\t\t\ttext: b + \"v/\" + a + \"?eqrcode=1\"\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}), $(\".p-index\").wrap('<div class = \"phone_panel\"></div>'), $('<div class = \"ctrl_panel\"></div>').appendTo($(\".phone_panel\")), setTimeout(function() {\n\t\t\t\twindow.scene && 100 == window.scene.bizType ? ($(\".phone_menubar\").addClass(\"hypefolio\"), $('<a id = \"pre_page\" type = \"button\" class = \"pre_btn btn\" onclick = \"eqxiu.prePage()\">\\n    <span style=\"transform: rotateZ(90deg);display: inline-block;font-size: 36px;\">&lt;</span>\\n</a>').prependTo($(\".ctrl_panel\")), $('<a id = \"next_page\" type = \"button\" class = \"next_btn btn\" onclick = \"eqxiu.nextPage()\">\\n    <span style=\"transform: rotateZ(90deg);display: inline-block;font-size: 36px;margin-top: 5px;\">&gt;</span>\\n</a>').appendTo($(\".ctrl_panel\"))) : ($('<a id = \"pre_page\" type = \"button\" class = \"pre_btn btn\" onclick = \"eqxiu.prePage()\"></a>').prependTo($(\".ctrl_panel\")), $('<a id = \"next_page\" type = \"button\" class = \"next_btn btn\" onclick = \"eqxiu.nextPage()\"></a>').appendTo($(\".ctrl_panel\")))\n\t\t\t}, 100))\n\t\t}\n\t}\n\t$(\"body\").on(\"click\", \"#sample_btn\", function() {\n\t\twindow.open(PREFIX_HOST + \"/scene?useTplId=\" + scene.id)\n\t}), window.moblieViewImgBg, jQuery.support.cors = !0, eqShow.bootstrap = function() {\n\t\twindow.viewData ? (window.moblieViewImgBg = PREFIX_FILE_HOST, PREFIX_FILE_HOST = \"\") : PREFIX_FILE_HOST = eqShow.getImagesResourceHost(scene.userType, scene.memberType), getWechatAuth(), eqShow.forExemplarReview() || mobilecheck() || tabletCheck() && window == window.top || (addElmentsForPc(scene.code), $(\"title\").text(window.scene.name + \" | H5\"))\n\t}, eqShow.bootstrapWithPassword = function() {\n\t\tfunction a() {\n\t\t\t$(\"#verifyTip\").addClass(\"shake\").one(\"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend\", function() {\n\t\t\t\t$(this).removeClass(\"shake\"), c()\n\t\t\t})\n\t\t}\n\t\tfunction b(b) {\n\t\t\t$(\"#loading\").show(), $.ajax({\n\t\t\t\ttype: \"GET\",\n\t\t\t\turl: g,\n\t\t\t\tdata: $.param({\n\t\t\t\t\tpassword: b\n\t\t\t\t}),\n\t\t\t\txhrFields: {\n\t\t\t\t\twithCredentials: !0\n\t\t\t\t},\n\t\t\t\tsuccess: function(b) {\n\t\t\t\t\t200 === b.code ? (b.obj = b.obj || window.scene, $(\"#verifyCode\").remove(), getWechatAuth(!0, b)) : ($(\"#loading\").hide(), $(\"#verifyCode\").show(), a())\n\t\t\t\t},\n\t\t\t\tcrossDomain: !0\n\t\t\t})\n\t\t}\n\t\tfunction c() {\n\t\t\t$(\".password-indicator li\").each(function(a, b) {\n\t\t\t\ta < o.length ? $(b).addClass(\"active\") : $(b).removeClass(\"active\")\n\t\t\t})\n\t\t}\n\t\tfunction d(a) {\n\t\t\tvar d = $(a.target);\n\t\t\td.addClass(\"active\"), o += d.text(), c(), 4 == o.length && (b(o), o = \"\"), setTimeout(function() {\n\t\t\t\td.removeClass(\"active\")\n\t\t\t}, 100)\n\t\t}\n\t\tfunction e(a) {\n\t\t\to = \"\", c()\n\t\t}\n\t\tfunction f(a) {\n\t\t\to && (o = o.substring(0, o.length - 1), c())\n\t\t}\n\t\teqShow.forExemplarReview() || mobilecheck() || tabletCheck() && window == window.top || addElmentsForPc(scene.code);\n\t\tvar g = getRequestUrl();\n\t\tif ($(\"#loading\").hide(), $(\"#verifyCode\").show(), window.scene) {\n\t\t\tvar h = {\n\t\t\t\tname: window.scene.name,\n\t\t\t\tcover: window.scene.cover,\n\t\t\t\tproperty: window.scene.property,\n\t\t\t\tdescription: window.scene.description\n\t\t\t};\n\t\t\tbindShare({\n\t\t\t\tobj: h\n\t\t\t})\n\t\t}\n\t\tvar i = mobilecheck(),\n\t\t\tj = tabletCheck();\n\t\tif (!i || i && /Android (\\d+\\.\\d+)/.test(navigator.userAgent) ? ($(\".password-numbers>span\").on(\"click\", d), $(\"#btnClear\").on(\"click\", e), $(\"#btnCancel\").on(\"click\", f)) : ($(\".password-numbers>span\").on(\"touchstart\", d), $(\"#btnClear\").on(\"touchstart\", e), $(\"#btnCancel\").on(\"touchstart\", f)), i || j) {\n\t\t\tvar k, l = $(\".container\"),\n\t\t\t\tm = l.width(),\n\t\t\t\tn = l.height();\n\t\t\tk = Math.floor(10 * Math.min(document.documentElement.clientHeight / n, document.documentElement.clientWidth / m)) / 10, l.css(\"transform\", \"scale(\" + k + \", \" + k + \")\")\n\t\t}\n\t\tvar o = \"\"\n\t}\n}(window, jQuery), $(\".main\").show(), $.easing.jswing = $.easing.swing, $.extend($.easing, {\n\tdef: \"easeOutQuad\",\n\tswing: function(a, b, c, d, e) {\n\t\treturn $.easing[$.easing.def](a, b, c, d, e)\n\t},\n\teaseInQuad: function(a, b, c, d, e) {\n\t\treturn d * (b /= e) * b + c\n\t},\n\teaseOutQuad: function(a, b, c, d, e) {\n\t\treturn -d * (b /= e) * (b - 2) + c\n\t},\n\teaseInOutQuad: function(a, b, c, d, e) {\n\t\treturn (b /= e / 2) < 1 ? d / 2 * b * b + c : -d / 2 * (--b * (b - 2) - 1) + c\n\t},\n\teaseInCubic: function(a, b, c, d, e) {\n\t\treturn d * (b /= e) * b * b + c\n\t},\n\teaseOutCubic: function(a, b, c, d, e) {\n\t\treturn d * ((b = b / e - 1) * b * b + 1) + c\n\t},\n\teaseInOutCubic: function(a, b, c, d, e) {\n\t\treturn (b /= e / 2) < 1 ? d / 2 * b * b * b + c : d / 2 * ((b -= 2) * b * b + 2) + c\n\t},\n\teaseInQuart: function(a, b, c, d, e) {\n\t\treturn d * (b /= e) * b * b * b + c\n\t},\n\teaseOutQuart: function(a, b, c, d, e) {\n\t\treturn -d * ((b = b / e - 1) * b * b * b - 1) + c\n\t},\n\teaseInOutQuart: function(a, b, c, d, e) {\n\t\treturn (b /= e / 2) < 1 ? d / 2 * b * b * b * b + c : -d / 2 * ((b -= 2) * b * b * b - 2) + c\n\t},\n\teaseInQuint: function(a, b, c, d, e) {\n\t\treturn d * (b /= e) * b * b * b * b + c\n\t},\n\teaseOutQuint: function(a, b, c, d, e) {\n\t\treturn d * ((b = b / e - 1) * b * b * b * b + 1) + c\n\t},\n\teaseInOutQuint: function(a, b, c, d, e) {\n\t\treturn (b /= e / 2) < 1 ? d / 2 * b * b * b * b * b + c : d / 2 * ((b -= 2) * b * b * b * b + 2) + c\n\t},\n\teaseInSine: function(a, b, c, d, e) {\n\t\treturn -d * Math.cos(b / e * (Math.PI / 2)) + d + c\n\t},\n\teaseOutSine: function(a, b, c, d, e) {\n\t\treturn d * Math.sin(b / e * (Math.PI / 2)) + c\n\t},\n\teaseInOutSine: function(a, b, c, d, e) {\n\t\treturn -d / 2 * (Math.cos(Math.PI * b / e) - 1) + c\n\t},\n\teaseInExpo: function(a, b, c, d, e) {\n\t\treturn 0 == b ? c : d * Math.pow(2, 10 * (b / e - 1)) + c\n\t},\n\teaseOutExpo: function(a, b, c, d, e) {\n\t\treturn b == e ? c + d : d * (-Math.pow(2, -10 * b / e) + 1) + c\n\t},\n\teaseInOutExpo: function(a, b, c, d, e) {\n\t\treturn 0 == b ? c : b == e ? c + d : (b /= e / 2) < 1 ? d / 2 * Math.pow(2, 10 * (b - 1)) + c : d / 2 * (-Math.pow(2, -10 * --b) + 2) + c\n\t},\n\teaseInCirc: function(a, b, c, d, e) {\n\t\treturn -d * (Math.sqrt(1 - (b /= e) * b) - 1) + c\n\t},\n\teaseOutCirc: function(a, b, c, d, e) {\n\t\treturn d * Math.sqrt(1 - (b = b / e - 1) * b) + c\n\t},\n\teaseInOutCirc: function(a, b, c, d, e) {\n\t\treturn (b /= e / 2) < 1 ? -d / 2 * (Math.sqrt(1 - b * b) - 1) + c : d / 2 * (Math.sqrt(1 - (b -= 2) * b) + 1) + c\n\t},\n\teaseInElastic: function(a, b, c, d, e) {\n\t\tvar f = 1.70158,\n\t\t\tg = 0,\n\t\t\th = d;\n\t\tif (0 == b) return c;\n\t\tif (1 == (b /= e)) return c + d;\n\t\tif (g || (g = .3 * e), h < Math.abs(d)) {\n\t\t\th = d;\n\t\t\tvar f = g / 4\n\t\t} else var f = g / (2 * Math.PI) * Math.asin(d / h);\n\t\treturn -(h * Math.pow(2, 10 * (b -= 1)) * Math.sin((b * e - f) * (2 * Math.PI) / g)) + c\n\t},\n\teaseOutElastic: function(a, b, c, d, e) {\n\t\tvar f = 1.70158,\n\t\t\tg = 0,\n\t\t\th = d;\n\t\tif (0 == b) return c;\n\t\tif (1 == (b /= e)) return c + d;\n\t\tif (g || (g = .3 * e), h < Math.abs(d)) {\n\t\t\th = d;\n\t\t\tvar f = g / 4\n\t\t} else var f = g / (2 * Math.PI) * Math.asin(d / h);\n\t\treturn h * Math.pow(2, -10 * b) * Math.sin((b * e - f) * (2 * Math.PI) / g) + d + c\n\t},\n\teaseInOutElastic: function(a, b, c, d, e) {\n\t\tvar f = 1.70158,\n\t\t\tg = 0,\n\t\t\th = d;\n\t\tif (0 == b) return c;\n\t\tif (2 == (b /= e / 2)) return c + d;\n\t\tif (g || (g = e * (.3 * 1.5)), h < Math.abs(d)) {\n\t\t\th = d;\n\t\t\tvar f = g / 4\n\t\t} else var f = g / (2 * Math.PI) * Math.asin(d / h);\n\t\treturn 1 > b ? -.5 * (h * Math.pow(2, 10 * (b -= 1)) * Math.sin((b * e - f) * (2 * Math.PI) / g)) + c : h * Math.pow(2, -10 * (b -= 1)) * Math.sin((b * e - f) * (2 * Math.PI) / g) * .5 + d + c\n\t},\n\teaseInBack: function(a, b, c, d, e, f) {\n\t\treturn void 0 == f && (f = 1.70158), d * (b /= e) * b * ((f + 1) * b - f) + c\n\t},\n\teaseOutBack: function(a, b, c, d, e, f) {\n\t\treturn void 0 == f && (f = 1.70158), d * ((b = b / e - 1) * b * ((f + 1) * b + f) + 1) + c\n\t},\n\teaseInOutBack: function(a, b, c, d, e, f) {\n\t\treturn void 0 == f && (f = 1.70158), (b /= e / 2) < 1 ? d / 2 * (b * b * (((f *= 1.525) + 1) * b - f)) + c : d / 2 * ((b -= 2) * b * (((f *= 1.525) + 1) * b + f) + 2) + c\n\t},\n\teaseInBounce: function(a, b, c, d, e) {\n\t\treturn d - $.easing.easeOutBounce(a, e - b, 0, d, e) + c\n\t},\n\teaseOutBounce: function(a, b, c, d, e) {\n\t\treturn (b /= e) < 1 / 2.75 ? d * (7.5625 * b * b) + c : 2 / 2.75 > b ? d * (7.5625 * (b -= 1.5 / 2.75) * b + .75) + c : 2.5 / 2.75 > b ? d * (7.5625 * (b -= 2.25 / 2.75) * b + .9375) + c : d * (7.5625 * (b -= 2.625 / 2.75) * b + .984375) + c\n\t},\n\teaseInOutBounce: function(a, b, c, d, e) {\n\t\treturn e / 2 > b ? .5 * $.easing.easeInBounce(a, 2 * b, 0, d, e) + c : .5 * $.easing.easeOutBounce(a, 2 * b - e, 0, d, e) + .5 * d + c\n\t}\n}), function(a, b) {\n\tfunction c() {\n\t\tvar a = TRACK_HOST + \"c.gif?\",\n\t\t\tb = window,\n\t\t\tc = b.screen,\n\t\t\td = c.availWidth + \"x\" + c.availHeight,\n\t\t\te = encodeURIComponent,\n\t\t\tf = document;\n\t\tn = b.navigator;\n\t\tvar g = {\n\t\t\tlag: n.userLanguage || n.language\n\t\t};\n\t\ttypeof scene !== scene && (g.event_description = scene.description, g.event_id = scene.id, g.scene_type = scene.type, g.creator_id = scene.userId, g.creator_type = scene.userType);\n\t\tvar h = \"action_name=\" + e(f.title) + \"&idsite=2&url=\" + e(f.location) + \"&urlref=\" + e(f.referrer) + \"&res=\" + d + \"&data=\" + e(JSON.stringify(g));\n\t\th += 1, h += \"&ct=\" + (new Date).getTime(), a += h;\n\t\tvar i = f.createElement(\"img\");\n\t\ti.setAttribute(\"src\", a), i.setAttribute(\"height\", \"0\"), i.setAttribute(\"width\", \"0\"), f.body.appendChild(i)\n\t}\n\ta.getScript(TRACK_HOST + \"d.js?pid=2&v=1\", function() {\n\t\tfunction a() {\n\t\t\twindow.scene ? c() : b = setTimeout(a)\n\t\t}\n\t\tif (window.scene) c();\n\t\telse var b = setTimeout(a, 100)\n\t}), a.getScript(TRACK_HOST + \"r.js?pid=3&v=1\")\n}(jQuery, window), function(a, b) {\n\ta.wapShare = function() {\n\t\tfunction c(a) {\n\t\t\tj = a, j.property && (j.property = JSON.stringify(j.property)), l = a.code;\n\t\t\tvar c = PREFIX_HOST + \"/v/\" + l;\n\t\t\tb(\"#sceneLink\").text(c)\n\t\t}\n\t\tfunction d() {\n\t\t\tvar a = b(\"#sceneName\").val();\n\t\t\tif (null !== a || void 0 !== a) {\n\t\t\t\tj.name = a;\n\t\t\t\tvar c = {\n\t\t\t\t\tname: j.name,\n\t\t\t\t\tid: j.id,\n\t\t\t\t\tstatus: 1,\n\t\t\t\t\tcode: j.code,\n\t\t\t\t\tcover: j.cover\n\t\t\t\t};\n\t\t\t\tb.ajax({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\turl: PREFIX_URL + \"m/scene/saveSettings\",\n\t\t\t\t\tcontentType: \"text/plain; charset=UTF-8\",\n\t\t\t\t\tdata: JSON.stringify(c),\n\t\t\t\t\txhrFields: {\n\t\t\t\t\t\twithCredentials: !0\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function(a) {}\n\t\t\t\t}), wechatUtils.shareWidthSDK(j.name, j.description, location.href.split(\"?\")[0], \"\", j.cover)\n\t\t\t} else alert(\"\")\n\t\t}\n\t\tfunction e() {\n\t\t\ta.location.href = PREFIX_HOST + \"/mobile/fillHome.html?edit=true&id=\" + k\n\t\t}\n\t\tfunction f() {\n\t\t\ta.location.href = PREFIX_HOST + \"/mobile/fillHome.html?\"\n\t\t}\n\t\tfunction g() {\n\t\t\tb(\"#wapShareSet\").hide(), b(\"#shareFooter\").show()\n\t\t}\n\t\tfunction h() {\n\t\t\tisWeixin() && (b(\"#wechatShare\").css({\n\t\t\t\tdisplay: \"block\"\n\t\t\t}), b(\"#backPreview\").css({\n\t\t\t\t\"float\": \"left\"\n\t\t\t}))\n\t\t}\n\t\tfunction i(a) {\n\t\t\tc(a), k = a.id, b(\"#sceneName\").focus(function() {\n\t\t\t\tb(this).val().length > 0 && b(this).select()\n\t\t\t}), b(\"#sceneName\").blur(function() {\n\t\t\t\tb(this).val().length > 0 && d()\n\t\t\t}), h()\n\t\t}\n\t\tvar j = {},\n\t\t\tk = \"\",\n\t\t\tl = \"\";\n\t\treturn {\n\t\t\tinit: i,\n\t\t\teditScene: e,\n\t\t\tcreateAnotherScene: f,\n\t\t\tbackToPreview: g\n\t\t}\n\t}()\n}\n(window, jQuery), function(a, b) {\n\tb.forExemplarReview = function() {\n\t\tvar a = !1;\n\t\treturn b.getUrlParameter(\"exemplarReview\") ? ($(\".phoneBox\").css({\n\t\t\twidth: \"320px\",\n\t\t\theight: \"486px\",\n\t\t\tmarginLeft: \"0px\",\n\t\t\tmarginRight: \"40px\"\n\t\t}), $(\"#con\").after('<div class=\"exemplarReview\" style=\"width:40px;height:486px;background:#ffffff;position: fixed;right: 0px;top: 0px;border-right: 1px solid #ccd5db;\"><div class=\"preview\" style=\"position:relative;height: 70px;margin-top:173px;\"><a onclick=\"eqxiu.prePage()\" ><em class=\"eqf-clickmore2\" style=\"color:#7b8893;\"></em></a></div> <div class=\"next\" style=\"height:73px;margin-bottom:173px;\"><a onclick=\"eqxiu.nextPage()\"><em class=\"eqf-clickmore\" style=\"color:#7b8893;\"></em></a> </div></div>'), $(\".exemplarReview a\").css({\n\t\t\twidth: \"40px\",\n\t\t\theight: \"70px\",\n\t\t\tdisplay: \"block\",\n\t\t\ttextAlign: \"center\",\n\t\t\tlineHeight: \"70px\"\n\t\t}), $(\".exemplarReview a\").hover(function() {\n\t\t\t$(this).css({\n\t\t\t\tbackgroundColor: \"#f0f3f4\"\n\t\t\t})\n\t\t}, function() {\n\t\t\t$(this).css({\n\t\t\t\tbackgroundColor: \"#FFFFFF\"\n\t\t\t})\n\t\t}), a = !0) : a = !1, a\n\t}\n}(window, eqShow);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3ZpZXcvZXFTaG93LXByZXZpZXctMi4xLjUuMy5qcz84YzQ5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogZXFTaG93IC0gdjIuMS41LjMgLSAyMDE2LTA2LTA3XG4gKlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNlxuICogTGljZW5zZWQgTUlUIDw+XG4gKi9cblxuZnVuY3Rpb24gY2hlY2tCcm93ZXIoKSB7XG5cdHZhciBhID0gITA7XG5cdHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJTYWZhcmlcIikgPiAwICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkNocm9tZVwiKSA8PSAwID8gYSA6IHZvaWQgMFxufVxuZnVuY3Rpb24gbW9iaWxlY2hlY2soKSB7XG5cdHZhciBhID0gITE7XG5cdHJldHVybiBmdW5jdGlvbihiKSB7XG5cdFx0KC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyAoY2V8cGhvbmUpfHhkYXx4aWluby9pLnRlc3QoYikgfHwgLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChiLnN1YnN0cigwLCA0KSkpICYmIChhID0gITApXG5cdH0obmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHdpbmRvdy5vcGVyYSksIGRvY3VtZW50LmJvZHkgJiYgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCAmJiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIDwgMzUwICYmIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IDwgNTAwICYmIChhID0gITApLCBhXG59XG5mdW5jdGlvbiBpcGhvbmVDaGVjaygpIHtcblx0dmFyIGEgPSAhMTtcblx0cmV0dXJuIC9pUGhvbmUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmIChhID0gITApLCAhMFxufVxuZnVuY3Rpb24gaXNXZWl4aW4oKSB7XG5cdHZhciBhID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuXHRyZXR1cm4gXCJtaWNyb21lc3NlbmdlclwiID09IGEubWF0Y2goL01pY3JvTWVzc2VuZ2VyL2kpID8gITAgOiAhMVxufVxuZnVuY3Rpb24gaXNBbmRyb2lkKCkge1xuXHR2YXIgYSA9IG5hdmlnYXRvci51c2VyQWdlbnQsXG5cdFx0YiA9IChuYXZpZ2F0b3IuYXBwVmVyc2lvbiwgYS5pbmRleE9mKFwiQW5kcm9pZFwiKSA+IC0xIHx8IGEuaW5kZXhPZihcIkxpbnV4XCIpID4gLTEpO1xuXHRyZXR1cm4gYlxufVxuZnVuY3Rpb24gdGFibGV0Q2hlY2soKSB7XG5cdHZhciBhID0gL2lwYWR8YW5kcm9pZHxhbmRyb2lkIDMuMHx4b29tfHNjaC1pODAwfHBsYXlib29rfHRhYmxldHxraW5kbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XG5cdHJldHVybiBhXG59XG5mdW5jdGlvbiBjb3VudENoYXJhY3RlcnMoYSkge1xuXHR2YXIgYiA9IDA7XG5cdGlmICghYSkgcmV0dXJuIDA7XG5cdGZvciAodmFyIGMgPSAwOyBjIDwgYS5sZW5ndGg7IGMrKykge1xuXHRcdHZhciBkID0gYS5jaGFyQ29kZUF0KGMpO1xuXHRcdGQgPj0gMSAmJiAxMjYgPj0gZCB8fCBkID49IDY1Mzc2ICYmIDY1NDM5ID49IGQgPyBiKysgOiBiICs9IDJcblx0fVxuXHRyZXR1cm4gYlxufVxuZnVuY3Rpb24gY2xpY2tBbmltKCl7XG5cdHZhciBpID0gMCxqID0gMCxtID0gMDtcblx0JChcIi56LWN1cnJlbnQgLmluc2lkZVwiKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0JCh0aGlzKS5oaWRlKCk7XG5cdH0pO1xuXHQkKFwiLnotY3VycmVudFwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtcblx0XHRpKys7XG5cdFx0JChcIi56LWN1cnJlbnQgLmluc2lkZVwiKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRqKys7XG5cdFx0XHRpZihpID09IGope1xuXHRcdFx0XHQkKHRoaXMpLnNob3coKTtcblx0XHRcdH1cdFx0XHRcblx0XHR9KTtcblx0XHRqID0gMDtcblx0XHRjb25zb2xlLmxvZyhpK1wiLVwiKyQoXCIuei1jdXJyZW50IC5pbnNpZGVcIikubGVuZ3RoKTtcblx0XHRpZihpPiQoXCIuei1jdXJyZW50IC5pbnNpZGVcIikubGVuZ3RoKXtcblx0XHRcdGVxeGl1Lm5leHRQYWdlKCk7XG5cdFx0XHRpID0gMDtcblx0XHR9XG5cdH0pO1xufVxuZnVuY3Rpb24gcmVuZGVyUGFnZShhLCBiLCBjLCBkKSB7XG5cdGZ1bmN0aW9uIGUoYSwgYikge1xuXHRcdHZhciBjID0gYi5wcm9wZXJ0aWVzLmxvbmdQYWdlLFxuXHRcdFx0ZCA9IDE7XG5cdFx0aWYgKGIuZWxlbWVudHMpIGZvciAodmFyIGUgPSAwOyBlIDwgYi5lbGVtZW50cy5sZW5ndGg7IGUrKykgaWYgKDMgPT0gYi5lbGVtZW50c1tlXS50eXBlKSB7XG5cdFx0XHQyID09IGIuZWxlbWVudHNbZV0ucHJvcGVydGllcy5jcm9wdHlwZSAmJiAoZCA9IDIpO1xuXHRcdFx0YnJlYWtcblx0XHR9XG5cdFx0dmFyIGYsIGcsIGgsIGksIGosIG0gPSB3aW5kb3cuc2NlbmUgPyBzY2VuZS5wYWdlTW9kZSA6IDAsXG5cdFx0XHRuID0gMCxcblx0XHRcdG8gPSB7XG5cdFx0XHRcdHRvdWNoUG9zOiAwLFxuXHRcdFx0XHRwTGVuOiAtNDg2ICogKGMgLSAxKSxcblx0XHRcdFx0Y29udGFpbjogJChcIiNwYWdlXCIgKyBhKSxcblx0XHRcdFx0Y0g6IG1vYmlsZWNoZWNrKCkgPyAkKGRvY3VtZW50KS5oZWlnaHQoKSA6IDQ4Nixcblx0XHRcdFx0c3RvcEluZXJ0aWFNb3ZlOiAhMVxuXHRcdFx0fSxcblx0XHRcdHAgPSAxID09IGQgPyBcIi5lZGl0X2FyZWFcIiA6IFwiLmVkaXRfd3JhcHBlclwiO1xuXHRcdDAgPT0gbSB8fCAxID09IG0gfHwgMiA9PSBtIHx8IDYgPT0gbSB8fCA3ID09IG0gfHwgOCA9PSBtIHx8IDExID09IG0gfHwgMTIgPT0gbSB8fCAxMyA9PSBtID8gbSA9IFwiTlNcIiA6IChtID0gXCJXRVwiLCAkKCc8c2VjdGlvbiBjbGFzcz1cInUtYXJyb3ctYm90dG9tXCI+PGRpdiBjbGFzcz1cInByZS13cmFwXCI+PGRpdiBjbGFzcz1cInByZS1ib3gxXCI+PGRpdiBjbGFzcz1cInByZTFcIj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwicHJlLWJveDJcIj48ZGl2IGNsYXNzPVwicHJlMlwiPjwvZGl2PjwvZGl2PjwvZGl2Pjwvc2VjdGlvbj4nKS5hcHBlbmRUbyhcIiNwYWdlXCIgKyBhKSk7XG5cdFx0dmFyIHEgPSAwLFxuXHRcdFx0ciA9IDA7XG5cdFx0by5jb250YWluLm9uKFwibW91c2Vkb3duIHRvdWNoc3RhcnRcIiwgZnVuY3Rpb24oYSkge1xuXHRcdFx0cmV0dXJuIFwiYnV0dG9uXCIgPT0gYS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpIHx8IGEudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGFcIikgfHwgYS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSB8fCBcIjhcIiA9PSBhLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJjdHlwZVwiKSB8fCBcInpcIiA9PSBhLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJjdHlwZVwiKSA/IHZvaWQgYS5zdG9wUHJvcGFnYXRpb24oKSA6IChhLnN0b3BQcm9wYWdhdGlvbigpLCBhLnByZXZlbnREZWZhdWx0KCksIHZvaWQoby50b3VjaFBvcyA8IG8ucExlbiB8fCBvLnRvdWNoUG9zID4gMCB8fCAoZiA9ICEwLCBoID0gMCwgby5zdG9wSW5lcnRpYU1vdmUgPSAhMCwgZyA9IGEub3JpZ2luYWxFdmVudC50b3VjaGVzID8gYS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgOiBhLmNsaWVudFksIFwiV0VcIiA9PSBtICYmIChpID0gYS5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgPyBhLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCA6IGEuY2xpZW50WCksIHIgPSBvLnRvdWNoUG9zLCBxID0gRGF0ZS5ub3coKSkpKVxuXHRcdH0pLCBvLmNvbnRhaW4ub24oXCJtb3VzZW1vdmUgdG91Y2htb3ZlXCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdGlmIChhLnN0b3BQcm9wYWdhdGlvbigpLCBmKSB7XG5cdFx0XHRcdGlmIChoID0gby50b3VjaFBvcyArIChhLm9yaWdpbmFsRXZlbnQudG91Y2hlcyA/IGEub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIDogYS5jbGllbnRZKSAtIGcsIFwiV0VcIiA9PSBtICYmIChqID0gKGEub3JpZ2luYWxFdmVudC50b3VjaGVzID8gYS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCA6IGEuY2xpZW50WCkgLSBpLCBNYXRoLmFicyhqKSA+IE1hdGguYWJzKGggLSBvLnRvdWNoUG9zKSAmJiAhc2NlbmUucHJvcGVydHkuZm9yYmlkSGFuZEZsaXApKSB7XG5cdFx0XHRcdFx0aWYgKGogPiAwKSB7XG5cdFx0XHRcdFx0XHRpZiAoNSA+IGopIHJldHVybjtcblx0XHRcdFx0XHRcdGVxeGl1LnByZVBhZ2UoKVxuXHRcdFx0XHRcdH0gZWxzZSBlcXhpdS5uZXh0UGFnZSgpO1xuXHRcdFx0XHRcdHJldHVybiB2b2lkKGYgPSAhMSlcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoaCA8IG8ucExlbiB8fCBoID4gNSkgcmV0dXJuIGYgPSAhMSwgaCA+IDAgJiYgXCJOU1wiID09IG0gJiYgKHNjZW5lLnByb3BlcnR5LmZvcmJpZEhhbmRGbGlwID8gby50b3VjaFBvcyA9IDAgOiBlcXhpdS5wcmVQYWdlKCkpLCB2b2lkKDAgPiBoICYmIFwiTlNcIiA9PSBtICYmIChzY2VuZS5wcm9wZXJ0eS5mb3JiaWRIYW5kRmxpcCA/IG8udG91Y2hQb3MgPSBvLnBMZW4gOiBlcXhpdS5uZXh0UGFnZSgpKSk7XG5cdFx0XHRcdGlmIChoID4gMCkgcmV0dXJuO1xuXHRcdFx0XHRvLnN0b3BJbmVydGlhTW92ZSA9ICEwLCAkKHRoaXMpLmZpbmQocCkuY3NzKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlM2QoMCxcIiArIChoIC0gbikgKyBcInB4LDApXCIpLCAkKHRoaXMpLmZpbmQocCkuY3NzKFwiLXdlYmtpdC10cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUzZCgwLFwiICsgKGggLSBuKSArIFwicHgsMClcIik7XG5cdFx0XHRcdHZhciBiID0gJCh0aGlzKS5maW5kKFwiLmFsb2NrXCIpO1xuXHRcdFx0XHRpZiAoYi5sZW5ndGggPiAwKSBmb3IgKHZhciBjID0gMDsgYyA8IGIubGVuZ3RoOyBjKyspIGwoYltjXSwgYltjXS5zdHlsZS50cmFuc2Zvcm0sIG4gLSBoKTtcblx0XHRcdFx0dmFyIGQgPSBEYXRlLm5vdygpO1xuXHRcdFx0XHQkKGRvY3VtZW50KS50cmlnZ2VyKFwicGFnZVNjcm9sbFBvc1wiLCBbaCAtIG8uY0hdKSwgZCAtIHEgPiAzMDAgJiYgKHEgPSBkLCByID0gaCksIG8uc3RvcEluZXJ0aWFNb3ZlID0gITFcblx0XHRcdH1cblx0XHR9KSwgby5jb250YWluLm9uKFwibW91c2V1cCB0b3VjaGVuZCBtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdGlmIChhLnN0b3BQcm9wYWdhdGlvbigpLCBmKSB7XG5cdFx0XHRcdGlmIChmID0gITEsIDAgPT09IGggfHwgaCAtIHIgPT0gMCkgcmV0dXJuIHZvaWQgJChhLnRhcmdldCkudHJpZ2dlcihcImNsaWNrXCIsIFwibG9uZ1BhZ2VcIik7XG5cdFx0XHRcdGlmICghKDAgPiBoICYmIGggPiBvLnBMZW4pKSByZXR1cm4gaCA+PSAwID8gdm9pZChvLnRvdWNoUG9zID0gMCkgOiB2b2lkKG8udG91Y2hQb3MgPSBvLnBMZW4pO1xuXHRcdFx0XHRvLnRvdWNoUG9zID0gaCwgXCJXRVwiID09IG0gJiYgby5jb250YWluLmZpbmQoXCIudS1hcnJvdy1ib3R0b21cIikuaGlkZSgpO1xuXHRcdFx0XHR2YXIgYiA9IERhdGUubm93KCksXG5cdFx0XHRcdFx0YyA9IChoIC0gcikgLyAoYiAtIHEpO1xuXHRcdFx0XHQhXG5cdFx0XHRcdGZ1bmN0aW9uKGEsIGIsIGMsIGQpIHtcblx0XHRcdFx0XHRmdW5jdGlvbiBlKCkge1xuXHRcdFx0XHRcdFx0aWYgKCFkLnN0b3BJbmVydGlhTW92ZSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgaCA9IERhdGUubm93KCksXG5cdFx0XHRcdFx0XHRcdFx0aSA9IGggLSBiLFxuXHRcdFx0XHRcdFx0XHRcdGogPSBhICsgaSAqIGc7XG5cdFx0XHRcdFx0XHRcdGlmICghKDAgPiBmICogaikpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgayA9IChhICsgaikgLyAyICogaSxcblx0XHRcdFx0XHRcdFx0XHRcdG0gPSBjICsgaztcblx0XHRcdFx0XHRcdFx0XHRpZiAoIShtID4gMCB8fCBtIDwgZC5wTGVuKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZC50aW1tZXIgPSBudWxsLCBkLmNvbnRhaW4uZmluZChwKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUzZCgwLFwiICsgKG0gLSBuKSArIFwicHgsMClcIiksIGQuY29udGFpbi5maW5kKHApLmNzcyhcIi13ZWJraXQtdHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlM2QoMCxcIiArIChtIC0gbikgKyBcInB4LDApXCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIG8gPSBkLmNvbnRhaW4uZmluZChcIi5hbG9ja1wiKTtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChvLmxlbmd0aCA+IDApIGZvciAodmFyIHEgPSAwOyBxIDwgby5sZW5ndGg7IHErKykgbChvW3FdLCBvW3FdLnN0eWxlLnRyYW5zZm9ybSwgbiAtIG0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZC50b3VjaFBvcyA9IG0sICQoZG9jdW1lbnQpLnRyaWdnZXIoXCJwYWdlU2Nyb2xsUG9zXCIsIFttIC0gZC5jSF0pLCBzZXRUaW1lb3V0KGUsIDEwKVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR2YXIgZiA9IDAgPiBhID8gLTEgOiAxLFxuXHRcdFx0XHRcdFx0ZyA9IGYgKiAtNmUtNDtcblx0XHRcdFx0XHRlKClcblx0XHRcdFx0fShjLCBiLCBoLCBvKVxuXHRcdFx0fVxuXHRcdH0pLCAkKGRvY3VtZW50KS5vbihcImNsZWFyVG91Y2hQb3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRvLnRvdWNoUG9zID0gMCwgby5jb250YWluLmZpbmQocCkuY3NzKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlWSgwcHgpXCIpLCBvLmNvbnRhaW4uZmluZChwKS5jc3MoXCItd2Via2l0LXRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZVkoMHB4KVwiKTtcblx0XHRcdHZhciBhLCBiID0gby5jb250YWluLmZpbmQoXCIuYWxvY2tcIik7XG5cdFx0XHRpZiAoYi5sZW5ndGggPiAwKSBmb3IgKHZhciBjID0gMDsgYyA8IGIubGVuZ3RoOyBjKyspIGEgPSBiW2NdLnN0eWxlLnRyYW5zZm9ybS5yZXBsYWNlKGssIFwiXCIpLCBiW2NdLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlM2QoMCwwLDApIFwiICsgYVxuXHRcdH0pXG5cdH1cblx0YS50ZW1wbGF0ZVBhcnNlcihcImpzb25QYXJzZXJcIikucGFyc2Uoe1xuXHRcdGRlZjogY1tiIC0gMV0sXG5cdFx0YXBwZW5kVG86IFwiI3BhZ2VcIiArIGIsXG5cdFx0bW9kZTogXCJ2aWV3XCIsXG5cdFx0ZGlzRXZlbnQ6IGRcblx0fSksIGxpc3RQYWdlcyA9IGM7XG5cdHZhciBmLCBnLCBoID0gMSxcblx0XHRpID0gJChcIi56LWN1cnJlbnRcIikud2lkdGgoKSxcblx0XHRqID0gJChcIi56LWN1cnJlbnRcIikuaGVpZ2h0KCk7XG5cdGltYWdlV2lkdGggPSAkKFwiLm0taW1nXCIpLndpZHRoKCksIGltYWdlSGVpZ2h0ID0gJChcIi5tLWltZ1wiKS5oZWlnaHQoKSwgaSAvIGogPj0gMzIwIC8gNDg2ID8gKGggPSBqIC8gNDg2LCBmID0gKGkgLyBoIC0gMzIwKSAvIDIpIDogKGggPSBpIC8gMzIwLCBnID0gKGogLyBoIC0gNDg2KSAvIDIpLCB3aW5kb3cgIT0gd2luZG93LnRvcCAmJiAkKFwiLnBob25lQm94IC5uclwiKS5jc3Moe1xuXHRcdHdpZHRoOiBcIjEwMCVcIixcblx0XHRoZWlnaHQ6IFwiMTAwJVwiLFxuXHRcdG92ZXJmbG93OiBcImhpZGRlblwiLFxuXHRcdFwidHJhbnNmb3JtLW9yaWdpblwiOiBcInRvcCBsZWZ0XCIsXG5cdFx0dHJhbnNmb3JtOiBcInNjYWxlKFwiICsgaCArIFwiKVwiXG5cdH0pLCB3aW5kb3cgIT09IHdpbmRvdy50b3AgJiYgbW9iaWxlY2hlY2soKSB8fCAkKFwiLmVkaXRfYXJlYVwiKS5jc3Moe1xuXHRcdG1hcmdpblRvcDogZyB8fCAwXG5cdH0pLCBmICYmICQoXCIuZWRpdF9hcmVhXCIpLmNzcyh7XG5cdFx0bWFyZ2luTGVmdDogZlxuXHR9KSwgdHBsQ291bnQgPT0gYy5sZW5ndGggJiYgJChcIiNlcU1vYmlsZVZpZXdwb3J0XCIpLmF0dHIoXCJjb250ZW50XCIsIFwid2lkdGg9MzIwLCBpbml0aWFsLXNjYWxlPVwiICsgaCArIFwiLCBtYXhpbXVtLXNjYWxlPVwiICsgaCArIFwiLCB1c2VyLXNjYWxhYmxlPW5vXCIpLCBjW2IgLSAxXS5wcm9wZXJ0aWVzICYmIGNbYiAtIDFdLnByb3BlcnRpZXMubG9uZ1BhZ2UgJiYgZShiLCBjW2IgLSAxXSk7XG5cdHZhciBrID0gL3RyYW5zbGF0ZTNkXFwoLio/XFwpL2csXG5cdFx0bCA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcblx0XHRcdGIgPSBiLnJlcGxhY2UoaywgXCJcIiksIGIgJiYgKGEuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUzZCgwLFwiICsgYyArIFwicHgsMCkgXCIgKyBiKVxuXHRcdH1cbn0oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgYSA9IHRoaXMsXG5cdFx0YiA9IGEuQ2hhcnQsXG5cdFx0YyA9IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHRoaXMuY2FudmFzID0gYS5jYW52YXMsIHRoaXMuY3R4ID0gYTtcblx0XHRcdHZhciBiID0gZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHRcdHJldHVybiBhW1wib2Zmc2V0XCIgKyBiXSA/IGFbXCJvZmZzZXRcIiArIGJdIDogZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShhKS5nZXRQcm9wZXJ0eVZhbHVlKGIpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGMgPSB0aGlzLndpZHRoID0gYihhLmNhbnZhcywgXCJXaWR0aFwiKSB8fCBhLmNhbnZhcy53aWR0aCxcblx0XHRcdFx0ZSA9IHRoaXMuaGVpZ2h0ID0gYihhLmNhbnZhcywgXCJIZWlnaHRcIikgfHwgYS5jYW52YXMuaGVpZ2h0O1xuXHRcdFx0cmV0dXJuIGMgPSB0aGlzLndpZHRoID0gYS5jYW52YXMud2lkdGgsIGUgPSB0aGlzLmhlaWdodCA9IGEuY2FudmFzLmhlaWdodCwgdGhpcy5hc3BlY3RSYXRpbyA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodCwgZC5yZXRpbmFTY2FsZSh0aGlzKSwgdGhpc1xuXHRcdH07XG5cdGMuZGVmYXVsdHMgPSB7XG5cdFx0Z2xvYmFsOiB7XG5cdFx0XHRhbmltYXRpb246ICEwLFxuXHRcdFx0YW5pbWF0aW9uU3RlcHM6IDYwLFxuXHRcdFx0YW5pbWF0aW9uRWFzaW5nOiBcImVhc2VPdXRRdWFydFwiLFxuXHRcdFx0c2hvd1NjYWxlOiAhMCxcblx0XHRcdHNjYWxlT3ZlcnJpZGU6ICExLFxuXHRcdFx0c2NhbGVTdGVwczogbnVsbCxcblx0XHRcdHNjYWxlU3RlcFdpZHRoOiBudWxsLFxuXHRcdFx0c2NhbGVTdGFydFZhbHVlOiBudWxsLFxuXHRcdFx0c2NhbGVMaW5lQ29sb3I6IFwicmdiYSgwLDAsMCwuMSlcIixcblx0XHRcdHNjYWxlTGluZVdpZHRoOiAxLFxuXHRcdFx0c2NhbGVTaG93TGFiZWxzOiAhMCxcblx0XHRcdHNjYWxlTGFiZWw6IFwiPCU9dmFsdWUlPlwiLFxuXHRcdFx0c2NhbGVJbnRlZ2Vyc09ubHk6ICEwLFxuXHRcdFx0c2NhbGVCZWdpbkF0WmVybzogITEsXG5cdFx0XHRzY2FsZUZvbnRGYW1pbHk6IFwiJ0hlbHZldGljYSBOZXVlJywgJ0hlbHZldGljYScsICdBcmlhbCcsIHNhbnMtc2VyaWZcIixcblx0XHRcdHNjYWxlRm9udFNpemU6IDEyLFxuXHRcdFx0c2NhbGVGb250U3R5bGU6IFwibm9ybWFsXCIsXG5cdFx0XHRzY2FsZUZvbnRDb2xvcjogXCIjNjY2XCIsXG5cdFx0XHRyZXNwb25zaXZlOiAhMSxcblx0XHRcdG1haW50YWluQXNwZWN0UmF0aW86ICEwLFxuXHRcdFx0c2hvd1Rvb2x0aXBzOiAhMCxcblx0XHRcdGN1c3RvbVRvb2x0aXBzOiAhMSxcblx0XHRcdHRvb2x0aXBFdmVudHM6IFtcIm1vdXNlbW92ZVwiLCBcInRvdWNoc3RhcnRcIiwgXCJ0b3VjaG1vdmVcIiwgXCJtb3VzZW91dFwiXSxcblx0XHRcdHRvb2x0aXBGaWxsQ29sb3I6IFwicmdiYSgwLDAsMCwwLjgpXCIsXG5cdFx0XHR0b29sdGlwRm9udEZhbWlseTogXCInSGVsdmV0aWNhIE5ldWUnLCAnSGVsdmV0aWNhJywgJ0FyaWFsJywgc2Fucy1zZXJpZlwiLFxuXHRcdFx0dG9vbHRpcEZvbnRTaXplOiAxNCxcblx0XHRcdHRvb2x0aXBGb250U3R5bGU6IFwibm9ybWFsXCIsXG5cdFx0XHR0b29sdGlwRm9udENvbG9yOiBcIiNmZmZcIixcblx0XHRcdHRvb2x0aXBUaXRsZUZvbnRGYW1pbHk6IFwiJ0hlbHZldGljYSBOZXVlJywgJ0hlbHZldGljYScsICdBcmlhbCcsIHNhbnMtc2VyaWZcIixcblx0XHRcdHRvb2x0aXBUaXRsZUZvbnRTaXplOiAxNCxcblx0XHRcdHRvb2x0aXBUaXRsZUZvbnRTdHlsZTogXCJib2xkXCIsXG5cdFx0XHR0b29sdGlwVGl0bGVGb250Q29sb3I6IFwiI2ZmZlwiLFxuXHRcdFx0dG9vbHRpcFRpdGxlVGVtcGxhdGU6IFwiPCU9IGxhYmVsJT5cIixcblx0XHRcdHRvb2x0aXBZUGFkZGluZzogNixcblx0XHRcdHRvb2x0aXBYUGFkZGluZzogNixcblx0XHRcdHRvb2x0aXBDYXJldFNpemU6IDgsXG5cdFx0XHR0b29sdGlwQ29ybmVyUmFkaXVzOiA2LFxuXHRcdFx0dG9vbHRpcFhPZmZzZXQ6IDEwLFxuXHRcdFx0dG9vbHRpcFRlbXBsYXRlOiBcIjwlaWYgKGxhYmVsKXslPjwlPWxhYmVsJT46IDwlfSU+PCU9IHZhbHVlICU+XCIsXG5cdFx0XHRtdWx0aVRvb2x0aXBUZW1wbGF0ZTogXCI8JT0gdmFsdWUgJT5cIixcblx0XHRcdG11bHRpVG9vbHRpcEtleUJhY2tncm91bmQ6IFwiI2ZmZlwiLFxuXHRcdFx0c2VnbWVudENvbG9yRGVmYXVsdDogW1wiI0E2Q0VFM1wiLCBcIiMxRjc4QjRcIiwgXCIjQjJERjhBXCIsIFwiIzMzQTAyQ1wiLCBcIiNGQjlBOTlcIiwgXCIjRTMxQTFDXCIsIFwiI0ZEQkY2RlwiLCBcIiNGRjdGMDBcIiwgXCIjQ0FCMkQ2XCIsIFwiIzZBM0Q5QVwiLCBcIiNCNEI0ODJcIiwgXCIjQjE1OTI4XCJdLFxuXHRcdFx0c2VnbWVudEhpZ2hsaWdodENvbG9yRGVmYXVsdHM6IFtcIiNDRUY2RkZcIiwgXCIjNDdBMERDXCIsIFwiI0RBRkZCMlwiLCBcIiM1QkM4NTRcIiwgXCIjRkZDMkMxXCIsIFwiI0ZGNDI0NFwiLCBcIiNGRkU3OTdcIiwgXCIjRkZBNzI4XCIsIFwiI0YyREFGRVwiLCBcIiM5MjY1QzJcIiwgXCIjRENEQ0FBXCIsIFwiI0Q5ODE1MFwiXSxcblx0XHRcdG9uQW5pbWF0aW9uUHJvZ3Jlc3M6IGZ1bmN0aW9uKCkge30sXG5cdFx0XHRvbkFuaW1hdGlvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHt9XG5cdFx0fVxuXHR9LCBjLnR5cGVzID0ge307XG5cdHZhciBkID0gYy5oZWxwZXJzID0ge30sXG5cdFx0ZSA9IGQuZWFjaCA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcblx0XHRcdHZhciBkID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKTtcblx0XHRcdGlmIChhKSBpZiAoYS5sZW5ndGggPT09ICthLmxlbmd0aCkge1xuXHRcdFx0XHR2YXIgZTtcblx0XHRcdFx0Zm9yIChlID0gMDsgZSA8IGEubGVuZ3RoOyBlKyspIGIuYXBwbHkoYywgW2FbZV0sIGVdLmNvbmNhdChkKSlcblx0XHRcdH0gZWxzZSBmb3IgKHZhciBmIGluIGEpIGIuYXBwbHkoYywgW2FbZl0sIGZdLmNvbmNhdChkKSlcblx0XHR9LFxuXHRcdGYgPSBkLmNsb25lID0gZnVuY3Rpb24oYSkge1xuXHRcdFx0dmFyIGIgPSB7fTtcblx0XHRcdHJldHVybiBlKGEsIGZ1bmN0aW9uKGMsIGQpIHtcblx0XHRcdFx0YS5oYXNPd25Qcm9wZXJ0eShkKSAmJiAoYltkXSA9IGMpXG5cdFx0XHR9KSwgYlxuXHRcdH0sXG5cdFx0ZyA9IGQuZXh0ZW5kID0gZnVuY3Rpb24oYSkge1xuXHRcdFx0cmV0dXJuIGUoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24oYikge1xuXHRcdFx0XHRlKGIsIGZ1bmN0aW9uKGMsIGQpIHtcblx0XHRcdFx0XHRiLmhhc093blByb3BlcnR5KGQpICYmIChhW2RdID0gYylcblx0XHRcdFx0fSlcblx0XHRcdH0pLCBhXG5cdFx0fSxcblx0XHRoID0gZC5tZXJnZSA9IGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBjID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblx0XHRcdHJldHVybiBjLnVuc2hpZnQoe30pLCBnLmFwcGx5KG51bGwsIGMpXG5cdFx0fSxcblx0XHRpID0gZC5pbmRleE9mID0gZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0aWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKSByZXR1cm4gYS5pbmRleE9mKGIpO1xuXHRcdFx0Zm9yICh2YXIgYyA9IDA7IGMgPCBhLmxlbmd0aDsgYysrKSBpZiAoYVtjXSA9PT0gYikgcmV0dXJuIGM7XG5cdFx0XHRyZXR1cm4gLTFcblx0XHR9LFxuXHRcdGogPSAoZC53aGVyZSA9IGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBjID0gW107XG5cdFx0XHRyZXR1cm4gZC5lYWNoKGEsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0YihhKSAmJiBjLnB1c2goYSlcblx0XHRcdH0pLCBjXG5cdFx0fSwgZC5maW5kTmV4dFdoZXJlID0gZnVuY3Rpb24oYSwgYiwgYykge1xuXHRcdFx0YyB8fCAoYyA9IC0xKTtcblx0XHRcdGZvciAodmFyIGQgPSBjICsgMTsgZCA8IGEubGVuZ3RoOyBkKyspIHtcblx0XHRcdFx0dmFyIGUgPSBhW2RdO1xuXHRcdFx0XHRpZiAoYihlKSkgcmV0dXJuIGVcblx0XHRcdH1cblx0XHR9LCBkLmZpbmRQcmV2aW91c1doZXJlID0gZnVuY3Rpb24oYSwgYiwgYykge1xuXHRcdFx0YyB8fCAoYyA9IGEubGVuZ3RoKTtcblx0XHRcdGZvciAodmFyIGQgPSBjIC0gMTsgZCA+PSAwOyBkLS0pIHtcblx0XHRcdFx0dmFyIGUgPSBhW2RdO1xuXHRcdFx0XHRpZiAoYihlKSkgcmV0dXJuIGVcblx0XHRcdH1cblx0XHR9LCBkLmluaGVyaXRzID0gZnVuY3Rpb24oYSkge1xuXHRcdFx0dmFyIGIgPSB0aGlzLFxuXHRcdFx0XHRjID0gYSAmJiBhLmhhc093blByb3BlcnR5KFwiY29uc3RydWN0b3JcIikgPyBhLmNvbnN0cnVjdG9yIDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRkID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dGhpcy5jb25zdHJ1Y3RvciA9IGNcblx0XHRcdFx0fTtcblx0XHRcdHJldHVybiBkLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBjLnByb3RvdHlwZSA9IG5ldyBkLCBjLmV4dGVuZCA9IGosIGEgJiYgZyhjLnByb3RvdHlwZSwgYSksIGMuX19zdXBlcl9fID0gYi5wcm90b3R5cGUsIGNcblx0XHR9KSxcblx0XHRrID0gZC5ub29wID0gZnVuY3Rpb24oKSB7fSxcblx0XHRsID0gZC51aWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBhID0gMDtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIFwiY2hhcnQtXCIgKyBhKytcblx0XHRcdH1cblx0XHR9KCksXG5cdFx0bSA9IGQud2FybiA9IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHdpbmRvdy5jb25zb2xlICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygd2luZG93LmNvbnNvbGUud2FybiAmJiBjb25zb2xlLndhcm4oYSlcblx0XHR9LFxuXHRcdG4gPSBkLmFtZCA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQsXG5cdFx0byA9IGQuaXNOdW1iZXIgPSBmdW5jdGlvbihhKSB7XG5cdFx0XHRyZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQoYSkpICYmIGlzRmluaXRlKGEpXG5cdFx0fSxcblx0XHRwID0gZC5tYXggPSBmdW5jdGlvbihhKSB7XG5cdFx0XHRyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCwgYSlcblx0XHR9LFxuXHRcdHEgPSBkLm1pbiA9IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHJldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLCBhKVxuXHRcdH0sXG5cdFx0ciA9IChkLmNhcCA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcblx0XHRcdGlmIChvKGIpKSB7XG5cdFx0XHRcdGlmIChhID4gYikgcmV0dXJuIGJcblx0XHRcdH0gZWxzZSBpZiAobyhjKSAmJiBjID4gYSkgcmV0dXJuIGM7XG5cdFx0XHRyZXR1cm4gYVxuXHRcdH0sIGQuZ2V0RGVjaW1hbFBsYWNlcyA9IGZ1bmN0aW9uKGEpIHtcblx0XHRcdGlmIChhICUgMSAhPT0gMCAmJiBvKGEpKSB7XG5cdFx0XHRcdHZhciBiID0gYS50b1N0cmluZygpO1xuXHRcdFx0XHRpZiAoYi5pbmRleE9mKFwiZS1cIikgPCAwKSByZXR1cm4gYi5zcGxpdChcIi5cIilbMV0ubGVuZ3RoO1xuXHRcdFx0XHRpZiAoYi5pbmRleE9mKFwiLlwiKSA8IDApIHJldHVybiBwYXJzZUludChiLnNwbGl0KFwiZS1cIilbMV0pO1xuXHRcdFx0XHR2YXIgYyA9IGIuc3BsaXQoXCIuXCIpWzFdLnNwbGl0KFwiZS1cIik7XG5cdFx0XHRcdHJldHVybiBjWzBdLmxlbmd0aCArIHBhcnNlSW50KGNbMV0pXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gMFxuXHRcdH0pLFxuXHRcdHMgPSBkLnJhZGlhbnMgPSBmdW5jdGlvbihhKSB7XG5cdFx0XHRyZXR1cm4gYSAqIChNYXRoLlBJIC8gMTgwKVxuXHRcdH0sXG5cdFx0dCA9IChkLmdldEFuZ2xlRnJvbVBvaW50ID0gZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGMgPSBiLnggLSBhLngsXG5cdFx0XHRcdGQgPSBiLnkgLSBhLnksXG5cdFx0XHRcdGUgPSBNYXRoLnNxcnQoYyAqIGMgKyBkICogZCksXG5cdFx0XHRcdGYgPSAyICogTWF0aC5QSSArIE1hdGguYXRhbjIoZCwgYyk7XG5cdFx0XHRyZXR1cm4gMCA+IGMgJiYgMCA+IGQgJiYgKGYgKz0gMiAqIE1hdGguUEkpLCB7XG5cdFx0XHRcdGFuZ2xlOiBmLFxuXHRcdFx0XHRkaXN0YW5jZTogZVxuXHRcdFx0fVxuXHRcdH0sIGQuYWxpYXNQaXhlbCA9IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHJldHVybiBhICUgMiA9PT0gMCA/IDAgOiAuNVxuXHRcdH0pLFxuXHRcdHUgPSAoZC5zcGxpbmVDdXJ2ZSA9IGZ1bmN0aW9uKGEsIGIsIGMsIGQpIHtcblx0XHRcdHZhciBlID0gTWF0aC5zcXJ0KE1hdGgucG93KGIueCAtIGEueCwgMikgKyBNYXRoLnBvdyhiLnkgLSBhLnksIDIpKSxcblx0XHRcdFx0ZiA9IE1hdGguc3FydChNYXRoLnBvdyhjLnggLSBiLngsIDIpICsgTWF0aC5wb3coYy55IC0gYi55LCAyKSksXG5cdFx0XHRcdGcgPSBkICogZSAvIChlICsgZiksXG5cdFx0XHRcdGggPSBkICogZiAvIChlICsgZik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRpbm5lcjoge1xuXHRcdFx0XHRcdHg6IGIueCAtIGcgKiAoYy54IC0gYS54KSxcblx0XHRcdFx0XHR5OiBiLnkgLSBnICogKGMueSAtIGEueSlcblx0XHRcdFx0fSxcblx0XHRcdFx0b3V0ZXI6IHtcblx0XHRcdFx0XHR4OiBiLnggKyBoICogKGMueCAtIGEueCksXG5cdFx0XHRcdFx0eTogYi55ICsgaCAqIChjLnkgLSBhLnkpXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LCBkLmNhbGN1bGF0ZU9yZGVyT2ZNYWduaXR1ZGUgPSBmdW5jdGlvbihhKSB7XG5cdFx0XHRyZXR1cm4gTWF0aC5mbG9vcihNYXRoLmxvZyhhKSAvIE1hdGguTE4xMClcblx0XHR9KSxcblx0XHR2ID0gKGQuY2FsY3VsYXRlU2NhbGVSYW5nZSA9IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGYpIHtcblx0XHRcdHZhciBnID0gMixcblx0XHRcdFx0aCA9IE1hdGguZmxvb3IoYiAvICgxLjUgKiBjKSksXG5cdFx0XHRcdGkgPSBnID49IGgsXG5cdFx0XHRcdGogPSBbXTtcblx0XHRcdGUoYSwgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRudWxsID09IGEgfHwgai5wdXNoKGEpXG5cdFx0XHR9KTtcblx0XHRcdHZhciBrID0gcShqKSxcblx0XHRcdFx0bCA9IHAoaik7XG5cdFx0XHRsID09PSBrICYmIChsICs9IC41LCBrID49IC41ICYmICFkID8gayAtPSAuNSA6IGwgKz0gLjUpO1xuXHRcdFx0Zm9yICh2YXIgbSA9IE1hdGguYWJzKGwgLSBrKSwgbiA9IHUobSksIG8gPSBNYXRoLmNlaWwobCAvICgxICogTWF0aC5wb3coMTAsIG4pKSkgKiBNYXRoLnBvdygxMCwgbiksIHIgPSBkID8gMCA6IE1hdGguZmxvb3IoayAvICgxICogTWF0aC5wb3coMTAsIG4pKSkgKiBNYXRoLnBvdygxMCwgbiksIHMgPSBvIC0gciwgdCA9IE1hdGgucG93KDEwLCBuKSwgdiA9IE1hdGgucm91bmQocyAvIHQpO1xuXHRcdFx0KHYgPiBoIHx8IGggPiAyICogdikgJiYgIWk7KSBpZiAodiA+IGgpIHQgKj0gMiwgdiA9IE1hdGgucm91bmQocyAvIHQpLCB2ICUgMSAhPT0gMCAmJiAoaSA9ICEwKTtcblx0XHRcdGVsc2UgaWYgKGYgJiYgbiA+PSAwKSB7XG5cdFx0XHRcdGlmICh0IC8gMiAlIDEgIT09IDApIGJyZWFrO1xuXHRcdFx0XHR0IC89IDIsIHYgPSBNYXRoLnJvdW5kKHMgLyB0KVxuXHRcdFx0fSBlbHNlIHQgLz0gMiwgdiA9IE1hdGgucm91bmQocyAvIHQpO1xuXHRcdFx0cmV0dXJuIGkgJiYgKHYgPSBnLCB0ID0gcyAvIHYpLCB7XG5cdFx0XHRcdHN0ZXBzOiB2LFxuXHRcdFx0XHRzdGVwVmFsdWU6IHQsXG5cdFx0XHRcdG1pbjogcixcblx0XHRcdFx0bWF4OiByICsgdiAqIHRcblx0XHRcdH1cblx0XHR9LCBkLnRlbXBsYXRlID0gZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0ZnVuY3Rpb24gYyhhLCBiKSB7XG5cdFx0XHRcdHZhciBjID0gL1xcVy8udGVzdChhKSA/IG5ldyBGdW5jdGlvbihcIm9ialwiLCBcInZhciBwPVtdLHByaW50PWZ1bmN0aW9uKCl7cC5wdXNoLmFwcGx5KHAsYXJndW1lbnRzKTt9O3dpdGgob2JqKXtwLnB1c2goJ1wiICsgYS5yZXBsYWNlKC9bXFxyXFx0XFxuXS9nLCBcIiBcIikuc3BsaXQoXCI8JVwiKS5qb2luKFwiXHRcIikucmVwbGFjZSgvKChefCU+KVteXFx0XSopJy9nLCBcIiQxXFxyXCIpLnJlcGxhY2UoL1xcdD0oLio/KSU+L2csIFwiJywkMSwnXCIpLnNwbGl0KFwiXHRcIikuam9pbihcIicpO1wiKS5zcGxpdChcIiU+XCIpLmpvaW4oXCJwLnB1c2goJ1wiKS5zcGxpdChcIlxcclwiKS5qb2luKFwiXFxcXCdcIikgKyBcIicpO31yZXR1cm4gcC5qb2luKCcnKTtcIikgOiBkW2FdID0gZFthXTtcblx0XHRcdFx0cmV0dXJuIGIgPyBjKGIpIDogY1xuXHRcdFx0fVxuXHRcdFx0aWYgKGEgaW5zdGFuY2VvZiBGdW5jdGlvbikgcmV0dXJuIGEoYik7XG5cdFx0XHR2YXIgZCA9IHt9O1xuXHRcdFx0cmV0dXJuIGMoYSwgYilcblx0XHR9KSxcblx0XHR3ID0gKGQuZ2VuZXJhdGVMYWJlbHMgPSBmdW5jdGlvbihhLCBiLCBjLCBkKSB7XG5cdFx0XHR2YXIgZiA9IG5ldyBBcnJheShiKTtcblx0XHRcdHJldHVybiBhICYmIGUoZiwgZnVuY3Rpb24oYiwgZSkge1xuXHRcdFx0XHRmW2VdID0gdihhLCB7XG5cdFx0XHRcdFx0dmFsdWU6IGMgKyBkICogKGUgKyAxKVxuXHRcdFx0XHR9KVxuXHRcdFx0fSksIGZcblx0XHR9LCBkLmVhc2luZ0VmZmVjdHMgPSB7XG5cdFx0XHRsaW5lYXI6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0cmV0dXJuIGFcblx0XHRcdH0sXG5cdFx0XHRlYXNlSW5RdWFkOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHJldHVybiBhICogYVxuXHRcdFx0fSxcblx0XHRcdGVhc2VPdXRRdWFkOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHJldHVybiAtMSAqIGEgKiAoYSAtIDIpXG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluT3V0UXVhZDogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRyZXR1cm4gKGEgLz0gLjUpIDwgMSA/IC41ICogYSAqIGEgOiAtLjUgKiAoLS1hICogKGEgLSAyKSAtIDEpXG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluQ3ViaWM6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0cmV0dXJuIGEgKiBhICogYVxuXHRcdFx0fSxcblx0XHRcdGVhc2VPdXRDdWJpYzogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRyZXR1cm4gMSAqICgoYSA9IGEgLyAxIC0gMSkgKiBhICogYSArIDEpXG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0cmV0dXJuIChhIC89IC41KSA8IDEgPyAuNSAqIGEgKiBhICogYSA6IC41ICogKChhIC09IDIpICogYSAqIGEgKyAyKVxuXHRcdFx0fSxcblx0XHRcdGVhc2VJblF1YXJ0OiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHJldHVybiBhICogYSAqIGEgKiBhXG5cdFx0XHR9LFxuXHRcdFx0ZWFzZU91dFF1YXJ0OiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHJldHVybiAtMSAqICgoYSA9IGEgLyAxIC0gMSkgKiBhICogYSAqIGEgLSAxKVxuXHRcdFx0fSxcblx0XHRcdGVhc2VJbk91dFF1YXJ0OiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHJldHVybiAoYSAvPSAuNSkgPCAxID8gLjUgKiBhICogYSAqIGEgKiBhIDogLS41ICogKChhIC09IDIpICogYSAqIGEgKiBhIC0gMilcblx0XHRcdH0sXG5cdFx0XHRlYXNlSW5RdWludDogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRyZXR1cm4gMSAqIChhIC89IDEpICogYSAqIGEgKiBhICogYVxuXHRcdFx0fSxcblx0XHRcdGVhc2VPdXRRdWludDogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRyZXR1cm4gMSAqICgoYSA9IGEgLyAxIC0gMSkgKiBhICogYSAqIGEgKiBhICsgMSlcblx0XHRcdH0sXG5cdFx0XHRlYXNlSW5PdXRRdWludDogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRyZXR1cm4gKGEgLz0gLjUpIDwgMSA/IC41ICogYSAqIGEgKiBhICogYSAqIGEgOiAuNSAqICgoYSAtPSAyKSAqIGEgKiBhICogYSAqIGEgKyAyKVxuXHRcdFx0fSxcblx0XHRcdGVhc2VJblNpbmU6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0cmV0dXJuIC0xICogTWF0aC5jb3MoYSAvIDEgKiAoTWF0aC5QSSAvIDIpKSArIDFcblx0XHRcdH0sXG5cdFx0XHRlYXNlT3V0U2luZTogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRyZXR1cm4gMSAqIE1hdGguc2luKGEgLyAxICogKE1hdGguUEkgLyAyKSlcblx0XHRcdH0sXG5cdFx0XHRlYXNlSW5PdXRTaW5lOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHJldHVybiAtLjUgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIGEgLyAxKSAtIDEpXG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluRXhwbzogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRyZXR1cm4gMCA9PT0gYSA/IDEgOiAxICogTWF0aC5wb3coMiwgMTAgKiAoYSAvIDEgLSAxKSlcblx0XHRcdH0sXG5cdFx0XHRlYXNlT3V0RXhwbzogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRyZXR1cm4gMSA9PT0gYSA/IDEgOiAxICogKC1NYXRoLnBvdygyLCAtMTAgKiBhIC8gMSkgKyAxKVxuXHRcdFx0fSxcblx0XHRcdGVhc2VJbk91dEV4cG86IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0cmV0dXJuIDAgPT09IGEgPyAwIDogMSA9PT0gYSA/IDEgOiAoYSAvPSAuNSkgPCAxID8gLjUgKiBNYXRoLnBvdygyLCAxMCAqIChhIC0gMSkpIDogLjUgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tYSkgKyAyKVxuXHRcdFx0fSxcblx0XHRcdGVhc2VJbkNpcmM6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0cmV0dXJuIGEgPj0gMSA/IGEgOiAtMSAqIChNYXRoLnNxcnQoMSAtIChhIC89IDEpICogYSkgLSAxKVxuXHRcdFx0fSxcblx0XHRcdGVhc2VPdXRDaXJjOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHJldHVybiAxICogTWF0aC5zcXJ0KDEgLSAoYSA9IGEgLyAxIC0gMSkgKiBhKVxuXHRcdFx0fSxcblx0XHRcdGVhc2VJbk91dENpcmM6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0cmV0dXJuIChhIC89IC41KSA8IDEgPyAtLjUgKiAoTWF0aC5zcXJ0KDEgLSBhICogYSkgLSAxKSA6IC41ICogKE1hdGguc3FydCgxIC0gKGEgLT0gMikgKiBhKSArIDEpXG5cdFx0XHR9LFxuXHRcdFx0ZWFzZUluRWxhc3RpYzogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHR2YXIgYiA9IDEuNzAxNTgsXG5cdFx0XHRcdFx0YyA9IDAsXG5cdFx0XHRcdFx0ZCA9IDE7XG5cdFx0XHRcdHJldHVybiAwID09PSBhID8gMCA6IDEgPT0gKGEgLz0gMSkgPyAxIDogKGMgfHwgKGMgPSAuMyksIGQgPCBNYXRoLmFicygxKSA/IChkID0gMSwgYiA9IGMgLyA0KSA6IGIgPSBjIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbigxIC8gZCksIC0oZCAqIE1hdGgucG93KDIsIDEwICogKGEgLT0gMSkpICogTWF0aC5zaW4oKDEgKiBhIC0gYikgKiAoMiAqIE1hdGguUEkpIC8gYykpKVxuXHRcdFx0fSxcblx0XHRcdGVhc2VPdXRFbGFzdGljOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHZhciBiID0gMS43MDE1OCxcblx0XHRcdFx0XHRjID0gMCxcblx0XHRcdFx0XHRkID0gMTtcblx0XHRcdFx0cmV0dXJuIDAgPT09IGEgPyAwIDogMSA9PSAoYSAvPSAxKSA/IDEgOiAoYyB8fCAoYyA9IC4zKSwgZCA8IE1hdGguYWJzKDEpID8gKGQgPSAxLCBiID0gYyAvIDQpIDogYiA9IGMgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKDEgLyBkKSwgZCAqIE1hdGgucG93KDIsIC0xMCAqIGEpICogTWF0aC5zaW4oKDEgKiBhIC0gYikgKiAoMiAqIE1hdGguUEkpIC8gYykgKyAxKVxuXHRcdFx0fSxcblx0XHRcdGVhc2VJbk91dEVsYXN0aWM6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0dmFyIGIgPSAxLjcwMTU4LFxuXHRcdFx0XHRcdGMgPSAwLFxuXHRcdFx0XHRcdGQgPSAxO1xuXHRcdFx0XHRyZXR1cm4gMCA9PT0gYSA/IDAgOiAyID09IChhIC89IC41KSA/IDEgOiAoYyB8fCAoYyA9IDEgKiAoLjMgKiAxLjUpKSwgZCA8IE1hdGguYWJzKDEpID8gKGQgPSAxLCBiID0gYyAvIDQpIDogYiA9IGMgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKDEgLyBkKSwgMSA+IGEgPyAtLjUgKiAoZCAqIE1hdGgucG93KDIsIDEwICogKGEgLT0gMSkpICogTWF0aC5zaW4oKDEgKiBhIC0gYikgKiAoMiAqIE1hdGguUEkpIC8gYykpIDogZCAqIE1hdGgucG93KDIsIC0xMCAqIChhIC09IDEpKSAqIE1hdGguc2luKCgxICogYSAtIGIpICogKDIgKiBNYXRoLlBJKSAvIGMpICogLjUgKyAxKVxuXHRcdFx0fSxcblx0XHRcdGVhc2VJbkJhY2s6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0dmFyIGIgPSAxLjcwMTU4O1xuXHRcdFx0XHRyZXR1cm4gMSAqIChhIC89IDEpICogYSAqICgoYiArIDEpICogYSAtIGIpXG5cdFx0XHR9LFxuXHRcdFx0ZWFzZU91dEJhY2s6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0dmFyIGIgPSAxLjcwMTU4O1xuXHRcdFx0XHRyZXR1cm4gMSAqICgoYSA9IGEgLyAxIC0gMSkgKiBhICogKChiICsgMSkgKiBhICsgYikgKyAxKVxuXHRcdFx0fSxcblx0XHRcdGVhc2VJbk91dEJhY2s6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0dmFyIGIgPSAxLjcwMTU4O1xuXHRcdFx0XHRyZXR1cm4gKGEgLz0gLjUpIDwgMSA/IC41ICogKGEgKiBhICogKCgoYiAqPSAxLjUyNSkgKyAxKSAqIGEgLSBiKSkgOiAuNSAqICgoYSAtPSAyKSAqIGEgKiAoKChiICo9IDEuNTI1KSArIDEpICogYSArIGIpICsgMilcblx0XHRcdH0sXG5cdFx0XHRlYXNlSW5Cb3VuY2U6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0cmV0dXJuIDEgLSB3LmVhc2VPdXRCb3VuY2UoMSAtIGEpXG5cdFx0XHR9LFxuXHRcdFx0ZWFzZU91dEJvdW5jZTogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRyZXR1cm4gKGEgLz0gMSkgPCAxIC8gMi43NSA/IDEgKiAoNy41NjI1ICogYSAqIGEpIDogMiAvIDIuNzUgPiBhID8gMSAqICg3LjU2MjUgKiAoYSAtPSAxLjUgLyAyLjc1KSAqIGEgKyAuNzUpIDogMi41IC8gMi43NSA+IGEgPyAxICogKDcuNTYyNSAqIChhIC09IDIuMjUgLyAyLjc1KSAqIGEgKyAuOTM3NSkgOiAxICogKDcuNTYyNSAqIChhIC09IDIuNjI1IC8gMi43NSkgKiBhICsgLjk4NDM3NSlcblx0XHRcdH0sXG5cdFx0XHRlYXNlSW5PdXRCb3VuY2U6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0cmV0dXJuIC41ID4gYSA/IC41ICogdy5lYXNlSW5Cb3VuY2UoMiAqIGEpIDogLjUgKiB3LmVhc2VPdXRCb3VuY2UoMiAqIGEgLSAxKSArIC41XG5cdFx0XHR9XG5cdFx0fSksXG5cdFx0eCA9IGQucmVxdWVzdEFuaW1GcmFtZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0ZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoYSwgMWUzIC8gNjApXG5cdFx0XHR9XG5cdFx0fSgpLFxuXHRcdHkgPSAoZC5jYW5jZWxBbmltRnJhbWUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cub0NhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG5cdFx0XHRmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHJldHVybiB3aW5kb3cuY2xlYXJUaW1lb3V0KGEsIDFlMyAvIDYwKVxuXHRcdFx0fVxuXHRcdH0oKSwgZC5hbmltYXRpb25Mb29wID0gZnVuY3Rpb24oYSwgYiwgYywgZCwgZSwgZikge1xuXHRcdFx0dmFyIGcgPSAwLFxuXHRcdFx0XHRoID0gd1tjXSB8fCB3LmxpbmVhcixcblx0XHRcdFx0aSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGcrKztcblx0XHRcdFx0XHR2YXIgYyA9IGcgLyBiLFxuXHRcdFx0XHRcdFx0aiA9IGgoYyk7XG5cdFx0XHRcdFx0YS5jYWxsKGYsIGosIGMsIGcpLCBkLmNhbGwoZiwgaiwgYyksIGIgPiBnID8gZi5hbmltYXRpb25GcmFtZSA9IHgoaSkgOiBlLmFwcGx5KGYpXG5cdFx0XHRcdH07XG5cdFx0XHR4KGkpXG5cdFx0fSwgZC5nZXRSZWxhdGl2ZVBvc2l0aW9uID0gZnVuY3Rpb24oYSkge1xuXHRcdFx0dmFyIGIsIGMsIGQgPSBhLm9yaWdpbmFsRXZlbnQgfHwgYSxcblx0XHRcdFx0ZSA9IGEuY3VycmVudFRhcmdldCB8fCBhLnNyY0VsZW1lbnQsXG5cdFx0XHRcdGYgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0cmV0dXJuIGQudG91Y2hlcyA/IChiID0gZC50b3VjaGVzWzBdLmNsaWVudFggLSBmLmxlZnQsIGMgPSBkLnRvdWNoZXNbMF0uY2xpZW50WSAtIGYudG9wKSA6IChiID0gZC5jbGllbnRYIC0gZi5sZWZ0LCBjID0gZC5jbGllbnRZIC0gZi50b3ApLCB7XG5cdFx0XHRcdHg6IGIsXG5cdFx0XHRcdHk6IGNcblx0XHRcdH1cblx0XHR9LCBkLmFkZEV2ZW50ID0gZnVuY3Rpb24oYSwgYiwgYykge1xuXHRcdFx0YS5hZGRFdmVudExpc3RlbmVyID8gYS5hZGRFdmVudExpc3RlbmVyKGIsIGMpIDogYS5hdHRhY2hFdmVudCA/IGEuYXR0YWNoRXZlbnQoXCJvblwiICsgYiwgYykgOiBhW1wib25cIiArIGJdID0gY1xuXHRcdH0pLFxuXHRcdHogPSBkLnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24oYSwgYiwgYykge1xuXHRcdFx0YS5yZW1vdmVFdmVudExpc3RlbmVyID8gYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsIGMsICExKSA6IGEuZGV0YWNoRXZlbnQgPyBhLmRldGFjaEV2ZW50KFwib25cIiArIGIsIGMpIDogYVtcIm9uXCIgKyBiXSA9IGtcblx0XHR9LFxuXHRcdEEgPSAoZC5iaW5kRXZlbnRzID0gZnVuY3Rpb24oYSwgYiwgYykge1xuXHRcdFx0YS5ldmVudHMgfHwgKGEuZXZlbnRzID0ge30pLCBlKGIsIGZ1bmN0aW9uKGIpIHtcblx0XHRcdFx0YS5ldmVudHNbYl0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRjLmFwcGx5KGEsIGFyZ3VtZW50cylcblx0XHRcdFx0fSwgeShhLmNoYXJ0LmNhbnZhcywgYiwgYS5ldmVudHNbYl0pXG5cdFx0XHR9KVxuXHRcdH0sIGQudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0ZShiLCBmdW5jdGlvbihiLCBjKSB7XG5cdFx0XHRcdHooYS5jaGFydC5jYW52YXMsIGMsIGIpXG5cdFx0XHR9KVxuXHRcdH0pLFxuXHRcdEIgPSBkLmdldE1heGltdW1XaWR0aCA9IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHZhciBiID0gYS5wYXJlbnROb2RlLFxuXHRcdFx0XHRjID0gcGFyc2VJbnQoRChiLCBcInBhZGRpbmctbGVmdFwiKSkgKyBwYXJzZUludChEKGIsIFwicGFkZGluZy1yaWdodFwiKSk7XG5cdFx0XHRyZXR1cm4gYi5jbGllbnRXaWR0aCAtIGNcblx0XHR9LFxuXHRcdEMgPSBkLmdldE1heGltdW1IZWlnaHQgPSBmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgYiA9IGEucGFyZW50Tm9kZSxcblx0XHRcdFx0YyA9IHBhcnNlSW50KEQoYiwgXCJwYWRkaW5nLWJvdHRvbVwiKSkgKyBwYXJzZUludChEKGIsIFwicGFkZGluZy10b3BcIikpO1xuXHRcdFx0cmV0dXJuIGIuY2xpZW50SGVpZ2h0IC0gY1xuXHRcdH0sXG5cdFx0RCA9IGQuZ2V0U3R5bGUgPSBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRyZXR1cm4gYS5jdXJyZW50U3R5bGUgPyBhLmN1cnJlbnRTdHlsZVtiXSA6IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShiKVxuXHRcdH0sXG5cdFx0RSA9IChkLmdldE1heGltdW1TaXplID0gZC5nZXRNYXhpbXVtV2lkdGgsIGQucmV0aW5hU2NhbGUgPSBmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgYiA9IGEuY3R4LFxuXHRcdFx0XHRjID0gYS5jYW52YXMud2lkdGgsXG5cdFx0XHRcdGQgPSBhLmNhbnZhcy5oZWlnaHQ7XG5cdFx0XHR3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAmJiAoYi5jYW52YXMuc3R5bGUud2lkdGggPSBjICsgXCJweFwiLCBiLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSBkICsgXCJweFwiLCBiLmNhbnZhcy5oZWlnaHQgPSBkICogd2luZG93LmRldmljZVBpeGVsUmF0aW8sIGIuY2FudmFzLndpZHRoID0gYyAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCBiLnNjYWxlKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykpXG5cdFx0fSksXG5cdFx0RiA9IGQuY2xlYXIgPSBmdW5jdGlvbihhKSB7XG5cdFx0XHRhLmN0eC5jbGVhclJlY3QoMCwgMCwgYS53aWR0aCwgYS5oZWlnaHQpXG5cdFx0fSxcblx0XHRHID0gZC5mb250U3RyaW5nID0gZnVuY3Rpb24oYSwgYiwgYykge1xuXHRcdFx0cmV0dXJuIGIgKyBcIiBcIiArIGEgKyBcInB4IFwiICsgY1xuXHRcdH0sXG5cdFx0SCA9IGQubG9uZ2VzdFRleHQgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG5cdFx0XHRhLmZvbnQgPSBiO1xuXHRcdFx0dmFyIGQgPSAwO1xuXHRcdFx0cmV0dXJuIGUoYywgZnVuY3Rpb24oYikge1xuXHRcdFx0XHR2YXIgYyA9IGEubWVhc3VyZVRleHQoYikud2lkdGg7XG5cdFx0XHRcdGQgPSBjID4gZCA/IGMgOiBkXG5cdFx0XHR9KSwgZFxuXHRcdH0sXG5cdFx0SSA9IGQuZHJhd1JvdW5kZWRSZWN0YW5nbGUgPSBmdW5jdGlvbihhLCBiLCBjLCBkLCBlLCBmKSB7XG5cdFx0XHRhLmJlZ2luUGF0aCgpLCBhLm1vdmVUbyhiICsgZiwgYyksIGEubGluZVRvKGIgKyBkIC0gZiwgYyksIGEucXVhZHJhdGljQ3VydmVUbyhiICsgZCwgYywgYiArIGQsIGMgKyBmKSwgYS5saW5lVG8oYiArIGQsIGMgKyBlIC0gZiksIGEucXVhZHJhdGljQ3VydmVUbyhiICsgZCwgYyArIGUsIGIgKyBkIC0gZiwgYyArIGUpLCBhLmxpbmVUbyhiICsgZiwgYyArIGUpLCBhLnF1YWRyYXRpY0N1cnZlVG8oYiwgYyArIGUsIGIsIGMgKyBlIC0gZiksIGEubGluZVRvKGIsIGMgKyBmKSwgYS5xdWFkcmF0aWNDdXJ2ZVRvKGIsIGMsIGIgKyBmLCBjKSwgYS5jbG9zZVBhdGgoKVxuXHRcdH07XG5cdGMuaW5zdGFuY2VzID0ge30sIGMuVHlwZSA9IGZ1bmN0aW9uKGEsIGIsIGQpIHtcblx0XHR0aGlzLm9wdGlvbnMgPSBiLCB0aGlzLmNoYXJ0ID0gZCwgdGhpcy5pZCA9IGwoKSwgYy5pbnN0YW5jZXNbdGhpcy5pZF0gPSB0aGlzLCBiLnJlc3BvbnNpdmUgJiYgdGhpcy5yZXNpemUoKSwgdGhpcy5pbml0aWFsaXplLmNhbGwodGhpcywgYSlcblx0fSwgZyhjLlR5cGUucHJvdG90eXBlLCB7XG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpc1xuXHRcdH0sXG5cdFx0Y2xlYXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIEYodGhpcy5jaGFydCksIHRoaXNcblx0XHR9LFxuXHRcdHN0b3A6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGMuYW5pbWF0aW9uU2VydmljZS5jYW5jZWxBbmltYXRpb24odGhpcyksIHRoaXNcblx0XHR9LFxuXHRcdHJlc2l6ZTogZnVuY3Rpb24oYSkge1xuXHRcdFx0dGhpcy5zdG9wKCk7XG5cdFx0XHR2YXIgYiA9IHRoaXMuY2hhcnQuY2FudmFzLFxuXHRcdFx0XHRjID0gQih0aGlzLmNoYXJ0LmNhbnZhcyksXG5cdFx0XHRcdGQgPSB0aGlzLm9wdGlvbnMubWFpbnRhaW5Bc3BlY3RSYXRpbyA/IGMgLyB0aGlzLmNoYXJ0LmFzcGVjdFJhdGlvIDogQyh0aGlzLmNoYXJ0LmNhbnZhcyk7XG5cdFx0XHRyZXR1cm4gYi53aWR0aCA9IHRoaXMuY2hhcnQud2lkdGggPSBjLCBiLmhlaWdodCA9IHRoaXMuY2hhcnQuaGVpZ2h0ID0gZCwgRSh0aGlzLmNoYXJ0KSwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBhICYmIGEuYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSksIHRoaXNcblx0XHR9LFxuXHRcdHJlZmxvdzogayxcblx0XHRyZW5kZXI6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdGlmIChhICYmIHRoaXMucmVmbG93KCksIHRoaXMub3B0aW9ucy5hbmltYXRpb24gJiYgIWEpIHtcblx0XHRcdFx0dmFyIGIgPSBuZXcgYy5BbmltYXRpb247XG5cdFx0XHRcdGIubnVtU3RlcHMgPSB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uU3RlcHMsIGIuZWFzaW5nID0gdGhpcy5vcHRpb25zLmFuaW1hdGlvbkVhc2luZywgYi5yZW5kZXIgPSBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRcdFx0dmFyIGMgPSBkLmVhc2luZ0VmZmVjdHNbYi5lYXNpbmddLFxuXHRcdFx0XHRcdFx0ZSA9IGIuY3VycmVudFN0ZXAgLyBiLm51bVN0ZXBzLFxuXHRcdFx0XHRcdFx0ZiA9IGMoZSk7XG5cdFx0XHRcdFx0YS5kcmF3KGYsIGUsIGIuY3VycmVudFN0ZXApXG5cdFx0XHRcdH0sIGIub25BbmltYXRpb25Qcm9ncmVzcyA9IHRoaXMub3B0aW9ucy5vbkFuaW1hdGlvblByb2dyZXNzLCBiLm9uQW5pbWF0aW9uQ29tcGxldGUgPSB0aGlzLm9wdGlvbnMub25BbmltYXRpb25Db21wbGV0ZSwgYy5hbmltYXRpb25TZXJ2aWNlLmFkZEFuaW1hdGlvbih0aGlzLCBiKVxuXHRcdFx0fSBlbHNlIHRoaXMuZHJhdygpLCB0aGlzLm9wdGlvbnMub25BbmltYXRpb25Db21wbGV0ZS5jYWxsKHRoaXMpO1xuXHRcdFx0cmV0dXJuIHRoaXNcblx0XHR9LFxuXHRcdGdlbmVyYXRlTGVnZW5kOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB2KHRoaXMub3B0aW9ucy5sZWdlbmRUZW1wbGF0ZSwgdGhpcylcblx0XHR9LFxuXHRcdGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5jbGVhcigpLCBBKHRoaXMsIHRoaXMuZXZlbnRzKTtcblx0XHRcdHZhciBhID0gdGhpcy5jaGFydC5jYW52YXM7XG5cdFx0XHRhLndpZHRoID0gdGhpcy5jaGFydC53aWR0aCwgYS5oZWlnaHQgPSB0aGlzLmNoYXJ0LmhlaWdodCwgYS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSA/IChhLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwid2lkdGhcIiksIGEuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJoZWlnaHRcIikpIDogKGEuc3R5bGUucmVtb3ZlQXR0cmlidXRlKFwid2lkdGhcIiksIGEuc3R5bGUucmVtb3ZlQXR0cmlidXRlKFwiaGVpZ2h0XCIpKSwgZGVsZXRlIGMuaW5zdGFuY2VzW3RoaXMuaWRdXG5cdFx0fSxcblx0XHRzaG93VG9vbHRpcDogZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgdGhpcy5hY3RpdmVFbGVtZW50cyAmJiAodGhpcy5hY3RpdmVFbGVtZW50cyA9IFtdKTtcblx0XHRcdHZhciBmID0gZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdHZhciBiID0gITE7XG5cdFx0XHRcdFx0cmV0dXJuIGEubGVuZ3RoICE9PSB0aGlzLmFjdGl2ZUVsZW1lbnRzLmxlbmd0aCA/IGIgPSAhMCA6IChlKGEsIGZ1bmN0aW9uKGEsIGMpIHtcblx0XHRcdFx0XHRcdGEgIT09IHRoaXMuYWN0aXZlRWxlbWVudHNbY10gJiYgKGIgPSAhMClcblx0XHRcdFx0XHR9LCB0aGlzKSwgYilcblx0XHRcdFx0fS5jYWxsKHRoaXMsIGEpO1xuXHRcdFx0aWYgKGYgfHwgYikge1xuXHRcdFx0XHRpZiAodGhpcy5hY3RpdmVFbGVtZW50cyA9IGEsIHRoaXMuZHJhdygpLCB0aGlzLm9wdGlvbnMuY3VzdG9tVG9vbHRpcHMgJiYgdGhpcy5vcHRpb25zLmN1c3RvbVRvb2x0aXBzKCExKSwgYS5sZW5ndGggPiAwKSBpZiAodGhpcy5kYXRhc2V0cyAmJiB0aGlzLmRhdGFzZXRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBnLCBoLCBqID0gdGhpcy5kYXRhc2V0cy5sZW5ndGggLSAxOyBqID49IDAgJiYgKGcgPSB0aGlzLmRhdGFzZXRzW2pdLnBvaW50cyB8fCB0aGlzLmRhdGFzZXRzW2pdLmJhcnMgfHwgdGhpcy5kYXRhc2V0c1tqXS5zZWdtZW50cywgaCA9IGkoZywgYVswXSksIC0xID09PSBoKTsgai0tKTtcblx0XHRcdFx0XHR2YXIgayA9IFtdLFxuXHRcdFx0XHRcdFx0bCA9IFtdLFxuXHRcdFx0XHRcdFx0bSA9IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGIsIGMsIGUsIGYsIGcsIGkgPSBbXSxcblx0XHRcdFx0XHRcdFx0XHRqID0gW10sXG5cdFx0XHRcdFx0XHRcdFx0bSA9IFtdO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZC5lYWNoKHRoaXMuZGF0YXNldHMsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRcdFx0XHRiID0gYS5wb2ludHMgfHwgYS5iYXJzIHx8IGEuc2VnbWVudHMsIGJbaF0gJiYgYltoXS5oYXNWYWx1ZSgpICYmIGkucHVzaChiW2hdKVxuXHRcdFx0XHRcdFx0XHR9KSwgZC5lYWNoKGksIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRcdFx0XHRqLnB1c2goYS54KSwgbS5wdXNoKGEueSksIGsucHVzaChkLnRlbXBsYXRlKHRoaXMub3B0aW9ucy5tdWx0aVRvb2x0aXBUZW1wbGF0ZSwgYSkpLCBsLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsbDogYS5fc2F2ZWQuZmlsbENvbG9yIHx8IGEuZmlsbENvbG9yLFxuXHRcdFx0XHRcdFx0XHRcdFx0c3Ryb2tlOiBhLl9zYXZlZC5zdHJva2VDb2xvciB8fCBhLnN0cm9rZUNvbG9yXG5cdFx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0fSwgdGhpcyksIGcgPSBxKG0pLCBlID0gcChtKSwgZiA9IHEoaiksIGMgPSBwKGopLCB7XG5cdFx0XHRcdFx0XHRcdFx0eDogZiA+IHRoaXMuY2hhcnQud2lkdGggLyAyID8gZiA6IGMsXG5cdFx0XHRcdFx0XHRcdFx0eTogKGcgKyBlKSAvIDJcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fS5jYWxsKHRoaXMsIGgpO1xuXHRcdFx0XHRcdG5ldyBjLk11bHRpVG9vbHRpcCh7XG5cdFx0XHRcdFx0XHR4OiBtLngsXG5cdFx0XHRcdFx0XHR5OiBtLnksXG5cdFx0XHRcdFx0XHR4UGFkZGluZzogdGhpcy5vcHRpb25zLnRvb2x0aXBYUGFkZGluZyxcblx0XHRcdFx0XHRcdHlQYWRkaW5nOiB0aGlzLm9wdGlvbnMudG9vbHRpcFlQYWRkaW5nLFxuXHRcdFx0XHRcdFx0eE9mZnNldDogdGhpcy5vcHRpb25zLnRvb2x0aXBYT2Zmc2V0LFxuXHRcdFx0XHRcdFx0ZmlsbENvbG9yOiB0aGlzLm9wdGlvbnMudG9vbHRpcEZpbGxDb2xvcixcblx0XHRcdFx0XHRcdHRleHRDb2xvcjogdGhpcy5vcHRpb25zLnRvb2x0aXBGb250Q29sb3IsXG5cdFx0XHRcdFx0XHRmb250RmFtaWx5OiB0aGlzLm9wdGlvbnMudG9vbHRpcEZvbnRGYW1pbHksXG5cdFx0XHRcdFx0XHRmb250U3R5bGU6IHRoaXMub3B0aW9ucy50b29sdGlwRm9udFN0eWxlLFxuXHRcdFx0XHRcdFx0Zm9udFNpemU6IHRoaXMub3B0aW9ucy50b29sdGlwRm9udFNpemUsXG5cdFx0XHRcdFx0XHR0aXRsZVRleHRDb2xvcjogdGhpcy5vcHRpb25zLnRvb2x0aXBUaXRsZUZvbnRDb2xvcixcblx0XHRcdFx0XHRcdHRpdGxlRm9udEZhbWlseTogdGhpcy5vcHRpb25zLnRvb2x0aXBUaXRsZUZvbnRGYW1pbHksXG5cdFx0XHRcdFx0XHR0aXRsZUZvbnRTdHlsZTogdGhpcy5vcHRpb25zLnRvb2x0aXBUaXRsZUZvbnRTdHlsZSxcblx0XHRcdFx0XHRcdHRpdGxlRm9udFNpemU6IHRoaXMub3B0aW9ucy50b29sdGlwVGl0bGVGb250U2l6ZSxcblx0XHRcdFx0XHRcdGNvcm5lclJhZGl1czogdGhpcy5vcHRpb25zLnRvb2x0aXBDb3JuZXJSYWRpdXMsXG5cdFx0XHRcdFx0XHRsYWJlbHM6IGssXG5cdFx0XHRcdFx0XHRsZWdlbmRDb2xvcnM6IGwsXG5cdFx0XHRcdFx0XHRsZWdlbmRDb2xvckJhY2tncm91bmQ6IHRoaXMub3B0aW9ucy5tdWx0aVRvb2x0aXBLZXlCYWNrZ3JvdW5kLFxuXHRcdFx0XHRcdFx0dGl0bGU6IHYodGhpcy5vcHRpb25zLnRvb2x0aXBUaXRsZVRlbXBsYXRlLCBhWzBdKSxcblx0XHRcdFx0XHRcdGNoYXJ0OiB0aGlzLmNoYXJ0LFxuXHRcdFx0XHRcdFx0Y3R4OiB0aGlzLmNoYXJ0LmN0eCxcblx0XHRcdFx0XHRcdGN1c3RvbTogdGhpcy5vcHRpb25zLmN1c3RvbVRvb2x0aXBzXG5cdFx0XHRcdFx0fSkuZHJhdygpXG5cdFx0XHRcdH0gZWxzZSBlKGEsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHR2YXIgYiA9IGEudG9vbHRpcFBvc2l0aW9uKCk7XG5cdFx0XHRcdFx0bmV3IGMuVG9vbHRpcCh7XG5cdFx0XHRcdFx0XHR4OiBNYXRoLnJvdW5kKGIueCksXG5cdFx0XHRcdFx0XHR5OiBNYXRoLnJvdW5kKGIueSksXG5cdFx0XHRcdFx0XHR4UGFkZGluZzogdGhpcy5vcHRpb25zLnRvb2x0aXBYUGFkZGluZyxcblx0XHRcdFx0XHRcdHlQYWRkaW5nOiB0aGlzLm9wdGlvbnMudG9vbHRpcFlQYWRkaW5nLFxuXHRcdFx0XHRcdFx0ZmlsbENvbG9yOiB0aGlzLm9wdGlvbnMudG9vbHRpcEZpbGxDb2xvcixcblx0XHRcdFx0XHRcdHRleHRDb2xvcjogdGhpcy5vcHRpb25zLnRvb2x0aXBGb250Q29sb3IsXG5cdFx0XHRcdFx0XHRmb250RmFtaWx5OiB0aGlzLm9wdGlvbnMudG9vbHRpcEZvbnRGYW1pbHksXG5cdFx0XHRcdFx0XHRmb250U3R5bGU6IHRoaXMub3B0aW9ucy50b29sdGlwRm9udFN0eWxlLFxuXHRcdFx0XHRcdFx0Zm9udFNpemU6IHRoaXMub3B0aW9ucy50b29sdGlwRm9udFNpemUsXG5cdFx0XHRcdFx0XHRjYXJldEhlaWdodDogdGhpcy5vcHRpb25zLnRvb2x0aXBDYXJldFNpemUsXG5cdFx0XHRcdFx0XHRjb3JuZXJSYWRpdXM6IHRoaXMub3B0aW9ucy50b29sdGlwQ29ybmVyUmFkaXVzLFxuXHRcdFx0XHRcdFx0dGV4dDogdih0aGlzLm9wdGlvbnMudG9vbHRpcFRlbXBsYXRlLCBhKSxcblx0XHRcdFx0XHRcdGNoYXJ0OiB0aGlzLmNoYXJ0LFxuXHRcdFx0XHRcdFx0Y3VzdG9tOiB0aGlzLm9wdGlvbnMuY3VzdG9tVG9vbHRpcHNcblx0XHRcdFx0XHR9KS5kcmF3KClcblx0XHRcdFx0fSwgdGhpcyk7XG5cdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHR9XG5cdFx0fSxcblx0XHR0b0Jhc2U2NEltYWdlOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLmNoYXJ0LmNhbnZhcy50b0RhdGFVUkwuYXBwbHkodGhpcy5jaGFydC5jYW52YXMsIGFyZ3VtZW50cylcblx0XHR9XG5cdH0pLCBjLlR5cGUuZXh0ZW5kID0gZnVuY3Rpb24oYSkge1xuXHRcdHZhciBiID0gdGhpcyxcblx0XHRcdGQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIGIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXHRcdFx0fTtcblx0XHRpZiAoZC5wcm90b3R5cGUgPSBmKGIucHJvdG90eXBlKSwgZyhkLnByb3RvdHlwZSwgYSksIGQuZXh0ZW5kID0gYy5UeXBlLmV4dGVuZCwgYS5uYW1lIHx8IGIucHJvdG90eXBlLm5hbWUpIHtcblx0XHRcdHZhciBlID0gYS5uYW1lIHx8IGIucHJvdG90eXBlLm5hbWUsXG5cdFx0XHRcdGkgPSBjLmRlZmF1bHRzW2IucHJvdG90eXBlLm5hbWVdID8gZihjLmRlZmF1bHRzW2IucHJvdG90eXBlLm5hbWVdKSA6IHt9O1xuXHRcdFx0Yy5kZWZhdWx0c1tlXSA9IGcoaSwgYS5kZWZhdWx0cyksIGMudHlwZXNbZV0gPSBkLCBjLnByb3RvdHlwZVtlXSA9IGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdFx0dmFyIGYgPSBoKGMuZGVmYXVsdHMuZ2xvYmFsLCBjLmRlZmF1bHRzW2VdLCBiIHx8IHt9KTtcblx0XHRcdFx0cmV0dXJuIG5ldyBkKGEsIGYsIHRoaXMpXG5cdFx0XHR9XG5cdFx0fSBlbHNlIG0oXCJOYW1lIG5vdCBwcm92aWRlZCBmb3IgdGhpcyBjaGFydCwgc28gaXQgaGFzbid0IGJlZW4gcmVnaXN0ZXJlZFwiKTtcblx0XHRyZXR1cm4gYlxuXHR9LCBjLkVsZW1lbnQgPSBmdW5jdGlvbihhKSB7XG5cdFx0Zyh0aGlzLCBhKSwgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRoaXMuc2F2ZSgpXG5cdH0sIGcoYy5FbGVtZW50LnByb3RvdHlwZSwge1xuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge30sXG5cdFx0cmVzdG9yZTogZnVuY3Rpb24oYSkge1xuXHRcdFx0cmV0dXJuIGEgPyBlKGEsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0dGhpc1thXSA9IHRoaXMuX3NhdmVkW2FdXG5cdFx0XHR9LCB0aGlzKSA6IGcodGhpcywgdGhpcy5fc2F2ZWQpLCB0aGlzXG5cdFx0fSxcblx0XHRzYXZlOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLl9zYXZlZCA9IGYodGhpcyksIGRlbGV0ZSB0aGlzLl9zYXZlZC5fc2F2ZWQsIHRoaXNcblx0XHR9LFxuXHRcdHVwZGF0ZTogZnVuY3Rpb24oYSkge1xuXHRcdFx0cmV0dXJuIGUoYSwgZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHR0aGlzLl9zYXZlZFtiXSA9IHRoaXNbYl0sIHRoaXNbYl0gPSBhXG5cdFx0XHR9LCB0aGlzKSwgdGhpc1xuXHRcdH0sXG5cdFx0dHJhbnNpdGlvbjogZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0cmV0dXJuIGUoYSwgZnVuY3Rpb24oYSwgYykge1xuXHRcdFx0XHR0aGlzW2NdID0gKGEgLSB0aGlzLl9zYXZlZFtjXSkgKiBiICsgdGhpcy5fc2F2ZWRbY11cblx0XHRcdH0sIHRoaXMpLCB0aGlzXG5cdFx0fSxcblx0XHR0b29sdGlwUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0eDogdGhpcy54LFxuXHRcdFx0XHR5OiB0aGlzLnlcblx0XHRcdH1cblx0XHR9LFxuXHRcdGhhc1ZhbHVlOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBvKHRoaXMudmFsdWUpXG5cdFx0fVxuXHR9KSwgYy5FbGVtZW50LmV4dGVuZCA9IGosIGMuUG9pbnQgPSBjLkVsZW1lbnQuZXh0ZW5kKHtcblx0XHRkaXNwbGF5OiAhMCxcblx0XHRpblJhbmdlOiBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIgYyA9IHRoaXMuaGl0RGV0ZWN0aW9uUmFkaXVzICsgdGhpcy5yYWRpdXM7XG5cdFx0XHRyZXR1cm4gTWF0aC5wb3coYSAtIHRoaXMueCwgMikgKyBNYXRoLnBvdyhiIC0gdGhpcy55LCAyKSA8IE1hdGgucG93KGMsIDIpXG5cdFx0fSxcblx0XHRkcmF3OiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICh0aGlzLmRpc3BsYXkpIHtcblx0XHRcdFx0dmFyIGEgPSB0aGlzLmN0eDtcblx0XHRcdFx0YS5iZWdpblBhdGgoKSwgYS5hcmModGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzLCAwLCAyICogTWF0aC5QSSksIGEuY2xvc2VQYXRoKCksIGEuc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZUNvbG9yLCBhLmxpbmVXaWR0aCA9IHRoaXMuc3Ryb2tlV2lkdGgsIGEuZmlsbFN0eWxlID0gdGhpcy5maWxsQ29sb3IsIGEuZmlsbCgpLCBhLnN0cm9rZSgpXG5cdFx0XHR9XG5cdFx0fVxuXHR9KSwgYy5BcmMgPSBjLkVsZW1lbnQuZXh0ZW5kKHtcblx0XHRpblJhbmdlOiBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIgYyA9IGQuZ2V0QW5nbGVGcm9tUG9pbnQodGhpcywge1xuXHRcdFx0XHR4OiBhLFxuXHRcdFx0XHR5OiBiXG5cdFx0XHR9KSxcblx0XHRcdFx0ZSA9IGMuYW5nbGUgJSAoMiAqIE1hdGguUEkpLFxuXHRcdFx0XHRmID0gKDIgKiBNYXRoLlBJICsgdGhpcy5zdGFydEFuZ2xlKSAlICgyICogTWF0aC5QSSksXG5cdFx0XHRcdGcgPSAoMiAqIE1hdGguUEkgKyB0aGlzLmVuZEFuZ2xlKSAlICgyICogTWF0aC5QSSkgfHwgMzYwLFxuXHRcdFx0XHRoID0gZiA+IGcgPyBnID49IGUgfHwgZSA+PSBmIDogZSA+PSBmICYmIGcgPj0gZSxcblx0XHRcdFx0aSA9IGMuZGlzdGFuY2UgPj0gdGhpcy5pbm5lclJhZGl1cyAmJiBjLmRpc3RhbmNlIDw9IHRoaXMub3V0ZXJSYWRpdXM7XG5cdFx0XHRyZXR1cm4gaCAmJiBpXG5cdFx0fSxcblx0XHR0b29sdGlwUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGEgPSB0aGlzLnN0YXJ0QW5nbGUgKyAodGhpcy5lbmRBbmdsZSAtIHRoaXMuc3RhcnRBbmdsZSkgLyAyLFxuXHRcdFx0XHRiID0gKHRoaXMub3V0ZXJSYWRpdXMgLSB0aGlzLmlubmVyUmFkaXVzKSAvIDIgKyB0aGlzLmlubmVyUmFkaXVzO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0eDogdGhpcy54ICsgTWF0aC5jb3MoYSkgKiBiLFxuXHRcdFx0XHR5OiB0aGlzLnkgKyBNYXRoLnNpbihhKSAqIGJcblx0XHRcdH1cblx0XHR9LFxuXHRcdGRyYXc6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHZhciBiID0gdGhpcy5jdHg7XG5cdFx0XHRiLmJlZ2luUGF0aCgpLCBiLmFyYyh0aGlzLngsIHRoaXMueSwgdGhpcy5vdXRlclJhZGl1cyA8IDAgPyAwIDogdGhpcy5vdXRlclJhZGl1cywgdGhpcy5zdGFydEFuZ2xlLCB0aGlzLmVuZEFuZ2xlKSwgYi5hcmModGhpcy54LCB0aGlzLnksIHRoaXMuaW5uZXJSYWRpdXMgPCAwID8gMCA6IHRoaXMuaW5uZXJSYWRpdXMsIHRoaXMuZW5kQW5nbGUsIHRoaXMuc3RhcnRBbmdsZSwgITApLCBiLmNsb3NlUGF0aCgpLCBiLnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VDb2xvciwgYi5saW5lV2lkdGggPSB0aGlzLnN0cm9rZVdpZHRoLCBiLmZpbGxTdHlsZSA9IHRoaXMuZmlsbENvbG9yLCBiLmZpbGwoKSwgYi5saW5lSm9pbiA9IFwiYmV2ZWxcIiwgdGhpcy5zaG93U3Ryb2tlICYmIGIuc3Ryb2tlKClcblx0XHR9XG5cdH0pLCBjLlJlY3RhbmdsZSA9IGMuRWxlbWVudC5leHRlbmQoe1xuXHRcdGRyYXc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGEgPSB0aGlzLmN0eCxcblx0XHRcdFx0YiA9IHRoaXMud2lkdGggLyAyLFxuXHRcdFx0XHRjID0gdGhpcy54IC0gYixcblx0XHRcdFx0ZCA9IHRoaXMueCArIGIsXG5cdFx0XHRcdGUgPSB0aGlzLmJhc2UgLSAodGhpcy5iYXNlIC0gdGhpcy55KSxcblx0XHRcdFx0ZiA9IHRoaXMuc3Ryb2tlV2lkdGggLyAyO1xuXHRcdFx0dGhpcy5zaG93U3Ryb2tlICYmIChjICs9IGYsIGQgLT0gZiwgZSArPSBmKSwgYS5iZWdpblBhdGgoKSwgYS5maWxsU3R5bGUgPSB0aGlzLmZpbGxDb2xvciwgYS5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlQ29sb3IsIGEubGluZVdpZHRoID0gdGhpcy5zdHJva2VXaWR0aCwgYS5tb3ZlVG8oYywgdGhpcy5iYXNlKSwgYS5saW5lVG8oYywgZSksIGEubGluZVRvKGQsIGUpLCBhLmxpbmVUbyhkLCB0aGlzLmJhc2UpLCBhLmZpbGwoKSwgdGhpcy5zaG93U3Ryb2tlICYmIGEuc3Ryb2tlKClcblx0XHR9LFxuXHRcdGhlaWdodDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5iYXNlIC0gdGhpcy55XG5cdFx0fSxcblx0XHRpblJhbmdlOiBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRyZXR1cm4gYSA+PSB0aGlzLnggLSB0aGlzLndpZHRoIC8gMiAmJiBhIDw9IHRoaXMueCArIHRoaXMud2lkdGggLyAyICYmIGIgPj0gdGhpcy55ICYmIGIgPD0gdGhpcy5iYXNlXG5cdFx0fVxuXHR9KSwgYy5BbmltYXRpb24gPSBjLkVsZW1lbnQuZXh0ZW5kKHtcblx0XHRjdXJyZW50U3RlcDogbnVsbCxcblx0XHRudW1TdGVwczogNjAsXG5cdFx0ZWFzaW5nOiBcIlwiLFxuXHRcdHJlbmRlcjogbnVsbCxcblx0XHRvbkFuaW1hdGlvblByb2dyZXNzOiBudWxsLFxuXHRcdG9uQW5pbWF0aW9uQ29tcGxldGU6IG51bGxcblx0fSksIGMuVG9vbHRpcCA9IGMuRWxlbWVudC5leHRlbmQoe1xuXHRcdGRyYXc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGEgPSB0aGlzLmNoYXJ0LmN0eDtcblx0XHRcdGEuZm9udCA9IEcodGhpcy5mb250U2l6ZSwgdGhpcy5mb250U3R5bGUsIHRoaXMuZm9udEZhbWlseSksIHRoaXMueEFsaWduID0gXCJjZW50ZXJcIiwgdGhpcy55QWxpZ24gPSBcImFib3ZlXCI7XG5cdFx0XHR2YXIgYiA9IHRoaXMuY2FyZXRQYWRkaW5nID0gMixcblx0XHRcdFx0YyA9IGEubWVhc3VyZVRleHQodGhpcy50ZXh0KS53aWR0aCArIDIgKiB0aGlzLnhQYWRkaW5nLFxuXHRcdFx0XHRkID0gdGhpcy5mb250U2l6ZSArIDIgKiB0aGlzLnlQYWRkaW5nLFxuXHRcdFx0XHRlID0gZCArIHRoaXMuY2FyZXRIZWlnaHQgKyBiO1xuXHRcdFx0dGhpcy54ICsgYyAvIDIgPiB0aGlzLmNoYXJ0LndpZHRoID8gdGhpcy54QWxpZ24gPSBcImxlZnRcIiA6IHRoaXMueCAtIGMgLyAyIDwgMCAmJiAodGhpcy54QWxpZ24gPSBcInJpZ2h0XCIpLCB0aGlzLnkgLSBlIDwgMCAmJiAodGhpcy55QWxpZ24gPSBcImJlbG93XCIpO1xuXHRcdFx0dmFyIGYgPSB0aGlzLnggLSBjIC8gMixcblx0XHRcdFx0ZyA9IHRoaXMueSAtIGU7XG5cdFx0XHRpZiAoYS5maWxsU3R5bGUgPSB0aGlzLmZpbGxDb2xvciwgdGhpcy5jdXN0b20pIHRoaXMuY3VzdG9tKHRoaXMpO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHN3aXRjaCAodGhpcy55QWxpZ24pIHtcblx0XHRcdFx0Y2FzZSBcImFib3ZlXCI6XG5cdFx0XHRcdFx0YS5iZWdpblBhdGgoKSwgYS5tb3ZlVG8odGhpcy54LCB0aGlzLnkgLSBiKSwgYS5saW5lVG8odGhpcy54ICsgdGhpcy5jYXJldEhlaWdodCwgdGhpcy55IC0gKGIgKyB0aGlzLmNhcmV0SGVpZ2h0KSksIGEubGluZVRvKHRoaXMueCAtIHRoaXMuY2FyZXRIZWlnaHQsIHRoaXMueSAtIChiICsgdGhpcy5jYXJldEhlaWdodCkpLCBhLmNsb3NlUGF0aCgpLCBhLmZpbGwoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImJlbG93XCI6XG5cdFx0XHRcdFx0ZyA9IHRoaXMueSArIGIgKyB0aGlzLmNhcmV0SGVpZ2h0LCBhLmJlZ2luUGF0aCgpLCBhLm1vdmVUbyh0aGlzLngsIHRoaXMueSArIGIpLCBhLmxpbmVUbyh0aGlzLnggKyB0aGlzLmNhcmV0SGVpZ2h0LCB0aGlzLnkgKyBiICsgdGhpcy5jYXJldEhlaWdodCksIGEubGluZVRvKHRoaXMueCAtIHRoaXMuY2FyZXRIZWlnaHQsIHRoaXMueSArIGIgKyB0aGlzLmNhcmV0SGVpZ2h0KSwgYS5jbG9zZVBhdGgoKSwgYS5maWxsKClcblx0XHRcdFx0fVxuXHRcdFx0XHRzd2l0Y2ggKHRoaXMueEFsaWduKSB7XG5cdFx0XHRcdGNhc2UgXCJsZWZ0XCI6XG5cdFx0XHRcdFx0ZiA9IHRoaXMueCAtIGMgKyAodGhpcy5jb3JuZXJSYWRpdXMgKyB0aGlzLmNhcmV0SGVpZ2h0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInJpZ2h0XCI6XG5cdFx0XHRcdFx0ZiA9IHRoaXMueCAtICh0aGlzLmNvcm5lclJhZGl1cyArIHRoaXMuY2FyZXRIZWlnaHQpXG5cdFx0XHRcdH1cblx0XHRcdFx0SShhLCBmLCBnLCBjLCBkLCB0aGlzLmNvcm5lclJhZGl1cyksIGEuZmlsbCgpLCBhLmZpbGxTdHlsZSA9IHRoaXMudGV4dENvbG9yLCBhLnRleHRBbGlnbiA9IFwiY2VudGVyXCIsIGEudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIiwgYS5maWxsVGV4dCh0aGlzLnRleHQsIGYgKyBjIC8gMiwgZyArIGQgLyAyKVxuXHRcdFx0fVxuXHRcdH1cblx0fSksIGMuTXVsdGlUb29sdGlwID0gYy5FbGVtZW50LmV4dGVuZCh7XG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmZvbnQgPSBHKHRoaXMuZm9udFNpemUsIHRoaXMuZm9udFN0eWxlLCB0aGlzLmZvbnRGYW1pbHkpLCB0aGlzLnRpdGxlRm9udCA9IEcodGhpcy50aXRsZUZvbnRTaXplLCB0aGlzLnRpdGxlRm9udFN0eWxlLCB0aGlzLnRpdGxlRm9udEZhbWlseSksIHRoaXMudGl0bGVIZWlnaHQgPSB0aGlzLnRpdGxlID8gMS41ICogdGhpcy50aXRsZUZvbnRTaXplIDogMCwgdGhpcy5oZWlnaHQgPSB0aGlzLmxhYmVscy5sZW5ndGggKiB0aGlzLmZvbnRTaXplICsgKHRoaXMubGFiZWxzLmxlbmd0aCAtIDEpICogKHRoaXMuZm9udFNpemUgLyAyKSArIDIgKiB0aGlzLnlQYWRkaW5nICsgdGhpcy50aXRsZUhlaWdodCwgdGhpcy5jdHguZm9udCA9IHRoaXMudGl0bGVGb250O1xuXHRcdFx0dmFyIGEgPSB0aGlzLmN0eC5tZWFzdXJlVGV4dCh0aGlzLnRpdGxlKS53aWR0aCxcblx0XHRcdFx0YiA9IEgodGhpcy5jdHgsIHRoaXMuZm9udCwgdGhpcy5sYWJlbHMpICsgdGhpcy5mb250U2l6ZSArIDMsXG5cdFx0XHRcdGMgPSBwKFtiLCBhXSk7XG5cdFx0XHR0aGlzLndpZHRoID0gYyArIDIgKiB0aGlzLnhQYWRkaW5nO1xuXHRcdFx0dmFyIGQgPSB0aGlzLmhlaWdodCAvIDI7XG5cdFx0XHR0aGlzLnkgLSBkIDwgMCA/IHRoaXMueSA9IGQgOiB0aGlzLnkgKyBkID4gdGhpcy5jaGFydC5oZWlnaHQgJiYgKHRoaXMueSA9IHRoaXMuY2hhcnQuaGVpZ2h0IC0gZCksIHRoaXMueCA+IHRoaXMuY2hhcnQud2lkdGggLyAyID8gdGhpcy54IC09IHRoaXMueE9mZnNldCArIHRoaXMud2lkdGggOiB0aGlzLnggKz0gdGhpcy54T2Zmc2V0XG5cdFx0fSxcblx0XHRnZXRMaW5lSGVpZ2h0OiBmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgYiA9IHRoaXMueSAtIHRoaXMuaGVpZ2h0IC8gMiArIHRoaXMueVBhZGRpbmcsXG5cdFx0XHRcdGMgPSBhIC0gMTtcblx0XHRcdHJldHVybiAwID09PSBhID8gYiArIHRoaXMudGl0bGVIZWlnaHQgLyAzIDogYiArICgxLjUgKiB0aGlzLmZvbnRTaXplICogYyArIHRoaXMuZm9udFNpemUgLyAyKSArIHRoaXMudGl0bGVIZWlnaHRcblx0XHR9LFxuXHRcdGRyYXc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKHRoaXMuY3VzdG9tKSB0aGlzLmN1c3RvbSh0aGlzKTtcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRJKHRoaXMuY3R4LCB0aGlzLngsIHRoaXMueSAtIHRoaXMuaGVpZ2h0IC8gMiwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMuY29ybmVyUmFkaXVzKTtcblx0XHRcdFx0dmFyIGEgPSB0aGlzLmN0eDtcblx0XHRcdFx0YS5maWxsU3R5bGUgPSB0aGlzLmZpbGxDb2xvciwgYS5maWxsKCksIGEuY2xvc2VQYXRoKCksIGEudGV4dEFsaWduID0gXCJsZWZ0XCIsIGEudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIiwgYS5maWxsU3R5bGUgPSB0aGlzLnRpdGxlVGV4dENvbG9yLCBhLmZvbnQgPSB0aGlzLnRpdGxlRm9udCwgYS5maWxsVGV4dCh0aGlzLnRpdGxlLCB0aGlzLnggKyB0aGlzLnhQYWRkaW5nLCB0aGlzLmdldExpbmVIZWlnaHQoMCkpLCBhLmZvbnQgPSB0aGlzLmZvbnQsIGQuZWFjaCh0aGlzLmxhYmVscywgZnVuY3Rpb24oYiwgYykge1xuXHRcdFx0XHRcdGEuZmlsbFN0eWxlID0gdGhpcy50ZXh0Q29sb3IsIGEuZmlsbFRleHQoYiwgdGhpcy54ICsgdGhpcy54UGFkZGluZyArIHRoaXMuZm9udFNpemUgKyAzLCB0aGlzLmdldExpbmVIZWlnaHQoYyArIDEpKSwgYS5maWxsU3R5bGUgPSB0aGlzLmxlZ2VuZENvbG9yQmFja2dyb3VuZCwgYS5maWxsUmVjdCh0aGlzLnggKyB0aGlzLnhQYWRkaW5nLCB0aGlzLmdldExpbmVIZWlnaHQoYyArIDEpIC0gdGhpcy5mb250U2l6ZSAvIDIsIHRoaXMuZm9udFNpemUsIHRoaXMuZm9udFNpemUpLCBhLmZpbGxTdHlsZSA9IHRoaXMubGVnZW5kQ29sb3JzW2NdLmZpbGwsIGEuZmlsbFJlY3QodGhpcy54ICsgdGhpcy54UGFkZGluZywgdGhpcy5nZXRMaW5lSGVpZ2h0KGMgKyAxKSAtIHRoaXMuZm9udFNpemUgLyAyLCB0aGlzLmZvbnRTaXplLCB0aGlzLmZvbnRTaXplKVxuXHRcdFx0XHR9LCB0aGlzKVxuXHRcdFx0fVxuXHRcdH1cblx0fSksIGMuU2NhbGUgPSBjLkVsZW1lbnQuZXh0ZW5kKHtcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuZml0KClcblx0XHR9LFxuXHRcdGJ1aWxkWUxhYmVsczogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnlMYWJlbHMgPSBbXTtcblx0XHRcdGZvciAodmFyIGEgPSByKHRoaXMuc3RlcFZhbHVlKSwgYiA9IDA7IGIgPD0gdGhpcy5zdGVwczsgYisrKSB0aGlzLnlMYWJlbHMucHVzaCh2KHRoaXMudGVtcGxhdGVTdHJpbmcsIHtcblx0XHRcdFx0dmFsdWU6ICh0aGlzLm1pbiArIGIgKiB0aGlzLnN0ZXBWYWx1ZSkudG9GaXhlZChhKVxuXHRcdFx0fSkpO1xuXHRcdFx0dGhpcy55TGFiZWxXaWR0aCA9IHRoaXMuZGlzcGxheSAmJiB0aGlzLnNob3dMYWJlbHMgPyBIKHRoaXMuY3R4LCB0aGlzLmZvbnQsIHRoaXMueUxhYmVscykgKyAxMCA6IDBcblx0XHR9LFxuXHRcdGFkZFhMYWJlbDogZnVuY3Rpb24oYSkge1xuXHRcdFx0dGhpcy54TGFiZWxzLnB1c2goYSksIHRoaXMudmFsdWVzQ291bnQrKywgdGhpcy5maXQoKVxuXHRcdH0sXG5cdFx0cmVtb3ZlWExhYmVsOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMueExhYmVscy5zaGlmdCgpLCB0aGlzLnZhbHVlc0NvdW50LS0sIHRoaXMuZml0KClcblx0XHR9LFxuXHRcdGZpdDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnN0YXJ0UG9pbnQgPSB0aGlzLmRpc3BsYXkgPyB0aGlzLmZvbnRTaXplIDogMCwgdGhpcy5lbmRQb2ludCA9IHRoaXMuZGlzcGxheSA/IHRoaXMuaGVpZ2h0IC0gMS41ICogdGhpcy5mb250U2l6ZSAtIDUgOiB0aGlzLmhlaWdodCwgdGhpcy5zdGFydFBvaW50ICs9IHRoaXMucGFkZGluZywgdGhpcy5lbmRQb2ludCAtPSB0aGlzLnBhZGRpbmc7XG5cdFx0XHR2YXIgYSwgYiA9IHRoaXMuZW5kUG9pbnQsXG5cdFx0XHRcdGMgPSB0aGlzLmVuZFBvaW50IC0gdGhpcy5zdGFydFBvaW50O1xuXHRcdFx0Zm9yICh0aGlzLmNhbGN1bGF0ZVlSYW5nZShjKSwgdGhpcy5idWlsZFlMYWJlbHMoKSwgdGhpcy5jYWxjdWxhdGVYTGFiZWxSb3RhdGlvbigpOyBjID4gdGhpcy5lbmRQb2ludCAtIHRoaXMuc3RhcnRQb2ludDspIGMgPSB0aGlzLmVuZFBvaW50IC0gdGhpcy5zdGFydFBvaW50LCBhID0gdGhpcy55TGFiZWxXaWR0aCwgdGhpcy5jYWxjdWxhdGVZUmFuZ2UoYyksIHRoaXMuYnVpbGRZTGFiZWxzKCksIGEgPCB0aGlzLnlMYWJlbFdpZHRoICYmICh0aGlzLmVuZFBvaW50ID0gYiwgdGhpcy5jYWxjdWxhdGVYTGFiZWxSb3RhdGlvbigpKVxuXHRcdH0sXG5cdFx0Y2FsY3VsYXRlWExhYmVsUm90YXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5jdHguZm9udCA9IHRoaXMuZm9udDtcblx0XHRcdHZhciBhLCBiLCBjID0gdGhpcy5jdHgubWVhc3VyZVRleHQodGhpcy54TGFiZWxzWzBdKS53aWR0aCxcblx0XHRcdFx0ZCA9IHRoaXMuY3R4Lm1lYXN1cmVUZXh0KHRoaXMueExhYmVsc1t0aGlzLnhMYWJlbHMubGVuZ3RoIC0gMV0pLndpZHRoO1xuXHRcdFx0aWYgKHRoaXMueFNjYWxlUGFkZGluZ1JpZ2h0ID0gZCAvIDIgKyAzLCB0aGlzLnhTY2FsZVBhZGRpbmdMZWZ0ID0gYyAvIDIgPiB0aGlzLnlMYWJlbFdpZHRoID8gYyAvIDIgOiB0aGlzLnlMYWJlbFdpZHRoLCB0aGlzLnhMYWJlbFJvdGF0aW9uID0gMCwgdGhpcy5kaXNwbGF5KSB7XG5cdFx0XHRcdHZhciBlLCBmID0gSCh0aGlzLmN0eCwgdGhpcy5mb250LCB0aGlzLnhMYWJlbHMpO1xuXHRcdFx0XHR0aGlzLnhMYWJlbFdpZHRoID0gZjtcblx0XHRcdFx0Zm9yICh2YXIgZyA9IE1hdGguZmxvb3IodGhpcy5jYWxjdWxhdGVYKDEpIC0gdGhpcy5jYWxjdWxhdGVYKDApKSAtIDY7IHRoaXMueExhYmVsV2lkdGggPiBnICYmIDAgPT09IHRoaXMueExhYmVsUm90YXRpb24gfHwgdGhpcy54TGFiZWxXaWR0aCA+IGcgJiYgdGhpcy54TGFiZWxSb3RhdGlvbiA8PSA5MCAmJiB0aGlzLnhMYWJlbFJvdGF0aW9uID4gMDspIGUgPSBNYXRoLmNvcyhzKHRoaXMueExhYmVsUm90YXRpb24pKSwgYSA9IGUgKiBjLCBiID0gZSAqIGQsIGEgKyB0aGlzLmZvbnRTaXplIC8gMiA+IHRoaXMueUxhYmVsV2lkdGggJiYgKHRoaXMueFNjYWxlUGFkZGluZ0xlZnQgPSBhICsgdGhpcy5mb250U2l6ZSAvIDIpLCB0aGlzLnhTY2FsZVBhZGRpbmdSaWdodCA9IHRoaXMuZm9udFNpemUgLyAyLCB0aGlzLnhMYWJlbFJvdGF0aW9uKyssIHRoaXMueExhYmVsV2lkdGggPSBlICogZjtcblx0XHRcdFx0dGhpcy54TGFiZWxSb3RhdGlvbiA+IDAgJiYgKHRoaXMuZW5kUG9pbnQgLT0gTWF0aC5zaW4ocyh0aGlzLnhMYWJlbFJvdGF0aW9uKSkgKiBmICsgMylcblx0XHRcdH0gZWxzZSB0aGlzLnhMYWJlbFdpZHRoID0gMCwgdGhpcy54U2NhbGVQYWRkaW5nUmlnaHQgPSB0aGlzLnBhZGRpbmcsIHRoaXMueFNjYWxlUGFkZGluZ0xlZnQgPSB0aGlzLnBhZGRpbmdcblx0XHR9LFxuXHRcdGNhbGN1bGF0ZVlSYW5nZTogayxcblx0XHRkcmF3aW5nQXJlYTogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zdGFydFBvaW50IC0gdGhpcy5lbmRQb2ludFxuXHRcdH0sXG5cdFx0Y2FsY3VsYXRlWTogZnVuY3Rpb24oYSkge1xuXHRcdFx0dmFyIGIgPSB0aGlzLmRyYXdpbmdBcmVhKCkgLyAodGhpcy5taW4gLSB0aGlzLm1heCk7XG5cdFx0XHRyZXR1cm4gdGhpcy5lbmRQb2ludCAtIGIgKiAoYSAtIHRoaXMubWluKVxuXHRcdH0sXG5cdFx0Y2FsY3VsYXRlWDogZnVuY3Rpb24oYSkge1xuXHRcdFx0dmFyIGIgPSAodGhpcy54TGFiZWxSb3RhdGlvbiA+IDAsIHRoaXMud2lkdGggLSAodGhpcy54U2NhbGVQYWRkaW5nTGVmdCArIHRoaXMueFNjYWxlUGFkZGluZ1JpZ2h0KSksXG5cdFx0XHRcdGMgPSBiIC8gTWF0aC5tYXgodGhpcy52YWx1ZXNDb3VudCAtICh0aGlzLm9mZnNldEdyaWRMaW5lcyA/IDAgOiAxKSwgMSksXG5cdFx0XHRcdGQgPSBjICogYSArIHRoaXMueFNjYWxlUGFkZGluZ0xlZnQ7XG5cdFx0XHRyZXR1cm4gdGhpcy5vZmZzZXRHcmlkTGluZXMgJiYgKGQgKz0gYyAvIDIpLCBNYXRoLnJvdW5kKGQpXG5cdFx0fSxcblx0XHR1cGRhdGU6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdGQuZXh0ZW5kKHRoaXMsIGEpLCB0aGlzLmZpdCgpXG5cdFx0fSxcblx0XHRkcmF3OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBhID0gdGhpcy5jdHgsXG5cdFx0XHRcdGIgPSAodGhpcy5lbmRQb2ludCAtIHRoaXMuc3RhcnRQb2ludCkgLyB0aGlzLnN0ZXBzLFxuXHRcdFx0XHRjID0gTWF0aC5yb3VuZCh0aGlzLnhTY2FsZVBhZGRpbmdMZWZ0KTtcblx0XHRcdHRoaXMuZGlzcGxheSAmJiAoYS5maWxsU3R5bGUgPSB0aGlzLnRleHRDb2xvciwgYS5mb250ID0gdGhpcy5mb250LCBlKHRoaXMueUxhYmVscywgZnVuY3Rpb24oZSwgZikge1xuXHRcdFx0XHR2YXIgZyA9IHRoaXMuZW5kUG9pbnQgLSBiICogZixcblx0XHRcdFx0XHRoID0gTWF0aC5yb3VuZChnKSxcblx0XHRcdFx0XHRpID0gdGhpcy5zaG93SG9yaXpvbnRhbExpbmVzO1xuXHRcdFx0XHRhLnRleHRBbGlnbiA9IFwicmlnaHRcIiwgYS50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiLCB0aGlzLnNob3dMYWJlbHMgJiYgYS5maWxsVGV4dChlLCBjIC0gMTAsIGcpLCAwICE9PSBmIHx8IGkgfHwgKGkgPSAhMCksIGkgJiYgYS5iZWdpblBhdGgoKSwgZiA+IDAgPyAoYS5saW5lV2lkdGggPSB0aGlzLmdyaWRMaW5lV2lkdGgsIGEuc3Ryb2tlU3R5bGUgPSB0aGlzLmdyaWRMaW5lQ29sb3IpIDogKGEubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGgsIGEuc3Ryb2tlU3R5bGUgPSB0aGlzLmxpbmVDb2xvciksIGggKz0gZC5hbGlhc1BpeGVsKGEubGluZVdpZHRoKSwgaSAmJiAoYS5tb3ZlVG8oYywgaCksIGEubGluZVRvKHRoaXMud2lkdGgsIGgpLCBhLnN0cm9rZSgpLCBhLmNsb3NlUGF0aCgpKSwgYS5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aCwgYS5zdHJva2VTdHlsZSA9IHRoaXMubGluZUNvbG9yLCBhLmJlZ2luUGF0aCgpLCBhLm1vdmVUbyhjIC0gNSwgaCksIGEubGluZVRvKGMsIGgpLCBhLnN0cm9rZSgpLCBhLmNsb3NlUGF0aCgpXG5cdFx0XHR9LCB0aGlzKSwgZSh0aGlzLnhMYWJlbHMsIGZ1bmN0aW9uKGIsIGMpIHtcblx0XHRcdFx0dmFyIGQgPSB0aGlzLmNhbGN1bGF0ZVgoYykgKyB0KHRoaXMubGluZVdpZHRoKSxcblx0XHRcdFx0XHRlID0gdGhpcy5jYWxjdWxhdGVYKGMgLSAodGhpcy5vZmZzZXRHcmlkTGluZXMgPyAuNSA6IDApKSArIHQodGhpcy5saW5lV2lkdGgpLFxuXHRcdFx0XHRcdGYgPSB0aGlzLnhMYWJlbFJvdGF0aW9uID4gMCxcblx0XHRcdFx0XHRnID0gdGhpcy5zaG93VmVydGljYWxMaW5lcztcblx0XHRcdFx0MCAhPT0gYyB8fCBnIHx8IChnID0gITApLCBnICYmIGEuYmVnaW5QYXRoKCksIGMgPiAwID8gKGEubGluZVdpZHRoID0gdGhpcy5ncmlkTGluZVdpZHRoLCBhLnN0cm9rZVN0eWxlID0gdGhpcy5ncmlkTGluZUNvbG9yKSA6IChhLmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoLCBhLnN0cm9rZVN0eWxlID0gdGhpcy5saW5lQ29sb3IpLCBnICYmIChhLm1vdmVUbyhlLCB0aGlzLmVuZFBvaW50KSwgYS5saW5lVG8oZSwgdGhpcy5zdGFydFBvaW50IC0gMyksIGEuc3Ryb2tlKCksIGEuY2xvc2VQYXRoKCkpLCBhLmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoLCBhLnN0cm9rZVN0eWxlID0gdGhpcy5saW5lQ29sb3IsIGEuYmVnaW5QYXRoKCksIGEubW92ZVRvKGUsIHRoaXMuZW5kUG9pbnQpLCBhLmxpbmVUbyhlLCB0aGlzLmVuZFBvaW50ICsgNSksIGEuc3Ryb2tlKCksIGEuY2xvc2VQYXRoKCksIGEuc2F2ZSgpLCBhLnRyYW5zbGF0ZShkLCBmID8gdGhpcy5lbmRQb2ludCArIDEyIDogdGhpcy5lbmRQb2ludCArIDgpLCBhLnJvdGF0ZSgtMSAqIHModGhpcy54TGFiZWxSb3RhdGlvbikpLCBhLmZvbnQgPSB0aGlzLmZvbnQsIGEudGV4dEFsaWduID0gZiA/IFwicmlnaHRcIiA6IFwiY2VudGVyXCIsIGEudGV4dEJhc2VsaW5lID0gZiA/IFwibWlkZGxlXCIgOiBcInRvcFwiLCBhLmZpbGxUZXh0KGIsIDAsIDApLCBhLnJlc3RvcmUoKVxuXHRcdFx0fSwgdGhpcykpXG5cdFx0fVxuXHR9KSwgYy5SYWRpYWxTY2FsZSA9IGMuRWxlbWVudC5leHRlbmQoe1xuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5zaXplID0gcShbdGhpcy5oZWlnaHQsIHRoaXMud2lkdGhdKSwgdGhpcy5kcmF3aW5nQXJlYSA9IHRoaXMuZGlzcGxheSA/IHRoaXMuc2l6ZSAvIDIgLSAodGhpcy5mb250U2l6ZSAvIDIgKyB0aGlzLmJhY2tkcm9wUGFkZGluZ1kpIDogdGhpcy5zaXplIC8gMlxuXHRcdH0sXG5cdFx0Y2FsY3VsYXRlQ2VudGVyT2Zmc2V0OiBmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgYiA9IHRoaXMuZHJhd2luZ0FyZWEgLyAodGhpcy5tYXggLSB0aGlzLm1pbik7XG5cdFx0XHRyZXR1cm4gKGEgLSB0aGlzLm1pbikgKiBiXG5cdFx0fSxcblx0XHR1cGRhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5saW5lQXJjID8gdGhpcy5kcmF3aW5nQXJlYSA9IHRoaXMuZGlzcGxheSA/IHRoaXMuc2l6ZSAvIDIgLSAodGhpcy5mb250U2l6ZSAvIDIgKyB0aGlzLmJhY2tkcm9wUGFkZGluZ1kpIDogdGhpcy5zaXplIC8gMiA6IHRoaXMuc2V0U2NhbGVTaXplKCksIHRoaXMuYnVpbGRZTGFiZWxzKClcblx0XHR9LFxuXHRcdGJ1aWxkWUxhYmVsczogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnlMYWJlbHMgPSBbXTtcblx0XHRcdGZvciAodmFyIGEgPSByKHRoaXMuc3RlcFZhbHVlKSwgYiA9IDA7IGIgPD0gdGhpcy5zdGVwczsgYisrKSB0aGlzLnlMYWJlbHMucHVzaCh2KHRoaXMudGVtcGxhdGVTdHJpbmcsIHtcblx0XHRcdFx0dmFsdWU6ICh0aGlzLm1pbiArIGIgKiB0aGlzLnN0ZXBWYWx1ZSkudG9GaXhlZChhKVxuXHRcdFx0fSkpXG5cdFx0fSxcblx0XHRnZXRDaXJjdW1mZXJlbmNlOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiAyICogTWF0aC5QSSAvIHRoaXMudmFsdWVzQ291bnRcblx0XHR9LFxuXHRcdHNldFNjYWxlU2l6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgYSwgYiwgYywgZCwgZSwgZiwgZywgaCwgaSwgaiwgaywgbCwgbSA9IHEoW3RoaXMuaGVpZ2h0IC8gMiAtIHRoaXMucG9pbnRMYWJlbEZvbnRTaXplIC0gNSwgdGhpcy53aWR0aCAvIDJdKSxcblx0XHRcdFx0biA9IHRoaXMud2lkdGgsXG5cdFx0XHRcdHAgPSAwO1xuXHRcdFx0Zm9yICh0aGlzLmN0eC5mb250ID0gRyh0aGlzLnBvaW50TGFiZWxGb250U2l6ZSwgdGhpcy5wb2ludExhYmVsRm9udFN0eWxlLCB0aGlzLnBvaW50TGFiZWxGb250RmFtaWx5KSwgYiA9IDA7IGIgPCB0aGlzLnZhbHVlc0NvdW50OyBiKyspIGEgPSB0aGlzLmdldFBvaW50UG9zaXRpb24oYiwgbSksIGMgPSB0aGlzLmN0eC5tZWFzdXJlVGV4dCh2KHRoaXMudGVtcGxhdGVTdHJpbmcsIHtcblx0XHRcdFx0dmFsdWU6IHRoaXMubGFiZWxzW2JdXG5cdFx0XHR9KSkud2lkdGggKyA1LCAwID09PSBiIHx8IGIgPT09IHRoaXMudmFsdWVzQ291bnQgLyAyID8gKGQgPSBjIC8gMiwgYS54ICsgZCA+IG4gJiYgKG4gPSBhLnggKyBkLCBlID0gYiksIGEueCAtIGQgPCBwICYmIChwID0gYS54IC0gZCwgZyA9IGIpKSA6IGIgPCB0aGlzLnZhbHVlc0NvdW50IC8gMiA/IGEueCArIGMgPiBuICYmIChuID0gYS54ICsgYywgZSA9IGIpIDogYiA+IHRoaXMudmFsdWVzQ291bnQgLyAyICYmIGEueCAtIGMgPCBwICYmIChwID0gYS54IC0gYywgZyA9IGIpO1xuXHRcdFx0aSA9IHAsIGogPSBNYXRoLmNlaWwobiAtIHRoaXMud2lkdGgpLCBmID0gdGhpcy5nZXRJbmRleEFuZ2xlKGUpLCBoID0gdGhpcy5nZXRJbmRleEFuZ2xlKGcpLCBrID0gaiAvIE1hdGguc2luKGYgKyBNYXRoLlBJIC8gMiksIGwgPSBpIC8gTWF0aC5zaW4oaCArIE1hdGguUEkgLyAyKSwgayA9IG8oaykgPyBrIDogMCwgbCA9IG8obCkgPyBsIDogMCwgdGhpcy5kcmF3aW5nQXJlYSA9IG0gLSAobCArIGspIC8gMiwgdGhpcy5zZXRDZW50ZXJQb2ludChsLCBrKVxuXHRcdH0sXG5cdFx0c2V0Q2VudGVyUG9pbnQ6IGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBjID0gdGhpcy53aWR0aCAtIGIgLSB0aGlzLmRyYXdpbmdBcmVhLFxuXHRcdFx0XHRkID0gYSArIHRoaXMuZHJhd2luZ0FyZWE7XG5cdFx0XHR0aGlzLnhDZW50ZXIgPSAoZCArIGMpIC8gMiwgdGhpcy55Q2VudGVyID0gdGhpcy5oZWlnaHQgLyAyXG5cdFx0fSxcblx0XHRnZXRJbmRleEFuZ2xlOiBmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgYiA9IDIgKiBNYXRoLlBJIC8gdGhpcy52YWx1ZXNDb3VudDtcblx0XHRcdHJldHVybiBhICogYiAtIE1hdGguUEkgLyAyXG5cdFx0fSxcblx0XHRnZXRQb2ludFBvc2l0aW9uOiBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIgYyA9IHRoaXMuZ2V0SW5kZXhBbmdsZShhKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHg6IE1hdGguY29zKGMpICogYiArIHRoaXMueENlbnRlcixcblx0XHRcdFx0eTogTWF0aC5zaW4oYykgKiBiICsgdGhpcy55Q2VudGVyXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRkcmF3OiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICh0aGlzLmRpc3BsYXkpIHtcblx0XHRcdFx0dmFyIGEgPSB0aGlzLmN0eDtcblx0XHRcdFx0aWYgKGUodGhpcy55TGFiZWxzLCBmdW5jdGlvbihiLCBjKSB7XG5cdFx0XHRcdFx0aWYgKGMgPiAwKSB7XG5cdFx0XHRcdFx0XHR2YXIgZCwgZSA9IGMgKiAodGhpcy5kcmF3aW5nQXJlYSAvIHRoaXMuc3RlcHMpLFxuXHRcdFx0XHRcdFx0XHRmID0gdGhpcy55Q2VudGVyIC0gZTtcblx0XHRcdFx0XHRcdGlmICh0aGlzLmxpbmVXaWR0aCA+IDApIGlmIChhLnN0cm9rZVN0eWxlID0gdGhpcy5saW5lQ29sb3IsIGEubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGgsIHRoaXMubGluZUFyYykgYS5iZWdpblBhdGgoKSwgYS5hcmModGhpcy54Q2VudGVyLCB0aGlzLnlDZW50ZXIsIGUsIDAsIDIgKiBNYXRoLlBJKSwgYS5jbG9zZVBhdGgoKSwgYS5zdHJva2UoKTtcblx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRhLmJlZ2luUGF0aCgpO1xuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBnID0gMDsgZyA8IHRoaXMudmFsdWVzQ291bnQ7IGcrKykgZCA9IHRoaXMuZ2V0UG9pbnRQb3NpdGlvbihnLCB0aGlzLmNhbGN1bGF0ZUNlbnRlck9mZnNldCh0aGlzLm1pbiArIGMgKiB0aGlzLnN0ZXBWYWx1ZSkpLCAwID09PSBnID8gYS5tb3ZlVG8oZC54LCBkLnkpIDogYS5saW5lVG8oZC54LCBkLnkpO1xuXHRcdFx0XHRcdFx0XHRhLmNsb3NlUGF0aCgpLCBhLnN0cm9rZSgpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5zaG93TGFiZWxzKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChhLmZvbnQgPSBHKHRoaXMuZm9udFNpemUsIHRoaXMuZm9udFN0eWxlLCB0aGlzLmZvbnRGYW1pbHkpLCB0aGlzLnNob3dMYWJlbEJhY2tkcm9wKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGggPSBhLm1lYXN1cmVUZXh0KGIpLndpZHRoO1xuXHRcdFx0XHRcdFx0XHRcdGEuZmlsbFN0eWxlID0gdGhpcy5iYWNrZHJvcENvbG9yLCBhLmZpbGxSZWN0KHRoaXMueENlbnRlciAtIGggLyAyIC0gdGhpcy5iYWNrZHJvcFBhZGRpbmdYLCBmIC0gdGhpcy5mb250U2l6ZSAvIDIgLSB0aGlzLmJhY2tkcm9wUGFkZGluZ1ksIGggKyAyICogdGhpcy5iYWNrZHJvcFBhZGRpbmdYLCB0aGlzLmZvbnRTaXplICsgMiAqIHRoaXMuYmFja2Ryb3BQYWRkaW5nWSlcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRhLnRleHRBbGlnbiA9IFwiY2VudGVyXCIsIGEudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIiwgYS5maWxsU3R5bGUgPSB0aGlzLmZvbnRDb2xvciwgYS5maWxsVGV4dChiLCB0aGlzLnhDZW50ZXIsIGYpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCB0aGlzKSwgIXRoaXMubGluZUFyYykge1xuXHRcdFx0XHRcdGEubGluZVdpZHRoID0gdGhpcy5hbmdsZUxpbmVXaWR0aCwgYS5zdHJva2VTdHlsZSA9IHRoaXMuYW5nbGVMaW5lQ29sb3I7XG5cdFx0XHRcdFx0Zm9yICh2YXIgYiA9IHRoaXMudmFsdWVzQ291bnQgLSAxOyBiID49IDA7IGItLSkge1xuXHRcdFx0XHRcdFx0dmFyIGMgPSBudWxsLFxuXHRcdFx0XHRcdFx0XHRkID0gbnVsbDtcblx0XHRcdFx0XHRcdGlmICh0aGlzLmFuZ2xlTGluZVdpZHRoID4gMCAmJiAoYyA9IHRoaXMuY2FsY3VsYXRlQ2VudGVyT2Zmc2V0KHRoaXMubWF4KSwgZCA9IHRoaXMuZ2V0UG9pbnRQb3NpdGlvbihiLCBjKSwgYS5iZWdpblBhdGgoKSwgYS5tb3ZlVG8odGhpcy54Q2VudGVyLCB0aGlzLnlDZW50ZXIpLCBhLmxpbmVUbyhkLngsIGQueSksIGEuc3Ryb2tlKCksIGEuY2xvc2VQYXRoKCkpLCB0aGlzLmJhY2tncm91bmRDb2xvcnMgJiYgdGhpcy5iYWNrZ3JvdW5kQ29sb3JzLmxlbmd0aCA9PSB0aGlzLnZhbHVlc0NvdW50KSB7XG5cdFx0XHRcdFx0XHRcdG51bGwgPT0gYyAmJiAoYyA9IHRoaXMuY2FsY3VsYXRlQ2VudGVyT2Zmc2V0KHRoaXMubWF4KSksIG51bGwgPT0gZCAmJiAoZCA9IHRoaXMuZ2V0UG9pbnRQb3NpdGlvbihiLCBjKSk7XG5cdFx0XHRcdFx0XHRcdHZhciBmID0gdGhpcy5nZXRQb2ludFBvc2l0aW9uKDAgPT09IGIgPyB0aGlzLnZhbHVlc0NvdW50IC0gMSA6IGIgLSAxLCBjKSxcblx0XHRcdFx0XHRcdFx0XHRnID0gdGhpcy5nZXRQb2ludFBvc2l0aW9uKGIgPT09IHRoaXMudmFsdWVzQ291bnQgLSAxID8gMCA6IGIgKyAxLCBjKSxcblx0XHRcdFx0XHRcdFx0XHRoID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0eDogKGYueCArIGQueCkgLyAyLFxuXHRcdFx0XHRcdFx0XHRcdFx0eTogKGYueSArIGQueSkgLyAyXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRpID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0eDogKGQueCArIGcueCkgLyAyLFxuXHRcdFx0XHRcdFx0XHRcdFx0eTogKGQueSArIGcueSkgLyAyXG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0YS5iZWdpblBhdGgoKSwgYS5tb3ZlVG8odGhpcy54Q2VudGVyLCB0aGlzLnlDZW50ZXIpLCBhLmxpbmVUbyhoLngsIGgueSksIGEubGluZVRvKGQueCwgZC55KSwgYS5saW5lVG8oaS54LCBpLnkpLCBhLmZpbGxTdHlsZSA9IHRoaXMuYmFja2dyb3VuZENvbG9yc1tiXSwgYS5maWxsKCksIGEuY2xvc2VQYXRoKClcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciBqID0gdGhpcy5nZXRQb2ludFBvc2l0aW9uKGIsIHRoaXMuY2FsY3VsYXRlQ2VudGVyT2Zmc2V0KHRoaXMubWF4KSArIDUpO1xuXHRcdFx0XHRcdFx0YS5mb250ID0gRyh0aGlzLnBvaW50TGFiZWxGb250U2l6ZSwgdGhpcy5wb2ludExhYmVsRm9udFN0eWxlLCB0aGlzLnBvaW50TGFiZWxGb250RmFtaWx5KSwgYS5maWxsU3R5bGUgPSB0aGlzLnBvaW50TGFiZWxGb250Q29sb3I7XG5cdFx0XHRcdFx0XHR2YXIgayA9IHRoaXMubGFiZWxzLmxlbmd0aCxcblx0XHRcdFx0XHRcdFx0bCA9IHRoaXMubGFiZWxzLmxlbmd0aCAvIDIsXG5cdFx0XHRcdFx0XHRcdG0gPSBsIC8gMixcblx0XHRcdFx0XHRcdFx0biA9IG0gPiBiIHx8IGIgPiBrIC0gbSxcblx0XHRcdFx0XHRcdFx0byA9IGIgPT09IG0gfHwgYiA9PT0gayAtIG07XG5cdFx0XHRcdFx0XHQwID09PSBiID8gYS50ZXh0QWxpZ24gPSBcImNlbnRlclwiIDogYiA9PT0gbCA/IGEudGV4dEFsaWduID0gXCJjZW50ZXJcIiA6IGwgPiBiID8gYS50ZXh0QWxpZ24gPSBcImxlZnRcIiA6IGEudGV4dEFsaWduID0gXCJyaWdodFwiLCBvID8gYS50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiIDogbiA/IGEudGV4dEJhc2VsaW5lID0gXCJib3R0b21cIiA6IGEudGV4dEJhc2VsaW5lID0gXCJ0b3BcIiwgYS5maWxsVGV4dCh0aGlzLmxhYmVsc1tiXSwgai54LCBqLnkpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9KSwgYy5hbmltYXRpb25TZXJ2aWNlID0ge1xuXHRcdGZyYW1lRHVyYXRpb246IDE3LFxuXHRcdGFuaW1hdGlvbnM6IFtdLFxuXHRcdGRyb3BGcmFtZXM6IDAsXG5cdFx0YWRkQW5pbWF0aW9uOiBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRmb3IgKHZhciBjID0gMDsgYyA8IHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7ICsrYykgaWYgKHRoaXMuYW5pbWF0aW9uc1tjXS5jaGFydEluc3RhbmNlID09PSBhKSByZXR1cm4gdm9pZCh0aGlzLmFuaW1hdGlvbnNbY10uYW5pbWF0aW9uT2JqZWN0ID0gYik7XG5cdFx0XHR0aGlzLmFuaW1hdGlvbnMucHVzaCh7XG5cdFx0XHRcdGNoYXJ0SW5zdGFuY2U6IGEsXG5cdFx0XHRcdGFuaW1hdGlvbk9iamVjdDogYlxuXHRcdFx0fSksIDEgPT0gdGhpcy5hbmltYXRpb25zLmxlbmd0aCAmJiBkLnJlcXVlc3RBbmltRnJhbWUuY2FsbCh3aW5kb3csIHRoaXMuZGlnZXN0V3JhcHBlcilcblx0XHR9LFxuXHRcdGNhbmNlbEFuaW1hdGlvbjogZnVuY3Rpb24oYSkge1xuXHRcdFx0dmFyIGIgPSBkLmZpbmROZXh0V2hlcmUodGhpcy5hbmltYXRpb25zLCBmdW5jdGlvbihiKSB7XG5cdFx0XHRcdHJldHVybiBiLmNoYXJ0SW5zdGFuY2UgPT09IGFcblx0XHRcdH0pO1xuXHRcdFx0YiAmJiB0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKGIsIDEpXG5cdFx0fSxcblx0XHRkaWdlc3RXcmFwcGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdGMuYW5pbWF0aW9uU2VydmljZS5zdGFydERpZ2VzdC5jYWxsKGMuYW5pbWF0aW9uU2VydmljZSlcblx0XHR9LFxuXHRcdHN0YXJ0RGlnZXN0OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBhID0gRGF0ZS5ub3coKSxcblx0XHRcdFx0YiA9IDA7XG5cdFx0XHR0aGlzLmRyb3BGcmFtZXMgPiAxICYmIChiID0gTWF0aC5mbG9vcih0aGlzLmRyb3BGcmFtZXMpLCB0aGlzLmRyb3BGcmFtZXMgLT0gYik7XG5cdFx0XHRmb3IgKHZhciBjID0gMDsgYyA8IHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7IGMrKykgbnVsbCA9PT0gdGhpcy5hbmltYXRpb25zW2NdLmFuaW1hdGlvbk9iamVjdC5jdXJyZW50U3RlcCAmJiAodGhpcy5hbmltYXRpb25zW2NdLmFuaW1hdGlvbk9iamVjdC5jdXJyZW50U3RlcCA9IDApLCB0aGlzLmFuaW1hdGlvbnNbY10uYW5pbWF0aW9uT2JqZWN0LmN1cnJlbnRTdGVwICs9IDEgKyBiLCB0aGlzLmFuaW1hdGlvbnNbY10uYW5pbWF0aW9uT2JqZWN0LmN1cnJlbnRTdGVwID4gdGhpcy5hbmltYXRpb25zW2NdLmFuaW1hdGlvbk9iamVjdC5udW1TdGVwcyAmJiAodGhpcy5hbmltYXRpb25zW2NdLmFuaW1hdGlvbk9iamVjdC5jdXJyZW50U3RlcCA9IHRoaXMuYW5pbWF0aW9uc1tjXS5hbmltYXRpb25PYmplY3QubnVtU3RlcHMpLCB0aGlzLmFuaW1hdGlvbnNbY10uYW5pbWF0aW9uT2JqZWN0LnJlbmRlcih0aGlzLmFuaW1hdGlvbnNbY10uY2hhcnRJbnN0YW5jZSwgdGhpcy5hbmltYXRpb25zW2NdLmFuaW1hdGlvbk9iamVjdCksIHRoaXMuYW5pbWF0aW9uc1tjXS5hbmltYXRpb25PYmplY3QuY3VycmVudFN0ZXAgPT0gdGhpcy5hbmltYXRpb25zW2NdLmFuaW1hdGlvbk9iamVjdC5udW1TdGVwcyAmJiAodGhpcy5hbmltYXRpb25zW2NdLmFuaW1hdGlvbk9iamVjdC5vbkFuaW1hdGlvbkNvbXBsZXRlLmNhbGwodGhpcy5hbmltYXRpb25zW2NdLmNoYXJ0SW5zdGFuY2UpLCB0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKGMsIDEpLCBjLS0pO1xuXHRcdFx0dmFyIGUgPSBEYXRlLm5vdygpLFxuXHRcdFx0XHRmID0gZSAtIGEgLSB0aGlzLmZyYW1lRHVyYXRpb24sXG5cdFx0XHRcdGcgPSBmIC8gdGhpcy5mcmFtZUR1cmF0aW9uO1xuXHRcdFx0ZyA+IDEgJiYgKHRoaXMuZHJvcEZyYW1lcyArPSBnKSwgdGhpcy5hbmltYXRpb25zLmxlbmd0aCA+IDAgJiYgZC5yZXF1ZXN0QW5pbUZyYW1lLmNhbGwod2luZG93LCB0aGlzLmRpZ2VzdFdyYXBwZXIpXG5cdFx0fVxuXHR9LCBkLmFkZEV2ZW50KHdpbmRvdywgXCJyZXNpemVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGE7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KGEpLCBhID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0ZShjLmluc3RhbmNlcywgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdGEub3B0aW9ucy5yZXNwb25zaXZlICYmIGEucmVzaXplKGEucmVuZGVyLCAhMClcblx0XHRcdFx0fSlcblx0XHRcdH0sIDUwKVxuXHRcdH1cblx0fSgpKSwgbiA/IGRlZmluZShmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gY1xuXHR9KSA6IFwib2JqZWN0XCIgPT0gdHlwZW9mIG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cyAmJiAobW9kdWxlLmV4cG9ydHMgPSBjKSwgYS5DaGFydCA9IGMsIGMubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBhLkNoYXJ0ID0gYiwgY1xuXHR9XG59KS5jYWxsKHRoaXMpLCBmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBhID0gdGhpcyxcblx0XHRiID0gYS5DaGFydCxcblx0XHRjID0gYi5oZWxwZXJzLFxuXHRcdGQgPSB7XG5cdFx0XHRzY2FsZUJlZ2luQXRaZXJvOiAhMCxcblx0XHRcdHNjYWxlU2hvd0dyaWRMaW5lczogITAsXG5cdFx0XHRzY2FsZUdyaWRMaW5lQ29sb3I6IFwicmdiYSgwLDAsMCwuMDUpXCIsXG5cdFx0XHRzY2FsZUdyaWRMaW5lV2lkdGg6IDEsXG5cdFx0XHRzY2FsZVNob3dIb3Jpem9udGFsTGluZXM6ICEwLFxuXHRcdFx0c2NhbGVTaG93VmVydGljYWxMaW5lczogITAsXG5cdFx0XHRiYXJTaG93U3Ryb2tlOiAhMCxcblx0XHRcdGJhclN0cm9rZVdpZHRoOiAyLFxuXHRcdFx0YmFyVmFsdWVTcGFjaW5nOiA1LFxuXHRcdFx0YmFyRGF0YXNldFNwYWNpbmc6IDEsXG5cdFx0XHRsZWdlbmRUZW1wbGF0ZTogJzx1bCBjbGFzcz1cIjwlPW5hbWUudG9Mb3dlckNhc2UoKSU+LWxlZ2VuZFwiPjwlIGZvciAodmFyIGk9MDsgaTxkYXRhc2V0cy5sZW5ndGg7IGkrKyl7JT48bGk+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOjwlPWRhdGFzZXRzW2ldLmZpbGxDb2xvciU+XCI+PCVpZihkYXRhc2V0c1tpXS5sYWJlbCl7JT48JT1kYXRhc2V0c1tpXS5sYWJlbCU+PCV9JT48L3NwYW4+PC9saT48JX0lPjwvdWw+J1xuXHRcdH07XG5cdGIuVHlwZS5leHRlbmQoe1xuXHRcdG5hbWU6IFwiQmFyXCIsXG5cdFx0ZGVmYXVsdHM6IGQsXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oYSkge1xuXHRcdFx0dmFyIGQgPSB0aGlzLm9wdGlvbnM7XG5cdFx0XHR0aGlzLlNjYWxlQ2xhc3MgPSBiLlNjYWxlLmV4dGVuZCh7XG5cdFx0XHRcdG9mZnNldEdyaWRMaW5lczogITAsXG5cdFx0XHRcdGNhbGN1bGF0ZUJhclg6IGZ1bmN0aW9uKGEsIGIsIGMpIHtcblx0XHRcdFx0XHR2YXIgZSA9IHRoaXMuY2FsY3VsYXRlQmFzZVdpZHRoKCksXG5cdFx0XHRcdFx0XHRmID0gdGhpcy5jYWxjdWxhdGVYKGMpIC0gZSAvIDIsXG5cdFx0XHRcdFx0XHRnID0gdGhpcy5jYWxjdWxhdGVCYXJXaWR0aChhKTtcblx0XHRcdFx0XHRyZXR1cm4gZiArIGcgKiBiICsgYiAqIGQuYmFyRGF0YXNldFNwYWNpbmcgKyBnIC8gMlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRjYWxjdWxhdGVCYXNlV2lkdGg6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmNhbGN1bGF0ZVgoMSkgLSB0aGlzLmNhbGN1bGF0ZVgoMCkgLSAyICogZC5iYXJWYWx1ZVNwYWNpbmdcblx0XHRcdFx0fSxcblx0XHRcdFx0Y2FsY3VsYXRlQmFyV2lkdGg6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHR2YXIgYiA9IHRoaXMuY2FsY3VsYXRlQmFzZVdpZHRoKCkgLSAoYSAtIDEpICogZC5iYXJEYXRhc2V0U3BhY2luZztcblx0XHRcdFx0XHRyZXR1cm4gYiAvIGFcblx0XHRcdFx0fVxuXHRcdFx0fSksIHRoaXMuZGF0YXNldHMgPSBbXSwgdGhpcy5vcHRpb25zLnNob3dUb29sdGlwcyAmJiBjLmJpbmRFdmVudHModGhpcywgdGhpcy5vcHRpb25zLnRvb2x0aXBFdmVudHMsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0dmFyIGIgPSBcIm1vdXNlb3V0XCIgIT09IGEudHlwZSA/IHRoaXMuZ2V0QmFyc0F0RXZlbnQoYSkgOiBbXTtcblx0XHRcdFx0dGhpcy5lYWNoQmFycyhmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0YS5yZXN0b3JlKFtcImZpbGxDb2xvclwiLCBcInN0cm9rZUNvbG9yXCJdKVxuXHRcdFx0XHR9KSwgYy5lYWNoKGIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRhLmZpbGxDb2xvciA9IGEuaGlnaGxpZ2h0RmlsbCwgYS5zdHJva2VDb2xvciA9IGEuaGlnaGxpZ2h0U3Ryb2tlXG5cdFx0XHRcdH0pLCB0aGlzLnNob3dUb29sdGlwKGIpXG5cdFx0XHR9KSwgdGhpcy5CYXJDbGFzcyA9IGIuUmVjdGFuZ2xlLmV4dGVuZCh7XG5cdFx0XHRcdHN0cm9rZVdpZHRoOiB0aGlzLm9wdGlvbnMuYmFyU3Ryb2tlV2lkdGgsXG5cdFx0XHRcdHNob3dTdHJva2U6IHRoaXMub3B0aW9ucy5iYXJTaG93U3Ryb2tlLFxuXHRcdFx0XHRjdHg6IHRoaXMuY2hhcnQuY3R4XG5cdFx0XHR9KSwgYy5lYWNoKGEuZGF0YXNldHMsIGZ1bmN0aW9uKGIsIGQpIHtcblx0XHRcdFx0dmFyIGUgPSB7XG5cdFx0XHRcdFx0bGFiZWw6IGIubGFiZWwgfHwgbnVsbCxcblx0XHRcdFx0XHRmaWxsQ29sb3I6IGIuZmlsbENvbG9yLFxuXHRcdFx0XHRcdHN0cm9rZUNvbG9yOiBiLnN0cm9rZUNvbG9yLFxuXHRcdFx0XHRcdGJhcnM6IFtdXG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoaXMuZGF0YXNldHMucHVzaChlKSwgYy5lYWNoKGIuZGF0YSwgZnVuY3Rpb24oYywgZCkge1xuXHRcdFx0XHRcdGUuYmFycy5wdXNoKG5ldyB0aGlzLkJhckNsYXNzKHtcblx0XHRcdFx0XHRcdHZhbHVlOiBjLFxuXHRcdFx0XHRcdFx0bGFiZWw6IGEubGFiZWxzW2RdLFxuXHRcdFx0XHRcdFx0ZGF0YXNldExhYmVsOiBiLmxhYmVsLFxuXHRcdFx0XHRcdFx0c3Ryb2tlQ29sb3I6IGIuc3Ryb2tlQ29sb3IsXG5cdFx0XHRcdFx0XHRmaWxsQ29sb3I6IGIuZmlsbENvbG9yLFxuXHRcdFx0XHRcdFx0aGlnaGxpZ2h0RmlsbDogYi5oaWdobGlnaHRGaWxsIHx8IGIuZmlsbENvbG9yLFxuXHRcdFx0XHRcdFx0aGlnaGxpZ2h0U3Ryb2tlOiBiLmhpZ2hsaWdodFN0cm9rZSB8fCBiLnN0cm9rZUNvbG9yXG5cdFx0XHRcdFx0fSkpXG5cdFx0XHRcdH0sIHRoaXMpXG5cdFx0XHR9LCB0aGlzKSwgdGhpcy5idWlsZFNjYWxlKGEubGFiZWxzKSwgdGhpcy5CYXJDbGFzcy5wcm90b3R5cGUuYmFzZSA9IHRoaXMuc2NhbGUuZW5kUG9pbnQsIHRoaXMuZWFjaEJhcnMoZnVuY3Rpb24oYSwgYiwgZCkge1xuXHRcdFx0XHRjLmV4dGVuZChhLCB7XG5cdFx0XHRcdFx0d2lkdGg6IHRoaXMuc2NhbGUuY2FsY3VsYXRlQmFyV2lkdGgodGhpcy5kYXRhc2V0cy5sZW5ndGgpLFxuXHRcdFx0XHRcdHg6IHRoaXMuc2NhbGUuY2FsY3VsYXRlQmFyWCh0aGlzLmRhdGFzZXRzLmxlbmd0aCwgZCwgYiksXG5cdFx0XHRcdFx0eTogdGhpcy5zY2FsZS5lbmRQb2ludFxuXHRcdFx0XHR9KSwgYS5zYXZlKClcblx0XHRcdH0sIHRoaXMpLCB0aGlzLnJlbmRlcigpXG5cdFx0fSxcblx0XHR1cGRhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5zY2FsZS51cGRhdGUoKSwgYy5lYWNoKHRoaXMuYWN0aXZlRWxlbWVudHMsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0YS5yZXN0b3JlKFtcImZpbGxDb2xvclwiLCBcInN0cm9rZUNvbG9yXCJdKVxuXHRcdFx0fSksIHRoaXMuZWFjaEJhcnMoZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRhLnNhdmUoKVxuXHRcdFx0fSksIHRoaXMucmVuZGVyKClcblx0XHR9LFxuXHRcdGVhY2hCYXJzOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRjLmVhY2godGhpcy5kYXRhc2V0cywgZnVuY3Rpb24oYiwgZCkge1xuXHRcdFx0XHRjLmVhY2goYi5iYXJzLCBhLCB0aGlzLCBkKVxuXHRcdFx0fSwgdGhpcylcblx0XHR9LFxuXHRcdGdldEJhcnNBdEV2ZW50OiBmdW5jdGlvbihhKSB7XG5cdFx0XHRmb3IgKHZhciBiLCBkID0gW10sIGUgPSBjLmdldFJlbGF0aXZlUG9zaXRpb24oYSksIGYgPSBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0ZC5wdXNoKGEuYmFyc1tiXSlcblx0XHRcdFx0fSwgZyA9IDA7IGcgPCB0aGlzLmRhdGFzZXRzLmxlbmd0aDsgZysrKSBmb3IgKGIgPSAwOyBiIDwgdGhpcy5kYXRhc2V0c1tnXS5iYXJzLmxlbmd0aDsgYisrKSBpZiAodGhpcy5kYXRhc2V0c1tnXS5iYXJzW2JdLmluUmFuZ2UoZS54LCBlLnkpKSByZXR1cm4gYy5lYWNoKHRoaXMuZGF0YXNldHMsIGYpLCBkO1xuXHRcdFx0cmV0dXJuIGRcblx0XHR9LFxuXHRcdGJ1aWxkU2NhbGU6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHZhciBiID0gdGhpcyxcblx0XHRcdFx0ZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBhID0gW107XG5cdFx0XHRcdFx0cmV0dXJuIGIuZWFjaEJhcnMoZnVuY3Rpb24oYikge1xuXHRcdFx0XHRcdFx0YS5wdXNoKGIudmFsdWUpXG5cdFx0XHRcdFx0fSksIGFcblx0XHRcdFx0fSxcblx0XHRcdFx0ZSA9IHtcblx0XHRcdFx0XHR0ZW1wbGF0ZVN0cmluZzogdGhpcy5vcHRpb25zLnNjYWxlTGFiZWwsXG5cdFx0XHRcdFx0aGVpZ2h0OiB0aGlzLmNoYXJ0LmhlaWdodCxcblx0XHRcdFx0XHR3aWR0aDogdGhpcy5jaGFydC53aWR0aCxcblx0XHRcdFx0XHRjdHg6IHRoaXMuY2hhcnQuY3R4LFxuXHRcdFx0XHRcdHRleHRDb2xvcjogdGhpcy5vcHRpb25zLnNjYWxlRm9udENvbG9yLFxuXHRcdFx0XHRcdGZvbnRTaXplOiB0aGlzLm9wdGlvbnMuc2NhbGVGb250U2l6ZSxcblx0XHRcdFx0XHRmb250U3R5bGU6IHRoaXMub3B0aW9ucy5zY2FsZUZvbnRTdHlsZSxcblx0XHRcdFx0XHRmb250RmFtaWx5OiB0aGlzLm9wdGlvbnMuc2NhbGVGb250RmFtaWx5LFxuXHRcdFx0XHRcdHZhbHVlc0NvdW50OiBhLmxlbmd0aCxcblx0XHRcdFx0XHRiZWdpbkF0WmVybzogdGhpcy5vcHRpb25zLnNjYWxlQmVnaW5BdFplcm8sXG5cdFx0XHRcdFx0aW50ZWdlcnNPbmx5OiB0aGlzLm9wdGlvbnMuc2NhbGVJbnRlZ2Vyc09ubHksXG5cdFx0XHRcdFx0Y2FsY3VsYXRlWVJhbmdlOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0XHR2YXIgYiA9IGMuY2FsY3VsYXRlU2NhbGVSYW5nZShkKCksIGEsIHRoaXMuZm9udFNpemUsIHRoaXMuYmVnaW5BdFplcm8sIHRoaXMuaW50ZWdlcnNPbmx5KTtcblx0XHRcdFx0XHRcdGMuZXh0ZW5kKHRoaXMsIGIpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR4TGFiZWxzOiBhLFxuXHRcdFx0XHRcdGZvbnQ6IGMuZm9udFN0cmluZyh0aGlzLm9wdGlvbnMuc2NhbGVGb250U2l6ZSwgdGhpcy5vcHRpb25zLnNjYWxlRm9udFN0eWxlLCB0aGlzLm9wdGlvbnMuc2NhbGVGb250RmFtaWx5KSxcblx0XHRcdFx0XHRsaW5lV2lkdGg6IHRoaXMub3B0aW9ucy5zY2FsZUxpbmVXaWR0aCxcblx0XHRcdFx0XHRsaW5lQ29sb3I6IHRoaXMub3B0aW9ucy5zY2FsZUxpbmVDb2xvcixcblx0XHRcdFx0XHRzaG93SG9yaXpvbnRhbExpbmVzOiB0aGlzLm9wdGlvbnMuc2NhbGVTaG93SG9yaXpvbnRhbExpbmVzLFxuXHRcdFx0XHRcdHNob3dWZXJ0aWNhbExpbmVzOiB0aGlzLm9wdGlvbnMuc2NhbGVTaG93VmVydGljYWxMaW5lcyxcblx0XHRcdFx0XHRncmlkTGluZVdpZHRoOiB0aGlzLm9wdGlvbnMuc2NhbGVTaG93R3JpZExpbmVzID8gdGhpcy5vcHRpb25zLnNjYWxlR3JpZExpbmVXaWR0aCA6IDAsXG5cdFx0XHRcdFx0Z3JpZExpbmVDb2xvcjogdGhpcy5vcHRpb25zLnNjYWxlU2hvd0dyaWRMaW5lcyA/IHRoaXMub3B0aW9ucy5zY2FsZUdyaWRMaW5lQ29sb3IgOiBcInJnYmEoMCwwLDAsMClcIixcblx0XHRcdFx0XHRwYWRkaW5nOiB0aGlzLm9wdGlvbnMuc2hvd1NjYWxlID8gMCA6IHRoaXMub3B0aW9ucy5iYXJTaG93U3Ryb2tlID8gdGhpcy5vcHRpb25zLmJhclN0cm9rZVdpZHRoIDogMCxcblx0XHRcdFx0XHRzaG93TGFiZWxzOiB0aGlzLm9wdGlvbnMuc2NhbGVTaG93TGFiZWxzLFxuXHRcdFx0XHRcdGRpc3BsYXk6IHRoaXMub3B0aW9ucy5zaG93U2NhbGVcblx0XHRcdFx0fTtcblx0XHRcdHRoaXMub3B0aW9ucy5zY2FsZU92ZXJyaWRlICYmIGMuZXh0ZW5kKGUsIHtcblx0XHRcdFx0Y2FsY3VsYXRlWVJhbmdlOiBjLm5vb3AsXG5cdFx0XHRcdHN0ZXBzOiB0aGlzLm9wdGlvbnMuc2NhbGVTdGVwcyxcblx0XHRcdFx0c3RlcFZhbHVlOiB0aGlzLm9wdGlvbnMuc2NhbGVTdGVwV2lkdGgsXG5cdFx0XHRcdG1pbjogdGhpcy5vcHRpb25zLnNjYWxlU3RhcnRWYWx1ZSxcblx0XHRcdFx0bWF4OiB0aGlzLm9wdGlvbnMuc2NhbGVTdGFydFZhbHVlICsgdGhpcy5vcHRpb25zLnNjYWxlU3RlcHMgKiB0aGlzLm9wdGlvbnMuc2NhbGVTdGVwV2lkdGhcblx0XHRcdH0pLCB0aGlzLnNjYWxlID0gbmV3IHRoaXMuU2NhbGVDbGFzcyhlKVxuXHRcdH0sXG5cdFx0YWRkRGF0YTogZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0Yy5lYWNoKGEsIGZ1bmN0aW9uKGEsIGMpIHtcblx0XHRcdFx0dGhpcy5kYXRhc2V0c1tjXS5iYXJzLnB1c2gobmV3IHRoaXMuQmFyQ2xhc3Moe1xuXHRcdFx0XHRcdHZhbHVlOiBhLFxuXHRcdFx0XHRcdGxhYmVsOiBiLFxuXHRcdFx0XHRcdGRhdGFzZXRMYWJlbDogdGhpcy5kYXRhc2V0c1tjXS5sYWJlbCxcblx0XHRcdFx0XHR4OiB0aGlzLnNjYWxlLmNhbGN1bGF0ZUJhclgodGhpcy5kYXRhc2V0cy5sZW5ndGgsIGMsIHRoaXMuc2NhbGUudmFsdWVzQ291bnQgKyAxKSxcblx0XHRcdFx0XHR5OiB0aGlzLnNjYWxlLmVuZFBvaW50LFxuXHRcdFx0XHRcdHdpZHRoOiB0aGlzLnNjYWxlLmNhbGN1bGF0ZUJhcldpZHRoKHRoaXMuZGF0YXNldHMubGVuZ3RoKSxcblx0XHRcdFx0XHRiYXNlOiB0aGlzLnNjYWxlLmVuZFBvaW50LFxuXHRcdFx0XHRcdHN0cm9rZUNvbG9yOiB0aGlzLmRhdGFzZXRzW2NdLnN0cm9rZUNvbG9yLFxuXHRcdFx0XHRcdGZpbGxDb2xvcjogdGhpcy5kYXRhc2V0c1tjXS5maWxsQ29sb3Jcblx0XHRcdFx0fSkpXG5cdFx0XHR9LCB0aGlzKSwgdGhpcy5zY2FsZS5hZGRYTGFiZWwoYiksIHRoaXMudXBkYXRlKClcblx0XHR9LFxuXHRcdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5zY2FsZS5yZW1vdmVYTGFiZWwoKSwgYy5lYWNoKHRoaXMuZGF0YXNldHMsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0YS5iYXJzLnNoaWZ0KClcblx0XHRcdH0sIHRoaXMpLCB0aGlzLnVwZGF0ZSgpXG5cdFx0fSxcblx0XHRyZWZsb3c6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Yy5leHRlbmQodGhpcy5CYXJDbGFzcy5wcm90b3R5cGUsIHtcblx0XHRcdFx0eTogdGhpcy5zY2FsZS5lbmRQb2ludCxcblx0XHRcdFx0YmFzZTogdGhpcy5zY2FsZS5lbmRQb2ludFxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgYSA9IGMuZXh0ZW5kKHtcblx0XHRcdFx0aGVpZ2h0OiB0aGlzLmNoYXJ0LmhlaWdodCxcblx0XHRcdFx0d2lkdGg6IHRoaXMuY2hhcnQud2lkdGhcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5zY2FsZS51cGRhdGUoYSlcblx0XHR9LFxuXHRcdGRyYXc6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHZhciBiID0gYSB8fCAxO1xuXHRcdFx0dGhpcy5jbGVhcigpLCB0aGlzLmNoYXJ0LmN0eCwgdGhpcy5zY2FsZS5kcmF3KGIpLCBjLmVhY2godGhpcy5kYXRhc2V0cywgZnVuY3Rpb24oYSwgZCkge1xuXHRcdFx0XHRjLmVhY2goYS5iYXJzLCBmdW5jdGlvbihhLCBjKSB7XG5cdFx0XHRcdFx0YS5oYXNWYWx1ZSgpICYmIChhLmJhc2UgPSB0aGlzLnNjYWxlLmVuZFBvaW50LCBhLnRyYW5zaXRpb24oe1xuXHRcdFx0XHRcdFx0eDogdGhpcy5zY2FsZS5jYWxjdWxhdGVCYXJYKHRoaXMuZGF0YXNldHMubGVuZ3RoLCBkLCBjKSxcblx0XHRcdFx0XHRcdHk6IHRoaXMuc2NhbGUuY2FsY3VsYXRlWShhLnZhbHVlKSxcblx0XHRcdFx0XHRcdHdpZHRoOiB0aGlzLnNjYWxlLmNhbGN1bGF0ZUJhcldpZHRoKHRoaXMuZGF0YXNldHMubGVuZ3RoKVxuXHRcdFx0XHRcdH0sIGIpLmRyYXcoKSlcblx0XHRcdFx0fSwgdGhpcylcblx0XHRcdH0sIHRoaXMpXG5cdFx0fVxuXHR9KVxufS5jYWxsKHRoaXMpLCBmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBhID0gdGhpcyxcblx0XHRiID0gYS5DaGFydCxcblx0XHRjID0gYi5oZWxwZXJzLFxuXHRcdGQgPSB7XG5cdFx0XHRzZWdtZW50U2hvd1N0cm9rZTogITAsXG5cdFx0XHRzZWdtZW50U3Ryb2tlQ29sb3I6IFwiI2ZmZlwiLFxuXHRcdFx0c2VnbWVudFN0cm9rZVdpZHRoOiAyLFxuXHRcdFx0cGVyY2VudGFnZUlubmVyQ3V0b3V0OiA1MCxcblx0XHRcdGFuaW1hdGlvblN0ZXBzOiAxMDAsXG5cdFx0XHRhbmltYXRpb25FYXNpbmc6IFwiZWFzZU91dEJvdW5jZVwiLFxuXHRcdFx0YW5pbWF0ZVJvdGF0ZTogITAsXG5cdFx0XHRhbmltYXRlU2NhbGU6ICExLFxuXHRcdFx0bGVnZW5kVGVtcGxhdGU6ICc8dWwgY2xhc3M9XCI8JT1uYW1lLnRvTG93ZXJDYXNlKCklPi1sZWdlbmRcIj48JSBmb3IgKHZhciBpPTA7IGk8c2VnbWVudHMubGVuZ3RoOyBpKyspeyU+PGxpPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjo8JT1zZWdtZW50c1tpXS5maWxsQ29sb3IlPlwiPjwlaWYoc2VnbWVudHNbaV0ubGFiZWwpeyU+PCU9c2VnbWVudHNbaV0ubGFiZWwlPjwlfSU+PC9zcGFuPjwvbGk+PCV9JT48L3VsPidcblx0XHR9O1xuXHRiLlR5cGUuZXh0ZW5kKHtcblx0XHRuYW1lOiBcIkRvdWdobnV0XCIsXG5cdFx0ZGVmYXVsdHM6IGQsXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oYSkge1xuXHRcdFx0dGhpcy5zZWdtZW50cyA9IFtdLCB0aGlzLm91dGVyUmFkaXVzID0gKGMubWluKFt0aGlzLmNoYXJ0LndpZHRoLCB0aGlzLmNoYXJ0LmhlaWdodF0pIC0gdGhpcy5vcHRpb25zLnNlZ21lbnRTdHJva2VXaWR0aCAvIDIpIC8gMiwgdGhpcy5TZWdtZW50QXJjID0gYi5BcmMuZXh0ZW5kKHtcblx0XHRcdFx0Y3R4OiB0aGlzLmNoYXJ0LmN0eCxcblx0XHRcdFx0eDogdGhpcy5jaGFydC53aWR0aCAvIDIsXG5cdFx0XHRcdHk6IHRoaXMuY2hhcnQuaGVpZ2h0IC8gMlxuXHRcdFx0fSksIHRoaXMub3B0aW9ucy5zaG93VG9vbHRpcHMgJiYgYy5iaW5kRXZlbnRzKHRoaXMsIHRoaXMub3B0aW9ucy50b29sdGlwRXZlbnRzLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHZhciBiID0gXCJtb3VzZW91dFwiICE9PSBhLnR5cGUgPyB0aGlzLmdldFNlZ21lbnRzQXRFdmVudChhKSA6IFtdO1xuXHRcdFx0XHRjLmVhY2godGhpcy5zZWdtZW50cywgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdGEucmVzdG9yZShbXCJmaWxsQ29sb3JcIl0pXG5cdFx0XHRcdH0pLCBjLmVhY2goYiwgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdGEuZmlsbENvbG9yID0gYS5oaWdobGlnaHRDb2xvclxuXHRcdFx0XHR9KSwgdGhpcy5zaG93VG9vbHRpcChiKVxuXHRcdFx0fSksIHRoaXMuY2FsY3VsYXRlVG90YWwoYSksIGMuZWFjaChhLCBmdW5jdGlvbihiLCBjKSB7XG5cdFx0XHRcdGIuY29sb3IgfHwgKGIuY29sb3IgPSBcImhzbChcIiArIDM2MCAqIGMgLyBhLmxlbmd0aCArIFwiLCAxMDAlLCA1MCUpXCIpLCB0aGlzLmFkZERhdGEoYiwgYywgITApXG5cdFx0XHR9LCB0aGlzKSwgdGhpcy5yZW5kZXIoKVxuXHRcdH0sXG5cdFx0Z2V0U2VnbWVudHNBdEV2ZW50OiBmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgYiA9IFtdLFxuXHRcdFx0XHRkID0gYy5nZXRSZWxhdGl2ZVBvc2l0aW9uKGEpO1xuXHRcdFx0cmV0dXJuIGMuZWFjaCh0aGlzLnNlZ21lbnRzLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdGEuaW5SYW5nZShkLngsIGQueSkgJiYgYi5wdXNoKGEpXG5cdFx0XHR9LCB0aGlzKSwgYlxuXHRcdH0sXG5cdFx0YWRkRGF0YTogZnVuY3Rpb24oYSwgYywgZCkge1xuXHRcdFx0dmFyIGUgPSB2b2lkIDAgIT09IGMgPyBjIDogdGhpcy5zZWdtZW50cy5sZW5ndGg7XG5cdFx0XHRcInVuZGVmaW5lZFwiID09IHR5cGVvZiBhLmNvbG9yICYmIChhLmNvbG9yID0gYi5kZWZhdWx0cy5nbG9iYWwuc2VnbWVudENvbG9yRGVmYXVsdFtlICUgYi5kZWZhdWx0cy5nbG9iYWwuc2VnbWVudENvbG9yRGVmYXVsdC5sZW5ndGhdLCBhLmhpZ2hsaWdodCA9IGIuZGVmYXVsdHMuZ2xvYmFsLnNlZ21lbnRIaWdobGlnaHRDb2xvckRlZmF1bHRzW2UgJSBiLmRlZmF1bHRzLmdsb2JhbC5zZWdtZW50SGlnaGxpZ2h0Q29sb3JEZWZhdWx0cy5sZW5ndGhdKSwgdGhpcy5zZWdtZW50cy5zcGxpY2UoZSwgMCwgbmV3IHRoaXMuU2VnbWVudEFyYyh7XG5cdFx0XHRcdHZhbHVlOiBhLnZhbHVlLFxuXHRcdFx0XHRvdXRlclJhZGl1czogdGhpcy5vcHRpb25zLmFuaW1hdGVTY2FsZSA/IDAgOiB0aGlzLm91dGVyUmFkaXVzLFxuXHRcdFx0XHRpbm5lclJhZGl1czogdGhpcy5vcHRpb25zLmFuaW1hdGVTY2FsZSA/IDAgOiB0aGlzLm91dGVyUmFkaXVzIC8gMTAwICogdGhpcy5vcHRpb25zLnBlcmNlbnRhZ2VJbm5lckN1dG91dCxcblx0XHRcdFx0ZmlsbENvbG9yOiBhLmNvbG9yLFxuXHRcdFx0XHRoaWdobGlnaHRDb2xvcjogYS5oaWdobGlnaHQgfHwgYS5jb2xvcixcblx0XHRcdFx0c2hvd1N0cm9rZTogdGhpcy5vcHRpb25zLnNlZ21lbnRTaG93U3Ryb2tlLFxuXHRcdFx0XHRzdHJva2VXaWR0aDogdGhpcy5vcHRpb25zLnNlZ21lbnRTdHJva2VXaWR0aCxcblx0XHRcdFx0c3Ryb2tlQ29sb3I6IHRoaXMub3B0aW9ucy5zZWdtZW50U3Ryb2tlQ29sb3IsXG5cdFx0XHRcdHN0YXJ0QW5nbGU6IDEuNSAqIE1hdGguUEksXG5cdFx0XHRcdGNpcmN1bWZlcmVuY2U6IHRoaXMub3B0aW9ucy5hbmltYXRlUm90YXRlID8gMCA6IHRoaXMuY2FsY3VsYXRlQ2lyY3VtZmVyZW5jZShhLnZhbHVlKSxcblx0XHRcdFx0bGFiZWw6IGEubGFiZWxcblx0XHRcdH0pKSwgZCB8fCAodGhpcy5yZWZsb3coKSwgdGhpcy51cGRhdGUoKSlcblx0XHR9LFxuXHRcdGNhbGN1bGF0ZUNpcmN1bWZlcmVuY2U6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHJldHVybiB0aGlzLnRvdGFsID4gMCA/IDIgKiBNYXRoLlBJICogKGEgLyB0aGlzLnRvdGFsKSA6IDBcblx0XHR9LFxuXHRcdGNhbGN1bGF0ZVRvdGFsOiBmdW5jdGlvbihhKSB7XG5cdFx0XHR0aGlzLnRvdGFsID0gMCwgYy5lYWNoKGEsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0dGhpcy50b3RhbCArPSBNYXRoLmFicyhhLnZhbHVlKVxuXHRcdFx0fSwgdGhpcylcblx0XHR9LFxuXHRcdHVwZGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmNhbGN1bGF0ZVRvdGFsKHRoaXMuc2VnbWVudHMpLCBjLmVhY2godGhpcy5hY3RpdmVFbGVtZW50cywgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRhLnJlc3RvcmUoW1wiZmlsbENvbG9yXCJdKVxuXHRcdFx0fSksIGMuZWFjaCh0aGlzLnNlZ21lbnRzLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdGEuc2F2ZSgpXG5cdFx0XHR9KSwgdGhpcy5yZW5kZXIoKVxuXHRcdH0sXG5cdFx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oYSkge1xuXHRcdFx0dmFyIGIgPSBjLmlzTnVtYmVyKGEpID8gYSA6IHRoaXMuc2VnbWVudHMubGVuZ3RoIC0gMTtcblx0XHRcdHRoaXMuc2VnbWVudHMuc3BsaWNlKGIsIDEpLCB0aGlzLnJlZmxvdygpLCB0aGlzLnVwZGF0ZSgpXG5cdFx0fSxcblx0XHRyZWZsb3c6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Yy5leHRlbmQodGhpcy5TZWdtZW50QXJjLnByb3RvdHlwZSwge1xuXHRcdFx0XHR4OiB0aGlzLmNoYXJ0LndpZHRoIC8gMixcblx0XHRcdFx0eTogdGhpcy5jaGFydC5oZWlnaHQgLyAyXG5cdFx0XHR9KSwgdGhpcy5vdXRlclJhZGl1cyA9IChjLm1pbihbdGhpcy5jaGFydC53aWR0aCwgdGhpcy5jaGFydC5oZWlnaHRdKSAtIHRoaXMub3B0aW9ucy5zZWdtZW50U3Ryb2tlV2lkdGggLyAyKSAvIDIsIGMuZWFjaCh0aGlzLnNlZ21lbnRzLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdGEudXBkYXRlKHtcblx0XHRcdFx0XHRvdXRlclJhZGl1czogdGhpcy5vdXRlclJhZGl1cyxcblx0XHRcdFx0XHRpbm5lclJhZGl1czogdGhpcy5vdXRlclJhZGl1cyAvIDEwMCAqIHRoaXMub3B0aW9ucy5wZXJjZW50YWdlSW5uZXJDdXRvdXRcblx0XHRcdFx0fSlcblx0XHRcdH0sIHRoaXMpXG5cdFx0fSxcblx0XHRkcmF3OiBmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgYiA9IGEgPyBhIDogMTtcblx0XHRcdHRoaXMuY2xlYXIoKSwgYy5lYWNoKHRoaXMuc2VnbWVudHMsIGZ1bmN0aW9uKGEsIGMpIHtcblx0XHRcdFx0YS50cmFuc2l0aW9uKHtcblx0XHRcdFx0XHRjaXJjdW1mZXJlbmNlOiB0aGlzLmNhbGN1bGF0ZUNpcmN1bWZlcmVuY2UoYS52YWx1ZSksXG5cdFx0XHRcdFx0b3V0ZXJSYWRpdXM6IHRoaXMub3V0ZXJSYWRpdXMsXG5cdFx0XHRcdFx0aW5uZXJSYWRpdXM6IHRoaXMub3V0ZXJSYWRpdXMgLyAxMDAgKiB0aGlzLm9wdGlvbnMucGVyY2VudGFnZUlubmVyQ3V0b3V0XG5cdFx0XHRcdH0sIGIpLCBhLmVuZEFuZ2xlID0gYS5zdGFydEFuZ2xlICsgYS5jaXJjdW1mZXJlbmNlLCBhLmRyYXcoKSwgMCA9PT0gYyAmJiAoYS5zdGFydEFuZ2xlID0gMS41ICogTWF0aC5QSSksIGMgPCB0aGlzLnNlZ21lbnRzLmxlbmd0aCAtIDEgJiYgKHRoaXMuc2VnbWVudHNbYyArIDFdLnN0YXJ0QW5nbGUgPSBhLmVuZEFuZ2xlKVxuXHRcdFx0fSwgdGhpcylcblx0XHR9XG5cdH0pLCBiLnR5cGVzLkRvdWdobnV0LmV4dGVuZCh7XG5cdFx0bmFtZTogXCJQaWVcIixcblx0XHRkZWZhdWx0czogYy5tZXJnZShkLCB7XG5cdFx0XHRwZXJjZW50YWdlSW5uZXJDdXRvdXQ6IDBcblx0XHR9KVxuXHR9KVxufS5jYWxsKHRoaXMpLCBmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBhID0gdGhpcyxcblx0XHRiID0gYS5DaGFydCxcblx0XHRjID0gYi5oZWxwZXJzLFxuXHRcdGQgPSB7XG5cdFx0XHRzY2FsZVNob3dHcmlkTGluZXM6ICEwLFxuXHRcdFx0c2NhbGVHcmlkTGluZUNvbG9yOiBcInJnYmEoMCwwLDAsLjA1KVwiLFxuXHRcdFx0c2NhbGVHcmlkTGluZVdpZHRoOiAxLFxuXHRcdFx0c2NhbGVTaG93SG9yaXpvbnRhbExpbmVzOiAhMCxcblx0XHRcdHNjYWxlU2hvd1ZlcnRpY2FsTGluZXM6ICEwLFxuXHRcdFx0YmV6aWVyQ3VydmU6ICEwLFxuXHRcdFx0YmV6aWVyQ3VydmVUZW5zaW9uOiAuNCxcblx0XHRcdHBvaW50RG90OiAhMCxcblx0XHRcdHBvaW50RG90UmFkaXVzOiA0LFxuXHRcdFx0cG9pbnREb3RTdHJva2VXaWR0aDogMSxcblx0XHRcdHBvaW50SGl0RGV0ZWN0aW9uUmFkaXVzOiAyMCxcblx0XHRcdGRhdGFzZXRTdHJva2U6ICEwLFxuXHRcdFx0ZGF0YXNldFN0cm9rZVdpZHRoOiAyLFxuXHRcdFx0ZGF0YXNldEZpbGw6ICEwLFxuXHRcdFx0bGVnZW5kVGVtcGxhdGU6ICc8dWwgY2xhc3M9XCI8JT1uYW1lLnRvTG93ZXJDYXNlKCklPi1sZWdlbmRcIj48JSBmb3IgKHZhciBpPTA7IGk8ZGF0YXNldHMubGVuZ3RoOyBpKyspeyU+PGxpPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjo8JT1kYXRhc2V0c1tpXS5zdHJva2VDb2xvciU+XCI+PCVpZihkYXRhc2V0c1tpXS5sYWJlbCl7JT48JT1kYXRhc2V0c1tpXS5sYWJlbCU+PCV9JT48L3NwYW4+PC9saT48JX0lPjwvdWw+Jyxcblx0XHRcdG9mZnNldEdyaWRMaW5lczogITFcblx0XHR9O1xuXHRiLlR5cGUuZXh0ZW5kKHtcblx0XHRuYW1lOiBcIkxpbmVcIixcblx0XHRkZWZhdWx0czogZCxcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbihhKSB7XG5cdFx0XHR0aGlzLlBvaW50Q2xhc3MgPSBiLlBvaW50LmV4dGVuZCh7XG5cdFx0XHRcdG9mZnNldEdyaWRMaW5lczogdGhpcy5vcHRpb25zLm9mZnNldEdyaWRMaW5lcyxcblx0XHRcdFx0c3Ryb2tlV2lkdGg6IHRoaXMub3B0aW9ucy5wb2ludERvdFN0cm9rZVdpZHRoLFxuXHRcdFx0XHRyYWRpdXM6IHRoaXMub3B0aW9ucy5wb2ludERvdFJhZGl1cyxcblx0XHRcdFx0ZGlzcGxheTogdGhpcy5vcHRpb25zLnBvaW50RG90LFxuXHRcdFx0XHRoaXREZXRlY3Rpb25SYWRpdXM6IHRoaXMub3B0aW9ucy5wb2ludEhpdERldGVjdGlvblJhZGl1cyxcblx0XHRcdFx0Y3R4OiB0aGlzLmNoYXJ0LmN0eCxcblx0XHRcdFx0aW5SYW5nZTogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdHJldHVybiBNYXRoLnBvdyhhIC0gdGhpcy54LCAyKSA8IE1hdGgucG93KHRoaXMucmFkaXVzICsgdGhpcy5oaXREZXRlY3Rpb25SYWRpdXMsIDIpXG5cdFx0XHRcdH1cblx0XHRcdH0pLCB0aGlzLmRhdGFzZXRzID0gW10sIHRoaXMub3B0aW9ucy5zaG93VG9vbHRpcHMgJiYgYy5iaW5kRXZlbnRzKHRoaXMsIHRoaXMub3B0aW9ucy50b29sdGlwRXZlbnRzLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHZhciBiID0gXCJtb3VzZW91dFwiICE9PSBhLnR5cGUgPyB0aGlzLmdldFBvaW50c0F0RXZlbnQoYSkgOiBbXTtcblx0XHRcdFx0dGhpcy5lYWNoUG9pbnRzKGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRhLnJlc3RvcmUoW1wiZmlsbENvbG9yXCIsIFwic3Ryb2tlQ29sb3JcIl0pXG5cdFx0XHRcdH0pLCBjLmVhY2goYiwgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdGEuZmlsbENvbG9yID0gYS5oaWdobGlnaHRGaWxsLCBhLnN0cm9rZUNvbG9yID0gYS5oaWdobGlnaHRTdHJva2Vcblx0XHRcdFx0fSksIHRoaXMuc2hvd1Rvb2x0aXAoYilcblx0XHRcdH0pLCBjLmVhY2goYS5kYXRhc2V0cywgZnVuY3Rpb24oYikge1xuXHRcdFx0XHR2YXIgZCA9IHtcblx0XHRcdFx0XHRsYWJlbDogYi5sYWJlbCB8fCBudWxsLFxuXHRcdFx0XHRcdGZpbGxDb2xvcjogYi5maWxsQ29sb3IsXG5cdFx0XHRcdFx0c3Ryb2tlQ29sb3I6IGIuc3Ryb2tlQ29sb3IsXG5cdFx0XHRcdFx0cG9pbnRDb2xvcjogYi5wb2ludENvbG9yLFxuXHRcdFx0XHRcdHBvaW50U3Ryb2tlQ29sb3I6IGIucG9pbnRTdHJva2VDb2xvcixcblx0XHRcdFx0XHRwb2ludHM6IFtdXG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoaXMuZGF0YXNldHMucHVzaChkKSwgYy5lYWNoKGIuZGF0YSwgZnVuY3Rpb24oYywgZSkge1xuXHRcdFx0XHRcdGQucG9pbnRzLnB1c2gobmV3IHRoaXMuUG9pbnRDbGFzcyh7XG5cdFx0XHRcdFx0XHR2YWx1ZTogYyxcblx0XHRcdFx0XHRcdGxhYmVsOiBhLmxhYmVsc1tlXSxcblx0XHRcdFx0XHRcdGRhdGFzZXRMYWJlbDogYi5sYWJlbCxcblx0XHRcdFx0XHRcdHN0cm9rZUNvbG9yOiBiLnBvaW50U3Ryb2tlQ29sb3IsXG5cdFx0XHRcdFx0XHRmaWxsQ29sb3I6IGIucG9pbnRDb2xvcixcblx0XHRcdFx0XHRcdGhpZ2hsaWdodEZpbGw6IGIucG9pbnRIaWdobGlnaHRGaWxsIHx8IGIucG9pbnRDb2xvcixcblx0XHRcdFx0XHRcdGhpZ2hsaWdodFN0cm9rZTogYi5wb2ludEhpZ2hsaWdodFN0cm9rZSB8fCBiLnBvaW50U3Ryb2tlQ29sb3Jcblx0XHRcdFx0XHR9KSlcblx0XHRcdFx0fSwgdGhpcyksIHRoaXMuYnVpbGRTY2FsZShhLmxhYmVscyksIHRoaXMuZWFjaFBvaW50cyhmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRcdFx0Yy5leHRlbmQoYSwge1xuXHRcdFx0XHRcdFx0eDogdGhpcy5zY2FsZS5jYWxjdWxhdGVYKGIpLFxuXHRcdFx0XHRcdFx0eTogdGhpcy5zY2FsZS5lbmRQb2ludFxuXHRcdFx0XHRcdH0pLCBhLnNhdmUoKVxuXHRcdFx0XHR9LCB0aGlzKVxuXHRcdFx0fSwgdGhpcyksIHRoaXMucmVuZGVyKClcblx0XHR9LFxuXHRcdHVwZGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnNjYWxlLnVwZGF0ZSgpLCBjLmVhY2godGhpcy5hY3RpdmVFbGVtZW50cywgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRhLnJlc3RvcmUoW1wiZmlsbENvbG9yXCIsIFwic3Ryb2tlQ29sb3JcIl0pXG5cdFx0XHR9KSwgdGhpcy5lYWNoUG9pbnRzKGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0YS5zYXZlKClcblx0XHRcdH0pLCB0aGlzLnJlbmRlcigpXG5cdFx0fSxcblx0XHRlYWNoUG9pbnRzOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRjLmVhY2godGhpcy5kYXRhc2V0cywgZnVuY3Rpb24oYikge1xuXHRcdFx0XHRjLmVhY2goYi5wb2ludHMsIGEsIHRoaXMpXG5cdFx0XHR9LCB0aGlzKVxuXHRcdH0sXG5cdFx0Z2V0UG9pbnRzQXRFdmVudDogZnVuY3Rpb24oYSkge1xuXHRcdFx0dmFyIGIgPSBbXSxcblx0XHRcdFx0ZCA9IGMuZ2V0UmVsYXRpdmVQb3NpdGlvbihhKTtcblx0XHRcdHJldHVybiBjLmVhY2godGhpcy5kYXRhc2V0cywgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRjLmVhY2goYS5wb2ludHMsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRhLmluUmFuZ2UoZC54LCBkLnkpICYmIGIucHVzaChhKVxuXHRcdFx0XHR9KVxuXHRcdFx0fSwgdGhpcyksIGJcblx0XHR9LFxuXHRcdGJ1aWxkU2NhbGU6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHZhciBkID0gdGhpcyxcblx0XHRcdFx0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBhID0gW107XG5cdFx0XHRcdFx0cmV0dXJuIGQuZWFjaFBvaW50cyhmdW5jdGlvbihiKSB7XG5cdFx0XHRcdFx0XHRhLnB1c2goYi52YWx1ZSlcblx0XHRcdFx0XHR9KSwgYVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRmID0ge1xuXHRcdFx0XHRcdHRlbXBsYXRlU3RyaW5nOiB0aGlzLm9wdGlvbnMuc2NhbGVMYWJlbCxcblx0XHRcdFx0XHRoZWlnaHQ6IHRoaXMuY2hhcnQuaGVpZ2h0LFxuXHRcdFx0XHRcdHdpZHRoOiB0aGlzLmNoYXJ0LndpZHRoLFxuXHRcdFx0XHRcdGN0eDogdGhpcy5jaGFydC5jdHgsXG5cdFx0XHRcdFx0dGV4dENvbG9yOiB0aGlzLm9wdGlvbnMuc2NhbGVGb250Q29sb3IsXG5cdFx0XHRcdFx0b2Zmc2V0R3JpZExpbmVzOiB0aGlzLm9wdGlvbnMub2Zmc2V0R3JpZExpbmVzLFxuXHRcdFx0XHRcdGZvbnRTaXplOiB0aGlzLm9wdGlvbnMuc2NhbGVGb250U2l6ZSxcblx0XHRcdFx0XHRmb250U3R5bGU6IHRoaXMub3B0aW9ucy5zY2FsZUZvbnRTdHlsZSxcblx0XHRcdFx0XHRmb250RmFtaWx5OiB0aGlzLm9wdGlvbnMuc2NhbGVGb250RmFtaWx5LFxuXHRcdFx0XHRcdHZhbHVlc0NvdW50OiBhLmxlbmd0aCxcblx0XHRcdFx0XHRiZWdpbkF0WmVybzogdGhpcy5vcHRpb25zLnNjYWxlQmVnaW5BdFplcm8sXG5cdFx0XHRcdFx0aW50ZWdlcnNPbmx5OiB0aGlzLm9wdGlvbnMuc2NhbGVJbnRlZ2Vyc09ubHksXG5cdFx0XHRcdFx0Y2FsY3VsYXRlWVJhbmdlOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0XHR2YXIgYiA9IGMuY2FsY3VsYXRlU2NhbGVSYW5nZShlKCksIGEsIHRoaXMuZm9udFNpemUsIHRoaXMuYmVnaW5BdFplcm8sIHRoaXMuaW50ZWdlcnNPbmx5KTtcblx0XHRcdFx0XHRcdGMuZXh0ZW5kKHRoaXMsIGIpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR4TGFiZWxzOiBhLFxuXHRcdFx0XHRcdGZvbnQ6IGMuZm9udFN0cmluZyh0aGlzLm9wdGlvbnMuc2NhbGVGb250U2l6ZSwgdGhpcy5vcHRpb25zLnNjYWxlRm9udFN0eWxlLCB0aGlzLm9wdGlvbnMuc2NhbGVGb250RmFtaWx5KSxcblx0XHRcdFx0XHRsaW5lV2lkdGg6IHRoaXMub3B0aW9ucy5zY2FsZUxpbmVXaWR0aCxcblx0XHRcdFx0XHRsaW5lQ29sb3I6IHRoaXMub3B0aW9ucy5zY2FsZUxpbmVDb2xvcixcblx0XHRcdFx0XHRzaG93SG9yaXpvbnRhbExpbmVzOiB0aGlzLm9wdGlvbnMuc2NhbGVTaG93SG9yaXpvbnRhbExpbmVzLFxuXHRcdFx0XHRcdHNob3dWZXJ0aWNhbExpbmVzOiB0aGlzLm9wdGlvbnMuc2NhbGVTaG93VmVydGljYWxMaW5lcyxcblx0XHRcdFx0XHRncmlkTGluZVdpZHRoOiB0aGlzLm9wdGlvbnMuc2NhbGVTaG93R3JpZExpbmVzID8gdGhpcy5vcHRpb25zLnNjYWxlR3JpZExpbmVXaWR0aCA6IDAsXG5cdFx0XHRcdFx0Z3JpZExpbmVDb2xvcjogdGhpcy5vcHRpb25zLnNjYWxlU2hvd0dyaWRMaW5lcyA/IHRoaXMub3B0aW9ucy5zY2FsZUdyaWRMaW5lQ29sb3IgOiBcInJnYmEoMCwwLDAsMClcIixcblx0XHRcdFx0XHRwYWRkaW5nOiB0aGlzLm9wdGlvbnMuc2hvd1NjYWxlID8gMCA6IHRoaXMub3B0aW9ucy5wb2ludERvdFJhZGl1cyArIHRoaXMub3B0aW9ucy5wb2ludERvdFN0cm9rZVdpZHRoLFxuXHRcdFx0XHRcdHNob3dMYWJlbHM6IHRoaXMub3B0aW9ucy5zY2FsZVNob3dMYWJlbHMsXG5cdFx0XHRcdFx0ZGlzcGxheTogdGhpcy5vcHRpb25zLnNob3dTY2FsZVxuXHRcdFx0XHR9O1xuXHRcdFx0dGhpcy5vcHRpb25zLnNjYWxlT3ZlcnJpZGUgJiYgYy5leHRlbmQoZiwge1xuXHRcdFx0XHRjYWxjdWxhdGVZUmFuZ2U6IGMubm9vcCxcblx0XHRcdFx0c3RlcHM6IHRoaXMub3B0aW9ucy5zY2FsZVN0ZXBzLFxuXHRcdFx0XHRzdGVwVmFsdWU6IHRoaXMub3B0aW9ucy5zY2FsZVN0ZXBXaWR0aCxcblx0XHRcdFx0bWluOiB0aGlzLm9wdGlvbnMuc2NhbGVTdGFydFZhbHVlLFxuXHRcdFx0XHRtYXg6IHRoaXMub3B0aW9ucy5zY2FsZVN0YXJ0VmFsdWUgKyB0aGlzLm9wdGlvbnMuc2NhbGVTdGVwcyAqIHRoaXMub3B0aW9ucy5zY2FsZVN0ZXBXaWR0aFxuXHRcdFx0fSksIHRoaXMuc2NhbGUgPSBuZXcgYi5TY2FsZShmKVxuXHRcdH0sXG5cdFx0YWRkRGF0YTogZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0Yy5lYWNoKGEsIGZ1bmN0aW9uKGEsIGMpIHtcblx0XHRcdFx0dGhpcy5kYXRhc2V0c1tjXS5wb2ludHMucHVzaChuZXcgdGhpcy5Qb2ludENsYXNzKHtcblx0XHRcdFx0XHR2YWx1ZTogYSxcblx0XHRcdFx0XHRsYWJlbDogYixcblx0XHRcdFx0XHRkYXRhc2V0TGFiZWw6IHRoaXMuZGF0YXNldHNbY10ubGFiZWwsXG5cdFx0XHRcdFx0eDogdGhpcy5zY2FsZS5jYWxjdWxhdGVYKHRoaXMuc2NhbGUudmFsdWVzQ291bnQgKyAxKSxcblx0XHRcdFx0XHR5OiB0aGlzLnNjYWxlLmVuZFBvaW50LFxuXHRcdFx0XHRcdHN0cm9rZUNvbG9yOiB0aGlzLmRhdGFzZXRzW2NdLnBvaW50U3Ryb2tlQ29sb3IsXG5cdFx0XHRcdFx0ZmlsbENvbG9yOiB0aGlzLmRhdGFzZXRzW2NdLnBvaW50Q29sb3Jcblx0XHRcdFx0fSkpXG5cdFx0XHR9LCB0aGlzKSwgdGhpcy5zY2FsZS5hZGRYTGFiZWwoYiksIHRoaXMudXBkYXRlKClcblx0XHR9LFxuXHRcdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5zY2FsZS5yZW1vdmVYTGFiZWwoKSwgYy5lYWNoKHRoaXMuZGF0YXNldHMsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0YS5wb2ludHMuc2hpZnQoKVxuXHRcdFx0fSwgdGhpcyksIHRoaXMudXBkYXRlKClcblx0XHR9LFxuXHRcdHJlZmxvdzogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgYSA9IGMuZXh0ZW5kKHtcblx0XHRcdFx0aGVpZ2h0OiB0aGlzLmNoYXJ0LmhlaWdodCxcblx0XHRcdFx0d2lkdGg6IHRoaXMuY2hhcnQud2lkdGhcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5zY2FsZS51cGRhdGUoYSlcblx0XHR9LFxuXHRcdGRyYXc6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHZhciBiID0gYSB8fCAxO1xuXHRcdFx0dGhpcy5jbGVhcigpO1xuXHRcdFx0dmFyIGQgPSB0aGlzLmNoYXJ0LmN0eCxcblx0XHRcdFx0ZSA9IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRyZXR1cm4gbnVsbCAhPT0gYS52YWx1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRmID0gZnVuY3Rpb24oYSwgYiwgZCkge1xuXHRcdFx0XHRcdHJldHVybiBjLmZpbmROZXh0V2hlcmUoYiwgZSwgZCkgfHwgYVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRnID0gZnVuY3Rpb24oYSwgYiwgZCkge1xuXHRcdFx0XHRcdHJldHVybiBjLmZpbmRQcmV2aW91c1doZXJlKGIsIGUsIGQpIHx8IGFcblx0XHRcdFx0fTtcblx0XHRcdHRoaXMuc2NhbGUgJiYgKHRoaXMuc2NhbGUuZHJhdyhiKSwgYy5lYWNoKHRoaXMuZGF0YXNldHMsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0dmFyIGggPSBjLndoZXJlKGEucG9pbnRzLCBlKTtcblx0XHRcdFx0Yy5lYWNoKGEucG9pbnRzLCBmdW5jdGlvbihhLCBjKSB7XG5cdFx0XHRcdFx0YS5oYXNWYWx1ZSgpICYmIGEudHJhbnNpdGlvbih7XG5cdFx0XHRcdFx0XHR5OiB0aGlzLnNjYWxlLmNhbGN1bGF0ZVkoYS52YWx1ZSksXG5cdFx0XHRcdFx0XHR4OiB0aGlzLnNjYWxlLmNhbGN1bGF0ZVgoYylcblx0XHRcdFx0XHR9LCBiKVxuXHRcdFx0XHR9LCB0aGlzKSwgdGhpcy5vcHRpb25zLmJlemllckN1cnZlICYmIGMuZWFjaChoLCBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRcdFx0dmFyIGQgPSBiID4gMCAmJiBiIDwgaC5sZW5ndGggLSAxID8gdGhpcy5vcHRpb25zLmJlemllckN1cnZlVGVuc2lvbiA6IDA7XG5cdFx0XHRcdFx0YS5jb250cm9sUG9pbnRzID0gYy5zcGxpbmVDdXJ2ZShnKGEsIGgsIGIpLCBhLCBmKGEsIGgsIGIpLCBkKSwgYS5jb250cm9sUG9pbnRzLm91dGVyLnkgPiB0aGlzLnNjYWxlLmVuZFBvaW50ID8gYS5jb250cm9sUG9pbnRzLm91dGVyLnkgPSB0aGlzLnNjYWxlLmVuZFBvaW50IDogYS5jb250cm9sUG9pbnRzLm91dGVyLnkgPCB0aGlzLnNjYWxlLnN0YXJ0UG9pbnQgJiYgKGEuY29udHJvbFBvaW50cy5vdXRlci55ID0gdGhpcy5zY2FsZS5zdGFydFBvaW50KSwgYS5jb250cm9sUG9pbnRzLmlubmVyLnkgPiB0aGlzLnNjYWxlLmVuZFBvaW50ID8gYS5jb250cm9sUG9pbnRzLmlubmVyLnkgPSB0aGlzLnNjYWxlLmVuZFBvaW50IDogYS5jb250cm9sUG9pbnRzLmlubmVyLnkgPCB0aGlzLnNjYWxlLnN0YXJ0UG9pbnQgJiYgKGEuY29udHJvbFBvaW50cy5pbm5lci55ID0gdGhpcy5zY2FsZS5zdGFydFBvaW50KVxuXHRcdFx0XHR9LCB0aGlzKSwgZC5saW5lV2lkdGggPSB0aGlzLm9wdGlvbnMuZGF0YXNldFN0cm9rZVdpZHRoLCBkLnN0cm9rZVN0eWxlID0gYS5zdHJva2VDb2xvciwgZC5iZWdpblBhdGgoKSwgYy5lYWNoKGgsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdFx0XHRpZiAoMCA9PT0gYikgZC5tb3ZlVG8oYS54LCBhLnkpO1xuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5iZXppZXJDdXJ2ZSkge1xuXHRcdFx0XHRcdFx0dmFyIGMgPSBnKGEsIGgsIGIpO1xuXHRcdFx0XHRcdFx0ZC5iZXppZXJDdXJ2ZVRvKGMuY29udHJvbFBvaW50cy5vdXRlci54LCBjLmNvbnRyb2xQb2ludHMub3V0ZXIueSwgYS5jb250cm9sUG9pbnRzLmlubmVyLngsIGEuY29udHJvbFBvaW50cy5pbm5lci55LCBhLngsIGEueSlcblx0XHRcdFx0XHR9IGVsc2UgZC5saW5lVG8oYS54LCBhLnkpXG5cdFx0XHRcdH0sIHRoaXMpLCB0aGlzLm9wdGlvbnMuZGF0YXNldFN0cm9rZSAmJiBkLnN0cm9rZSgpLCB0aGlzLm9wdGlvbnMuZGF0YXNldEZpbGwgJiYgaC5sZW5ndGggPiAwICYmIChkLmxpbmVUbyhoW2gubGVuZ3RoIC0gMV0ueCwgdGhpcy5zY2FsZS5lbmRQb2ludCksIGQubGluZVRvKGhbMF0ueCwgdGhpcy5zY2FsZS5lbmRQb2ludCksIGQuZmlsbFN0eWxlID0gYS5maWxsQ29sb3IsIGQuY2xvc2VQYXRoKCksIGQuZmlsbCgpKSwgYy5lYWNoKGgsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRhLmRyYXcoKVxuXHRcdFx0XHR9KVxuXHRcdFx0fSwgdGhpcykpXG5cdFx0fVxuXHR9KVxufS5jYWxsKHRoaXMpLCBmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBhID0gdGhpcyxcblx0XHRiID0gYS5DaGFydCxcblx0XHRjID0gYi5oZWxwZXJzLFxuXHRcdGQgPSB7XG5cdFx0XHRzY2FsZVNob3dMYWJlbEJhY2tkcm9wOiAhMCxcblx0XHRcdHNjYWxlQmFja2Ryb3BDb2xvcjogXCJyZ2JhKDI1NSwyNTUsMjU1LDAuNzUpXCIsXG5cdFx0XHRzY2FsZUJlZ2luQXRaZXJvOiAhMCxcblx0XHRcdHNjYWxlQmFja2Ryb3BQYWRkaW5nWTogMixcblx0XHRcdHNjYWxlQmFja2Ryb3BQYWRkaW5nWDogMixcblx0XHRcdHNjYWxlU2hvd0xpbmU6ICEwLFxuXHRcdFx0c2VnbWVudFNob3dTdHJva2U6ICEwLFxuXHRcdFx0c2VnbWVudFN0cm9rZUNvbG9yOiBcIiNmZmZcIixcblx0XHRcdHNlZ21lbnRTdHJva2VXaWR0aDogMixcblx0XHRcdGFuaW1hdGlvblN0ZXBzOiAxMDAsXG5cdFx0XHRhbmltYXRpb25FYXNpbmc6IFwiZWFzZU91dEJvdW5jZVwiLFxuXHRcdFx0YW5pbWF0ZVJvdGF0ZTogITAsXG5cdFx0XHRhbmltYXRlU2NhbGU6ICExLFxuXHRcdFx0bGVnZW5kVGVtcGxhdGU6ICc8dWwgY2xhc3M9XCI8JT1uYW1lLnRvTG93ZXJDYXNlKCklPi1sZWdlbmRcIj48JSBmb3IgKHZhciBpPTA7IGk8c2VnbWVudHMubGVuZ3RoOyBpKyspeyU+PGxpPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjo8JT1zZWdtZW50c1tpXS5maWxsQ29sb3IlPlwiPjwlaWYoc2VnbWVudHNbaV0ubGFiZWwpeyU+PCU9c2VnbWVudHNbaV0ubGFiZWwlPjwlfSU+PC9zcGFuPjwvbGk+PCV9JT48L3VsPidcblx0XHR9O1xuXHRiLlR5cGUuZXh0ZW5kKHtcblx0XHRuYW1lOiBcIlBvbGFyQXJlYVwiLFxuXHRcdGRlZmF1bHRzOiBkLFxuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHRoaXMuc2VnbWVudHMgPSBbXSwgdGhpcy5TZWdtZW50QXJjID0gYi5BcmMuZXh0ZW5kKHtcblx0XHRcdFx0c2hvd1N0cm9rZTogdGhpcy5vcHRpb25zLnNlZ21lbnRTaG93U3Ryb2tlLFxuXHRcdFx0XHRzdHJva2VXaWR0aDogdGhpcy5vcHRpb25zLnNlZ21lbnRTdHJva2VXaWR0aCxcblx0XHRcdFx0c3Ryb2tlQ29sb3I6IHRoaXMub3B0aW9ucy5zZWdtZW50U3Ryb2tlQ29sb3IsXG5cdFx0XHRcdGN0eDogdGhpcy5jaGFydC5jdHgsXG5cdFx0XHRcdGlubmVyUmFkaXVzOiAwLFxuXHRcdFx0XHR4OiB0aGlzLmNoYXJ0LndpZHRoIC8gMixcblx0XHRcdFx0eTogdGhpcy5jaGFydC5oZWlnaHQgLyAyXG5cdFx0XHR9KSwgdGhpcy5zY2FsZSA9IG5ldyBiLlJhZGlhbFNjYWxlKHtcblx0XHRcdFx0ZGlzcGxheTogdGhpcy5vcHRpb25zLnNob3dTY2FsZSxcblx0XHRcdFx0Zm9udFN0eWxlOiB0aGlzLm9wdGlvbnMuc2NhbGVGb250U3R5bGUsXG5cdFx0XHRcdGZvbnRTaXplOiB0aGlzLm9wdGlvbnMuc2NhbGVGb250U2l6ZSxcblx0XHRcdFx0Zm9udEZhbWlseTogdGhpcy5vcHRpb25zLnNjYWxlRm9udEZhbWlseSxcblx0XHRcdFx0Zm9udENvbG9yOiB0aGlzLm9wdGlvbnMuc2NhbGVGb250Q29sb3IsXG5cdFx0XHRcdHNob3dMYWJlbHM6IHRoaXMub3B0aW9ucy5zY2FsZVNob3dMYWJlbHMsXG5cdFx0XHRcdHNob3dMYWJlbEJhY2tkcm9wOiB0aGlzLm9wdGlvbnMuc2NhbGVTaG93TGFiZWxCYWNrZHJvcCxcblx0XHRcdFx0YmFja2Ryb3BDb2xvcjogdGhpcy5vcHRpb25zLnNjYWxlQmFja2Ryb3BDb2xvcixcblx0XHRcdFx0YmFja2Ryb3BQYWRkaW5nWTogdGhpcy5vcHRpb25zLnNjYWxlQmFja2Ryb3BQYWRkaW5nWSxcblx0XHRcdFx0YmFja2Ryb3BQYWRkaW5nWDogdGhpcy5vcHRpb25zLnNjYWxlQmFja2Ryb3BQYWRkaW5nWCxcblx0XHRcdFx0bGluZVdpZHRoOiB0aGlzLm9wdGlvbnMuc2NhbGVTaG93TGluZSA/IHRoaXMub3B0aW9ucy5zY2FsZUxpbmVXaWR0aCA6IDAsXG5cdFx0XHRcdGxpbmVDb2xvcjogdGhpcy5vcHRpb25zLnNjYWxlTGluZUNvbG9yLFxuXHRcdFx0XHRsaW5lQXJjOiAhMCxcblx0XHRcdFx0d2lkdGg6IHRoaXMuY2hhcnQud2lkdGgsXG5cdFx0XHRcdGhlaWdodDogdGhpcy5jaGFydC5oZWlnaHQsXG5cdFx0XHRcdHhDZW50ZXI6IHRoaXMuY2hhcnQud2lkdGggLyAyLFxuXHRcdFx0XHR5Q2VudGVyOiB0aGlzLmNoYXJ0LmhlaWdodCAvIDIsXG5cdFx0XHRcdGN0eDogdGhpcy5jaGFydC5jdHgsXG5cdFx0XHRcdHRlbXBsYXRlU3RyaW5nOiB0aGlzLm9wdGlvbnMuc2NhbGVMYWJlbCxcblx0XHRcdFx0dmFsdWVzQ291bnQ6IGEubGVuZ3RoXG5cdFx0XHR9KSwgdGhpcy51cGRhdGVTY2FsZVJhbmdlKGEpLCB0aGlzLnNjYWxlLnVwZGF0ZSgpLCBjLmVhY2goYSwgZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHR0aGlzLmFkZERhdGEoYSwgYiwgITApXG5cdFx0XHR9LCB0aGlzKSwgdGhpcy5vcHRpb25zLnNob3dUb29sdGlwcyAmJiBjLmJpbmRFdmVudHModGhpcywgdGhpcy5vcHRpb25zLnRvb2x0aXBFdmVudHMsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0dmFyIGIgPSBcIm1vdXNlb3V0XCIgIT09IGEudHlwZSA/IHRoaXMuZ2V0U2VnbWVudHNBdEV2ZW50KGEpIDogW107XG5cdFx0XHRcdGMuZWFjaCh0aGlzLnNlZ21lbnRzLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0YS5yZXN0b3JlKFtcImZpbGxDb2xvclwiXSlcblx0XHRcdFx0fSksIGMuZWFjaChiLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0YS5maWxsQ29sb3IgPSBhLmhpZ2hsaWdodENvbG9yXG5cdFx0XHRcdH0pLCB0aGlzLnNob3dUb29sdGlwKGIpXG5cdFx0XHR9KSwgdGhpcy5yZW5kZXIoKVxuXHRcdH0sXG5cdFx0Z2V0U2VnbWVudHNBdEV2ZW50OiBmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgYiA9IFtdLFxuXHRcdFx0XHRkID0gYy5nZXRSZWxhdGl2ZVBvc2l0aW9uKGEpO1xuXHRcdFx0cmV0dXJuIGMuZWFjaCh0aGlzLnNlZ21lbnRzLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdGEuaW5SYW5nZShkLngsIGQueSkgJiYgYi5wdXNoKGEpXG5cdFx0XHR9LCB0aGlzKSwgYlxuXHRcdH0sXG5cdFx0YWRkRGF0YTogZnVuY3Rpb24oYSwgYiwgYykge1xuXHRcdFx0dmFyIGQgPSBiIHx8IHRoaXMuc2VnbWVudHMubGVuZ3RoO1xuXHRcdFx0dGhpcy5zZWdtZW50cy5zcGxpY2UoZCwgMCwgbmV3IHRoaXMuU2VnbWVudEFyYyh7XG5cdFx0XHRcdGZpbGxDb2xvcjogYS5jb2xvcixcblx0XHRcdFx0aGlnaGxpZ2h0Q29sb3I6IGEuaGlnaGxpZ2h0IHx8IGEuY29sb3IsXG5cdFx0XHRcdGxhYmVsOiBhLmxhYmVsLFxuXHRcdFx0XHR2YWx1ZTogYS52YWx1ZSxcblx0XHRcdFx0b3V0ZXJSYWRpdXM6IHRoaXMub3B0aW9ucy5hbmltYXRlU2NhbGUgPyAwIDogdGhpcy5zY2FsZS5jYWxjdWxhdGVDZW50ZXJPZmZzZXQoYS52YWx1ZSksXG5cdFx0XHRcdGNpcmN1bWZlcmVuY2U6IHRoaXMub3B0aW9ucy5hbmltYXRlUm90YXRlID8gMCA6IHRoaXMuc2NhbGUuZ2V0Q2lyY3VtZmVyZW5jZSgpLFxuXHRcdFx0XHRzdGFydEFuZ2xlOiAxLjUgKiBNYXRoLlBJXG5cdFx0XHR9KSksIGMgfHwgKHRoaXMucmVmbG93KCksIHRoaXMudXBkYXRlKCkpXG5cdFx0fSxcblx0XHRyZW1vdmVEYXRhOiBmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgYiA9IGMuaXNOdW1iZXIoYSkgPyBhIDogdGhpcy5zZWdtZW50cy5sZW5ndGggLSAxO1xuXHRcdFx0dGhpcy5zZWdtZW50cy5zcGxpY2UoYiwgMSksIHRoaXMucmVmbG93KCksIHRoaXMudXBkYXRlKClcblx0XHR9LFxuXHRcdGNhbGN1bGF0ZVRvdGFsOiBmdW5jdGlvbihhKSB7XG5cdFx0XHR0aGlzLnRvdGFsID0gMCwgYy5lYWNoKGEsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0dGhpcy50b3RhbCArPSBhLnZhbHVlXG5cdFx0XHR9LCB0aGlzKSwgdGhpcy5zY2FsZS52YWx1ZXNDb3VudCA9IHRoaXMuc2VnbWVudHMubGVuZ3RoXG5cdFx0fSxcblx0XHR1cGRhdGVTY2FsZVJhbmdlOiBmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgYiA9IFtdO1xuXHRcdFx0Yy5lYWNoKGEsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0Yi5wdXNoKGEudmFsdWUpXG5cdFx0XHR9KTtcblx0XHRcdHZhciBkID0gdGhpcy5vcHRpb25zLnNjYWxlT3ZlcnJpZGUgPyB7XG5cdFx0XHRcdHN0ZXBzOiB0aGlzLm9wdGlvbnMuc2NhbGVTdGVwcyxcblx0XHRcdFx0c3RlcFZhbHVlOiB0aGlzLm9wdGlvbnMuc2NhbGVTdGVwV2lkdGgsXG5cdFx0XHRcdG1pbjogdGhpcy5vcHRpb25zLnNjYWxlU3RhcnRWYWx1ZSxcblx0XHRcdFx0bWF4OiB0aGlzLm9wdGlvbnMuc2NhbGVTdGFydFZhbHVlICsgdGhpcy5vcHRpb25zLnNjYWxlU3RlcHMgKiB0aGlzLm9wdGlvbnMuc2NhbGVTdGVwV2lkdGhcblx0XHRcdH0gOiBjLmNhbGN1bGF0ZVNjYWxlUmFuZ2UoYiwgYy5taW4oW3RoaXMuY2hhcnQud2lkdGgsIHRoaXMuY2hhcnQuaGVpZ2h0XSkgLyAyLCB0aGlzLm9wdGlvbnMuc2NhbGVGb250U2l6ZSwgdGhpcy5vcHRpb25zLnNjYWxlQmVnaW5BdFplcm8sIHRoaXMub3B0aW9ucy5zY2FsZUludGVnZXJzT25seSk7XG5cdFx0XHRjLmV4dGVuZCh0aGlzLnNjYWxlLCBkLCB7XG5cdFx0XHRcdHNpemU6IGMubWluKFt0aGlzLmNoYXJ0LndpZHRoLCB0aGlzLmNoYXJ0LmhlaWdodF0pLFxuXHRcdFx0XHR4Q2VudGVyOiB0aGlzLmNoYXJ0LndpZHRoIC8gMixcblx0XHRcdFx0eUNlbnRlcjogdGhpcy5jaGFydC5oZWlnaHQgLyAyXG5cdFx0XHR9KVxuXHRcdH0sXG5cdFx0dXBkYXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY2FsY3VsYXRlVG90YWwodGhpcy5zZWdtZW50cyksIGMuZWFjaCh0aGlzLnNlZ21lbnRzLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdGEuc2F2ZSgpXG5cdFx0XHR9KSwgdGhpcy5yZWZsb3coKSwgdGhpcy5yZW5kZXIoKVxuXHRcdH0sXG5cdFx0cmVmbG93OiBmdW5jdGlvbigpIHtcblx0XHRcdGMuZXh0ZW5kKHRoaXMuU2VnbWVudEFyYy5wcm90b3R5cGUsIHtcblx0XHRcdFx0eDogdGhpcy5jaGFydC53aWR0aCAvIDIsXG5cdFx0XHRcdHk6IHRoaXMuY2hhcnQuaGVpZ2h0IC8gMlxuXHRcdFx0fSksIHRoaXMudXBkYXRlU2NhbGVSYW5nZSh0aGlzLnNlZ21lbnRzKSwgdGhpcy5zY2FsZS51cGRhdGUoKSwgYy5leHRlbmQodGhpcy5zY2FsZSwge1xuXHRcdFx0XHR4Q2VudGVyOiB0aGlzLmNoYXJ0LndpZHRoIC8gMixcblx0XHRcdFx0eUNlbnRlcjogdGhpcy5jaGFydC5oZWlnaHQgLyAyXG5cdFx0XHR9KSwgYy5lYWNoKHRoaXMuc2VnbWVudHMsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0YS51cGRhdGUoe1xuXHRcdFx0XHRcdG91dGVyUmFkaXVzOiB0aGlzLnNjYWxlLmNhbGN1bGF0ZUNlbnRlck9mZnNldChhLnZhbHVlKVxuXHRcdFx0XHR9KVxuXHRcdFx0fSwgdGhpcylcblx0XHR9LFxuXHRcdGRyYXc6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHZhciBiID0gYSB8fCAxO1xuXHRcdFx0dGhpcy5jbGVhcigpLCBjLmVhY2godGhpcy5zZWdtZW50cywgZnVuY3Rpb24oYSwgYykge1xuXHRcdFx0XHRhLnRyYW5zaXRpb24oe1xuXHRcdFx0XHRcdGNpcmN1bWZlcmVuY2U6IHRoaXMuc2NhbGUuZ2V0Q2lyY3VtZmVyZW5jZSgpLFxuXHRcdFx0XHRcdG91dGVyUmFkaXVzOiB0aGlzLnNjYWxlLmNhbGN1bGF0ZUNlbnRlck9mZnNldChhLnZhbHVlKVxuXHRcdFx0XHR9LCBiKSwgYS5lbmRBbmdsZSA9IGEuc3RhcnRBbmdsZSArIGEuY2lyY3VtZmVyZW5jZSwgMCA9PT0gYyAmJiAoYS5zdGFydEFuZ2xlID0gMS41ICogTWF0aC5QSSksIGMgPCB0aGlzLnNlZ21lbnRzLmxlbmd0aCAtIDEgJiYgKHRoaXMuc2VnbWVudHNbYyArIDFdLnN0YXJ0QW5nbGUgPSBhLmVuZEFuZ2xlKSwgYS5kcmF3KClcblx0XHRcdH0sIHRoaXMpLCB0aGlzLnNjYWxlLmRyYXcoKVxuXHRcdH1cblx0fSlcbn0uY2FsbCh0aGlzKSwgZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgYSA9IHRoaXMsXG5cdFx0YiA9IGEuQ2hhcnQsXG5cdFx0YyA9IGIuaGVscGVycztcblx0Yi5UeXBlLmV4dGVuZCh7XG5cdFx0bmFtZTogXCJSYWRhclwiLFxuXHRcdGRlZmF1bHRzOiB7XG5cdFx0XHRzY2FsZVNob3dMaW5lOiAhMCxcblx0XHRcdGFuZ2xlU2hvd0xpbmVPdXQ6ICEwLFxuXHRcdFx0c2NhbGVTaG93TGFiZWxzOiAhMSxcblx0XHRcdHNjYWxlQmVnaW5BdFplcm86ICEwLFxuXHRcdFx0YW5nbGVMaW5lQ29sb3I6IFwicmdiYSgwLDAsMCwuMSlcIixcblx0XHRcdGFuZ2xlTGluZVdpZHRoOiAxLFxuXHRcdFx0cG9pbnRMYWJlbEZvbnRGYW1pbHk6IFwiJ0FyaWFsJ1wiLFxuXHRcdFx0cG9pbnRMYWJlbEZvbnRTdHlsZTogXCJub3JtYWxcIixcblx0XHRcdHBvaW50TGFiZWxGb250U2l6ZTogMTAsXG5cdFx0XHRwb2ludExhYmVsRm9udENvbG9yOiBcIiM2NjZcIixcblx0XHRcdHBvaW50RG90OiAhMCxcblx0XHRcdHBvaW50RG90UmFkaXVzOiAzLFxuXHRcdFx0cG9pbnREb3RTdHJva2VXaWR0aDogMSxcblx0XHRcdHBvaW50SGl0RGV0ZWN0aW9uUmFkaXVzOiAyMCxcblx0XHRcdGRhdGFzZXRTdHJva2U6ICEwLFxuXHRcdFx0ZGF0YXNldFN0cm9rZVdpZHRoOiAyLFxuXHRcdFx0ZGF0YXNldEZpbGw6ICEwLFxuXHRcdFx0bGVnZW5kVGVtcGxhdGU6ICc8dWwgY2xhc3M9XCI8JT1uYW1lLnRvTG93ZXJDYXNlKCklPi1sZWdlbmRcIj48JSBmb3IgKHZhciBpPTA7IGk8ZGF0YXNldHMubGVuZ3RoOyBpKyspeyU+PGxpPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjo8JT1kYXRhc2V0c1tpXS5zdHJva2VDb2xvciU+XCI+PCVpZihkYXRhc2V0c1tpXS5sYWJlbCl7JT48JT1kYXRhc2V0c1tpXS5sYWJlbCU+PCV9JT48L3NwYW4+PC9saT48JX0lPjwvdWw+J1xuXHRcdH0sXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oYSkge1xuXHRcdFx0dGhpcy5Qb2ludENsYXNzID0gYi5Qb2ludC5leHRlbmQoe1xuXHRcdFx0XHRzdHJva2VXaWR0aDogdGhpcy5vcHRpb25zLnBvaW50RG90U3Ryb2tlV2lkdGgsXG5cdFx0XHRcdHJhZGl1czogdGhpcy5vcHRpb25zLnBvaW50RG90UmFkaXVzLFxuXHRcdFx0XHRkaXNwbGF5OiB0aGlzLm9wdGlvbnMucG9pbnREb3QsXG5cdFx0XHRcdGhpdERldGVjdGlvblJhZGl1czogdGhpcy5vcHRpb25zLnBvaW50SGl0RGV0ZWN0aW9uUmFkaXVzLFxuXHRcdFx0XHRjdHg6IHRoaXMuY2hhcnQuY3R4XG5cdFx0XHR9KSwgdGhpcy5kYXRhc2V0cyA9IFtdLCB0aGlzLmJ1aWxkU2NhbGUoYSksIHRoaXMub3B0aW9ucy5zaG93VG9vbHRpcHMgJiYgYy5iaW5kRXZlbnRzKHRoaXMsIHRoaXMub3B0aW9ucy50b29sdGlwRXZlbnRzLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHZhciBiID0gXCJtb3VzZW91dFwiICE9PSBhLnR5cGUgPyB0aGlzLmdldFBvaW50c0F0RXZlbnQoYSkgOiBbXTtcblx0XHRcdFx0dGhpcy5lYWNoUG9pbnRzKGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRhLnJlc3RvcmUoW1wiZmlsbENvbG9yXCIsIFwic3Ryb2tlQ29sb3JcIl0pXG5cdFx0XHRcdH0pLCBjLmVhY2goYiwgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdGEuZmlsbENvbG9yID0gYS5oaWdobGlnaHRGaWxsLCBhLnN0cm9rZUNvbG9yID0gYS5oaWdobGlnaHRTdHJva2Vcblx0XHRcdFx0fSksIHRoaXMuc2hvd1Rvb2x0aXAoYilcblx0XHRcdH0pLCBjLmVhY2goYS5kYXRhc2V0cywgZnVuY3Rpb24oYikge1xuXHRcdFx0XHR2YXIgZCA9IHtcblx0XHRcdFx0XHRsYWJlbDogYi5sYWJlbCB8fCBudWxsLFxuXHRcdFx0XHRcdGZpbGxDb2xvcjogYi5maWxsQ29sb3IsXG5cdFx0XHRcdFx0c3Ryb2tlQ29sb3I6IGIuc3Ryb2tlQ29sb3IsXG5cdFx0XHRcdFx0cG9pbnRDb2xvcjogYi5wb2ludENvbG9yLFxuXHRcdFx0XHRcdHBvaW50U3Ryb2tlQ29sb3I6IGIucG9pbnRTdHJva2VDb2xvcixcblx0XHRcdFx0XHRwb2ludHM6IFtdXG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoaXMuZGF0YXNldHMucHVzaChkKSwgYy5lYWNoKGIuZGF0YSwgZnVuY3Rpb24oYywgZSkge1xuXHRcdFx0XHRcdHZhciBmO1xuXHRcdFx0XHRcdHRoaXMuc2NhbGUuYW5pbWF0aW9uIHx8IChmID0gdGhpcy5zY2FsZS5nZXRQb2ludFBvc2l0aW9uKGUsIHRoaXMuc2NhbGUuY2FsY3VsYXRlQ2VudGVyT2Zmc2V0KGMpKSksIGQucG9pbnRzLnB1c2gobmV3IHRoaXMuUG9pbnRDbGFzcyh7XG5cdFx0XHRcdFx0XHR2YWx1ZTogYyxcblx0XHRcdFx0XHRcdGxhYmVsOiBhLmxhYmVsc1tlXSxcblx0XHRcdFx0XHRcdGRhdGFzZXRMYWJlbDogYi5sYWJlbCxcblx0XHRcdFx0XHRcdHg6IHRoaXMub3B0aW9ucy5hbmltYXRpb24gPyB0aGlzLnNjYWxlLnhDZW50ZXIgOiBmLngsXG5cdFx0XHRcdFx0XHR5OiB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uID8gdGhpcy5zY2FsZS55Q2VudGVyIDogZi55LFxuXHRcdFx0XHRcdFx0c3Ryb2tlQ29sb3I6IGIucG9pbnRTdHJva2VDb2xvcixcblx0XHRcdFx0XHRcdGZpbGxDb2xvcjogYi5wb2ludENvbG9yLFxuXHRcdFx0XHRcdFx0aGlnaGxpZ2h0RmlsbDogYi5wb2ludEhpZ2hsaWdodEZpbGwgfHwgYi5wb2ludENvbG9yLFxuXHRcdFx0XHRcdFx0aGlnaGxpZ2h0U3Ryb2tlOiBiLnBvaW50SGlnaGxpZ2h0U3Ryb2tlIHx8IGIucG9pbnRTdHJva2VDb2xvclxuXHRcdFx0XHRcdH0pKVxuXHRcdFx0XHR9LCB0aGlzKVxuXHRcdFx0fSwgdGhpcyksIHRoaXMucmVuZGVyKClcblx0XHR9LFxuXHRcdGVhY2hQb2ludHM6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdGMuZWFjaCh0aGlzLmRhdGFzZXRzLCBmdW5jdGlvbihiKSB7XG5cdFx0XHRcdGMuZWFjaChiLnBvaW50cywgYSwgdGhpcylcblx0XHRcdH0sIHRoaXMpXG5cdFx0fSxcblx0XHRnZXRQb2ludHNBdEV2ZW50OiBmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgYiA9IGMuZ2V0UmVsYXRpdmVQb3NpdGlvbihhKSxcblx0XHRcdFx0ZCA9IGMuZ2V0QW5nbGVGcm9tUG9pbnQoe1xuXHRcdFx0XHRcdHg6IHRoaXMuc2NhbGUueENlbnRlcixcblx0XHRcdFx0XHR5OiB0aGlzLnNjYWxlLnlDZW50ZXJcblx0XHRcdFx0fSwgYiksXG5cdFx0XHRcdGUgPSAyICogTWF0aC5QSSAvIHRoaXMuc2NhbGUudmFsdWVzQ291bnQsXG5cdFx0XHRcdGYgPSBNYXRoLnJvdW5kKChkLmFuZ2xlIC0gMS41ICogTWF0aC5QSSkgLyBlKSxcblx0XHRcdFx0ZyA9IFtdO1xuXHRcdFx0cmV0dXJuIChmID49IHRoaXMuc2NhbGUudmFsdWVzQ291bnQgfHwgMCA+IGYpICYmIChmID0gMCksIGQuZGlzdGFuY2UgPD0gdGhpcy5zY2FsZS5kcmF3aW5nQXJlYSAmJiBjLmVhY2godGhpcy5kYXRhc2V0cywgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRnLnB1c2goYS5wb2ludHNbZl0pXG5cdFx0XHR9KSwgZ1xuXHRcdH0sXG5cdFx0YnVpbGRTY2FsZTogZnVuY3Rpb24oYSkge1xuXHRcdFx0dGhpcy5zY2FsZSA9IG5ldyBiLlJhZGlhbFNjYWxlKHtcblx0XHRcdFx0ZGlzcGxheTogdGhpcy5vcHRpb25zLnNob3dTY2FsZSxcblx0XHRcdFx0Zm9udFN0eWxlOiB0aGlzLm9wdGlvbnMuc2NhbGVGb250U3R5bGUsXG5cdFx0XHRcdGZvbnRTaXplOiB0aGlzLm9wdGlvbnMuc2NhbGVGb250U2l6ZSxcblx0XHRcdFx0Zm9udEZhbWlseTogdGhpcy5vcHRpb25zLnNjYWxlRm9udEZhbWlseSxcblx0XHRcdFx0Zm9udENvbG9yOiB0aGlzLm9wdGlvbnMuc2NhbGVGb250Q29sb3IsXG5cdFx0XHRcdHNob3dMYWJlbHM6IHRoaXMub3B0aW9ucy5zY2FsZVNob3dMYWJlbHMsXG5cdFx0XHRcdHNob3dMYWJlbEJhY2tkcm9wOiB0aGlzLm9wdGlvbnMuc2NhbGVTaG93TGFiZWxCYWNrZHJvcCxcblx0XHRcdFx0YmFja2Ryb3BDb2xvcjogdGhpcy5vcHRpb25zLnNjYWxlQmFja2Ryb3BDb2xvcixcblx0XHRcdFx0YmFja2dyb3VuZENvbG9yczogdGhpcy5vcHRpb25zLnNjYWxlQmFja2dyb3VuZENvbG9ycyxcblx0XHRcdFx0YmFja2Ryb3BQYWRkaW5nWTogdGhpcy5vcHRpb25zLnNjYWxlQmFja2Ryb3BQYWRkaW5nWSxcblx0XHRcdFx0YmFja2Ryb3BQYWRkaW5nWDogdGhpcy5vcHRpb25zLnNjYWxlQmFja2Ryb3BQYWRkaW5nWCxcblx0XHRcdFx0bGluZVdpZHRoOiB0aGlzLm9wdGlvbnMuc2NhbGVTaG93TGluZSA/IHRoaXMub3B0aW9ucy5zY2FsZUxpbmVXaWR0aCA6IDAsXG5cdFx0XHRcdGxpbmVDb2xvcjogdGhpcy5vcHRpb25zLnNjYWxlTGluZUNvbG9yLFxuXHRcdFx0XHRhbmdsZUxpbmVDb2xvcjogdGhpcy5vcHRpb25zLmFuZ2xlTGluZUNvbG9yLFxuXHRcdFx0XHRhbmdsZUxpbmVXaWR0aDogdGhpcy5vcHRpb25zLmFuZ2xlU2hvd0xpbmVPdXQgPyB0aGlzLm9wdGlvbnMuYW5nbGVMaW5lV2lkdGggOiAwLFxuXHRcdFx0XHRwb2ludExhYmVsRm9udENvbG9yOiB0aGlzLm9wdGlvbnMucG9pbnRMYWJlbEZvbnRDb2xvcixcblx0XHRcdFx0cG9pbnRMYWJlbEZvbnRTaXplOiB0aGlzLm9wdGlvbnMucG9pbnRMYWJlbEZvbnRTaXplLFxuXHRcdFx0XHRwb2ludExhYmVsRm9udEZhbWlseTogdGhpcy5vcHRpb25zLnBvaW50TGFiZWxGb250RmFtaWx5LFxuXHRcdFx0XHRwb2ludExhYmVsRm9udFN0eWxlOiB0aGlzLm9wdGlvbnMucG9pbnRMYWJlbEZvbnRTdHlsZSxcblx0XHRcdFx0aGVpZ2h0OiB0aGlzLmNoYXJ0LmhlaWdodCxcblx0XHRcdFx0d2lkdGg6IHRoaXMuY2hhcnQud2lkdGgsXG5cdFx0XHRcdHhDZW50ZXI6IHRoaXMuY2hhcnQud2lkdGggLyAyLFxuXHRcdFx0XHR5Q2VudGVyOiB0aGlzLmNoYXJ0LmhlaWdodCAvIDIsXG5cdFx0XHRcdGN0eDogdGhpcy5jaGFydC5jdHgsXG5cdFx0XHRcdHRlbXBsYXRlU3RyaW5nOiB0aGlzLm9wdGlvbnMuc2NhbGVMYWJlbCxcblx0XHRcdFx0bGFiZWxzOiBhLmxhYmVscyxcblx0XHRcdFx0dmFsdWVzQ291bnQ6IGEuZGF0YXNldHNbMF0uZGF0YS5sZW5ndGhcblx0XHRcdH0pLCB0aGlzLnNjYWxlLnNldFNjYWxlU2l6ZSgpLCB0aGlzLnVwZGF0ZVNjYWxlUmFuZ2UoYS5kYXRhc2V0cyksIHRoaXMuc2NhbGUuYnVpbGRZTGFiZWxzKClcblx0XHR9LFxuXHRcdHVwZGF0ZVNjYWxlUmFuZ2U6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHZhciBiID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGIgPSBbXTtcblx0XHRcdFx0XHRyZXR1cm4gYy5lYWNoKGEsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRcdGEuZGF0YSA/IGIgPSBiLmNvbmNhdChhLmRhdGEpIDogYy5lYWNoKGEucG9pbnRzLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0XHRcdGIucHVzaChhLnZhbHVlKVxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9KSwgYlxuXHRcdFx0XHR9KCksXG5cdFx0XHRcdGQgPSB0aGlzLm9wdGlvbnMuc2NhbGVPdmVycmlkZSA/IHtcblx0XHRcdFx0XHRzdGVwczogdGhpcy5vcHRpb25zLnNjYWxlU3RlcHMsXG5cdFx0XHRcdFx0c3RlcFZhbHVlOiB0aGlzLm9wdGlvbnMuc2NhbGVTdGVwV2lkdGgsXG5cdFx0XHRcdFx0bWluOiB0aGlzLm9wdGlvbnMuc2NhbGVTdGFydFZhbHVlLFxuXHRcdFx0XHRcdG1heDogdGhpcy5vcHRpb25zLnNjYWxlU3RhcnRWYWx1ZSArIHRoaXMub3B0aW9ucy5zY2FsZVN0ZXBzICogdGhpcy5vcHRpb25zLnNjYWxlU3RlcFdpZHRoXG5cdFx0XHRcdH0gOiBjLmNhbGN1bGF0ZVNjYWxlUmFuZ2UoYiwgYy5taW4oW3RoaXMuY2hhcnQud2lkdGgsIHRoaXMuY2hhcnQuaGVpZ2h0XSkgLyAyLCB0aGlzLm9wdGlvbnMuc2NhbGVGb250U2l6ZSwgdGhpcy5vcHRpb25zLnNjYWxlQmVnaW5BdFplcm8sIHRoaXMub3B0aW9ucy5zY2FsZUludGVnZXJzT25seSk7XG5cdFx0XHRjLmV4dGVuZCh0aGlzLnNjYWxlLCBkKVxuXHRcdH0sXG5cdFx0YWRkRGF0YTogZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dGhpcy5zY2FsZS52YWx1ZXNDb3VudCsrLCBjLmVhY2goYSwgZnVuY3Rpb24oYSwgYykge1xuXHRcdFx0XHR2YXIgZCA9IHRoaXMuc2NhbGUuZ2V0UG9pbnRQb3NpdGlvbih0aGlzLnNjYWxlLnZhbHVlc0NvdW50LCB0aGlzLnNjYWxlLmNhbGN1bGF0ZUNlbnRlck9mZnNldChhKSk7XG5cdFx0XHRcdHRoaXMuZGF0YXNldHNbY10ucG9pbnRzLnB1c2gobmV3IHRoaXMuUG9pbnRDbGFzcyh7XG5cdFx0XHRcdFx0dmFsdWU6IGEsXG5cdFx0XHRcdFx0bGFiZWw6IGIsXG5cdFx0XHRcdFx0ZGF0YXNldExhYmVsOiB0aGlzLmRhdGFzZXRzW2NdLmxhYmVsLFxuXHRcdFx0XHRcdHg6IGQueCxcblx0XHRcdFx0XHR5OiBkLnksXG5cdFx0XHRcdFx0c3Ryb2tlQ29sb3I6IHRoaXMuZGF0YXNldHNbY10ucG9pbnRTdHJva2VDb2xvcixcblx0XHRcdFx0XHRmaWxsQ29sb3I6IHRoaXMuZGF0YXNldHNbY10ucG9pbnRDb2xvclxuXHRcdFx0XHR9KSlcblx0XHRcdH0sIHRoaXMpLCB0aGlzLnNjYWxlLmxhYmVscy5wdXNoKGIpLCB0aGlzLnJlZmxvdygpLCB0aGlzLnVwZGF0ZSgpXG5cdFx0fSxcblx0XHRyZW1vdmVEYXRhOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuc2NhbGUudmFsdWVzQ291bnQtLSwgdGhpcy5zY2FsZS5sYWJlbHMuc2hpZnQoKSwgYy5lYWNoKHRoaXMuZGF0YXNldHMsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0YS5wb2ludHMuc2hpZnQoKVxuXHRcdFx0fSwgdGhpcyksIHRoaXMucmVmbG93KCksIHRoaXMudXBkYXRlKClcblx0XHR9LFxuXHRcdHVwZGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmVhY2hQb2ludHMoZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRhLnNhdmUoKVxuXHRcdFx0fSksIHRoaXMucmVmbG93KCksIHRoaXMucmVuZGVyKClcblx0XHR9LFxuXHRcdHJlZmxvdzogZnVuY3Rpb24oKSB7XG5cdFx0XHRjLmV4dGVuZCh0aGlzLnNjYWxlLCB7XG5cdFx0XHRcdHdpZHRoOiB0aGlzLmNoYXJ0LndpZHRoLFxuXHRcdFx0XHRoZWlnaHQ6IHRoaXMuY2hhcnQuaGVpZ2h0LFxuXHRcdFx0XHRzaXplOiBjLm1pbihbdGhpcy5jaGFydC53aWR0aCwgdGhpcy5jaGFydC5oZWlnaHRdKSxcblx0XHRcdFx0eENlbnRlcjogdGhpcy5jaGFydC53aWR0aCAvIDIsXG5cdFx0XHRcdHlDZW50ZXI6IHRoaXMuY2hhcnQuaGVpZ2h0IC8gMlxuXHRcdFx0fSksIHRoaXMudXBkYXRlU2NhbGVSYW5nZSh0aGlzLmRhdGFzZXRzKSwgdGhpcy5zY2FsZS5zZXRTY2FsZVNpemUoKSwgdGhpcy5zY2FsZS5idWlsZFlMYWJlbHMoKVxuXHRcdH0sXG5cdFx0ZHJhdzogZnVuY3Rpb24oYSkge1xuXHRcdFx0dmFyIGIgPSBhIHx8IDEsXG5cdFx0XHRcdGQgPSB0aGlzLmNoYXJ0LmN0eDtcblx0XHRcdHRoaXMuY2xlYXIoKSwgdGhpcy5zY2FsZS5kcmF3KCksIGMuZWFjaCh0aGlzLmRhdGFzZXRzLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdGMuZWFjaChhLnBvaW50cywgZnVuY3Rpb24oYSwgYykge1xuXHRcdFx0XHRcdGEuaGFzVmFsdWUoKSAmJiBhLnRyYW5zaXRpb24odGhpcy5zY2FsZS5nZXRQb2ludFBvc2l0aW9uKGMsIHRoaXMuc2NhbGUuY2FsY3VsYXRlQ2VudGVyT2Zmc2V0KGEudmFsdWUpKSwgYilcblx0XHRcdFx0fSwgdGhpcyksIGQubGluZVdpZHRoID0gdGhpcy5vcHRpb25zLmRhdGFzZXRTdHJva2VXaWR0aCwgZC5zdHJva2VTdHlsZSA9IGEuc3Ryb2tlQ29sb3IsIGQuYmVnaW5QYXRoKCksIGMuZWFjaChhLnBvaW50cywgZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHRcdDAgPT09IGIgPyBkLm1vdmVUbyhhLngsIGEueSkgOiBkLmxpbmVUbyhhLngsIGEueSlcblx0XHRcdFx0fSwgdGhpcyksIGQuY2xvc2VQYXRoKCksIGQuc3Ryb2tlKCksIGQuZmlsbFN0eWxlID0gYS5maWxsQ29sb3IsIHRoaXMub3B0aW9ucy5kYXRhc2V0RmlsbCAmJiBkLmZpbGwoKSwgYy5lYWNoKGEucG9pbnRzLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0YS5oYXNWYWx1ZSgpICYmIGEuZHJhdygpXG5cdFx0XHRcdH0pXG5cdFx0XHR9LCB0aGlzKVxuXHRcdH1cblx0fSlcbn0uY2FsbCh0aGlzKSwgIVxuZnVuY3Rpb24oYSkge1xuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIGIgPSBmdW5jdGlvbihiLCBjKSB7XG5cdFx0XHR0aGlzLmVsID0gYShiKSwgdGhpcy5vcHRpb25zID0gYS5leHRlbmQoe30sIGEuZm4udHlwZWQuZGVmYXVsdHMsIGMpLCB0aGlzLmlzSW5wdXQgPSB0aGlzLmVsLmlzKFwiaW5wdXRcIiksIHRoaXMuYXR0ciA9IHRoaXMub3B0aW9ucy5hdHRyLCB0aGlzLnNob3dDdXJzb3IgPSB0aGlzLmlzSW5wdXQgPyAhMSA6IHRoaXMub3B0aW9ucy5zaG93Q3Vyc29yLCB0aGlzLmVsQ29udGVudCA9IHRoaXMuYXR0ciA/IHRoaXMuZWwuYXR0cih0aGlzLmF0dHIpIDogdGhpcy5lbC50ZXh0KCksIHRoaXMuY29udGVudFR5cGUgPSB0aGlzLm9wdGlvbnMuY29udGVudFR5cGUsIHRoaXMudHlwZVNwZWVkID0gdGhpcy5vcHRpb25zLnR5cGVTcGVlZCwgdGhpcy5zdGFydERlbGF5ID0gdGhpcy5vcHRpb25zLnN0YXJ0RGVsYXksIHRoaXMuYmFja1NwZWVkID0gdGhpcy5vcHRpb25zLmJhY2tTcGVlZCwgdGhpcy5iYWNrRGVsYXkgPSB0aGlzLm9wdGlvbnMuYmFja0RlbGF5LCB0aGlzLnN0cmluZ3NFbGVtZW50ID0gdGhpcy5vcHRpb25zLnN0cmluZ3NFbGVtZW50LCB0aGlzLnN0cmluZ3MgPSB0aGlzLm9wdGlvbnMuc3RyaW5ncywgdGhpcy5zdHJQb3MgPSAwLCB0aGlzLmFycmF5UG9zID0gMCwgdGhpcy5zdG9wTnVtID0gMCwgdGhpcy5sb29wID0gdGhpcy5vcHRpb25zLmxvb3AsIHRoaXMubG9vcENvdW50ID0gdGhpcy5vcHRpb25zLmxvb3BDb3VudCwgdGhpcy5jdXJMb29wID0gMCwgdGhpcy5zdG9wID0gITEsIHRoaXMuY3Vyc29yQ2hhciA9IHRoaXMub3B0aW9ucy5jdXJzb3JDaGFyLCB0aGlzLnNodWZmbGUgPSB0aGlzLm9wdGlvbnMuc2h1ZmZsZSwgdGhpcy5zZXF1ZW5jZSA9IFtdLCB0aGlzLmJ1aWxkKClcblx0XHR9O1xuXHRiLnByb3RvdHlwZSA9IHtcblx0XHRjb25zdHJ1Y3RvcjogYixcblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBhID0gdGhpcztcblx0XHRcdGEudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAodmFyIGIgPSAwOyBiIDwgYS5zdHJpbmdzLmxlbmd0aDsgKytiKSBhLnNlcXVlbmNlW2JdID0gYjtcblx0XHRcdFx0YS5zaHVmZmxlICYmIChhLnNlcXVlbmNlID0gYS5zaHVmZmxlQXJyYXkoYS5zZXF1ZW5jZSkpLCBhLnR5cGV3cml0ZShhLnN0cmluZ3NbYS5zZXF1ZW5jZVthLmFycmF5UG9zXV0sIGEuc3RyUG9zKVxuXHRcdFx0fSwgYS5zdGFydERlbGF5KVxuXHRcdH0sXG5cdFx0YnVpbGQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGIgPSB0aGlzO1xuXHRcdFx0aWYgKHRoaXMuc2hvd0N1cnNvciA9PT0gITAgJiYgKHRoaXMuY3Vyc29yID0gYSgnPHNwYW4gY2xhc3M9XCJ0eXBlZC1jdXJzb3JcIj4nICsgdGhpcy5jdXJzb3JDaGFyICsgXCI8L3NwYW4+XCIpLCB0aGlzLmVsLmFmdGVyKHRoaXMuY3Vyc29yKSksIHRoaXMuc3RyaW5nc0VsZW1lbnQpIHtcblx0XHRcdFx0Yi5zdHJpbmdzID0gW10sIHRoaXMuc3RyaW5nc0VsZW1lbnQuaGlkZSgpO1xuXHRcdFx0XHR2YXIgYyA9IHRoaXMuc3RyaW5nc0VsZW1lbnQuZmluZChcInBcIik7XG5cdFx0XHRcdGEuZWFjaChjLCBmdW5jdGlvbihjLCBkKSB7XG5cdFx0XHRcdFx0Yi5zdHJpbmdzLnB1c2goYShkKS5odG1sKCkpXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0XHR0aGlzLmluaXQoKVxuXHRcdH0sXG5cdFx0dHlwZXdyaXRlOiBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRpZiAodGhpcy5zdG9wICE9PSAhMCkge1xuXHRcdFx0XHR2YXIgYyA9IE1hdGgucm91bmQoNzAgKiBNYXRoLnJhbmRvbSgpKSArIHRoaXMudHlwZVNwZWVkLFxuXHRcdFx0XHRcdGQgPSB0aGlzO1xuXHRcdFx0XHRkLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBjID0gMCxcblx0XHRcdFx0XHRcdGUgPSBhLnN1YnN0cihiKTtcblx0XHRcdFx0XHRpZiAoXCJeXCIgPT09IGUuY2hhckF0KDApKSB7XG5cdFx0XHRcdFx0XHR2YXIgZiA9IDE7XG5cdFx0XHRcdFx0XHQvXlxcXlxcZCsvLnRlc3QoZSkgJiYgKGUgPSAvXFxkKy8uZXhlYyhlKVswXSwgZiArPSBlLmxlbmd0aCwgYyA9IHBhcnNlSW50KGUpKSwgYSA9IGEuc3Vic3RyaW5nKDAsIGIpICsgYS5zdWJzdHJpbmcoYiArIGYpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChcImh0bWxcIiA9PT0gZC5jb250ZW50VHlwZSkge1xuXHRcdFx0XHRcdFx0dmFyIGcgPSBhLnN1YnN0cihiKS5jaGFyQXQoMCk7XG5cdFx0XHRcdFx0XHRpZiAoXCI8XCIgPT09IGcgfHwgXCImXCIgPT09IGcpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGggPSBcIlwiLFxuXHRcdFx0XHRcdFx0XHRcdGkgPSBcIlwiO1xuXHRcdFx0XHRcdFx0XHRmb3IgKGkgPSBcIjxcIiA9PT0gZyA/IFwiPlwiIDogXCI7XCI7IGEuc3Vic3RyKGIpLmNoYXJBdCgwKSAhPT0gaTspIGggKz0gYS5zdWJzdHIoYikuY2hhckF0KDApLCBiKys7XG5cdFx0XHRcdFx0XHRcdGggKz0gaVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKGIgPT09IGEubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChkLm9wdGlvbnMub25TdHJpbmdUeXBlZChkLmFycmF5UG9zKSwgZC5hcnJheVBvcyA9PT0gZC5zdHJpbmdzLmxlbmd0aCAtIDEgJiYgKGQub3B0aW9ucy5jYWxsYmFjaygpLCBkLmN1ckxvb3ArKywgZC5sb29wID09PSAhMSB8fCBkLmN1ckxvb3AgPT09IGQubG9vcENvdW50KSkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRkLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGQuYmFja3NwYWNlKGEsIGIpXG5cdFx0XHRcdFx0XHRcdH0sIGQuYmFja0RlbGF5KVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0MCA9PT0gYiAmJiBkLm9wdGlvbnMucHJlU3RyaW5nVHlwZWQoZC5hcnJheVBvcyk7XG5cdFx0XHRcdFx0XHRcdHZhciBjID0gYS5zdWJzdHIoMCwgYiArIDEpO1xuXHRcdFx0XHRcdFx0XHRkLmF0dHIgPyBkLmVsLmF0dHIoZC5hdHRyLCBjKSA6IGQuaXNJbnB1dCA/IGQuZWwudmFsKGMpIDogXCJodG1sXCIgPT09IGQuY29udGVudFR5cGUgPyBkLmVsLmh0bWwoYykgOiBkLmVsLnRleHQoYyksIGIrKywgZC50eXBld3JpdGUoYSwgYilcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjKVxuXHRcdFx0XHR9LCBjKVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YmFja3NwYWNlOiBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRpZiAodGhpcy5zdG9wICE9PSAhMCkge1xuXHRcdFx0XHR2YXIgYyA9IE1hdGgucm91bmQoNzAgKiBNYXRoLnJhbmRvbSgpKSArIHRoaXMuYmFja1NwZWVkLFxuXHRcdFx0XHRcdGQgPSB0aGlzO1xuXHRcdFx0XHRkLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmIChcImh0bWxcIiA9PT0gZC5jb250ZW50VHlwZSAmJiBcIj5cIiA9PT0gYS5zdWJzdHIoYikuY2hhckF0KDApKSB7XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBjID0gXCJcIjtcblx0XHRcdFx0XHRcdFwiPFwiICE9PSBhLnN1YnN0cihiKS5jaGFyQXQoMCk7KSBjIC09IGEuc3Vic3RyKGIpLmNoYXJBdCgwKSwgYi0tO1xuXHRcdFx0XHRcdFx0Yi0tLCBjICs9IFwiPFwiXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHZhciBlID0gYS5zdWJzdHIoMCwgYik7XG5cdFx0XHRcdFx0ZC5hdHRyID8gZC5lbC5hdHRyKGQuYXR0ciwgZSkgOiBkLmlzSW5wdXQgPyBkLmVsLnZhbChlKSA6IFwiaHRtbFwiID09PSBkLmNvbnRlbnRUeXBlID8gZC5lbC5odG1sKGUpIDogZC5lbC50ZXh0KGUpLCBiID4gZC5zdG9wTnVtID8gKGItLSwgZC5iYWNrc3BhY2UoYSwgYikpIDogYiA8PSBkLnN0b3BOdW0gJiYgKGQuYXJyYXlQb3MrKywgZC5hcnJheVBvcyA9PT0gZC5zdHJpbmdzLmxlbmd0aCA/IChkLmFycmF5UG9zID0gMCwgZC5zaHVmZmxlICYmIChkLnNlcXVlbmNlID0gZC5zaHVmZmxlQXJyYXkoZC5zZXF1ZW5jZSkpLCBkLmluaXQoKSkgOiBkLnR5cGV3cml0ZShkLnN0cmluZ3NbZC5zZXF1ZW5jZVtkLmFycmF5UG9zXV0sIGIpKVxuXHRcdFx0XHR9LCBjKVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2h1ZmZsZUFycmF5OiBmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgYiwgYywgZCA9IGEubGVuZ3RoO1xuXHRcdFx0aWYgKGQpIGZvciAoOyAtLWQ7KSBjID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGQgKyAxKSksIGIgPSBhW2NdLCBhW2NdID0gYVtkXSwgYVtkXSA9IGI7XG5cdFx0XHRyZXR1cm4gYVxuXHRcdH0sXG5cdFx0cmVzZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGEgPSB0aGlzO1xuXHRcdFx0Y2xlYXJJbnRlcnZhbChhLnRpbWVvdXQpO1xuXHRcdFx0dmFyIGIgPSB0aGlzLmVsLmF0dHIoXCJpZFwiKTtcblx0XHRcdHRoaXMuZWwuYWZ0ZXIoJzxzcGFuIGlkPVwiJyArIGIgKyAnXCIvPicpLCB0aGlzLmVsLnJlbW92ZSgpLCBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB0aGlzLmN1cnNvciAmJiB0aGlzLmN1cnNvci5yZW1vdmUoKSwgYS5vcHRpb25zLnJlc2V0Q2FsbGJhY2soKVxuXHRcdH1cblx0fSwgYS5mbi50eXBlZCA9IGZ1bmN0aW9uKGMpIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGQgPSBhKHRoaXMpLFxuXHRcdFx0XHRlID0gZC5kYXRhKFwidHlwZWRcIiksXG5cdFx0XHRcdGYgPSBcIm9iamVjdFwiID09IHR5cGVvZiBjICYmIGM7XG5cdFx0XHRlIHx8IGQuZGF0YShcInR5cGVkXCIsIGUgPSBuZXcgYih0aGlzLCBmKSksIFwic3RyaW5nXCIgPT0gdHlwZW9mIGMgJiYgZVtjXSgpXG5cdFx0fSlcblx0fSwgYS5mbi50eXBlZC5kZWZhdWx0cyA9IHtcblx0XHRzdHJpbmdzOiBbXCJUaGVzZSBhcmUgdGhlIGRlZmF1bHQgdmFsdWVzLi4uXCIsIFwiWW91IGtub3cgd2hhdCB5b3Ugc2hvdWxkIGRvP1wiLCBcIlVzZSB5b3VyIG93biFcIiwgXCJIYXZlIGEgZ3JlYXQgZGF5IVwiXSxcblx0XHRzdHJpbmdzRWxlbWVudDogbnVsbCxcblx0XHR0eXBlU3BlZWQ6IDAsXG5cdFx0c3RhcnREZWxheTogMCxcblx0XHRiYWNrU3BlZWQ6IDAsXG5cdFx0c2h1ZmZsZTogITEsXG5cdFx0YmFja0RlbGF5OiA1MDAsXG5cdFx0bG9vcDogITEsXG5cdFx0bG9vcENvdW50OiAhMSxcblx0XHRzaG93Q3Vyc29yOiAhMCxcblx0XHRjdXJzb3JDaGFyOiBcInxcIixcblx0XHRhdHRyOiBudWxsLFxuXHRcdGNvbnRlbnRUeXBlOiBcImh0bWxcIixcblx0XHRjYWxsYmFjazogZnVuY3Rpb24oKSB7fSxcblx0XHRwcmVTdHJpbmdUeXBlZDogZnVuY3Rpb24oKSB7fSxcblx0XHRvblN0cmluZ1R5cGVkOiBmdW5jdGlvbigpIHt9LFxuXHRcdHJlc2V0Q2FsbGJhY2s6IGZ1bmN0aW9uKCkge31cblx0fVxufSh3aW5kb3cualF1ZXJ5KSwgZnVuY3Rpb24oYSkge1xuXHRmdW5jdGlvbiBiKCkge1xuXHRcdHZhciBhID0ge307XG5cdFx0dGhpcy5hZGRJbnRlcnZhbCA9IGZ1bmN0aW9uKGIsIGMpIHtcblx0XHRcdGFbYl0gPSBjXG5cdFx0fSwgdGhpcy5kZWxldGVJbnRlcnZhbCA9IGZ1bmN0aW9uKGIpIHtcblx0XHRcdGFbYl0gJiYgKGNsZWFySW50ZXJ2YWwoYVtiXSksIGRlbGV0ZSBhW2JdKVxuXHRcdH0sIHRoaXMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Zm9yICh2YXIgYiBpbiBhKSB0aGlzLmRlbGV0ZUludGVydmFsKGIpXG5cdFx0fTtcblx0XHR2YXIgYiA9IFt7XG5cdFx0XHR2YWx1ZTogMSxcblx0XHRcdGRlc2M6IFwi6L2u5pKtXCIsXG5cdFx0XHRuYW1lOiBcInNsaWRlXCJcblx0XHR9LCB7XG5cdFx0XHR2YWx1ZTogMixcblx0XHRcdGRlc2M6IFwi5LiL6JC9XCIsXG5cdFx0XHRuYW1lOiBcImJhcnNcIlxuXHRcdH0sIHtcblx0XHRcdHZhbHVlOiAzLFxuXHRcdFx0ZGVzYzogXCLnmb7pobXnqpdcIixcblx0XHRcdG5hbWU6IFwiYmxpbmRzXCJcblx0XHR9LCB7XG5cdFx0XHR2YWx1ZTogNCxcblx0XHRcdGRlc2M6IFwi5raI6ZqQXCIsXG5cdFx0XHRuYW1lOiBcImJsb2Nrc1wiXG5cdFx0fSwge1xuXHRcdFx0dmFsdWU6IDUsXG5cdFx0XHRkZXNjOiBcIua4kOWPmFwiLFxuXHRcdFx0bmFtZTogXCJibG9ja3MyXCJcblx0XHR9LCB7XG5cdFx0XHR2YWx1ZTogOSxcblx0XHRcdGRlc2M6IFwi5qKz55CGXCIsXG5cdFx0XHRuYW1lOiBcInppcFwiXG5cdFx0fSwge1xuXHRcdFx0dmFsdWU6IDExLFxuXHRcdFx0ZGVzYzogXCLnv7vovaxcIixcblx0XHRcdG5hbWU6IFwiYmFyczNkXCJcblx0XHR9LCB7XG5cdFx0XHR2YWx1ZTogMTMsXG5cdFx0XHRkZXNjOiBcIueri+aWueS9k1wiLFxuXHRcdFx0bmFtZTogXCJjdWJlXCJcblx0XHR9LCB7XG5cdFx0XHR2YWx1ZTogMTQsXG5cdFx0XHRkZXNjOiBcIuaji+ebmFwiLFxuXHRcdFx0bmFtZTogXCJ0aWxlczNkXCJcblx0XHR9LCB7XG5cdFx0XHR2YWx1ZTogMTYsXG5cdFx0XHRkZXNjOiBcIumjnuWHulwiLFxuXHRcdFx0bmFtZTogXCJleHBsb2RlXCJcblx0XHR9XTtcblx0XHR0aGlzLmdldFBpY1N0eWxlID0gZnVuY3Rpb24oYSkge1xuXHRcdFx0aWYgKHZvaWQgMCA9PT0gYSkgcmV0dXJuIGI7XG5cdFx0XHRmb3IgKHZhciBjID0gMDsgYyA8IGIubGVuZ3RoOyBjKyspIGlmIChhID09PSBiW2NdLnZhbHVlKSByZXR1cm4gYltjXVxuXHRcdH1cblx0fVxuXHRhLnV0aWxQaWN0dXJlcyA9IG5ldyBiXG59KHdpbmRvdyksIGZ1bmN0aW9uKGEpIHtcblx0ZnVuY3Rpb24gYigpIHtcblx0XHR2YXIgYSA9IHtcblx0XHRcdENMSUNLOiB7XG5cdFx0XHRcdG5hbWU6IFwiY2xpY2tcIixcblx0XHRcdFx0dmFsdWU6IDEsXG5cdFx0XHRcdHRpdGxlOiBcIueCueWHu1wiXG5cdFx0XHR9LFxuXHRcdFx0U0hBS0U6IHtcblx0XHRcdFx0bmFtZTogXCJzaGFrZVwiLFxuXHRcdFx0XHR2YWx1ZTogMixcblx0XHRcdFx0dGl0bGU6IFwi5pGH5LiA5pGHXCJcblx0XHRcdH1cblx0XHR9LFxuXHRcdFx0YiA9IHtcblx0XHRcdFx0U0hPVzoge1xuXHRcdFx0XHRcdG5hbWU6IFwic2hvd1wiLFxuXHRcdFx0XHRcdHZhbHVlOiAxXG5cdFx0XHRcdH0sXG5cdFx0XHRcdEhJREU6IHtcblx0XHRcdFx0XHRuYW1lOiBcImhpZGVcIixcblx0XHRcdFx0XHR2YWx1ZTogMlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRSQU5ET01FVkVOVDoge1xuXHRcdFx0XHRcdG5hbWU6IFwicmFuZG9tRXZlbnRcIixcblx0XHRcdFx0XHR2YWx1ZTogM1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdHRoaXMuZ2V0U2VuZFR5cGUgPSBmdW5jdGlvbihiKSB7XG5cdFx0XHRpZiAodm9pZCAwID09PSBiKSByZXR1cm4gYTtcblx0XHRcdGZvciAodmFyIGMgaW4gYSkgaWYgKGIgPT09IGFbY10udmFsdWUpIHJldHVybiBhW2NdO1xuXHRcdFx0cmV0dXJuIG51bGxcblx0XHR9LCB0aGlzLmdldEhhbmRsZVR5cGUgPSBmdW5jdGlvbihhKSB7XG5cdFx0XHRpZiAodm9pZCAwID09PSBhKSByZXR1cm4gYjtcblx0XHRcdGZvciAodmFyIGMgaW4gYikgaWYgKGEgPT09IGJbY10udmFsdWUpIHJldHVybiBiW2NdO1xuXHRcdFx0cmV0dXJuIG51bGxcblx0XHR9XG5cdH1cblx0YS51dGlsVHJpZ2dlciA9IG5ldyBiXG59KHdpbmRvdyksIGZ1bmN0aW9uKGEsIGIpIHtcblx0ZnVuY3Rpb24gYygpIHtcblx0XHR2YXIgYSwgYywgZCwgZSA9IFtdO1xuXHRcdGIoXCIjbWVkaWFcIik7XG5cdFx0dGhpcy5hZGRBdWRpbyA9IGZ1bmN0aW9uKGEsIGYpIHtcblx0XHRcdHZhciBnID0gbmV3IEF1ZGlvO1xuXHRcdFx0Zy5zcmMgPSBmLCBlLnB1c2goe1xuXHRcdFx0XHRlbGVtOiBhLFxuXHRcdFx0XHRhdWRpbzogZ1xuXHRcdFx0fSksIGIoZykuYmluZChcImVuZGVkXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjID0gITEsIGQoKVxuXHRcdFx0fSlcblx0XHR9LCB0aGlzLnBsYXkgPSBmdW5jdGlvbihiLCBmLCBnKSB7XG5cdFx0XHR2YXIgaDtcblx0XHRcdGQgPSBmO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSBlW2ldLmVsZW0gPT0gYiAmJiAoaCA9IGVbaV0uYXVkaW8pO1xuXHRcdFx0YSA9PSBoICYmIGMgPyAoaC5wYXVzZSgpLCBjID0gITEsIGYoKSkgOiBhICE9IGggfHwgYyA/IChhICYmIGEucGF1c2UoKSwgaC5jdXJyZW50VGltZSA9IDAsIGgucGxheSgpLCBnKCksIGMgPSAhMCwgYSA9IGgpIDogKGgucGxheSgpLCBjID0gITAsIGcoKSlcblx0XHR9LCB0aGlzLnBhdXNlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRhICYmIChhLnBhdXNlKCksIGMgPSAhMSlcblx0XHR9XG5cdH1cblx0YS51dGlsU291bmQgPSBuZXcgY1xufSh3aW5kb3csICQpLCB3aW5kb3cuZmx1eCA9IHtcblx0dmVyc2lvbjogXCIxLjQuNFwiXG59LCBmdW5jdGlvbihhKSB7XG5cdGZsdXguc2xpZGVyID0gZnVuY3Rpb24oYiwgYykge1xuXHRcdGZsdXguYnJvd3Nlci5pbml0KCksIGZsdXguYnJvd3Nlci5zdXBwb3J0c1RyYW5zaXRpb25zIHx8IHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmVycm9yICYmIGNvbnNvbGUuZXJyb3IoXCJGbHV4IFNsaWRlciByZXF1aXJlcyBhIGJyb3dzZXIgdGhhdCBzdXBwb3J0cyBDU1MzIHRyYW5zaXRpb25zXCIpO1xuXHRcdHZhciBkID0gdGhpcztcblx0XHR0aGlzLmVsZW1lbnQgPSBhKGIpLCB0aGlzLnRyYW5zaXRpb25zID0gW107XG5cdFx0Zm9yICh2YXIgZSBpbiBmbHV4LnRyYW5zaXRpb25zKSB0aGlzLnRyYW5zaXRpb25zLnB1c2goZSk7XG5cdFx0dGhpcy5vcHRpb25zID0gYS5leHRlbmQoe1xuXHRcdFx0YXV0b3BsYXk6ICEwLFxuXHRcdFx0dHJhbnNpdGlvbnM6IHRoaXMudHJhbnNpdGlvbnMsXG5cdFx0XHRkZWxheTogNGUzLFxuXHRcdFx0cGFnaW5hdGlvbjogITAsXG5cdFx0XHRjb250cm9sczogITEsXG5cdFx0XHRjYXB0aW9uczogITEsXG5cdFx0XHR3aWR0aDogbnVsbCxcblx0XHRcdGhlaWdodDogbnVsbCxcblx0XHRcdG9uVHJhbnNpdGlvbkVuZDogbnVsbCxcblx0XHRcdG9uU3RhcnRFbmQ6IG51bGwsXG5cdFx0XHRiZ0NvbG9yOiBcIlwiXG5cdFx0fSwgYyksIHRoaXMuaGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodCA/IHRoaXMub3B0aW9ucy5oZWlnaHQgOiBudWxsLCB0aGlzLndpZHRoID0gdGhpcy5vcHRpb25zLndpZHRoID8gdGhpcy5vcHRpb25zLndpZHRoIDogbnVsbDtcblx0XHR2YXIgZiA9IFtdO1xuXHRcdGEodGhpcy5vcHRpb25zLnRyYW5zaXRpb25zKS5lYWNoKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBjID0gbmV3IGZsdXgudHJhbnNpdGlvbnNbYl0odGhpcyksXG5cdFx0XHRcdGQgPSAhMDtcblx0XHRcdGMub3B0aW9ucy5yZXF1aXJlczNkICYmICFmbHV4LmJyb3dzZXIuc3VwcG9ydHMzZCAmJiAoZCA9ICExKSwgYy5vcHRpb25zLmNvbXBhdGliaWxpdHlDaGVjayAmJiAoZCA9IGMub3B0aW9ucy5jb21wYXRpYmlsaXR5Q2hlY2soKSksIGQgJiYgZi5wdXNoKGIpXG5cdFx0fSksIHRoaXMub3B0aW9ucy50cmFuc2l0aW9ucyA9IGYsIHRoaXMuaW1hZ2VzID0gbmV3IEFycmF5LCB0aGlzLmltYWdlTG9hZGVkQ291bnQgPSAwLCB0aGlzLmN1cnJlbnRJbWFnZUluZGV4ID0gMCwgdGhpcy5uZXh0SW1hZ2VJbmRleCA9IDEsIHRoaXMucGxheWluZyA9ICExLCB0aGlzLmNvbnRhaW5lciA9IGEoJzxkaXYgY2xhc3M9XCJmbHV4c2xpZGVyXCI+PC9kaXY+JykuYXBwZW5kVG8odGhpcy5lbGVtZW50KSwgdGhpcy5zdXJmYWNlID0gYSgnPGRpdiBjbGFzcz1cInN1cmZhY2VcIiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZVwiPjwvZGl2PicpLmFwcGVuZFRvKHRoaXMuY29udGFpbmVyKSwgdGhpcy5jb250YWluZXIuYmluZChcImNsaWNrXCIsIGZ1bmN0aW9uKGIpIHtcblx0XHRcdGEoYi50YXJnZXQpLmhhc0NsYXNzKFwiaGFzTGlua1wiKSAmJiAod2luZG93LmxvY2F0aW9uID0gYShiLnRhcmdldCkuZGF0YShcImhyZWZcIikpXG5cdFx0fSksIHRoaXMuaW1hZ2VDb250YWluZXIgPSBhKCc8ZGl2IGNsYXNzPVwiaW1hZ2VzIGxvYWRpbmcxXCI+PC9kaXY+JykuY3NzKHtcblx0XHRcdHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG5cdFx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIlxuXHRcdH0pLmFwcGVuZFRvKHRoaXMuc3VyZmFjZSksIHRoaXMud2lkdGggJiYgdGhpcy5oZWlnaHQgJiYgdGhpcy5pbWFnZUNvbnRhaW5lci5jc3Moe1xuXHRcdFx0d2lkdGg6IHRoaXMud2lkdGggKyBcInB4XCIsXG5cdFx0XHRoZWlnaHQ6IHRoaXMuaGVpZ2h0ICsgXCJweFwiXG5cdFx0fSksIHRoaXMuaW1hZ2UxID0gYSgnPGRpdiBjbGFzcz1cImltYWdlMVwiIHN0eWxlPVwiaGVpZ2h0OiAxMDAlOyB3aWR0aDogMTAwJVwiPjwvZGl2PicpLmFwcGVuZFRvKHRoaXMuaW1hZ2VDb250YWluZXIpLCB0aGlzLmltYWdlMiA9IGEoJzxkaXYgY2xhc3M9XCJpbWFnZTJcIiBzdHlsZT1cImhlaWdodDogMTAwJTsgd2lkdGg6IDEwMCVcIj48L2Rpdj4nKS5hcHBlbmRUbyh0aGlzLmltYWdlQ29udGFpbmVyKSwgYSh0aGlzLmltYWdlMSkuYWRkKHRoaXMuaW1hZ2UyKS5jc3Moe1xuXHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdHRvcDogXCIwcHhcIixcblx0XHRcdGxlZnQ6IFwiMHB4XCJcblx0XHR9KSwgdGhpcy5lbGVtZW50LmZpbmQoXCJpbWcsIGEgaW1nXCIpLmVhY2goZnVuY3Rpb24oYiwgYykge1xuXHRcdFx0dmFyIGUgPSBjLmNsb25lTm9kZSghMSksXG5cdFx0XHRcdGYgPSBhKGMpLnBhcmVudCgpO1xuXHRcdFx0Zi5pcyhcImFcIikgJiYgYShlKS5kYXRhKFwiaHJlZlwiLCBmLmF0dHIoXCJocmVmXCIpKSwgZC5pbWFnZXMucHVzaChlKSwgYShjKS5yZW1vdmUoKVxuXHRcdH0pO1xuXHRcdGZvciAodmFyIGcgPSAwOyBnIDwgdGhpcy5pbWFnZXMubGVuZ3RoOyBnKyspIHtcblx0XHRcdHZhciBoID0gbmV3IEltYWdlO1xuXHRcdFx0aC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZC5pbWFnZUxvYWRlZENvdW50KyssIGQud2lkdGggPSBkLndpZHRoID8gZC53aWR0aCA6IHRoaXMud2lkdGgsIGQuaGVpZ2h0ID0gZC5oZWlnaHQgPyBkLmhlaWdodCA6IHRoaXMuaGVpZ2h0LCBkLmltYWdlTG9hZGVkQ291bnQgPj0gZC5pbWFnZXMubGVuZ3RoICYmIChkLmZpbmlzaGVkTG9hZGluZygpLCBkLnNldHVwSW1hZ2VzKCkpXG5cdFx0XHR9LCBoLnNyYyA9IHRoaXMuaW1hZ2VzW2ddLnNyY1xuXHRcdH1cblx0XHR0aGlzLmVsZW1lbnQuYmluZChcImZsdXhUcmFuc2l0aW9uRW5kXCIsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdGQub3B0aW9ucy5vblRyYW5zaXRpb25FbmQgJiYgKGEucHJldmVudERlZmF1bHQoKSwgZC5vcHRpb25zLm9uVHJhbnNpdGlvbkVuZChiKSlcblx0XHR9KSwgdGhpcy5vcHRpb25zLmF1dG9wbGF5ICYmIHRoaXMuc3RhcnQoKTtcblx0XHR2YXIgaSA9IHt9LFxuXHRcdFx0aiA9IHt9LFxuXHRcdFx0ayA9IDIwO1xuXHRcdHRoaXMuZWxlbWVudC5iaW5kKFwibW91c2Vkb3duIHRvdWNoc3RhcnRcIiwgZnVuY3Rpb24oYSkge1xuXHRcdFx0XCJ0b3VjaHN0YXJ0XCIgPT0gYS50eXBlID8gaS5sZWZ0ID0gYS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0ucGFnZVggOiBcIm1vdXNlZG93blwiID09IGEudHlwZSAmJiAoaS5sZWZ0ID0gYS5wYWdlWClcblx0XHR9KS5iaW5kKFwibW91c2V1cCB0b3VjaGVuZFwiLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcInRvdWNoZW5kXCIgPT0gYS50eXBlID8gai5sZWZ0ID0gYS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIDogXCJtb3VzZXVwXCIgPT0gYS50eXBlICYmIChqLmxlZnQgPSBhLnBhZ2VYKSwgai5sZWZ0IC0gaS5sZWZ0ID4gayA/IGQucHJldihudWxsLCB7XG5cdFx0XHRcdGRpcmVjdGlvbjogXCJyaWdodFwiXG5cdFx0XHR9KSA6IGkubGVmdCAtIGoubGVmdCA+IGsgJiYgZC5uZXh0KG51bGwsIHtcblx0XHRcdFx0ZGlyZWN0aW9uOiBcImxlZnRcIlxuXHRcdFx0fSksIGQub3B0aW9ucy5hdXRvcGxheSAmJiAoZC5zdG9wKCksIGQuc3RhcnQoKSlcblx0XHR9KSwgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdGEod2luZG93KS5mb2N1cyhmdW5jdGlvbigpIHtcblx0XHRcdFx0ZC5pc1BsYXlpbmcoKSAmJiBkLm5leHQoKVxuXHRcdFx0fSlcblx0XHR9LCAxMDApXG5cdH0sIGZsdXguc2xpZGVyLnByb3RvdHlwZSA9IHtcblx0XHRjb25zdHJ1Y3RvcjogZmx1eC5zbGlkZXIsXG5cdFx0cGxheWluZzogITEsXG5cdFx0c3RhcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGEgPSB0aGlzO1xuXHRcdFx0dGhpcy5wbGF5aW5nID0gITAsIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcblx0XHRcdFx0YS50cmFuc2l0aW9uKClcblx0XHRcdH0sIHRoaXMub3B0aW9ucy5kZWxheSksIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdGhpcy5vcHRpb25zLm9uU3RhcnRFbmQgJiYgdGhpcy5vcHRpb25zLm9uU3RhcnRFbmQodGhpcy5pbnRlcnZhbClcblx0XHR9LFxuXHRcdHN0b3A6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5wbGF5aW5nID0gITEsIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksIHRoaXMuaW50ZXJ2YWwgPSBudWxsXG5cdFx0fSxcblx0XHRpc1BsYXlpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucGxheWluZ1xuXHRcdH0sXG5cdFx0bmV4dDogZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0YiA9IGIgfHwge30sIGIuZGlyZWN0aW9uID0gXCJsZWZ0XCIsIHRoaXMuc2hvd0ltYWdlKHRoaXMuY3VycmVudEltYWdlSW5kZXggKyAxLCBhLCBiKVxuXHRcdH0sXG5cdFx0cHJldjogZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0YiA9IGIgfHwge30sIGIuZGlyZWN0aW9uID0gXCJyaWdodFwiLCB0aGlzLnNob3dJbWFnZSh0aGlzLmN1cnJlbnRJbWFnZUluZGV4IC0gMSwgYSwgYilcblx0XHR9LFxuXHRcdHNob3dJbWFnZTogZnVuY3Rpb24oYSwgYiwgYykge1xuXHRcdFx0dGhpcy5zZXROZXh0SW5kZXgoYSksIHRoaXMuc2V0dXBJbWFnZXMoKSwgdGhpcy50cmFuc2l0aW9uKGIsIGMpXG5cdFx0fSxcblx0XHRmaW5pc2hlZExvYWRpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGIgPSB0aGlzO1xuXHRcdFx0aWYgKHRoaXMuY29udGFpbmVyLmNzcyh7XG5cdFx0XHRcdHdpZHRoOiB0aGlzLndpZHRoICsgXCJweFwiLFxuXHRcdFx0XHRoZWlnaHQ6IHRoaXMuaGVpZ2h0ICsgXCJweFwiXG5cdFx0XHR9KSwgdGhpcy5pbWFnZUNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImxvYWRpbmcxXCIpLCB0aGlzLm9wdGlvbnMucGFnaW5hdGlvbiAmJiAodGhpcy5wYWdpbmF0aW9uID0gYSgnPHVsIGNsYXNzPVwicGFnaW5hdGlvblwiPjwvdWw+JykuY3NzKHtcblx0XHRcdFx0bWFyZ2luOiBcIjBweFwiLFxuXHRcdFx0XHRwYWRkaW5nOiBcIjBweFwiLFxuXHRcdFx0XHRcInRleHQtYWxpZ25cIjogXCJjZW50ZXJcIlxuXHRcdFx0fSksIHRoaXMucGFnaW5hdGlvbi5iaW5kKFwiY2xpY2tcIiwgZnVuY3Rpb24oYykge1xuXHRcdFx0XHRjLnByZXZlbnREZWZhdWx0KCksIGIuc2hvd0ltYWdlKGEoYy50YXJnZXQpLmRhdGEoXCJpbmRleFwiKSlcblx0XHRcdH0pLCBhKHRoaXMuaW1hZ2VzKS5lYWNoKGZ1bmN0aW9uKGMsIGQpIHtcblx0XHRcdFx0dmFyIGUgPSBhKCc8bGkgZGF0YS1pbmRleD1cIicgKyBjICsgJ1wiPicgKyAoYyArIDEpICsgXCI8L2xpPlwiKS5jc3Moe1xuXHRcdFx0XHRcdGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG5cdFx0XHRcdFx0XCJtYXJnaW4tbGVmdFwiOiBcIjAuNWVtXCIsXG5cdFx0XHRcdFx0Y3Vyc29yOiBcInBvaW50ZXJcIlxuXHRcdFx0XHR9KS5hcHBlbmRUbyhiLnBhZ2luYXRpb24pO1xuXHRcdFx0XHQwID09IGMgJiYgZS5jc3MoXCJtYXJnaW4tbGVmdFwiLCAwKS5hZGRDbGFzcyhcImN1cnJlbnRcIilcblx0XHRcdH0pLCB0aGlzLmNvbnRhaW5lci5hcHBlbmQodGhpcy5wYWdpbmF0aW9uKSksIGEodGhpcy5pbWFnZUNvbnRhaW5lcikuY3NzKHtcblx0XHRcdFx0d2lkdGg6IHRoaXMud2lkdGggKyBcInB4XCIsXG5cdFx0XHRcdGhlaWdodDogdGhpcy5oZWlnaHQgKyBcInB4XCJcblx0XHRcdH0pLCBhKHRoaXMuaW1hZ2UxKS5jc3Moe1xuXHRcdFx0XHR3aWR0aDogdGhpcy53aWR0aCArIFwicHhcIixcblx0XHRcdFx0aGVpZ2h0OiB0aGlzLmhlaWdodCArIFwicHhcIlxuXHRcdFx0fSksIGEodGhpcy5pbWFnZTIpLmNzcyh7XG5cdFx0XHRcdHdpZHRoOiB0aGlzLndpZHRoICsgXCJweFwiLFxuXHRcdFx0XHRoZWlnaHQ6IHRoaXMuaGVpZ2h0ICsgXCJweFwiXG5cdFx0XHR9KSwgdGhpcy5jb250YWluZXIuY3NzKHtcblx0XHRcdFx0d2lkdGg6IHRoaXMud2lkdGggKyBcInB4XCIsXG5cdFx0XHRcdGhlaWdodDogdGhpcy5oZWlnaHQgKyAodGhpcy5vcHRpb25zLnBhZ2luYXRpb24gPyB0aGlzLnBhZ2luYXRpb24uaGVpZ2h0KCkgOiAwKSArIFwicHhcIlxuXHRcdFx0fSksIHRoaXMub3B0aW9ucy5jb250cm9scykge1xuXHRcdFx0XHR2YXIgYyA9IHtcblx0XHRcdFx0XHRwYWRkaW5nOiBcIjRweCAxMHB4IDEwcHhcIixcblx0XHRcdFx0XHRcImZvbnQtc2l6ZVwiOiBcIjYwcHhcIixcblx0XHRcdFx0XHRcImZvbnQtZmFtaWx5XCI6IFwiYXJpYWwsIHNhbnMtc2VyaWZcIixcblx0XHRcdFx0XHRcImxpbmUtaGVpZ2h0XCI6IFwiMWVtXCIsXG5cdFx0XHRcdFx0XCJmb250LXdlaWdodFwiOiBcImJvbGRcIixcblx0XHRcdFx0XHRjb2xvcjogXCIjRkZGXCIsXG5cdFx0XHRcdFx0XCJ0ZXh0LWRlY29yYXRpb25cIjogXCJub25lXCIsXG5cdFx0XHRcdFx0YmFja2dyb3VuZDogXCJyZ2JhKDAsMCwwLDAuNSlcIixcblx0XHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdFwiei1pbmRleFwiOiAyZTNcblx0XHRcdFx0fTtcblx0XHRcdFx0dGhpcy5uZXh0QnV0dG9uID0gYSgnPGEgaHJlZj1cIiNcIj7CuzwvYT4nKS5jc3MoYykuY3NzMyh7XG5cdFx0XHRcdFx0XCJib3JkZXItcmFkaXVzXCI6IFwiNHB4XCJcblx0XHRcdFx0fSkuYXBwZW5kVG8odGhpcy5zdXJmYWNlKS5iaW5kKFwiY2xpY2tcIiwgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdGEucHJldmVudERlZmF1bHQoKSwgYi5uZXh0KClcblx0XHRcdFx0fSksIHRoaXMucHJldkJ1dHRvbiA9IGEoJzxhIGhyZWY9XCIjXCI+wqs8L2E+JykuY3NzKGMpLmNzczMoe1xuXHRcdFx0XHRcdFwiYm9yZGVyLXJhZGl1c1wiOiBcIjRweFwiXG5cdFx0XHRcdH0pLmFwcGVuZFRvKHRoaXMuc3VyZmFjZSkuYmluZChcImNsaWNrXCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRhLnByZXZlbnREZWZhdWx0KCksIGIucHJldigpXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHR2YXIgZCA9ICh0aGlzLmhlaWdodCAtIHRoaXMubmV4dEJ1dHRvbi5oZWlnaHQoKSkgLyAyO1xuXHRcdFx0XHR0aGlzLm5leHRCdXR0b24uY3NzKHtcblx0XHRcdFx0XHR0b3A6IGQgKyBcInB4XCIsXG5cdFx0XHRcdFx0cmlnaHQ6IFwiMTBweFwiXG5cdFx0XHRcdH0pLCB0aGlzLnByZXZCdXR0b24uY3NzKHtcblx0XHRcdFx0XHR0b3A6IGQgKyBcInB4XCIsXG5cdFx0XHRcdFx0bGVmdDogXCIxMHB4XCJcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHRcdHRoaXMub3B0aW9ucy5jYXB0aW9ucyAmJiAodGhpcy5jYXB0aW9uQmFyID0gYSgnPGRpdiBjbGFzcz1cImNhcHRpb25cIj48L2Rpdj4nKS5jc3Moe1xuXHRcdFx0XHRiYWNrZ3JvdW5kOiBcInJnYmEoMCwwLDAsMC42KVwiLFxuXHRcdFx0XHRjb2xvcjogXCIjRkZGXCIsXG5cdFx0XHRcdFwiZm9udC1zaXplXCI6IFwiMTZweFwiLFxuXHRcdFx0XHRcImZvbnQtZmFtaWx5XCI6IFwiaGVsdmV0aWNhLCBhcmlhbCwgc2Fucy1zZXJpZlwiLFxuXHRcdFx0XHRcInRleHQtZGVjb3JhdGlvblwiOiBcIm5vbmVcIixcblx0XHRcdFx0XCJmb250LXdlaWdodFwiOiBcImJvbGRcIixcblx0XHRcdFx0cGFkZGluZzogXCIxLjVlbSAxZW1cIixcblx0XHRcdFx0b3BhY2l0eTogMCxcblx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XCJ6LWluZGV4XCI6IDExMCxcblx0XHRcdFx0d2lkdGg6IFwiMTAwJVwiLFxuXHRcdFx0XHRib3R0b206IDBcblx0XHRcdH0pLmNzczMoe1xuXHRcdFx0XHRcInRyYW5zaXRpb24tcHJvcGVydHlcIjogXCJvcGFjaXR5XCIsXG5cdFx0XHRcdFwidHJhbnNpdGlvbi1kdXJhdGlvblwiOiBcIjgwMG1zXCIsXG5cdFx0XHRcdFwiYm94LXNpemluZ1wiOiBcImJvcmRlci1ib3hcIlxuXHRcdFx0fSkucHJlcGVuZFRvKHRoaXMuc3VyZmFjZSkpLCB0aGlzLnVwZGF0ZUNhcHRpb24oKVxuXHRcdH0sXG5cdFx0c2V0dXBJbWFnZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGIgPSB0aGlzLmdldEltYWdlKHRoaXMuY3VycmVudEltYWdlSW5kZXgpLFxuXHRcdFx0XHRjID0ge1xuXHRcdFx0XHRcdGJhY2tncm91bmQ6ICd1cmwoXCInICsgYi5zcmMgKyAnXCIpIDUwJSA1MCUgLyBjb250YWluIG5vLXJlcGVhdCAnICsgdGhpcy5vcHRpb25zLmJnQ29sb3IsXG5cdFx0XHRcdFx0ekluZGV4OiAxMDEsXG5cdFx0XHRcdFx0Y3Vyc29yOiBcImF1dG9cIlxuXHRcdFx0XHR9O1xuXHRcdFx0YShiKS5kYXRhKFwiaHJlZlwiKSA/IChjLmN1cnNvciA9IFwicG9pbnRlclwiLCB0aGlzLmltYWdlMS5hZGRDbGFzcyhcImhhc0xpbmtcIiksIHRoaXMuaW1hZ2UxLmRhdGEoXCJocmVmXCIsIGEoYikuZGF0YShcImhyZWZcIikpKSA6ICh0aGlzLmltYWdlMS5yZW1vdmVDbGFzcyhcImhhc0xpbmtcIiksIHRoaXMuaW1hZ2UxLmRhdGEoXCJocmVmXCIsIG51bGwpKSwgdGhpcy5pbWFnZTEuY3NzKGMpLmNoaWxkcmVuKCkucmVtb3ZlKCksIHRoaXMuaW1hZ2UyLmNzcyh7XG5cdFx0XHRcdGJhY2tncm91bmQ6ICd1cmwoXCInICsgdGhpcy5nZXRJbWFnZSh0aGlzLm5leHRJbWFnZUluZGV4KS5zcmMgKyAnXCIpIDUwJSA1MCUgLyBjb250YWluIG5vLXJlcGVhdCAnICsgdGhpcy5vcHRpb25zLmJnQ29sb3IsXG5cdFx0XHRcdHpJbmRleDogMTAwLFxuXHRcdFx0XHRkaXNwbGF5OiBcIm5vbmVcIlxuXHRcdFx0fSksIHRoaXMub3B0aW9ucy5wYWdpbmF0aW9uICYmIHRoaXMucGFnaW5hdGlvbiAmJiAodGhpcy5wYWdpbmF0aW9uLmZpbmQoXCJsaS5jdXJyZW50XCIpLnJlbW92ZUNsYXNzKFwiY3VycmVudFwiKSwgYSh0aGlzLnBhZ2luYXRpb24uZmluZChcImxpXCIpW3RoaXMuY3VycmVudEltYWdlSW5kZXhdKS5hZGRDbGFzcyhcImN1cnJlbnRcIikpXG5cdFx0fSxcblx0XHR0cmFuc2l0aW9uOiBmdW5jdGlvbihiLCBjKSB7XG5cdFx0XHRpZiAodm9pZCAwID09IGIgfHwgIWZsdXgudHJhbnNpdGlvbnNbYl0pIHtcblx0XHRcdFx0dmFyIGQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbnMubGVuZ3RoKTtcblx0XHRcdFx0YiA9IHRoaXMub3B0aW9ucy50cmFuc2l0aW9uc1tkXVxuXHRcdFx0fVxuXHRcdFx0dmFyIGUgPSBudWxsO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZSA9IG5ldyBmbHV4LnRyYW5zaXRpb25zW2JdKHRoaXMsIGEuZXh0ZW5kKHRoaXMub3B0aW9uc1tiXSA/IHRoaXMub3B0aW9uc1tiXSA6IHt9LCBjKSlcblx0XHRcdH0gY2F0Y2ggKGYpIHtcblx0XHRcdFx0ZSA9IG5ldyBmbHV4LnRyYW5zaXRpb24odGhpcywge1xuXHRcdFx0XHRcdGZhbGxiYWNrOiAhMFxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdFx0ZS5ydW4oKSwgdGhpcy5jdXJyZW50SW1hZ2VJbmRleCA9IHRoaXMubmV4dEltYWdlSW5kZXgsIHRoaXMuc2V0TmV4dEluZGV4KHRoaXMuY3VycmVudEltYWdlSW5kZXggKyAxKSwgdGhpcy51cGRhdGVDYXB0aW9uKClcblx0XHR9LFxuXHRcdHVwZGF0ZUNhcHRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGIgPSBhKHRoaXMuZ2V0SW1hZ2UodGhpcy5jdXJyZW50SW1hZ2VJbmRleCkpLmF0dHIoXCJ0aXRsZVwiKTtcblx0XHRcdHRoaXMub3B0aW9ucy5jYXB0aW9ucyAmJiB0aGlzLmNhcHRpb25CYXIgJiYgKFwiXCIgIT09IGIgJiYgdGhpcy5jYXB0aW9uQmFyLmh0bWwoYiksIHRoaXMuY2FwdGlvbkJhci5jc3MoXCJvcGFjaXR5XCIsIFwiXCIgPT09IGIgPyAwIDogMSkpXG5cdFx0fSxcblx0XHRnZXRJbWFnZTogZnVuY3Rpb24oYSkge1xuXHRcdFx0cmV0dXJuIGEgJT0gdGhpcy5pbWFnZXMubGVuZ3RoLCB0aGlzLmltYWdlc1thXVxuXHRcdH0sXG5cdFx0c2V0TmV4dEluZGV4OiBmdW5jdGlvbihhKSB7XG5cdFx0XHR2b2lkIDAgPT0gYSAmJiAoYSA9IHRoaXMuY3VycmVudEltYWdlSW5kZXggKyAxKSwgdGhpcy5uZXh0SW1hZ2VJbmRleCA9IGEsIHRoaXMubmV4dEltYWdlSW5kZXggPiB0aGlzLmltYWdlcy5sZW5ndGggLSAxICYmICh0aGlzLm5leHRJbWFnZUluZGV4ID0gMCksIHRoaXMubmV4dEltYWdlSW5kZXggPCAwICYmICh0aGlzLm5leHRJbWFnZUluZGV4ID0gdGhpcy5pbWFnZXMubGVuZ3RoIC0gMSlcblx0XHR9LFxuXHRcdGluY3JlbWVudDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRJbWFnZUluZGV4KyssIHRoaXMuY3VycmVudEltYWdlSW5kZXggPiB0aGlzLmltYWdlcy5sZW5ndGggLSAxICYmICh0aGlzLmN1cnJlbnRJbWFnZUluZGV4ID0gMClcblx0XHR9XG5cdH1cbn0od2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG8pLCBmdW5jdGlvbihhKSB7XG5cdGZsdXguYnJvd3NlciA9IHtcblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICh2b2lkIDAgPT09IGZsdXguYnJvd3Nlci5zdXBwb3J0c1RyYW5zaXRpb25zKSB7XG5cdFx0XHRcdHZhciBiID0gKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIFtcIi13ZWJraXRcIiwgXCItbW96XCIsIFwiLW9cIiwgXCItbXNcIl0pO1xuXHRcdFx0XHRpZiAod2luZG93Lk1vZGVybml6ciAmJiB2b2lkIDAgIT09IE1vZGVybml6ci5jc3N0cmFuc2l0aW9ucyA/IGZsdXguYnJvd3Nlci5zdXBwb3J0c1RyYW5zaXRpb25zID0gTW9kZXJuaXpyLmNzc3RyYW5zaXRpb25zIDogZmx1eC5icm93c2VyLnN1cHBvcnRzVHJhbnNpdGlvbnMgPSB0aGlzLnN1cHBvcnRzQ1NTUHJvcGVydHkoXCJUcmFuc2l0aW9uXCIpLCB3aW5kb3cuTW9kZXJuaXpyICYmIHZvaWQgMCAhPT0gTW9kZXJuaXpyLmNzc3RyYW5zZm9ybXMzZCkgZmx1eC5icm93c2VyLnN1cHBvcnRzM2QgPSBNb2Rlcm5penIuY3NzdHJhbnNmb3JtczNkO1xuXHRcdFx0XHRlbHNlIGlmIChmbHV4LmJyb3dzZXIuc3VwcG9ydHMzZCA9IHRoaXMuc3VwcG9ydHNDU1NQcm9wZXJ0eShcIlBlcnNwZWN0aXZlXCIpLCBmbHV4LmJyb3dzZXIuc3VwcG9ydHMzZCAmJiBcIndlYmtpdFBlcnNwZWN0aXZlXCIgaW4gYShcImJvZHlcIikuZ2V0KDApLnN0eWxlKSB7XG5cdFx0XHRcdFx0dmFyIGMgPSBhKCc8ZGl2IGlkPVwiY3NzdHJhbnNmb3JtM2RcIj48L2Rpdj4nKSxcblx0XHRcdFx0XHRcdGQgPSBhKCc8c3R5bGUgbWVkaWE9XCIodHJhbnNmb3JtLTNkKSwgKCcgKyBiLmpvaW4oXCItdHJhbnNmb3JtLTNkKSwoXCIpICsgJy10cmFuc2Zvcm0tM2QpXCI+ZGl2I2Nzc3RyYW5zZm9ybTNkIHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiA5cHggfTwvc3R5bGU+Jyk7XG5cdFx0XHRcdFx0YShcImJvZHlcIikuYXBwZW5kKGMpLCBhKFwiaGVhZFwiKS5hcHBlbmQoZCksIGZsdXguYnJvd3Nlci5zdXBwb3J0czNkID0gOSA9PSBjLmdldCgwKS5vZmZzZXRMZWZ0LCBjLnJlbW92ZSgpLCBkLnJlbW92ZSgpXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHN1cHBvcnRzQ1NTUHJvcGVydHk6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdGZvciAodmFyIGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBjID0gW1wiV2Via2l0XCIsIFwiTW96XCIsIFwiT1wiLCBcIk1zXCJdLCBkID0gITEsIGUgPSAwOyBlIDwgYy5sZW5ndGg7IGUrKykgY1tlXSArIGEgaW4gYi5zdHlsZSAmJiAoZCA9IGQgfHwgITApO1xuXHRcdFx0cmV0dXJuIGRcblx0XHR9LFxuXHRcdHRyYW5zbGF0ZTogZnVuY3Rpb24oYSwgYiwgYykge1xuXHRcdFx0cmV0dXJuIGEgPSB2b2lkIDAgIT0gYSA/IGEgOiAwLCBiID0gdm9pZCAwICE9IGIgPyBiIDogMCwgYyA9IHZvaWQgMCAhPSBjID8gYyA6IDAsIFwidHJhbnNsYXRlXCIgKyAoZmx1eC5icm93c2VyLnN1cHBvcnRzM2QgPyBcIjNkKFwiIDogXCIoXCIpICsgYSArIFwicHgsXCIgKyBiICsgKGZsdXguYnJvd3Nlci5zdXBwb3J0czNkID8gXCJweCxcIiArIGMgKyBcInB4KVwiIDogXCJweClcIilcblx0XHR9LFxuXHRcdHJvdGF0ZVg6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHJldHVybiBmbHV4LmJyb3dzZXIucm90YXRlKFwieFwiLCBhKVxuXHRcdH0sXG5cdFx0cm90YXRlWTogZnVuY3Rpb24oYSkge1xuXHRcdFx0cmV0dXJuIGZsdXguYnJvd3Nlci5yb3RhdGUoXCJ5XCIsIGEpXG5cdFx0fSxcblx0XHRyb3RhdGVaOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRyZXR1cm4gZmx1eC5icm93c2VyLnJvdGF0ZShcInpcIiwgYSlcblx0XHR9LFxuXHRcdHJvdGF0ZTogZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0cmV0dXJuICFhIGluIHtcblx0XHRcdFx0eDogXCJcIixcblx0XHRcdFx0eTogXCJcIixcblx0XHRcdFx0ejogXCJcIlxuXHRcdFx0fSAmJiAoYSA9IFwielwiKSwgYiA9IHZvaWQgMCAhPSBiID8gYiA6IDAsIGZsdXguYnJvd3Nlci5zdXBwb3J0czNkID8gXCJyb3RhdGUzZChcIiArIChcInhcIiA9PSBhID8gXCIxXCIgOiBcIjBcIikgKyBcIiwgXCIgKyAoXCJ5XCIgPT0gYSA/IFwiMVwiIDogXCIwXCIpICsgXCIsIFwiICsgKFwielwiID09IGEgPyBcIjFcIiA6IFwiMFwiKSArIFwiLCBcIiArIGIgKyBcImRlZylcIiA6IFwielwiID09IGEgPyBcInJvdGF0ZShcIiArIGIgKyBcImRlZylcIiA6IFwiXCJcblx0XHR9XG5cdH0sIGEoZnVuY3Rpb24oKSB7XG5cdFx0Zmx1eC5icm93c2VyLmluaXQoKVxuXHR9KVxufSh3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0byksIGZ1bmN0aW9uKGEpIHtcblx0YS5mbi5jc3MzID0gZnVuY3Rpb24oYSkge1xuXHRcdHZhciBiID0ge30sXG5cdFx0XHRjID0gW1wid2Via2l0XCIsIFwibW96XCIsIFwibXNcIiwgXCJvXCJdO1xuXHRcdGZvciAodmFyIGQgaW4gYSkge1xuXHRcdFx0Zm9yICh2YXIgZSA9IDA7IGUgPCBjLmxlbmd0aDsgZSsrKSBiW1wiLVwiICsgY1tlXSArIFwiLVwiICsgZF0gPSBhW2RdO1xuXHRcdFx0YltkXSA9IGFbZF1cblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuY3NzKGIpLCB0aGlzXG5cdH0sIGEuZm4udHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uKGIpIHtcblx0XHRmb3IgKHZhciBjID0gW1wid2Via2l0VHJhbnNpdGlvbkVuZFwiLCBcInRyYW5zaXRpb25lbmRcIiwgXCJvVHJhbnNpdGlvbkVuZFwiXSwgZCA9IDA7IGQgPCBjLmxlbmd0aDsgZCsrKSB0aGlzLmJpbmQoY1tkXSwgZnVuY3Rpb24oZCkge1xuXHRcdFx0Zm9yICh2YXIgZSA9IDA7IGUgPCBjLmxlbmd0aDsgZSsrKSBhKHRoaXMpLnVuYmluZChjW2VdKTtcblx0XHRcdGIgJiYgYi5jYWxsKHRoaXMsIGQpXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHRoaXNcblx0fSwgZmx1eC50cmFuc2l0aW9uID0gZnVuY3Rpb24oYiwgYykge1xuXHRcdGlmICh0aGlzLm9wdGlvbnMgPSBhLmV4dGVuZCh7XG5cdFx0XHRyZXF1aXJlczNkOiAhMSxcblx0XHRcdGFmdGVyOiBmdW5jdGlvbigpIHt9XG5cdFx0fSwgYyksIHRoaXMuc2xpZGVyID0gYiwgdGhpcy5vcHRpb25zLnJlcXVpcmVzM2QgJiYgIWZsdXguYnJvd3Nlci5zdXBwb3J0czNkIHx8ICFmbHV4LmJyb3dzZXIuc3VwcG9ydHNUcmFuc2l0aW9ucyB8fCB0aGlzLm9wdGlvbnMuZmFsbGJhY2sgPT09ICEwKSB7XG5cdFx0XHR2YXIgZCA9IHRoaXM7XG5cdFx0XHR0aGlzLm9wdGlvbnMuYWZ0ZXIgPSB2b2lkIDAsIHRoaXMub3B0aW9ucy5zZXR1cCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkLmZhbGxiYWNrU2V0dXAoKVxuXHRcdFx0fSwgdGhpcy5vcHRpb25zLmV4ZWN1dGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZC5mYWxsYmFja0V4ZWN1dGUoKVxuXHRcdFx0fVxuXHRcdH1cblx0fSwgZmx1eC50cmFuc2l0aW9uLnByb3RvdHlwZSA9IHtcblx0XHRjb25zdHJ1Y3RvcjogZmx1eC50cmFuc2l0aW9uLFxuXHRcdGhhc0ZpbmlzaGVkOiAhMSxcblx0XHRydW46IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGEgPSB0aGlzO1xuXHRcdFx0dm9pZCAwICE9PSB0aGlzLm9wdGlvbnMuc2V0dXAgJiYgdGhpcy5vcHRpb25zLnNldHVwLmNhbGwodGhpcyksIHRoaXMuc2xpZGVyLmltYWdlMS5jc3Moe1xuXHRcdFx0XHRcImJhY2tncm91bmQtaW1hZ2VcIjogXCJub25lXCJcblx0XHRcdH0pLCB0aGlzLnNsaWRlci5pbWFnZUNvbnRhaW5lci5jc3MoXCJvdmVyZmxvd1wiLCB0aGlzLm9wdGlvbnMucmVxdWlyZXMzZCA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIiksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZvaWQgMCAhPT0gYS5vcHRpb25zLmV4ZWN1dGUgJiYgYS5zbGlkZXIuaW1hZ2UxLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgXCJcIiksIGEub3B0aW9ucy5leGVjdXRlLmNhbGwoYSlcblx0XHRcdH0sIDUpXG5cdFx0fSxcblx0XHRmaW5pc2hlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmhhc0ZpbmlzaGVkIHx8ICh0aGlzLmhhc0ZpbmlzaGVkID0gITAsIHRoaXMub3B0aW9ucy5hZnRlciAmJiB0aGlzLm9wdGlvbnMuYWZ0ZXIuY2FsbCh0aGlzKSwgdGhpcy5zbGlkZXIuaW1hZ2VDb250YWluZXIuY3NzKFwib3ZlcmZsb3dcIiwgXCJoaWRkZW5cIiksIHRoaXMuc2xpZGVyLnNldHVwSW1hZ2VzKCksIHRoaXMuc2xpZGVyLmVsZW1lbnQudHJpZ2dlcihcImZsdXhUcmFuc2l0aW9uRW5kXCIsIHtcblx0XHRcdFx0Y3VycmVudEltYWdlOiB0aGlzLnNsaWRlci5nZXRJbWFnZSh0aGlzLnNsaWRlci5jdXJyZW50SW1hZ2VJbmRleClcblx0XHRcdH0pKVxuXHRcdH0sXG5cdFx0ZmFsbGJhY2tTZXR1cDogZnVuY3Rpb24oKSB7fSxcblx0XHRmYWxsYmFja0V4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5maW5pc2hlZCgpXG5cdFx0fVxuXHR9LCBmbHV4LnRyYW5zaXRpb25zID0ge30sIGZsdXgudHJhbnNpdGlvbl9ncmlkID0gZnVuY3Rpb24oYiwgYykge1xuXHRcdHJldHVybiBuZXcgZmx1eC50cmFuc2l0aW9uKGIsIGEuZXh0ZW5kKHtcblx0XHRcdGNvbHVtbnM6IDYsXG5cdFx0XHRyb3dzOiA2LFxuXHRcdFx0Zm9yY2VTcXVhcmU6ICExLFxuXHRcdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgYiA9IHRoaXMuc2xpZGVyLmltYWdlMS53aWR0aCgpLFxuXHRcdFx0XHRcdGMgPSB0aGlzLnNsaWRlci5pbWFnZTEuaGVpZ2h0KCksXG5cdFx0XHRcdFx0ZCA9IE1hdGguZmxvb3IoYiAvIHRoaXMub3B0aW9ucy5jb2x1bW5zKSxcblx0XHRcdFx0XHRlID0gTWF0aC5mbG9vcihjIC8gdGhpcy5vcHRpb25zLnJvd3MpO1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMuZm9yY2VTcXVhcmUgJiYgKGUgPSBkLCB0aGlzLm9wdGlvbnMucm93cyA9IE1hdGguZmxvb3IoYyAvIGUpKTtcblx0XHRcdFx0Zm9yICh2YXIgZiA9IGIgLSB0aGlzLm9wdGlvbnMuY29sdW1ucyAqIGQsIGcgPSBNYXRoLmNlaWwoZiAvIHRoaXMub3B0aW9ucy5jb2x1bW5zKSwgaCA9IGMgLSB0aGlzLm9wdGlvbnMucm93cyAqIGUsIGkgPSBNYXRoLmNlaWwoaCAvIHRoaXMub3B0aW9ucy5yb3dzKSwgaiA9ICh0aGlzLnNsaWRlci5pbWFnZTEuaGVpZ2h0KCksIDApLCBrID0gMCwgbCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwgbSA9IDA7IG0gPCB0aGlzLm9wdGlvbnMuY29sdW1uczsgbSsrKSB7XG5cdFx0XHRcdFx0dmFyIG4gPSBkLFxuXHRcdFx0XHRcdFx0ayA9IDA7XG5cdFx0XHRcdFx0aWYgKGYgPiAwKSB7XG5cdFx0XHRcdFx0XHR2YXIgbyA9IGYgPj0gZyA/IGcgOiBmO1xuXHRcdFx0XHRcdFx0biArPSBvLCBmIC09IG9cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Zm9yICh2YXIgcCA9IDA7IHAgPCB0aGlzLm9wdGlvbnMucm93czsgcCsrKSB7XG5cdFx0XHRcdFx0XHR2YXIgcSA9IGUsXG5cdFx0XHRcdFx0XHRcdHIgPSBoO1xuXHRcdFx0XHRcdFx0aWYgKHIgPiAwKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBvID0gciA+PSBpID8gaSA6IHI7XG5cdFx0XHRcdFx0XHRcdHEgKz0gbywgciAtPSBvXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR2YXIgcyA9IGEoJzxkaXYgY2xhc3M9XCJ0aWxlIHRpbGUtJyArIG0gKyBcIi1cIiArIHAgKyAnXCI+PC9kaXY+JykuY3NzKHtcblx0XHRcdFx0XHRcdFx0d2lkdGg6IG4gKyBcInB4XCIsXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogcSArIFwicHhcIixcblx0XHRcdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHRcdFx0dG9wOiBrICsgXCJweFwiLFxuXHRcdFx0XHRcdFx0XHRsZWZ0OiBqICsgXCJweFwiXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHRoaXMub3B0aW9ucy5yZW5kZXJUaWxlLmNhbGwodGhpcywgcywgbSwgcCwgbiwgcSwgaiwgayksIGwuYXBwZW5kQ2hpbGQocy5nZXQoMCkpLCBrICs9IHFcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aiArPSBuXG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5zbGlkZXIuaW1hZ2UxLmdldCgwKS5hcHBlbmRDaGlsZChsKVxuXHRcdFx0fSxcblx0XHRcdGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgYSA9IHRoaXMsXG5cdFx0XHRcdFx0YiA9IHRoaXMuc2xpZGVyLmltYWdlMS5oZWlnaHQoKSxcblx0XHRcdFx0XHRjID0gdGhpcy5zbGlkZXIuaW1hZ2UxLmZpbmQoXCJkaXYuYmFyY29udGFpbmVyXCIpO1xuXHRcdFx0XHR0aGlzLnNsaWRlci5pbWFnZTIuaGlkZSgpLCBjLmxhc3QoKS50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKGIpIHtcblx0XHRcdFx0XHRhLnNsaWRlci5pbWFnZTIuc2hvdygpLCBhLmZpbmlzaGVkKClcblx0XHRcdFx0fSksIGMuY3NzMyh7XG5cdFx0XHRcdFx0dHJhbnNmb3JtOiBmbHV4LmJyb3dzZXIucm90YXRlWCgtOTApICsgXCIgXCIgKyBmbHV4LmJyb3dzZXIudHJhbnNsYXRlKDAsIGIgLyAyLCBiIC8gMilcblx0XHRcdFx0fSlcblx0XHRcdH0sXG5cdFx0XHRyZW5kZXJUaWxlOiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlLCBmLCBnKSB7fVxuXHRcdH0sIGMpKVxuXHR9XG59KHdpbmRvdy5qUXVlcnkgfHwgd2luZG93LlplcHRvKSwgZnVuY3Rpb24oYSkge1xuXHRmbHV4LnRyYW5zaXRpb25zLmJhcnMgPSBmdW5jdGlvbihiLCBjKSB7XG5cdFx0cmV0dXJuIG5ldyBmbHV4LnRyYW5zaXRpb25fZ3JpZChiLCBhLmV4dGVuZCh7XG5cdFx0XHRjb2x1bW5zOiAxMCxcblx0XHRcdHJvd3M6IDEsXG5cdFx0XHRkZWxheUJldHdlZW5CYXJzOiA0MCxcblx0XHRcdHJlbmRlclRpbGU6IGZ1bmN0aW9uKGIsIGMsIGQsIGUsIGYsIGcsIGgpIHtcblx0XHRcdFx0YShiKS5jc3Moe1xuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHRoaXMuc2xpZGVyLmltYWdlMS5jc3MoXCJiYWNrZ3JvdW5kXCIpLFxuXHRcdFx0XHRcdFwiYmFja2dyb3VuZC1zaXplXCI6IHRoaXMuc2xpZGVyLndpZHRoICsgXCJweCBcIiArIHRoaXMuc2xpZGVyLmhlaWdodCArIFwicHhcIixcblx0XHRcdFx0XHRcImJhY2tncm91bmQtcG9zaXRpb25cIjogXCItXCIgKyBnICsgXCJweCAwcHhcIlxuXHRcdFx0XHR9KS5jc3MzKHtcblx0XHRcdFx0XHRcInRyYW5zaXRpb24tZHVyYXRpb25cIjogXCI0MDBtc1wiLFxuXHRcdFx0XHRcdFwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cIjogXCJlYXNlLWluXCIsXG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLXByb3BlcnR5XCI6IFwiYWxsXCIsXG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLWRlbGF5XCI6IGMgKiB0aGlzLm9wdGlvbnMuZGVsYXlCZXR3ZWVuQmFycyArIFwibXNcIlxuXHRcdFx0XHR9KVxuXHRcdFx0fSxcblx0XHRcdGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgYiA9IHRoaXMsXG5cdFx0XHRcdFx0YyA9IHRoaXMuc2xpZGVyLmltYWdlMS5oZWlnaHQoKSxcblx0XHRcdFx0XHRkID0gdGhpcy5zbGlkZXIuaW1hZ2UxLmZpbmQoXCJkaXYudGlsZVwiKTtcblx0XHRcdFx0YShkW2QubGVuZ3RoIC0gMV0pLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Yi5maW5pc2hlZCgpXG5cdFx0XHRcdH0pLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGQuY3NzKHtcblx0XHRcdFx0XHRcdG9wYWNpdHk6IFwiMC41XCJcblx0XHRcdFx0XHR9KS5jc3MzKHtcblx0XHRcdFx0XHRcdHRyYW5zZm9ybTogZmx1eC5icm93c2VyLnRyYW5zbGF0ZSgwLCBjKVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH0sIDUwKVxuXHRcdFx0fVxuXHRcdH0sIGMpKVxuXHR9XG59KHdpbmRvdy5qUXVlcnkgfHwgd2luZG93LlplcHRvKSwgZnVuY3Rpb24oYSkge1xuXHRmbHV4LnRyYW5zaXRpb25zLmJhcnMzZCA9IGZ1bmN0aW9uKGIsIGMpIHtcblx0XHRyZXR1cm4gbmV3IGZsdXgudHJhbnNpdGlvbl9ncmlkKGIsIGEuZXh0ZW5kKHtcblx0XHRcdHJlcXVpcmVzM2Q6ICEwLFxuXHRcdFx0Y29sdW1uczogNyxcblx0XHRcdHJvd3M6IDEsXG5cdFx0XHRkZWxheUJldHdlZW5CYXJzOiAxNTAsXG5cdFx0XHRwZXJzcGVjdGl2ZTogMWUzLFxuXHRcdFx0cmVuZGVyVGlsZTogZnVuY3Rpb24oYiwgYywgZCwgZSwgZiwgZywgaCkge1xuXHRcdFx0XHR2YXIgaSA9IGEoJzxkaXYgY2xhc3M9XCJiYXItJyArIGMgKyAnXCI+PC9kaXY+JykuY3NzKHtcblx0XHRcdFx0XHR3aWR0aDogZSArIFwicHhcIixcblx0XHRcdFx0XHRoZWlnaHQ6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0dG9wOiBcIjBweFwiLFxuXHRcdFx0XHRcdGxlZnQ6IFwiMHB4XCIsXG5cdFx0XHRcdFx0XCJ6LWluZGV4XCI6IDIwMCxcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiB0aGlzLnNsaWRlci5pbWFnZTEuY3NzKFwiYmFja2dyb3VuZFwiKSxcblx0XHRcdFx0XHRcImJhY2tncm91bmQtc2l6ZVwiOiB0aGlzLnNsaWRlci53aWR0aCArIFwicHggXCIgKyB0aGlzLnNsaWRlci5oZWlnaHQgKyBcInB4XCIsXG5cdFx0XHRcdFx0XCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6IFwiLVwiICsgZyArIFwicHggMHB4XCIsXG5cdFx0XHRcdFx0XCJiYWNrZ3JvdW5kLXJlcGVhdFwiOiBcIm5vLXJlcGVhdFwiXG5cdFx0XHRcdH0pLmNzczMoe1xuXHRcdFx0XHRcdFwiYmFja2ZhY2UtdmlzaWJpbGl0eVwiOiBcImhpZGRlblwiXG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRcdGogPSBhKGkuZ2V0KDApLmNsb25lTm9kZSghMSkpLmNzcyh7XG5cdFx0XHRcdFx0XHRcImJhY2tncm91bmQtaW1hZ2VcIjogdGhpcy5zbGlkZXIuaW1hZ2UyLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIilcblx0XHRcdFx0XHR9KS5jc3MzKHtcblx0XHRcdFx0XHRcdHRyYW5zZm9ybTogZmx1eC5icm93c2VyLnJvdGF0ZVgoOTApICsgXCIgXCIgKyBmbHV4LmJyb3dzZXIudHJhbnNsYXRlKDAsIC1mIC8gMiwgZiAvIDIpXG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0ayA9IGEoJzxkaXYgY2xhc3M9XCJzaWRlIGJhci0nICsgYyArICdcIj48L2Rpdj4nKS5jc3Moe1xuXHRcdFx0XHRcdFx0d2lkdGg6IGYgKyBcInB4XCIsXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IGYgKyBcInB4XCIsXG5cdFx0XHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdFx0dG9wOiBcIjBweFwiLFxuXHRcdFx0XHRcdFx0bGVmdDogXCIwcHhcIixcblx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IFwiIzIyMlwiLFxuXHRcdFx0XHRcdFx0XCJ6LWluZGV4XCI6IDE5MFxuXHRcdFx0XHRcdH0pLmNzczMoe1xuXHRcdFx0XHRcdFx0dHJhbnNmb3JtOiBmbHV4LmJyb3dzZXIucm90YXRlWSg5MCkgKyBcIiBcIiArIGZsdXguYnJvd3Nlci50cmFuc2xhdGUoZiAvIDIsIDAsIC1mIC8gMikgKyBcIiBcIiArIGZsdXguYnJvd3Nlci5yb3RhdGVZKDE4MCksXG5cdFx0XHRcdFx0XHRcImJhY2tmYWNlLXZpc2liaWxpdHlcIjogXCJoaWRkZW5cIlxuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdGwgPSBhKGsuZ2V0KDApLmNsb25lTm9kZSghMSkpLmNzczMoe1xuXHRcdFx0XHRcdFx0dHJhbnNmb3JtOiBmbHV4LmJyb3dzZXIucm90YXRlWSg5MCkgKyBcIiBcIiArIGZsdXguYnJvd3Nlci50cmFuc2xhdGUoZiAvIDIsIDAsIGUgLSBmIC8gMilcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0YShiKS5jc3Moe1xuXHRcdFx0XHRcdHdpZHRoOiBlICsgXCJweFwiLFxuXHRcdFx0XHRcdGhlaWdodDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHR0b3A6IFwiMHB4XCIsXG5cdFx0XHRcdFx0bGVmdDogZyArIFwicHhcIixcblx0XHRcdFx0XHRcInotaW5kZXhcIjogYyA+IHRoaXMub3B0aW9ucy5jb2x1bW5zIC8gMiA/IDFlMyAtIGMgOiAxZTNcblx0XHRcdFx0fSkuY3NzMyh7XG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCI6IFwiODAwbXNcIixcblx0XHRcdFx0XHRcInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXCI6IFwibGluZWFyXCIsXG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLXByb3BlcnR5XCI6IFwiYWxsXCIsXG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLWRlbGF5XCI6IGMgKiB0aGlzLm9wdGlvbnMuZGVsYXlCZXR3ZWVuQmFycyArIFwibXNcIixcblx0XHRcdFx0XHRcInRyYW5zZm9ybS1zdHlsZVwiOiBcInByZXNlcnZlLTNkXCJcblx0XHRcdFx0fSkuYXBwZW5kKGkpLmFwcGVuZChqKS5hcHBlbmQoaykuYXBwZW5kKGwpXG5cdFx0XHR9LFxuXHRcdFx0ZXhlY3V0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuc2xpZGVyLmltYWdlMS5jc3MzKHtcblx0XHRcdFx0XHRwZXJzcGVjdGl2ZTogdGhpcy5vcHRpb25zLnBlcnNwZWN0aXZlLFxuXHRcdFx0XHRcdFwicGVyc3BlY3RpdmUtb3JpZ2luXCI6IFwiNTAlIDUwJVwiXG5cdFx0XHRcdH0pLmNzcyh7XG5cdFx0XHRcdFx0XCItbW96LXRyYW5zZm9ybVwiOiBcInBlcnNwZWN0aXZlKFwiICsgdGhpcy5vcHRpb25zLnBlcnNwZWN0aXZlICsgXCJweClcIixcblx0XHRcdFx0XHRcIi1tb3otcGVyc3BlY3RpdmVcIjogXCJub25lXCIsXG5cdFx0XHRcdFx0XCItbW96LXRyYW5zZm9ybS1zdHlsZVwiOiBcInByZXNlcnZlLTNkXCJcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHZhciBhID0gdGhpcyxcblx0XHRcdFx0XHRiID0gdGhpcy5zbGlkZXIuaW1hZ2UxLmhlaWdodCgpLFxuXHRcdFx0XHRcdGMgPSB0aGlzLnNsaWRlci5pbWFnZTEuZmluZChcImRpdi50aWxlXCIpO1xuXHRcdFx0XHR0aGlzLnNsaWRlci5pbWFnZTIuaGlkZSgpLCBjLmxhc3QoKS50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKGIpIHtcblx0XHRcdFx0XHRhLnNsaWRlci5pbWFnZTEuY3NzMyh7XG5cdFx0XHRcdFx0XHRcInRyYW5zZm9ybS1zdHlsZVwiOiBcImZsYXRcIlxuXHRcdFx0XHRcdH0pLCBhLnNsaWRlci5pbWFnZTIuc2hvdygpLCBhLmZpbmlzaGVkKClcblx0XHRcdFx0fSksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Yy5jc3MzKHtcblx0XHRcdFx0XHRcdHRyYW5zZm9ybTogZmx1eC5icm93c2VyLnJvdGF0ZVgoLTkwKSArIFwiIFwiICsgZmx1eC5icm93c2VyLnRyYW5zbGF0ZSgwLCBiIC8gMiwgYiAvIDIpXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fSwgNTApXG5cdFx0XHR9XG5cdFx0fSwgYykpXG5cdH1cbn0od2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG8pLCBmdW5jdGlvbihhKSB7XG5cdGZsdXgudHJhbnNpdGlvbnMuYmxpbmRzID0gZnVuY3Rpb24oYiwgYykge1xuXHRcdHJldHVybiBuZXcgZmx1eC50cmFuc2l0aW9ucy5iYXJzKGIsIGEuZXh0ZW5kKHtcblx0XHRcdGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgYiA9IHRoaXMsXG5cdFx0XHRcdFx0YyA9ICh0aGlzLnNsaWRlci5pbWFnZTEuaGVpZ2h0KCksIHRoaXMuc2xpZGVyLmltYWdlMS5maW5kKFwiZGl2LnRpbGVcIikpO1xuXHRcdFx0XHRhKGNbYy5sZW5ndGggLSAxXSkudHJhbnNpdGlvbkVuZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRiLmZpbmlzaGVkKClcblx0XHRcdFx0fSksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Yy5jc3Moe1xuXHRcdFx0XHRcdFx0b3BhY2l0eTogXCIwLjVcIlxuXHRcdFx0XHRcdH0pLmNzczMoe1xuXHRcdFx0XHRcdFx0dHJhbnNmb3JtOiBcInNjYWxleCgwLjAwMDEpXCJcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9LCA1MClcblx0XHRcdH1cblx0XHR9LCBjKSlcblx0fVxufSh3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0byksIGZ1bmN0aW9uKGEpIHtcblx0Zmx1eC50cmFuc2l0aW9ucy56aXAgPSBmdW5jdGlvbihiLCBjKSB7XG5cdFx0cmV0dXJuIG5ldyBmbHV4LnRyYW5zaXRpb25zLmJhcnMoYiwgYS5leHRlbmQoe1xuXHRcdFx0ZXhlY3V0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBiID0gdGhpcyxcblx0XHRcdFx0XHRjID0gdGhpcy5zbGlkZXIuaW1hZ2UxLmhlaWdodCgpLFxuXHRcdFx0XHRcdGQgPSB0aGlzLnNsaWRlci5pbWFnZTEuZmluZChcImRpdi50aWxlXCIpO1xuXHRcdFx0XHRhKGRbZC5sZW5ndGggLSAxXSkudHJhbnNpdGlvbkVuZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRiLmZpbmlzaGVkKClcblx0XHRcdFx0fSksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZC5lYWNoKGZ1bmN0aW9uKGIsIGQpIHtcblx0XHRcdFx0XHRcdGEoZCkuY3NzKHtcblx0XHRcdFx0XHRcdFx0b3BhY2l0eTogXCIwLjNcIlxuXHRcdFx0XHRcdFx0fSkuY3NzMyh7XG5cdFx0XHRcdFx0XHRcdHRyYW5zZm9ybTogZmx1eC5icm93c2VyLnRyYW5zbGF0ZSgwLCBiICUgMiA/IFwiLVwiICsgMiAqIGMgOiBjKVxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9LCAyMClcblx0XHRcdH1cblx0XHR9LCBjKSlcblx0fVxufSh3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0byksIGZ1bmN0aW9uKGEpIHtcblx0Zmx1eC50cmFuc2l0aW9ucy5ibG9ja3MgPSBmdW5jdGlvbihiLCBjKSB7XG5cdFx0cmV0dXJuIG5ldyBmbHV4LnRyYW5zaXRpb25fZ3JpZChiLCBhLmV4dGVuZCh7XG5cdFx0XHRmb3JjZVNxdWFyZTogITAsXG5cdFx0XHRkZWxheUJldHdlZW5CYXJzOiAxMDAsXG5cdFx0XHRyZW5kZXJUaWxlOiBmdW5jdGlvbihiLCBjLCBkLCBlLCBmLCBnLCBoKSB7XG5cdFx0XHRcdHZhciBpID0gTWF0aC5mbG9vcigxMCAqIE1hdGgucmFuZG9tKCkgKiB0aGlzLm9wdGlvbnMuZGVsYXlCZXR3ZWVuQmFycyk7XG5cdFx0XHRcdGEoYikuY3NzKHtcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiB0aGlzLnNsaWRlci5pbWFnZTEuY3NzKFwiYmFja2dyb3VuZFwiKSxcblx0XHRcdFx0XHRcImJhY2tncm91bmQtc2l6ZVwiOiB0aGlzLnNsaWRlci53aWR0aCArIFwicHggXCIgKyB0aGlzLnNsaWRlci5oZWlnaHQgKyBcInB4XCIsXG5cdFx0XHRcdFx0XCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6IFwiLVwiICsgZyArIFwicHggLVwiICsgaCArIFwicHhcIlxuXHRcdFx0XHR9KS5jc3MzKHtcblx0XHRcdFx0XHRcInRyYW5zaXRpb24tZHVyYXRpb25cIjogXCIzNTBtc1wiLFxuXHRcdFx0XHRcdFwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cIjogXCJlYXNlLWluXCIsXG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLXByb3BlcnR5XCI6IFwiYWxsXCIsXG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLWRlbGF5XCI6IGkgKyBcIm1zXCJcblx0XHRcdFx0fSksIHZvaWQgMCA9PT0gdGhpcy5tYXhEZWxheSAmJiAodGhpcy5tYXhEZWxheSA9IDApLCBpID4gdGhpcy5tYXhEZWxheSAmJiAodGhpcy5tYXhEZWxheSA9IGksIHRoaXMubWF4RGVsYXlUaWxlID0gYilcblx0XHRcdH0sXG5cdFx0XHRleGVjdXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGIgPSB0aGlzLFxuXHRcdFx0XHRcdGMgPSB0aGlzLnNsaWRlci5pbWFnZTEuZmluZChcImRpdi50aWxlXCIpO1xuXHRcdFx0XHR0aGlzLm1heERlbGF5VGlsZS50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGIuZmluaXNoZWQoKVxuXHRcdFx0XHR9KSwgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRjLmVhY2goZnVuY3Rpb24oYiwgYykge1xuXHRcdFx0XHRcdFx0YShjKS5jc3Moe1xuXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBcIjBcIlxuXHRcdFx0XHRcdFx0fSkuY3NzMyh7XG5cdFx0XHRcdFx0XHRcdHRyYW5zZm9ybTogXCJzY2FsZSgwLjgpXCJcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fSwgNTApXG5cdFx0XHR9XG5cdFx0fSwgYykpXG5cdH1cbn0od2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG8pLCBmdW5jdGlvbihhKSB7XG5cdGZsdXgudHJhbnNpdGlvbnMuYmxvY2tzMiA9IGZ1bmN0aW9uKGIsIGMpIHtcblx0XHRyZXR1cm4gbmV3IGZsdXgudHJhbnNpdGlvbl9ncmlkKGIsIGEuZXh0ZW5kKHtcblx0XHRcdGNvbHM6IDEyLFxuXHRcdFx0Zm9yY2VTcXVhcmU6ICEwLFxuXHRcdFx0ZGVsYXlCZXR3ZWVuRGlhZ25vbHM6IDE1MCxcblx0XHRcdHJlbmRlclRpbGU6IGZ1bmN0aW9uKGIsIGMsIGQsIGUsIGYsIGcsIGgpIHtcblx0XHRcdFx0TWF0aC5mbG9vcigxMCAqIE1hdGgucmFuZG9tKCkgKiB0aGlzLm9wdGlvbnMuZGVsYXlCZXR3ZWVuQmFycyk7XG5cdFx0XHRcdGEoYikuY3NzKHtcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiB0aGlzLnNsaWRlci5pbWFnZTEuY3NzKFwiYmFja2dyb3VuZFwiKSxcblx0XHRcdFx0XHRcImJhY2tncm91bmQtc2l6ZVwiOiB0aGlzLnNsaWRlci53aWR0aCArIFwicHggXCIgKyB0aGlzLnNsaWRlci5oZWlnaHQgKyBcInB4XCIsXG5cdFx0XHRcdFx0XCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6IFwiLVwiICsgZyArIFwicHggLVwiICsgaCArIFwicHhcIlxuXHRcdFx0XHR9KS5jc3MzKHtcblx0XHRcdFx0XHRcInRyYW5zaXRpb24tZHVyYXRpb25cIjogXCIzNTBtc1wiLFxuXHRcdFx0XHRcdFwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cIjogXCJlYXNlLWluXCIsXG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLXByb3BlcnR5XCI6IFwiYWxsXCIsXG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLWRlbGF5XCI6IChjICsgZCkgKiB0aGlzLm9wdGlvbnMuZGVsYXlCZXR3ZWVuRGlhZ25vbHMgKyBcIm1zXCIsXG5cdFx0XHRcdFx0XCJiYWNrZmFjZS12aXNpYmlsaXR5XCI6IFwiaGlkZGVuXCJcblx0XHRcdFx0fSlcblx0XHRcdH0sXG5cdFx0XHRleGVjdXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGIgPSB0aGlzLFxuXHRcdFx0XHRcdGMgPSB0aGlzLnNsaWRlci5pbWFnZTEuZmluZChcImRpdi50aWxlXCIpO1xuXHRcdFx0XHRjLmxhc3QoKS50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGIuZmluaXNoZWQoKVxuXHRcdFx0XHR9KSwgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRjLmVhY2goZnVuY3Rpb24oYiwgYykge1xuXHRcdFx0XHRcdFx0YShjKS5jc3Moe1xuXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBcIjBcIlxuXHRcdFx0XHRcdFx0fSkuY3NzMyh7XG5cdFx0XHRcdFx0XHRcdHRyYW5zZm9ybTogXCJzY2FsZSgwLjgpXCJcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fSwgNTApXG5cdFx0XHR9XG5cdFx0fSwgYykpXG5cdH1cbn0od2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG8pLCBmdW5jdGlvbihhKSB7XG5cdGZsdXgudHJhbnNpdGlvbnMuY3ViZSA9IGZ1bmN0aW9uKGIsIGMpIHtcblx0XHRyZXR1cm4gbmV3IGZsdXgudHJhbnNpdGlvbihiLCBhLmV4dGVuZCh7XG5cdFx0XHRyZXF1aXJlczNkOiAhMCxcblx0XHRcdGJhcldpZHRoOiAxMDAsXG5cdFx0XHRkaXJlY3Rpb246IFwibGVmdFwiLFxuXHRcdFx0cGVyc3BlY3RpdmU6IDFlMyxcblx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGIgPSB0aGlzLnNsaWRlci5pbWFnZTEud2lkdGgoKSxcblx0XHRcdFx0XHRjID0gdGhpcy5zbGlkZXIuaW1hZ2UxLmhlaWdodCgpO1xuXHRcdFx0XHR0aGlzLnNsaWRlci5pbWFnZTEuY3NzMyh7XG5cdFx0XHRcdFx0cGVyc3BlY3RpdmU6IHRoaXMub3B0aW9ucy5wZXJzcGVjdGl2ZSxcblx0XHRcdFx0XHRcInBlcnNwZWN0aXZlLW9yaWdpblwiOiBcIjUwJSA1MCVcIlxuXHRcdFx0XHR9KSwgdGhpcy5jdWJlQ29udGFpbmVyID0gYSgnPGRpdiBjbGFzcz1cImN1YmVcIj48L2Rpdj4nKS5jc3Moe1xuXHRcdFx0XHRcdHdpZHRoOiBiICsgXCJweFwiLFxuXHRcdFx0XHRcdGhlaWdodDogYyArIFwicHhcIixcblx0XHRcdFx0XHRwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXG5cdFx0XHRcdH0pLmNzczMoe1xuXHRcdFx0XHRcdFwidHJhbnNpdGlvbi1kdXJhdGlvblwiOiBcIjgwMG1zXCIsXG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblwiOiBcImxpbmVhclwiLFxuXHRcdFx0XHRcdFwidHJhbnNpdGlvbi1wcm9wZXJ0eVwiOiBcImFsbFwiLFxuXHRcdFx0XHRcdFwidHJhbnNmb3JtLXN0eWxlXCI6IFwicHJlc2VydmUtM2RcIlxuXHRcdFx0XHR9KTtcblx0XHRcdFx0dmFyIGQgPSB7XG5cdFx0XHRcdFx0aGVpZ2h0OiBcIjEwMCVcIixcblx0XHRcdFx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHR0b3A6IFwiMHB4XCIsXG5cdFx0XHRcdFx0bGVmdDogXCIwcHhcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcdGUgPSBhKCc8ZGl2IGNsYXNzPVwiZmFjZSBjdXJyZW50XCI+PC9kaXY+JykuY3NzKGEuZXh0ZW5kKGQsIHtcblx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IHRoaXMuc2xpZGVyLmltYWdlMS5jc3MoXCJiYWNrZ3JvdW5kXCIpLFxuXHRcdFx0XHRcdFx0XCJiYWNrZ3JvdW5kLXNpemVcIjogdGhpcy5zbGlkZXIud2lkdGggKyBcInB4IFwiICsgdGhpcy5zbGlkZXIuaGVpZ2h0ICsgXCJweFwiXG5cdFx0XHRcdFx0fSkpLmNzczMoe1xuXHRcdFx0XHRcdFx0XCJiYWNrZmFjZS12aXNpYmlsaXR5XCI6IFwiaGlkZGVuXCJcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0dGhpcy5jdWJlQ29udGFpbmVyLmFwcGVuZChlKTtcblx0XHRcdFx0dmFyIGYgPSBhKCc8ZGl2IGNsYXNzPVwiZmFjZSBuZXh0XCI+PC9kaXY+JykuY3NzKGEuZXh0ZW5kKGQsIHtcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiB0aGlzLnNsaWRlci5pbWFnZTIuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiKVxuXHRcdFx0XHR9KSkuY3NzMyh7XG5cdFx0XHRcdFx0dHJhbnNmb3JtOiB0aGlzLm9wdGlvbnMudHJhbnNpdGlvblN0cmluZ3MuY2FsbCh0aGlzLCB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uLCBcIm5leHRGYWNlXCIpLFxuXHRcdFx0XHRcdFwiYmFja2ZhY2UtdmlzaWJpbGl0eVwiOiBcImhpZGRlblwiXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHR0aGlzLmN1YmVDb250YWluZXIuYXBwZW5kKGYpLCB0aGlzLnNsaWRlci5pbWFnZTEuYXBwZW5kKHRoaXMuY3ViZUNvbnRhaW5lcilcblx0XHRcdH0sXG5cdFx0XHRleGVjdXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGEgPSB0aGlzO1xuXHRcdFx0XHR0aGlzLnNsaWRlci5pbWFnZTEud2lkdGgoKSwgdGhpcy5zbGlkZXIuaW1hZ2UxLmhlaWdodCgpO1xuXHRcdFx0XHR0aGlzLnNsaWRlci5pbWFnZTIuaGlkZSgpLCB0aGlzLmN1YmVDb250YWluZXIudHJhbnNpdGlvbkVuZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRhLnNsaWRlci5pbWFnZTIuc2hvdygpLCBhLmZpbmlzaGVkKClcblx0XHRcdFx0fSksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0YS5jdWJlQ29udGFpbmVyLmNzczMoe1xuXHRcdFx0XHRcdFx0dHJhbnNmb3JtOiBhLm9wdGlvbnMudHJhbnNpdGlvblN0cmluZ3MuY2FsbChhLCBhLm9wdGlvbnMuZGlyZWN0aW9uLCBcImNvbnRhaW5lclwiKVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH0sIDUwKVxuXHRcdFx0fSxcblx0XHRcdHRyYW5zaXRpb25TdHJpbmdzOiBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRcdHZhciBjID0gdGhpcy5zbGlkZXIuaW1hZ2UxLndpZHRoKCksXG5cdFx0XHRcdFx0ZCA9IHRoaXMuc2xpZGVyLmltYWdlMS5oZWlnaHQoKSxcblx0XHRcdFx0XHRlID0ge1xuXHRcdFx0XHRcdFx0dXA6IHtcblx0XHRcdFx0XHRcdFx0bmV4dEZhY2U6IGZsdXguYnJvd3Nlci5yb3RhdGVYKC05MCkgKyBcIiBcIiArIGZsdXguYnJvd3Nlci50cmFuc2xhdGUoMCwgZCAvIDIsIGQgLyAyKSxcblx0XHRcdFx0XHRcdFx0Y29udGFpbmVyOiBmbHV4LmJyb3dzZXIucm90YXRlWCg5MCkgKyBcIiBcIiArIGZsdXguYnJvd3Nlci50cmFuc2xhdGUoMCwgLWQgLyAyLCBkIC8gMilcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRkb3duOiB7XG5cdFx0XHRcdFx0XHRcdG5leHRGYWNlOiBmbHV4LmJyb3dzZXIucm90YXRlWCg5MCkgKyBcIiBcIiArIGZsdXguYnJvd3Nlci50cmFuc2xhdGUoMCwgLWQgLyAyLCBkIC8gMiksXG5cdFx0XHRcdFx0XHRcdGNvbnRhaW5lcjogZmx1eC5icm93c2VyLnJvdGF0ZVgoLTkwKSArIFwiIFwiICsgZmx1eC5icm93c2VyLnRyYW5zbGF0ZSgwLCBkIC8gMiwgZCAvIDIpXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0bGVmdDoge1xuXHRcdFx0XHRcdFx0XHRuZXh0RmFjZTogZmx1eC5icm93c2VyLnJvdGF0ZVkoOTApICsgXCIgXCIgKyBmbHV4LmJyb3dzZXIudHJhbnNsYXRlKGMgLyAyLCAwLCBjIC8gMiksXG5cdFx0XHRcdFx0XHRcdGNvbnRhaW5lcjogZmx1eC5icm93c2VyLnJvdGF0ZVkoLTkwKSArIFwiIFwiICsgZmx1eC5icm93c2VyLnRyYW5zbGF0ZSgtYyAvIDIsIDAsIGMgLyAyKVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHJpZ2h0OiB7XG5cdFx0XHRcdFx0XHRcdG5leHRGYWNlOiBmbHV4LmJyb3dzZXIucm90YXRlWSgtOTApICsgXCIgXCIgKyBmbHV4LmJyb3dzZXIudHJhbnNsYXRlKC1jIC8gMiwgMCwgYyAvIDIpLFxuXHRcdFx0XHRcdFx0XHRjb250YWluZXI6IGZsdXguYnJvd3Nlci5yb3RhdGVZKDkwKSArIFwiIFwiICsgZmx1eC5icm93c2VyLnRyYW5zbGF0ZShjIC8gMiwgMCwgYyAvIDIpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0cmV0dXJuIGVbYV0gJiYgZVthXVtiXSA/IGVbYV1bYl0gOiAhMVxuXHRcdFx0fVxuXHRcdH0sIGMpKVxuXHR9XG59KHdpbmRvdy5qUXVlcnkgfHwgd2luZG93LlplcHRvKSwgZnVuY3Rpb24oYSkge1xuXHRmbHV4LnRyYW5zaXRpb25zLnRpbGVzM2QgPSBmdW5jdGlvbihiLCBjKSB7XG5cdFx0cmV0dXJuIG5ldyBmbHV4LnRyYW5zaXRpb25fZ3JpZChiLCBhLmV4dGVuZCh7XG5cdFx0XHRyZXF1aXJlczNkOiAhMCxcblx0XHRcdGZvcmNlU3F1YXJlOiAhMCxcblx0XHRcdGNvbHVtbnM6IDUsXG5cdFx0XHRwZXJzcGVjdGl2ZTogNjAwLFxuXHRcdFx0ZGVsYXlCZXR3ZWVuQmFyc1g6IDIwMCxcblx0XHRcdGRlbGF5QmV0d2VlbkJhcnNZOiAxNTAsXG5cdFx0XHRyZW5kZXJUaWxlOiBmdW5jdGlvbihiLCBjLCBkLCBlLCBmLCBnLCBoKSB7XG5cdFx0XHRcdHZhciBpID0gYShcIjxkaXY+PC9kaXY+XCIpLmNzcyh7XG5cdFx0XHRcdFx0d2lkdGg6IGUgKyBcInB4XCIsXG5cdFx0XHRcdFx0aGVpZ2h0OiBmICsgXCJweFwiLFxuXHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0dG9wOiBcIjBweFwiLFxuXHRcdFx0XHRcdGxlZnQ6IFwiMHB4XCIsXG5cdFx0XHRcdFx0YmFja2dyb3VuZDogdGhpcy5zbGlkZXIuaW1hZ2UxLmNzcyhcImJhY2tncm91bmRcIiksXG5cdFx0XHRcdFx0XCJiYWNrZ3JvdW5kLXNpemVcIjogdGhpcy5zbGlkZXIud2lkdGggKyBcInB4IFwiICsgdGhpcy5zbGlkZXIuaGVpZ2h0ICsgXCJweFwiLFxuXHRcdFx0XHRcdFwiYmFja2dyb3VuZC1wb3NpdGlvblwiOiBcIi1cIiArIGcgKyBcInB4IC1cIiArIGggKyBcInB4XCIsXG5cdFx0XHRcdFx0XCJiYWNrZ3JvdW5kLXJlcGVhdFwiOiBcIm5vLXJlcGVhdFwiLFxuXHRcdFx0XHRcdFwiLW1vei10cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGVaKDFweClcIlxuXHRcdFx0XHR9KS5jc3MzKHtcblx0XHRcdFx0XHRcImJhY2tmYWNlLXZpc2liaWxpdHlcIjogXCJoaWRkZW5cIlxuXHRcdFx0XHR9KSxcblx0XHRcdFx0XHRqID0gYShpLmdldCgwKS5jbG9uZU5vZGUoITEpKS5jc3Moe1xuXHRcdFx0XHRcdFx0XCJiYWNrZ3JvdW5kLWltYWdlXCI6IHRoaXMuc2xpZGVyLmltYWdlMi5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIpXG5cdFx0XHRcdFx0fSkuY3NzMyh7XG5cdFx0XHRcdFx0XHR0cmFuc2Zvcm06IGZsdXguYnJvd3Nlci5yb3RhdGVZKDE4MCksXG5cdFx0XHRcdFx0XHRcImJhY2tmYWNlLXZpc2liaWxpdHlcIjogXCJoaWRkZW5cIlxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRhKGIpLmNzcyh7XG5cdFx0XHRcdFx0XCJ6LWluZGV4XCI6IChjID4gdGhpcy5vcHRpb25zLmNvbHVtbnMgLyAyID8gNTAwIC0gYyA6IDUwMCkgKyAoZCA+IHRoaXMub3B0aW9ucy5yb3dzIC8gMiA/IDUwMCAtIGQgOiA1MDApXG5cdFx0XHRcdH0pLmNzczMoe1xuXHRcdFx0XHRcdFwidHJhbnNpdGlvbi1kdXJhdGlvblwiOiBcIjgwMG1zXCIsXG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblwiOiBcImVhc2Utb3V0XCIsXG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLXByb3BlcnR5XCI6IFwiYWxsXCIsXG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLWRlbGF5XCI6IGMgKiB0aGlzLm9wdGlvbnMuZGVsYXlCZXR3ZWVuQmFyc1ggKyBkICogdGhpcy5vcHRpb25zLmRlbGF5QmV0d2VlbkJhcnNZICsgXCJtc1wiLFxuXHRcdFx0XHRcdFwidHJhbnNmb3JtLXN0eWxlXCI6IFwicHJlc2VydmUtM2RcIlxuXHRcdFx0XHR9KS5hcHBlbmQoaSkuYXBwZW5kKGopXG5cdFx0XHR9LFxuXHRcdFx0ZXhlY3V0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuc2xpZGVyLmltYWdlMS5jc3MzKHtcblx0XHRcdFx0XHRwZXJzcGVjdGl2ZTogdGhpcy5vcHRpb25zLnBlcnNwZWN0aXZlLFxuXHRcdFx0XHRcdFwicGVyc3BlY3RpdmUtb3JpZ2luXCI6IFwiNTAlIDUwJVwiXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHR2YXIgYSA9IHRoaXMsXG5cdFx0XHRcdFx0YiA9IHRoaXMuc2xpZGVyLmltYWdlMS5maW5kKFwiZGl2LnRpbGVcIik7XG5cdFx0XHRcdHRoaXMuc2xpZGVyLmltYWdlMi5oaWRlKCksIGIubGFzdCgpLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24oYikge1xuXHRcdFx0XHRcdGEuc2xpZGVyLmltYWdlMi5zaG93KCksIGEuZmluaXNoZWQoKVxuXHRcdFx0XHR9KSwgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRiLmNzczMoe1xuXHRcdFx0XHRcdFx0dHJhbnNmb3JtOiBmbHV4LmJyb3dzZXIucm90YXRlWSgxODApXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fSwgNTApXG5cdFx0XHR9XG5cdFx0fSwgYykpXG5cdH1cbn0od2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG8pLCBmdW5jdGlvbihhKSB7XG5cdGZsdXgudHJhbnNpdGlvbnMudHVybiA9IGZ1bmN0aW9uKGIsIGMpIHtcblx0XHRyZXR1cm4gbmV3IGZsdXgudHJhbnNpdGlvbihiLCBhLmV4dGVuZCh7XG5cdFx0XHRyZXF1aXJlczNkOiAhMCxcblx0XHRcdHBlcnNwZWN0aXZlOiAxMzAwLFxuXHRcdFx0ZGlyZWN0aW9uOiBcImxlZnRcIixcblx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGIgPSBhKCc8ZGl2IGNsYXNzPVwidGFiXCI+PC9kaXY+JykuY3NzKHtcblx0XHRcdFx0XHR3aWR0aDogXCI1MCVcIixcblx0XHRcdFx0XHRoZWlnaHQ6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0dG9wOiBcIjBweFwiLFxuXHRcdFx0XHRcdGxlZnQ6IFwibGVmdFwiID09IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPyBcIjUwJVwiIDogXCIwJVwiLFxuXHRcdFx0XHRcdFwiei1pbmRleFwiOiAxMDFcblx0XHRcdFx0fSkuY3NzMyh7XG5cdFx0XHRcdFx0XCJ0cmFuc2Zvcm0tc3R5bGVcIjogXCJwcmVzZXJ2ZS0zZFwiLFxuXHRcdFx0XHRcdFwidHJhbnNpdGlvbi1kdXJhdGlvblwiOiBcIjEwMDBtc1wiLFxuXHRcdFx0XHRcdFwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cIjogXCJlYXNlLW91dFwiLFxuXHRcdFx0XHRcdFwidHJhbnNpdGlvbi1wcm9wZXJ0eVwiOiBcImFsbFwiLFxuXHRcdFx0XHRcdFwidHJhbnNmb3JtLW9yaWdpblwiOiBcImxlZnRcIiA9PSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID8gXCJsZWZ0IGNlbnRlclwiIDogXCJyaWdodCBjZW50ZXJcIlxuXHRcdFx0XHR9KSxcblx0XHRcdFx0XHRjID0gKGEoXCI8ZGl2PjwvZGl2PlwiKS5hcHBlbmRUbyhiKS5jc3Moe1xuXHRcdFx0XHRcdFx0YmFja2dyb3VuZDogdGhpcy5zbGlkZXIuaW1hZ2UxLmNzcyhcImJhY2tncm91bmRcIiksXG5cdFx0XHRcdFx0XHRcImJhY2tncm91bmQtc2l6ZVwiOiB0aGlzLnNsaWRlci53aWR0aCArIFwicHggXCIgKyB0aGlzLnNsaWRlci5oZWlnaHQgKyBcInB4XCIsXG5cdFx0XHRcdFx0XHRcImJhY2tncm91bmQtcG9zaXRpb25cIjogKFwibGVmdFwiID09IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPyBcIi1cIiArIHRoaXMuc2xpZGVyLmltYWdlMS53aWR0aCgpIC8gMiA6IDApICsgXCJweCAwXCIsXG5cdFx0XHRcdFx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHRcdHRvcDogXCIwXCIsXG5cdFx0XHRcdFx0XHRsZWZ0OiBcIjBcIixcblx0XHRcdFx0XHRcdFwiLW1vei10cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGVaKDFweClcIlxuXHRcdFx0XHRcdH0pLmNzczMoe1xuXHRcdFx0XHRcdFx0XCJiYWNrZmFjZS12aXNpYmlsaXR5XCI6IFwiaGlkZGVuXCJcblx0XHRcdFx0XHR9KSwgYShcIjxkaXY+PC9kaXY+XCIpLmFwcGVuZFRvKGIpLmNzcyh7XG5cdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiB0aGlzLnNsaWRlci5pbWFnZTIuY3NzKFwiYmFja2dyb3VuZFwiKSxcblx0XHRcdFx0XHRcdFwiYmFja2dyb3VuZC1zaXplXCI6IHRoaXMuc2xpZGVyLndpZHRoICsgXCJweCBcIiArIHRoaXMuc2xpZGVyLmhlaWdodCArIFwicHhcIixcblx0XHRcdFx0XHRcdFwiYmFja2dyb3VuZC1wb3NpdGlvblwiOiAoXCJsZWZ0XCIgPT0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA/IDAgOiBcIi1cIiArIHRoaXMuc2xpZGVyLmltYWdlMS53aWR0aCgpIC8gMikgKyBcInB4IDBcIixcblx0XHRcdFx0XHRcdHdpZHRoOiBcIjEwMCVcIixcblx0XHRcdFx0XHRcdGhlaWdodDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdFx0dG9wOiBcIjBcIixcblx0XHRcdFx0XHRcdGxlZnQ6IFwiMFwiXG5cdFx0XHRcdFx0fSkuY3NzMyh7XG5cdFx0XHRcdFx0XHR0cmFuc2Zvcm06IGZsdXguYnJvd3Nlci5yb3RhdGVZKDE4MCksXG5cdFx0XHRcdFx0XHRcImJhY2tmYWNlLXZpc2liaWxpdHlcIjogXCJoaWRkZW5cIlxuXHRcdFx0XHRcdH0pLCBhKFwiPGRpdj48L2Rpdj5cIikuY3NzKHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0XHR0b3A6IFwiMFwiLFxuXHRcdFx0XHRcdFx0bGVmdDogXCJsZWZ0XCIgPT0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA/IFwiMFwiIDogXCI1MCVcIixcblx0XHRcdFx0XHRcdHdpZHRoOiBcIjUwJVwiLFxuXHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjEwMCVcIixcblx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IHRoaXMuc2xpZGVyLmltYWdlMS5jc3MoXCJiYWNrZ3JvdW5kXCIpLFxuXHRcdFx0XHRcdFx0XCJiYWNrZ3JvdW5kLXNpemVcIjogdGhpcy5zbGlkZXIud2lkdGggKyBcInB4IFwiICsgdGhpcy5zbGlkZXIuaGVpZ2h0ICsgXCJweFwiLFxuXHRcdFx0XHRcdFx0XCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6IChcImxlZnRcIiA9PSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID8gMCA6IFwiLVwiICsgdGhpcy5zbGlkZXIuaW1hZ2UxLndpZHRoKCkgLyAyKSArIFwicHggMFwiLFxuXHRcdFx0XHRcdFx0XCJ6LWluZGV4XCI6IDEwMFxuXHRcdFx0XHRcdH0pKSxcblx0XHRcdFx0XHRkID0gYSgnPGRpdiBjbGFzcz1cIm92ZXJsYXlcIj48L2Rpdj4nKS5jc3Moe1xuXHRcdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHRcdHRvcDogXCIwXCIsXG5cdFx0XHRcdFx0XHRsZWZ0OiBcImxlZnRcIiA9PSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID8gXCI1MCVcIiA6IFwiMFwiLFxuXHRcdFx0XHRcdFx0d2lkdGg6IFwiNTAlXCIsXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdFx0YmFja2dyb3VuZDogXCIjMDAwXCIsXG5cdFx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdFx0fSkuY3NzMyh7XG5cdFx0XHRcdFx0XHRcInRyYW5zaXRpb24tZHVyYXRpb25cIjogXCI4MDBtc1wiLFxuXHRcdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblwiOiBcImxpbmVhclwiLFxuXHRcdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLXByb3BlcnR5XCI6IFwib3BhY2l0eVwiXG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0ZSA9IGEoXCI8ZGl2PjwvZGl2PlwiKS5jc3MzKHtcblx0XHRcdFx0XHRcdHdpZHRoOiBcIjEwMCVcIixcblx0XHRcdFx0XHRcdGhlaWdodDogXCIxMDAlXCJcblx0XHRcdFx0XHR9KS5jc3MzKHtcblx0XHRcdFx0XHRcdHBlcnNwZWN0aXZlOiB0aGlzLm9wdGlvbnMucGVyc3BlY3RpdmUsXG5cdFx0XHRcdFx0XHRcInBlcnNwZWN0aXZlLW9yaWdpblwiOiBcIjUwJSA1MCVcIlxuXHRcdFx0XHRcdH0pLmFwcGVuZChiKS5hcHBlbmQoYykuYXBwZW5kKGQpO1xuXHRcdFx0XHR0aGlzLnNsaWRlci5pbWFnZTEuYXBwZW5kKGUpXG5cdFx0XHR9LFxuXHRcdFx0ZXhlY3V0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBhID0gdGhpcztcblx0XHRcdFx0dGhpcy5zbGlkZXIuaW1hZ2UxLmZpbmQoXCJkaXYudGFiXCIpLmZpcnN0KCkudHJhbnNpdGlvbkVuZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRhLmZpbmlzaGVkKClcblx0XHRcdFx0fSksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0YS5zbGlkZXIuaW1hZ2UxLmZpbmQoXCJkaXYudGFiXCIpLmNzczMoe1xuXHRcdFx0XHRcdFx0dHJhbnNmb3JtOiBmbHV4LmJyb3dzZXIucm90YXRlWShcImxlZnRcIiA9PSBhLm9wdGlvbnMuZGlyZWN0aW9uID8gLTE3OSA6IDE3OSlcblx0XHRcdFx0XHR9KSwgYS5zbGlkZXIuaW1hZ2UxLmZpbmQoXCJkaXYub3ZlcmxheVwiKS5jc3Moe1xuXHRcdFx0XHRcdFx0b3BhY2l0eTogMFxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH0sIDUwKVxuXHRcdFx0fVxuXHRcdH0sIGMpKVxuXHR9XG59KHdpbmRvdy5qUXVlcnkgfHwgd2luZG93LlplcHRvKSwgZnVuY3Rpb24oYSkge1xuXHRmbHV4LnRyYW5zaXRpb25zLnNsaWRlID0gZnVuY3Rpb24oYiwgYykge1xuXHRcdHJldHVybiBuZXcgZmx1eC50cmFuc2l0aW9uKGIsIGEuZXh0ZW5kKHtcblx0XHRcdGRpcmVjdGlvbjogXCJsZWZ0XCIsXG5cdFx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBiID0gdGhpcy5zbGlkZXIuaW1hZ2UxLndpZHRoKCksXG5cdFx0XHRcdFx0YyA9IHRoaXMuc2xpZGVyLmltYWdlMS5oZWlnaHQoKSxcblx0XHRcdFx0XHRkID0gYSgnPGRpdiBjbGFzcz1cImN1cnJlbnRcIj48L2Rpdj4nKS5jc3Moe1xuXHRcdFx0XHRcdFx0aGVpZ2h0OiBjICsgXCJweFwiLFxuXHRcdFx0XHRcdFx0d2lkdGg6IGIgKyBcInB4XCIsXG5cdFx0XHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdFx0dG9wOiBcIjBweFwiLFxuXHRcdFx0XHRcdFx0bGVmdDogXCIwcHhcIixcblx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IHRoaXMuc2xpZGVyW1wibGVmdFwiID09IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPyBcImltYWdlMVwiIDogXCJpbWFnZTJcIl0uY3NzKFwiYmFja2dyb3VuZFwiKVxuXHRcdFx0XHRcdH0pLmNzczMoe1xuXHRcdFx0XHRcdFx0XCJiYWNrZmFjZS12aXNpYmlsaXR5XCI6IFwiaGlkZGVuXCJcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRlID0gYSgnPGRpdiBjbGFzcz1cIm5leHRcIj48L2Rpdj4nKS5jc3Moe1xuXHRcdFx0XHRcdFx0aGVpZ2h0OiBjICsgXCJweFwiLFxuXHRcdFx0XHRcdFx0d2lkdGg6IGIgKyBcInB4XCIsXG5cdFx0XHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdFx0dG9wOiBcIjBweFwiLFxuXHRcdFx0XHRcdFx0bGVmdDogYiArIFwicHhcIixcblx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IHRoaXMuc2xpZGVyW1wibGVmdFwiID09IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPyBcImltYWdlMlwiIDogXCJpbWFnZTFcIl0uY3NzKFwiYmFja2dyb3VuZFwiKVxuXHRcdFx0XHRcdH0pLmNzczMoe1xuXHRcdFx0XHRcdFx0XCJiYWNrZmFjZS12aXNpYmlsaXR5XCI6IFwiaGlkZGVuXCJcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0dGhpcy5zbGlkZUNvbnRhaW5lciA9IGEoJzxkaXYgY2xhc3M9XCJzbGlkZVwiPjwvZGl2PicpLmNzcyh7XG5cdFx0XHRcdFx0d2lkdGg6IDIgKiBiICsgXCJweFwiLFxuXHRcdFx0XHRcdGhlaWdodDogYyArIFwicHhcIixcblx0XHRcdFx0XHRwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuXHRcdFx0XHRcdGxlZnQ6IFwibGVmdFwiID09IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPyBcIjBweFwiIDogLWIgKyBcInB4XCIsXG5cdFx0XHRcdFx0XCJ6LWluZGV4XCI6IDEwMVxuXHRcdFx0XHR9KS5jc3MzKHtcblx0XHRcdFx0XHRcInRyYW5zaXRpb24tZHVyYXRpb25cIjogXCI2MDBtc1wiLFxuXHRcdFx0XHRcdFwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cIjogXCJlYXNlLWluXCIsXG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLXByb3BlcnR5XCI6IFwiYWxsXCJcblx0XHRcdFx0fSksIHRoaXMuc2xpZGVDb250YWluZXIuYXBwZW5kKGQpLmFwcGVuZChlKSwgdGhpcy5zbGlkZXIuaW1hZ2UxLmFwcGVuZCh0aGlzLnNsaWRlQ29udGFpbmVyKVxuXHRcdFx0fSxcblx0XHRcdGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgYSA9IHRoaXMsXG5cdFx0XHRcdFx0YiA9IHRoaXMuc2xpZGVyLmltYWdlMS53aWR0aCgpO1xuXHRcdFx0XHRcImxlZnRcIiA9PSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uICYmIChiID0gLWIpLCB0aGlzLnNsaWRlQ29udGFpbmVyLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0YS5maW5pc2hlZCgpXG5cdFx0XHRcdH0pLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGEuc2xpZGVDb250YWluZXIuY3NzMyh7XG5cdFx0XHRcdFx0XHR0cmFuc2Zvcm06IGZsdXguYnJvd3Nlci50cmFuc2xhdGUoYilcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9LCA1MClcblx0XHRcdH1cblx0XHR9LCBjKSlcblx0fVxufSh3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0byksIGZ1bmN0aW9uKGEpIHtcblx0Zmx1eC50cmFuc2l0aW9ucy5leHBsb2RlID0gZnVuY3Rpb24oYiwgYykge1xuXHRcdHJldHVybiBuZXcgZmx1eC50cmFuc2l0aW9uX2dyaWQoYiwgYS5leHRlbmQoe1xuXHRcdFx0Y29sdW1uczogNixcblx0XHRcdGZvcmNlU3F1YXJlOiAhMCxcblx0XHRcdGRlbGF5QmV0d2VlbkJhcnM6IDMwLFxuXHRcdFx0cGVyc3BlY3RpdmU6IDgwMCxcblx0XHRcdHJlcXVpcmVzM2Q6ICEwLFxuXHRcdFx0cmVuZGVyVGlsZTogZnVuY3Rpb24oYiwgYywgZCwgZSwgZiwgZywgaCkge1xuXHRcdFx0XHR2YXIgaSA9IE1hdGguZmxvb3IoMTAgKiBNYXRoLnJhbmRvbSgpICogdGhpcy5vcHRpb25zLmRlbGF5QmV0d2VlbkJhcnMpO1xuXHRcdFx0XHRhKGIpLmNzcyh7XG5cdFx0XHRcdFx0YmFja2dyb3VuZDogdGhpcy5zbGlkZXIuaW1hZ2UxLmNzcyhcImJhY2tncm91bmRcIiksXG5cdFx0XHRcdFx0XCJiYWNrZ3JvdW5kLXNpemVcIjogdGhpcy5zbGlkZXIud2lkdGggKyBcInB4IFwiICsgdGhpcy5zbGlkZXIuaGVpZ2h0ICsgXCJweFwiLFxuXHRcdFx0XHRcdFwiYmFja2dyb3VuZC1wb3NpdGlvblwiOiBcIi1cIiArIGcgKyBcInB4IC1cIiArIGggKyBcInB4XCJcblx0XHRcdFx0fSkuY3NzMyh7XG5cdFx0XHRcdFx0XCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCI6IFwiNTAwbXNcIixcblx0XHRcdFx0XHRcInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXCI6IFwiZWFzZS1pblwiLFxuXHRcdFx0XHRcdFwidHJhbnNpdGlvbi1wcm9wZXJ0eVwiOiBcImFsbFwiLFxuXHRcdFx0XHRcdFwidHJhbnNpdGlvbi1kZWxheVwiOiBpICsgXCJtc1wiXG5cdFx0XHRcdH0pLCB2b2lkIDAgPT09IHRoaXMubWF4RGVsYXkgJiYgKHRoaXMubWF4RGVsYXkgPSAwKSwgaSA+IHRoaXMubWF4RGVsYXkgJiYgKHRoaXMubWF4RGVsYXkgPSBpLCB0aGlzLm1heERlbGF5VGlsZSA9IGIpXG5cdFx0XHR9LFxuXHRcdFx0ZXhlY3V0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuc2xpZGVyLmltYWdlMS5jc3MzKHtcblx0XHRcdFx0XHRwZXJzcGVjdGl2ZTogdGhpcy5vcHRpb25zLnBlcnNwZWN0aXZlLFxuXHRcdFx0XHRcdFwicGVyc3BlY3RpdmUtb3JpZ2luXCI6IFwiNTAlIDUwJVwiXG5cdFx0XHRcdH0pLmNzcyh7XG5cdFx0XHRcdFx0XCItbW96LXRyYW5zZm9ybVwiOiBcInBlcnNwZWN0aXZlKFwiICsgdGhpcy5vcHRpb25zLnBlcnNwZWN0aXZlICsgXCJweClcIixcblx0XHRcdFx0XHRcIi1tb3otcGVyc3BlY3RpdmVcIjogXCJub25lXCIsXG5cdFx0XHRcdFx0XCItbW96LXRyYW5zZm9ybS1zdHlsZVwiOiBcInByZXNlcnZlLTNkXCJcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHZhciBiID0gdGhpcyxcblx0XHRcdFx0XHRjID0gdGhpcy5zbGlkZXIuaW1hZ2UxLmZpbmQoXCJkaXYudGlsZVwiKTtcblx0XHRcdFx0dGhpcy5tYXhEZWxheVRpbGUudHJhbnNpdGlvbkVuZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRiLnNsaWRlci5pbWFnZTEuY3NzMyh7XG5cdFx0XHRcdFx0XHRcInRyYW5zZm9ybS1zdHlsZVwiOiBcImZsYXRcIlxuXHRcdFx0XHRcdH0pLCBiLmZpbmlzaGVkKClcblx0XHRcdFx0fSksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Yy5lYWNoKGZ1bmN0aW9uKGIsIGMpIHtcblx0XHRcdFx0XHRcdGEoYykuY3NzKHtcblx0XHRcdFx0XHRcdFx0b3BhY2l0eTogXCIwXCJcblx0XHRcdFx0XHRcdH0pLmNzczMoe1xuXHRcdFx0XHRcdFx0XHR0cmFuc2Zvcm06IGZsdXguYnJvd3Nlci50cmFuc2xhdGUoMCwgMCwgNzAwKSArIFwiIHJvdGF0ZTNkKFwiICsgKE1hdGgucm91bmQoMiAqIE1hdGgucmFuZG9tKCkpIC0gMSkgKyBcIiwgXCIgKyAoTWF0aC5yb3VuZCgyICogTWF0aC5yYW5kb20oKSkgLSAxKSArIFwiLCBcIiArIChNYXRoLnJvdW5kKDIgKiBNYXRoLnJhbmRvbSgpKSAtIDEpICsgXCIsIDkwZGVnKSBcIlxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9LCA1MClcblx0XHRcdH1cblx0XHR9LCBjKSlcblx0fVxufSh3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0byksIGZ1bmN0aW9uKCkge1xuXHR3aW5kb3cuZXF4aXVTdmcgPSB7XG5cdFx0TkFNRVNQQUNFOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG5cdFx0U1lNQk9MUzoge30sXG5cdFx0Ym91bmRpbmdCb3g6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHZhciBiLCBjID0gYS5wYXJlbnROb2RlLFxuXHRcdFx0XHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGVxeGl1U3ZnLk5BTUVTUEFDRSwgXCJzdmdcIik7XG5cdFx0XHRyZXR1cm4gZC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBcIjBcIiksIGQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiMFwiKSwgZC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcInZpc2liaWxpdHk6IGhpZGRlbjsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDA7XCIpLCBkLmFwcGVuZENoaWxkKGEpLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGQpLCBiID0gYS5nZXRCQm94KCksIGMgPyBjLmFwcGVuZENoaWxkKGEpIDogZC5yZW1vdmVDaGlsZChhKSwgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkKSwgYlxuXHRcdH0sXG5cdFx0cG9pbnRzVG9Qb2x5Z29uOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRmb3IgKHZhciBiID0gW107IGEubGVuZ3RoID49IDI7KSBiLnB1c2goYS5zaGlmdCgpICsgXCIsXCIgKyBhLnNoaWZ0KCkpO1xuXHRcdFx0cmV0dXJuIGIuam9pbihcIiBcIilcblx0XHR9LFxuXHRcdHN5bWJvbDogZnVuY3Rpb24oYSwgYiwgYykge1xuXHRcdFx0dmFyIGQgPSBjID8gYyA6IFwiIzU1NVwiLFxuXHRcdFx0XHRlID0gZXF4aXVTdmcuU1lNQk9MU1thXSxcblx0XHRcdFx0ZiA9ICc8ZyBmaWxsPVwiJyArIGQgKyAnXCIgaWQ9XCJwYXRoXycgKyBiICsgJ1wiPicgKyBlICsgXCI8L2c+XCI7XG5cdFx0XHRyZXR1cm4gZlxuXHRcdH0sXG5cdFx0U2hhcGVGcm9tVHlwZTogZnVuY3Rpb24oYSwgYiwgYywgZCwgZSkge1xuXHRcdFx0cmV0dXJuIGIgfHwgKGIgPSA2NCksIGMgfHwgKGMgPSA2NCksIC9zeW1ib2xzXFwtLy50ZXN0KGEpID8gZXF4aXVTdmcuc3ltYm9sKGEucmVwbGFjZSgvXnN5bWJvbHNcXC0vLCBcIlwiKSwgZCwgZSkgOiBcInJlY3RcIiA9PSBhID8gZXF4aXVTdmcucmVjdChiLCBjKSA6IFwiY2lyY2xlXCIgPT0gYSA/IGVxeGl1U3ZnLmVsbGlwc2UoYiwgYykgOiBcImRpYW1vbmRcIiA9PSBhID8gZXF4aXVTdmcucG9seWdvbihiLCBjLCA0KSA6IFwib2N0YWdvblwiID09IGEgPyBlcXhpdVN2Zy5wb2x5Z29uKGIsIGMsIDgpIDogXCJ0cmlhbmdsZS11cFwiID09IGEgPyBlcXhpdVN2Zy50cmlhbmdsZVVwKGIsIGMpIDogXCJ0cmlhbmdsZS1kb3duXCIgPT0gYSA/IGVxeGl1U3ZnLnRyaWFuZ2xlRG93bihiLCBjKSA6IFwidHJpYW5nbGUtbGVmdFwiID09IGEgPyBlcXhpdVN2Zy50cmlhbmdsZUxlZnQoYiwgYykgOiBcInRyaWFuZ2xlLXJpZ2h0XCIgPT0gYSA/IGVxeGl1U3ZnLnRyaWFuZ2xlUmlnaHQoYiwgYykgOiBcImFycm93LXVwXCIgPT0gYSA/IGVxeGl1U3ZnLmFycm93VXAoYiwgYykgOiBcImFycm93LWRvd25cIiA9PSBhID8gZXF4aXVTdmcuYXJyb3dEb3duKGIsIGMpIDogXCJhcnJvdy1sZWZ0XCIgPT0gYSA/IGVxeGl1U3ZnLmFycm93TGVmdChiLCBjKSA6IFwiYXJyb3ctcmlnaHRcIiA9PSBhID8gZXF4aXVTdmcuYXJyb3dSaWdodChiLCBjKSA6IHZvaWQgMDtcblx0XHR9LFxuXHRcdHJlY3Q6IGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGVxeGl1U3ZnLk5BTUVTUEFDRSwgXCJyZWN0XCIpO1xuXHRcdFx0cmV0dXJuIGMuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgYSksIGMuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIGIpLCBjXG5cdFx0fSxcblx0XHRlbGxpcHNlOiBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhlcXhpdVN2Zy5OQU1FU1BBQ0UsIFwiZWxsaXBzZVwiKTtcblx0XHRcdHJldHVybiBjLnNldEF0dHJpYnV0ZShcInJ4XCIsIGEgLyAyKSwgYy5zZXRBdHRyaWJ1dGUoXCJyeVwiLCBiIC8gMiksIGMuc2V0QXR0cmlidXRlKFwiY3hcIiwgYSAvIDIpLCBjLnNldEF0dHJpYnV0ZShcImN5XCIsIGIgLyAyKSwgY1xuXHRcdH0sXG5cdFx0dHJpYW5nbGVVcDogZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZXF4aXVTdmcuTkFNRVNQQUNFLCBcInBvbHlnb25cIik7XG5cdFx0XHRyZXR1cm4gYy5zZXRBdHRyaWJ1dGUoXCJwb2ludHNcIiwgZXF4aXVTdmcucG9pbnRzVG9Qb2x5Z29uKFthIC8gMiwgMCwgYSwgYiwgMCwgYl0pKSwgY1xuXHRcdH0sXG5cdFx0dHJpYW5nbGVEb3duOiBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhlcXhpdVN2Zy5OQU1FU1BBQ0UsIFwicG9seWdvblwiKTtcblx0XHRcdHJldHVybiBjLnNldEF0dHJpYnV0ZShcInBvaW50c1wiLCBlcXhpdVN2Zy5wb2ludHNUb1BvbHlnb24oWzAsIDAsIGEsIDAsIGEgLyAyLCBiXSkpLCBjXG5cdFx0fSxcblx0XHR0cmlhbmdsZUxlZnQ6IGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGVxeGl1U3ZnLk5BTUVTUEFDRSwgXCJwb2x5Z29uXCIpO1xuXHRcdFx0cmV0dXJuIGMuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIGVxeGl1U3ZnLnBvaW50c1RvUG9seWdvbihbMCwgYiAvIDIsIGEsIDAsIGEsIGJdKSksIGNcblx0XHR9LFxuXHRcdHRyaWFuZ2xlUmlnaHQ6IGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGVxeGl1U3ZnLk5BTUVTUEFDRSwgXCJwb2x5Z29uXCIpO1xuXHRcdFx0cmV0dXJuIGMuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIGVxeGl1U3ZnLnBvaW50c1RvUG9seWdvbihbYSwgYiAvIDIsIDAsIGIsIDAsIDBdKSksIGNcblx0XHR9LFxuXHRcdGFycm93VXA6IGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGVxeGl1U3ZnLk5BTUVTUEFDRSwgXCJwb2x5Z29uXCIpO1xuXHRcdFx0cmV0dXJuIGMuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIGVxeGl1U3ZnLnBvaW50c1RvUG9seWdvbihbLjUgKiBhLCAwLCBhLCAuNSAqIGIsIC43ICogYSwgLjUgKiBiLCAuNyAqIGEsIGIsIC4zICogYSwgYiwgLjMgKiBhLCAuNSAqIGIsIDAsIC41ICogYiwgLjUgKiBhLCAwXSkpLCBjXG5cdFx0fSxcblx0XHRhcnJvd0Rvd246IGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGVxeGl1U3ZnLk5BTUVTUEFDRSwgXCJwb2x5Z29uXCIpO1xuXHRcdFx0cmV0dXJuIGMuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIGVxeGl1U3ZnLnBvaW50c1RvUG9seWdvbihbLjUgKiBhLCBiLCBhLCAuNSAqIGIsIC43ICogYSwgLjUgKiBiLCAuNyAqIGEsIDAsIC4zICogYSwgMCwgLjMgKiBhLCAuNSAqIGIsIDAsIC41ICogYiwgLjUgKiBhLCBiXSkpLCBjXG5cdFx0fSxcblx0XHRhcnJvd0xlZnQ6IGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGVxeGl1U3ZnLk5BTUVTUEFDRSwgXCJwb2x5Z29uXCIpO1xuXHRcdFx0cmV0dXJuIGMuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIGVxeGl1U3ZnLnBvaW50c1RvUG9seWdvbihbYSwgLjMgKiBiLCAuNSAqIGEsIC4zICogYiwgLjUgKiBhLCAwLCAwLCAuNSAqIGIsIC41ICogYSwgYiwgLjUgKiBhLCAuNyAqIGIsIGEsIC43ICogYiwgYSwgLjMgKiBiXSkpLCBjXG5cdFx0fSxcblx0XHRhcnJvd1JpZ2h0OiBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhlcXhpdVN2Zy5OQU1FU1BBQ0UsIFwicG9seWdvblwiKTtcblx0XHRcdHJldHVybiBjLnNldEF0dHJpYnV0ZShcInBvaW50c1wiLCBlcXhpdVN2Zy5wb2ludHNUb1BvbHlnb24oWzAsIC4zICogYiwgLjUgKiBhLCAuMyAqIGIsIC41ICogYSwgMCwgYSwgLjUgKiBiLCAuNSAqIGEsIGIsIC41ICogYSwgLjcgKiBiLCAwLCAuNyAqIGJdKSksIGNcblx0XHR9LFxuXHRcdHBvbHlnb246IGZ1bmN0aW9uKGEsIGIsIGMpIHtcblx0XHRcdHZhciBkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGVxeGl1U3ZnLk5BTUVTUEFDRSwgXCJwb2x5Z29uXCIpLFxuXHRcdFx0XHRlID0gW107XG5cdFx0XHRpZiAoMyA9PT0gYykgZSA9IFthIC8gMiwgMCwgYSwgYiwgMCwgYl07XG5cdFx0XHRlbHNlIGlmIChjID4gMykgZm9yICh2YXIgZiA9IGEgLyAyLCBnID0gYiAvIDIsIGggPSAwOyBjID4gaDsgaCsrKSB7XG5cdFx0XHRcdHZhciBpID0gZiArIGYgKiBNYXRoLmNvcygyICogTWF0aC5QSSAqIGggLyBjKSxcblx0XHRcdFx0XHRqID0gZyArIGcgKiBNYXRoLnNpbigyICogTWF0aC5QSSAqIGggLyBjKTtcblx0XHRcdFx0aSA9IE1hdGgucm91bmQoMTAgKiBpKSAvIDEwLCBqID0gTWF0aC5yb3VuZCgxMCAqIGopIC8gMTAsIGUucHVzaChpKSwgZS5wdXNoKGopXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZC5zZXRBdHRyaWJ1dGUoXCJwb2ludHNcIiwgZXF4aXVTdmcucG9pbnRzVG9Qb2x5Z29uKGUpKSwgZFxuXHRcdH1cblx0fVxufSgpLCBmdW5jdGlvbihhLCBiKSB7XG5cdGZ1bmN0aW9uIGMoYSkge1xuXHRcdGZ1bmN0aW9uIGIoYSwgYiwgYykge1xuXHRcdFx0cmV0dXJuIGFbYl0gfHwgKGFbYl0gPSBjKCkpXG5cdFx0fVxuXHRcdHZhciBjID0gYihhLCBcImVxU2hvd1wiLCBPYmplY3QpO1xuXHRcdHJldHVybiBiKGMsIFwidGVtcGxhdGVQYXJzZXJcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgYSA9IHt9O1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGMsIGQpIHtcblx0XHRcdFx0aWYgKFwiaGFzT3duUHJvcGVydHlcIiA9PT0gYykgdGhyb3cgbmV3IEVycm9yKFwiaGFzT3duUHJvcGVydHkgaXMgbm90IGEgdmFsaWQgbmFtZVwiKTtcblx0XHRcdFx0cmV0dXJuIGQgJiYgYS5oYXNPd25Qcm9wZXJ0eShjKSAmJiAoYVtjXSA9IG51bGwpLCBiKGEsIGMsIGQpXG5cdFx0XHR9XG5cdFx0fSlcblx0fVxuXHRmdW5jdGlvbiBkKGIpIHtcblx0XHR0ZW1wbGF0ZVBhcnNlciA9IGMoYSlcblx0fVxuXHR2YXIgZSA9IGEuZXFTaG93IHx8IChhLmVxU2hvdyA9IHt9KTtcblx0ZChlKVxufSh3aW5kb3csIGRvY3VtZW50KSwgZnVuY3Rpb24oKSB7XG5cdHZhciBhID0gITAsXG5cdFx0YiA9ICEwO1xuXHRlcVNob3cucGxheVZpZGVvID0gZnVuY3Rpb24oYykge1xuXHRcdGlmIChjICYmIGMuYmdBdWRpbykge1xuXHRcdFx0dmFyIGQgPSAkKFwiI21lZGlhXCIpLFxuXHRcdFx0XHRlID0gJChcIiNhdWRpb19idG5cIiksXG5cdFx0XHRcdC8vZiA9IFwiXCI7XG5cdFx0XHRcdGYgPSAoJChcIiN5aW5mdVwiKSwgXCJcIik7XG5cdFx0XHRjLmJnQXVkaW8udXJsID8gZiA9IDAgPT09IGMuYmdBdWRpby51cmwuaW5kZXhPZihcImh0dHA6Ly9cIikgPyBjLmJnQXVkaW8udXJsIDogUFJFRklYX0ZJTEVfSE9TVCArIGMuYmdBdWRpby51cmwgOiAhYy5iZ0F1ZGlvLnVybCAmJiBjLmJnQXVkaW8uc3JjICYmIChmID0gMCA9PT0gYy5iZ0F1ZGlvLnNyYy5pbmRleE9mKFwiaHR0cDovL1wiKSA/IGMuYmdBdWRpby5zcmMgOiBQUkVGSVhfRklMRV9IT1NUICsgYy5iZ0F1ZGlvLnNyYyksIGQuYXR0cihcInNyY1wiLCBmKSwgZS5hZGRDbGFzcyhcInZpZGVvX2V4aXN0XCIpLCBkLmJpbmQoXCJjYW5wbGF5XCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkLmdldCgwKS5wbGF5KClcblx0XHRcdH0pLmJpbmQoXCJwbGF5XCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRlLmFkZENsYXNzKFwicm90YXRlXCIpXG5cdFx0XHR9KS5iaW5kKFwicGF1c2VcIiwgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRlLnJlbW92ZUNsYXNzKFwicm90YXRlXCIpXG5cdFx0XHR9KTtcblx0XHRcdHZhciBnID0gbW9iaWxlY2hlY2soKSA/IFwidG91Y2hlbmRcIiA6IFwiY2xpY2tcIjtcblx0XHRcdCQoXCIjYXVkaW9fYnRuXCIpLnNob3coKS5vbihnLCBmdW5jdGlvbihiKSB7XG5cdFx0XHRcdGIuY2FuY2VsQnViYmxlID0gITAsIGIuc3RvcFByb3BhZ2F0aW9uKCksICQodGhpcykuaGFzQ2xhc3MoXCJyb3RhdGVcIikgPyAoYSA9ICExLCBkLmdldCgwKS5wYXVzZSgpKSA6IChkLmdldCgwKS5wbGF5KCksIGEgPSAhMCwgdXRpbFNvdW5kLnBhdXNlKCkpXG5cdFx0XHR9KVxuXHRcdH1cblx0XHQkKFwiI25yICNwYWdlMVwiKS5vbihcIm1vdXNlZG93biB0b3VjaHN0YXJ0XCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKG1vYmlsZWNoZWNrKCkgJiYgIWlzV2VpeGluKCkgJiYgYikge1xuXHRcdFx0XHR2YXIgYSA9ICQoXCIjbnIgLnotY3VycmVudCAubS1pbWdcIiksXG5cdFx0XHRcdFx0YyA9IHBhcnNlSW50KGEuYXR0cihcImlkXCIpLnN1YnN0cmluZyg0KSwgMTApO1xuXHRcdFx0XHRiICYmIDEgPT09IGMgJiYgd2luZG93LmNvbXBsZXRlRWZmZWN0KGEpICYmIChiID0gITEsIHdpbmRvdy5zY2VuZS5iZ0F1ZGlvICYmICQoXCIjbWVkaWFcIikuZ2V0KDApLnBsYXkoKSlcblx0XHRcdH1cblx0XHR9KVxuXHR9LCBlcVNob3cuZXhlY3V0ZVBsYXkgPSBmdW5jdGlvbigpIHtcblx0XHRhICYmICQoXCIjbWVkaWFcIikuZ2V0KDApLnBsYXkoKVxuXHR9LCBlcVNob3cuZXhlY3V0ZVBhdXNlID0gZnVuY3Rpb24oKSB7XG5cdFx0YSAmJiAkKFwiI21lZGlhXCIpLmdldCgwKS5wYXVzZSgpXG5cdH1cbn0oKSwgZnVuY3Rpb24oYSkge1xuXHRmdW5jdGlvbiBiKGEpIHtcblx0XHR2YXIgYiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3R5bGVcIilbMF07XG5cdFx0YiB8fCAoYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSwgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLCBiLnR5cGUgPSBcInRleHQvY3NzXCIsIGhlYWQuYXBwZW5kQ2hpbGQoYikpO1xuXHRcdHZhciBjID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSk7XG5cdFx0Yi5hcHBlbmRDaGlsZChjKVxuXHR9XG5cdGZ1bmN0aW9uIGMoKSB7XG5cdFx0dmFyIGEgPSBbe1xuXHRcdFx0dmFsdWU6IDEsXG5cdFx0XHRwYXRoOiBcIjEuNyAwLjEgMC4xIDAgLTAuMjg3IDAgMS43IDAuMSAwIC0wLjI4NyAwIDAuMSAxLjYgMCAtMC4yODcgMCAwIDAgMS4wIDBcIlxuXHRcdH0sIHtcblx0XHRcdHZhbHVlOiAyLFxuXHRcdFx0cGF0aDogXCIyLjEgLTEuNCAwLjYgMC4wIC0wLjEyIC0wLjMgMi4wIC0wLjMgMC4wIC0wLjEyIC0xLjEgLTAuMiAyLjYgMC4wIC0wLjEyIDAuMCAwLjAgMC4wIDEuMCAwLjBcIlxuXHRcdH0sIHtcblx0XHRcdHZhbHVlOiAzLFxuXHRcdFx0cGF0aDogXCIxLjkgLTAuMyAtMC4yIDAgLTAuMzQxIC0wLjIgIDEuNyAtMC4xICAwIC0wLjM0MSAtMC4xIC0wLjYgMi4wIDAgLTAuMzQxIDAgMCAwIDEuMCAwXCJcblx0XHR9LCB7XG5cdFx0XHR2YWx1ZTogNCxcblx0XHRcdHBhdGg6IFwiMS4wIDAuMCAwLjAgMC4wIC0wLjI2IDAuMCAxLjEgMC4wIDAuMCAtMC4yNiAwLjAgMC4wIDEuMCAwLjAgLTAuMjYgMC4wIDAuMCAwLjAgMS4wIDAuMFwiXG5cdFx0fSwge1xuXHRcdFx0dmFsdWU6IDUsXG5cdFx0XHRwYXRoOiBcIjEuMiAwLjAgMC4wIDAuMCAwLjAgMC4wIDAuOSAwLjAgMC4wIDAuMCAwLjAgMC4wIDAuOCAwLjAgMC4wIDAgMCAwIDEuMCAwXCJcblx0XHR9LCB7XG5cdFx0XHR2YWx1ZTogNixcblx0XHRcdHBhdGg6IFwiMC44IDAuMyAwLjEgMC4wIDAuMTgyIDAuMSAwLjkgMC4wIDAuMCAwLjE4MiAwLjEgMC4zIDAuNyAwLjAgMC4xODIgMC4wIDAuMCAwLjAgMS4wIDAuMFwiXG5cdFx0fSwge1xuXHRcdFx0dmFsdWU6IDcsXG5cdFx0XHRwYXRoOiBcIjAuOSAwIDAgMCAwLjI1NSAwIDAuOSAwIDAgMC4yNTUgMCAwIDAuOSAwIDAuMjU1IDAgMCAwIDEuMCAwXCJcblx0XHR9LCB7XG5cdFx0XHR2YWx1ZTogOCxcblx0XHRcdHBhdGg6IFwiMC42IDAuMyAwLjEgMCAwLjI4NzQ1IDAuMiAwLjcgMC4xIDAgMC4yODc0NSAwLjIgMC4zIDAuNCAwIDAuMjg3NDUgMCAwIDAgMS4wIDBcIlxuXHRcdH0sIHtcblx0XHRcdHZhbHVlOiA5LFxuXHRcdFx0cGF0aDogXCIwLjggMS42IDAuMiAwIC0wLjYzOSAwLjggMS42IDAuMiAwIC0wLjYzOSAwLjggMS42IDAuMiAwIC0wLjYzOSAwIDAgMCAxLjAgMFwiXG5cdFx0fSwge1xuXHRcdFx0dmFsdWU6IDEwLFxuXHRcdFx0cGF0aDogXCIwLjIgMC41IDAuMSAwIDAuMTYgMC4yIDAuNSAwLjEgMCAwLjE2IDAuMiAwLjUgMC4xIDAgMC4xNiAwIDAgMCAxIDBcIlxuXHRcdH0sIHtcblx0XHRcdHZhbHVlOiAxMSxcblx0XHRcdHBhdGg6IFwiNC44IC0xLjAgLTAuMSAwIC0xLjUyMyAtMC41IDQuNCAtMC4xIDAgLTEuNTIzIC0wLjUgLTEuMCA1LjIgMCAtMS41MjMgMCAwIDAgMS4wIDBcIlxuXHRcdH1dO1xuXHRcdHJldHVybiBhXG5cdH1cblx0ZnVuY3Rpb24gZChhLCBiKSB7XG5cdFx0Zm9yICh2YXIgYyA9IDA7IGMgPCBhLmxlbmd0aDsgYysrKSB7XG5cdFx0XHR2YXIgZCA9IFtdO1xuXHRcdFx0JC5lYWNoKGIsIGZ1bmN0aW9uKGIsIGUpIHtcblx0XHRcdFx0dmFyIGYsIGcgPSAkKGUpLmF0dHIoXCJzdHlsZVwiKTtcblx0XHRcdFx0aWYgKGcpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBoID0gZy5zcGxpdChcIjtcIiksIGkgPSAwLCBqID0gaC5sZW5ndGg7IGogPiBpOyBpKyspIGlmIChoW2ldLmluZGV4T2YoXCJmaWxsOlwiKSA+PSAwKSB7XG5cdFx0XHRcdFx0XHRmID0gaFtpXS5zcGxpdChcIjpcIilbMV07XG5cdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGYgPSAkKGUpLmF0dHIoXCJmaWxsXCIpO1xuXHRcdFx0XHRmID09PSBhW2NdLnN2Z0ZpbGwgJiYgZC5wdXNoKGIpXG5cdFx0XHR9KSwgYVtjXS5lbGVtZW50cyA9IGRcblx0XHR9XG5cdFx0cmV0dXJuIGFcblx0fVxuXHRmdW5jdGlvbiBlKGEsIGIsIGMsIGQpIHtcblx0XHR2YXIgZSA9IHt9LFxuXHRcdFx0ZiA9IGEgLyBiLFxuXHRcdFx0ZyA9IGMgLyBkO1xuXHRcdHJldHVybiBmID4gZyA/IChlLndpZHRoID0gYywgZS5oZWlnaHQgPSBjIC8gZikgOiAoZS5oZWlnaHQgPSBkLCBlLndpZHRoID0gZCAqIGYpLCBlXG5cdH1cblx0ZnVuY3Rpb24gZihhLCBiLCBjKSB7XG5cdFx0dmFyIGQsIGUgPSBhLnByb3BlcnRpZXMubGluZUNoYXJ0LFxuXHRcdFx0ZiA9IFtdLFxuXHRcdFx0ZyA9IFwiXCIsXG5cdFx0XHRoID0gXCJcIixcblx0XHRcdGkgPSBcIlwiLFxuXHRcdFx0aiA9IFtdLFxuXHRcdFx0ayA9IFtdLFxuXHRcdFx0bCA9IFtdLFxuXHRcdFx0bSA9IFtdLFxuXHRcdFx0biA9IFtdO1xuXHRcdGMuZGF0YXNldHMuZm9yRWFjaChmdW5jdGlvbihhKSB7XG5cdFx0XHRtLnB1c2goYS5zdHJva2VDb2xvciksIG4ucHVzaChhLmZpbGxDb2xvcilcblx0XHR9KTtcblx0XHRmb3IgKHZhciBvID0gMDsgbyA8IG0ubGVuZ3RoOyBvKyspXCJsaW5lXCIgPT09IGUuY2hhcnRUeXBlID8gbVtvXSA9IGUuZmlsbENvbG9yc1tvXSA6IG5bb10gPSBlLmZpbGxDb2xvcnNbb107XG5cdFx0Zm9yICh2YXIgcCA9IGUuc2VnbWVudHMsIHEgPSAwOyBxIDwgcC5sZW5ndGg7IHErKykgZCA9IHBbcV0sIGcgPSBpc05hTihkLnZhbHVlMSkgfHwgZC52YWx1ZTEgPCAwID8gMCA6IGQudmFsdWUxLCBoID0gaXNOYU4oZC52YWx1ZTIpIHx8IGQudmFsdWUyIDwgMCA/IDAgOiBkLnZhbHVlMiwgaSA9IGlzTmFOKGQudmFsdWUzKSB8fCBkLnZhbHVlMyA8IDAgPyAwIDogZC52YWx1ZTMsIChkLmxhYmVsIHx8IGcgfHwgaCB8fCBpKSAmJiAoZi5wdXNoKGQubGFiZWwpLCBqLnB1c2goZyksIGsucHVzaChoKSwgbC5wdXNoKGkpKTtcblx0XHR2YXIgciA9IHtcblx0XHRcdGxhYmVsczogZixcblx0XHRcdGRhdGFzZXRzOiBbe1xuXHRcdFx0XHRsYWJlbDogZS5sZW5nZW5kc1swXSxcblx0XHRcdFx0ZmlsbENvbG9yOiBuWzBdLFxuXHRcdFx0XHRzdHJva2VDb2xvcjogbVswXSxcblx0XHRcdFx0cG9pbnRDb2xvcjogbVswXSxcblx0XHRcdFx0cG9pbnRTdHJva2VDb2xvcjogXCIjZmZmXCIsXG5cdFx0XHRcdGRhdGE6IGpcblx0XHRcdH0sIHtcblx0XHRcdFx0bGFiZWw6IGUubGVuZ2VuZHNbMV0sXG5cdFx0XHRcdGZpbGxDb2xvcjogblsxXSxcblx0XHRcdFx0c3Ryb2tlQ29sb3I6IG1bMV0sXG5cdFx0XHRcdHBvaW50Q29sb3I6IG1bMV0sXG5cdFx0XHRcdHBvaW50U3Ryb2tlQ29sb3I6IFwiI2ZmZlwiLFxuXHRcdFx0XHRkYXRhOiBrXG5cdFx0XHR9LCB7XG5cdFx0XHRcdGxhYmVsOiBlLmxlbmdlbmRzWzJdLFxuXHRcdFx0XHRmaWxsQ29sb3I6IG5bMl0sXG5cdFx0XHRcdHN0cm9rZUNvbG9yOiBtWzJdLFxuXHRcdFx0XHRwb2ludENvbG9yOiBtWzJdLFxuXHRcdFx0XHRwb2ludFN0cm9rZUNvbG9yOiBcIiNmZmZcIixcblx0XHRcdFx0ZGF0YTogbFxuXHRcdFx0fV1cblx0XHR9LFxuXHRcdFx0cyA9IGMub3B0aW9ucztcblx0XHRyZXR1cm4gZS5vcHRpb25zICYmIGUub3B0aW9ucy5zY2FsZUZvbnRDb2xvciAmJiAocy5zY2FsZUZvbnRDb2xvciA9IGUub3B0aW9ucy5zY2FsZUZvbnRDb2xvciksIGMuZGVzdHJveSgpLCBjID0gbmV3IENoYXJ0KGIpLkxpbmUociwgcyksIGMuZGF0YXNldHMuZm9yRWFjaChmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgYiA9ICEwO1xuXHRcdFx0YS5wb2ludHMuZm9yRWFjaChmdW5jdGlvbihhKSB7XG5cdFx0XHRcdGEudmFsdWUgJiYgKGIgPSAhMSlcblx0XHRcdH0pLCBiID8gYS5wb2ludHMubGVuZ3RoID0gMCA6IGEucG9pbnRzLmZvckVhY2goZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRhLnZhbHVlIHx8IChhLnZhbHVlID0gMClcblx0XHRcdH0pXG5cdFx0fSksIGMudXBkYXRlKCksIGNcblx0fVxuXHRmdW5jdGlvbiBnKGEsIGIsIGMpIHtcblx0XHRmb3IgKHZhciBkLCBlID0gYy5vcHRpb25zLCBmID0gYS5wcm9wZXJ0aWVzLmJhckNoYXJ0LCBnID0gW10sIGggPSBcIlwiLCBpID0gXCJcIiwgaiA9IFwiXCIsIGsgPSBbXSwgbCA9IFtdLCBtID0gW10sIG4gPSBmLnNlZ21lbnRzLCBvID0gMDsgbyA8IG4ubGVuZ3RoOyBvKyspIHtcblx0XHRcdHZhciBkID0gbltvXTtcblx0XHRcdGggPSBpc05hTihkLnZhbHVlMSkgfHwgZC52YWx1ZTEgPCAwID8gXCJcIiA6IGQudmFsdWUxLCBpID0gaXNOYU4oZC52YWx1ZTIpIHx8IGQudmFsdWUyIDwgMCA/IFwiXCIgOiBkLnZhbHVlMiwgaiA9IGlzTmFOKGQudmFsdWUzKSB8fCBkLnZhbHVlMyA8IDAgPyBcIlwiIDogZC52YWx1ZTMsIChkLmxhYmVsIHx8IGggfHwgaSB8fCBqKSAmJiAoZy5wdXNoKGQubGFiZWwpLCBrLnB1c2goaCksIGwucHVzaChpKSwgbS5wdXNoKGopKVxuXHRcdH1cblx0XHR2YXIgcCA9IHtcblx0XHRcdGxhYmVsczogZyxcblx0XHRcdGRhdGFzZXRzOiBbe1xuXHRcdFx0XHRmaWxsQ29sb3I6IGYuZmlsbENvbG9yc1swXSxcblx0XHRcdFx0c3Ryb2tlQ29sb3I6IFwicmdiYSgwLDAsMCwwKVwiLFxuXHRcdFx0XHRkYXRhOiBrLFxuXHRcdFx0XHRsYWJlbDogZi5sZW5nZW5kc1swXVxuXHRcdFx0fSwge1xuXHRcdFx0XHRmaWxsQ29sb3I6IGYuZmlsbENvbG9yc1sxXSxcblx0XHRcdFx0c3Ryb2tlQ29sb3I6IFwicmdiYSgwLDAsMCwwKVwiLFxuXHRcdFx0XHRkYXRhOiBsLFxuXHRcdFx0XHRsYWJlbDogZi5sZW5nZW5kc1sxXVxuXHRcdFx0fSwge1xuXHRcdFx0XHRmaWxsQ29sb3I6IGYuZmlsbENvbG9yc1syXSxcblx0XHRcdFx0c3Ryb2tlQ29sb3I6IFwicmdiYSgwLDAsMCwwKVwiLFxuXHRcdFx0XHRkYXRhOiBtLFxuXHRcdFx0XHRsYWJlbDogZi5sZW5nZW5kc1syXVxuXHRcdFx0fV1cblx0XHR9O1xuXHRcdHJldHVybiBmLm9wdGlvbnMgJiYgZi5vcHRpb25zLnNjYWxlRm9udENvbG9yICYmIChlLnNjYWxlRm9udENvbG9yID0gZi5vcHRpb25zLnNjYWxlRm9udENvbG9yKSwgYy5kZXN0cm95KCksIG5ldyBDaGFydChiKS5CYXIocCwgZSlcblx0fVxuXHRmdW5jdGlvbiBoKGEsIGIsIGMpIHtcblx0XHR2YXIgZCA9IGMub3B0aW9ucyxcblx0XHRcdGUgPSBcIiMwMDBcIixcblx0XHRcdGYgPSBhLnByb3BlcnRpZXMucGllQ2hhcnQ7XG5cdFx0Zi5vcHRpb25zICYmIGYub3B0aW9ucy5zY2FsZUZvbnRDb2xvciAmJiAoZSA9IGYub3B0aW9ucy5zY2FsZUZvbnRDb2xvciksIGQuc2NhbGVGb250Q29sb3IgPSBlLCBkLm9uQW5pbWF0aW9uQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBhID0gdGhpcy5jaGFydC5jdHgsXG5cdFx0XHRcdGIgPSB0aGlzLnNlZ21lbnRzO1xuXHRcdFx0YS50ZXh0QWxpZ24gPSBcInN0YXJ0XCIsIGEudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcblx0XHRcdGZvciAodmFyIGMgPSAwLCBkID0gMDsgZCA8IGIubGVuZ3RoOyBkKyspIGMgKz0gcGFyc2VGbG9hdChiW2RdLnZhbHVlKTtcblx0XHRcdGEuZmlsbFRleHQoYywgYS53aWR0aCAvIDIgLSAyMCwgYS5oZWlnaHQgLyAyLCAxMDApO1xuXHRcdFx0Zm9yICh2YXIgZCA9IDA7IGQgPCBiLmxlbmd0aDsgZCsrKSB7XG5cdFx0XHRcdHZhciBmID0gYltkXS5zdGFydEFuZ2xlICsgKGJbZF0uZW5kQW5nbGUgLSBiW2RdLnN0YXJ0QW5nbGUpIC8gMixcblx0XHRcdFx0XHRnID0gKGJbZF0ub3V0ZXJSYWRpdXMgLSBiW2RdLmlubmVyUmFkaXVzKSAvIDEuNSArIGJbZF0uaW5uZXJSYWRpdXMsXG5cdFx0XHRcdFx0aCA9IGJbZF0ueCArIE1hdGguY29zKGYpICogZyxcblx0XHRcdFx0XHRpID0gYltkXS55ICsgTWF0aC5zaW4oZikgKiBnO1xuXHRcdFx0XHRhLnRleHRBbGlnbiA9IFwiY2VudGVyXCIsIGEudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIiwgYS5maWxsU3R5bGUgPSBlLCBhLmZvbnQgPSBcIm5vcm1hbCAxMnB4IEhlbHZldGljYVwiLCBhLmZpbGxUZXh0KGJbZF0udmFsdWUsIGgsIGkpXG5cdFx0XHR9XG5cdFx0fTtcblx0XHR2YXIgZyA9IGY7XG5cdFx0Zi5zZWdtZW50cyAmJiAoZyA9IGYuc2VnbWVudHMpO1xuXHRcdGZvciAodmFyIGggPSAwOyBoIDwgZy5sZW5ndGg7IGgrKykoaXNOYU4oZ1toXS52YWx1ZSkgfHwgZ1toXS52YWx1ZSA8IDApICYmIChnW2hdLnZhbHVlID0gXCJcIik7XG5cdFx0cmV0dXJuIGMuZGVzdHJveSgpLCBuZXcgQ2hhcnQoYikuUGllKGcsIGQpXG5cdH1cblx0ZnVuY3Rpb24gaShhKSB7XG5cdFx0dmFyIGIgPSBbe1xuXHRcdFx0dmFsdWU6IDMwMCxcblx0XHRcdGNvbG9yOiBcIiM1N2M3ZDRcIixcblx0XHRcdGxhYmVsOiBcIjHmnIhcIlxuXHRcdH0sIHtcblx0XHRcdHZhbHVlOiAxNTAsXG5cdFx0XHRjb2xvcjogXCIjM2FhOTllXCIsXG5cdFx0XHRsYWJlbDogXCIy5pyIXCJcblx0XHR9LCB7XG5cdFx0XHR2YWx1ZTogMTAwLFxuXHRcdFx0Y29sb3I6IFwiI2YyYTY1NFwiLFxuXHRcdFx0bGFiZWw6IFwiM+aciFwiXG5cdFx0fSwge1xuXHRcdFx0dmFsdWU6IDE0MCxcblx0XHRcdGNvbG9yOiBcIiNmOTY4NjhcIixcblx0XHRcdGxhYmVsOiBcIjTmnIhcIlxuXHRcdH0sIHtcblx0XHRcdHZhbHVlOiAxMjAsXG5cdFx0XHRjb2xvcjogXCIjOTI2ZGRlXCIsXG5cdFx0XHRsYWJlbDogXCI15pyIXCJcblx0XHR9XSxcblx0XHRcdGMgPSB7XG5cdFx0XHRcdHNlZ21lbnRTaG93U3Ryb2tlOiAhMSxcblx0XHRcdFx0c2hvd1Rvb2x0aXBzOiAhMSxcblx0XHRcdFx0c2NhbGVGb250Q29sb3I6IFwiIzAwMFwiLFxuXHRcdFx0XHRsZWdlbmRUZW1wbGF0ZTogJzx1bCBjbGFzcz1cIjwlPW5hbWUudG9Mb3dlckNhc2UoKSU+LWxlZ2VuZFwiPjwlIGZvciAodmFyIGk9MDsgaTxzZWdtZW50cy5sZW5ndGg7IGkrKyl7JT48bGk+PCVpZihzZWdtZW50c1tpXS5sYWJlbCl7JT48c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6PCU9c2VnbWVudHNbaV0uZmlsbENvbG9yJT5cIj48L3NwYW4+PCU9c2VnbWVudHNbaV0ubGFiZWwlPjwlfSU+PC9saT48JX0lPjwvdWw+Jyxcblx0XHRcdFx0YW5pbWF0aW9uOiAhMSxcblx0XHRcdFx0b25BbmltYXRpb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGEgPSB0aGlzLmNoYXJ0LmN0eCxcblx0XHRcdFx0XHRcdGIgPSB0aGlzLnNlZ21lbnRzO1xuXHRcdFx0XHRcdGEudGV4dEFsaWduID0gXCJzdGFydFwiLCBhLnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XG5cdFx0XHRcdFx0Zm9yICh2YXIgYyA9IDAsIGQgPSAwOyBkIDwgYi5sZW5ndGg7IGQrKykgYyArPSBwYXJzZUZsb2F0KGJbZF0udmFsdWUpO1xuXHRcdFx0XHRcdGEuZmlsbFRleHQoYywgYS53aWR0aCAvIDIgLSAyMCwgYS5oZWlnaHQgLyAyLCAxMDApO1xuXHRcdFx0XHRcdGZvciAodmFyIGQgPSAwOyBkIDwgYi5sZW5ndGg7IGQrKykge1xuXHRcdFx0XHRcdFx0dmFyIGUgPSBiW2RdLnN0YXJ0QW5nbGUgKyAoYltkXS5lbmRBbmdsZSAtIGJbZF0uc3RhcnRBbmdsZSkgLyAyLFxuXHRcdFx0XHRcdFx0XHRmID0gKGJbZF0ub3V0ZXJSYWRpdXMgLSBiW2RdLmlubmVyUmFkaXVzKSAvIDEuNSArIGJbZF0uaW5uZXJSYWRpdXMsXG5cdFx0XHRcdFx0XHRcdGcgPSBiW2RdLnggKyBNYXRoLmNvcyhlKSAqIGYsXG5cdFx0XHRcdFx0XHRcdGggPSBiW2RdLnkgKyBNYXRoLnNpbihlKSAqIGY7XG5cdFx0XHRcdFx0XHRhLnRleHRBbGlnbiA9IFwiY2VudGVyXCIsIGEudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIiwgYS5maWxsU3R5bGUgPSBcIiMwMDBcIiwgYS5mb250ID0gXCJub3JtYWwgMTJweCBIZWx2ZXRpY2FcIiwgYS5maWxsVGV4dChiW2RdLnZhbHVlLCBnLCBoKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGQgPSBuZXcgQ2hhcnQoYSkuUGllKGIsIGMpO1xuXHRcdHJldHVybiBkXG5cdH1cblx0ZnVuY3Rpb24gaihhKSB7XG5cdFx0dmFyIGIgPSB7XG5cdFx0XHRsYWJlbHM6IFtcIjHmnIhcIiwgXCIy5pyIXCIsIFwiM+aciFwiLCBcIjTmnIhcIiwgXCI15pyIXCJdLFxuXHRcdFx0ZGF0YXNldHM6IFt7XG5cdFx0XHRcdGZpbGxDb2xvcjogXCIjNjJhOGVhXCIsXG5cdFx0XHRcdHN0cm9rZUNvbG9yOiBcInJnYmEoMCwwLDAsMClcIixcblx0XHRcdFx0ZGF0YTogWzYwLCA3MCwgODAsIDU2LCA0MF0sXG5cdFx0XHRcdGxhYmVsOiBcIuWbvuS+izFcIlxuXHRcdFx0fSwge1xuXHRcdFx0XHRmaWxsQ29sb3I6IFwiIzkyNmRkZVwiLFxuXHRcdFx0XHRzdHJva2VDb2xvcjogXCJyZ2JhKDAsMCwwLDApXCIsXG5cdFx0XHRcdGRhdGE6IFs4MCwgNTYsIDQwLCA5MywgMTEyXSxcblx0XHRcdFx0bGFiZWw6IFwi5Zu+5L6LMlwiXG5cdFx0XHR9LCB7XG5cdFx0XHRcdGZpbGxDb2xvcjogXCIjZjJhNjU0XCIsXG5cdFx0XHRcdHN0cm9rZUNvbG9yOiBcInJnYmEoMCwwLDAsMClcIixcblx0XHRcdFx0ZGF0YTogWzE2MCwgODYsIDE0MCwgMTIzLCAyM10sXG5cdFx0XHRcdGxhYmVsOiBcIuWbvuS+izNcIlxuXHRcdFx0fV1cblx0XHR9LFxuXHRcdFx0YyA9IHtcblx0XHRcdFx0c2hvd1Rvb2x0aXBzOiAhMSxcblx0XHRcdFx0c2NhbGVTaG93TGFiZWxzOiAhMCxcblx0XHRcdFx0c2NhbGVTaG93R3JpZExpbmVzOiAhMSxcblx0XHRcdFx0c2NhbGVCZWdpbkF0WmVybzogITAsXG5cdFx0XHRcdGxlZ2VuZFRlbXBsYXRlOiAnPHVsIGNsYXNzPVwiPCU9bmFtZS50b0xvd2VyQ2FzZSgpJT4tbGVnZW5kXCI+PCUgZm9yICh2YXIgaT0wOyBpPGRhdGFzZXRzLmxlbmd0aDsgaSsrKXslPjxsaT48JWlmKGRhdGFzZXRzW2ldLmxhYmVsKXslPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjo8JT1kYXRhc2V0c1tpXS5maWxsQ29sb3IlPlwiPjwvc3Bhbj48JT1kYXRhc2V0c1tpXS5sYWJlbCU+PCV9JT48L2xpPjwlfSU+PC91bD4nLFxuXHRcdFx0XHRhbmltYXRpb246ICExLFxuXHRcdFx0XHRvbkFuaW1hdGlvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgYSA9IHRoaXMuY2hhcnQuY3R4O1xuXHRcdFx0XHRcdGEuZmlsbFN0eWxlID0gdGhpcy5zY2FsZS50ZXh0Q29sb3IsIGEuZm9udCA9IFwibm9ybWFsIDEycHggSGVsdmV0aWNhXCIsIGEudGV4dEFsaWduID0gXCJjZW50ZXJcIiwgYS50ZXh0QmFzZWxpbmUgPSBcImJvdHRvbVwiLCB0aGlzLmRhdGFzZXRzLmZvckVhY2goZnVuY3Rpb24oYikge1xuXHRcdFx0XHRcdFx0Yi5iYXJzLmZvckVhY2goZnVuY3Rpb24oYikge1xuXHRcdFx0XHRcdFx0XHRhLmZpbGxUZXh0KGIudmFsdWUsIGIueCwgYi55KVxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZCA9IG5ldyBDaGFydChhKS5CYXIoYiwgYyk7XG5cdFx0cmV0dXJuIGRcblx0fVxuXHRmdW5jdGlvbiBrKGEsIGIpIHtcblx0XHR2YXIgYyA9IFtcInJnYmEoMjU1LDI1NSwyNTUsMClcIiwgXCJyZ2JhKDI1NSwyNTUsMjU1LDApXCIsIFwicmdiYSgyNTUsMjU1LDI1NSwwKVwiXSxcblx0XHRcdGQgPSBbXCJyZ2JhKDE0NiwxMDksMjIyLDEpXCIsIFwicmdiYSg4NywxOTksMjEyLDEpXCIsIFwicmdiYSgyNDIsMTY2LDg0LDEpXCJdLFxuXHRcdFx0ZSA9ICExLFxuXHRcdFx0ZiA9ICc8dWwgY2xhc3M9XCI8JT1uYW1lLnRvTG93ZXJDYXNlKCklPi1sZWdlbmRcIj48JSBmb3IgKHZhciBpPTA7IGk8ZGF0YXNldHMubGVuZ3RoOyBpKyspeyU+PGxpPjwlaWYoZGF0YXNldHNbaV0ubGFiZWwpeyU+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOjwlPWRhdGFzZXRzW2ldLnBvaW50Q29sb3IlPlwiPjwvc3Bhbj48JT1kYXRhc2V0c1tpXS5sYWJlbCU+PCV9JT48L2xpPjwlfSU+PC91bD4nO1xuXHRcdFwiY3VydmVcIiA9PT0gYiAmJiAoYyA9IFtcInJnYmEoMTQ2LCAxMDksIDIyMiwwLjIpXCIsIFwicmdiYSg4NywxOTksMjEyLDAuMilcIiwgXCJyZ2JhKDI0MiwxNjYsODQsMC4yKVwiXSwgZSA9ICEwLCBmID0gJzx1bCBjbGFzcz1cIjwlPW5hbWUudG9Mb3dlckNhc2UoKSU+LWxlZ2VuZFwiPjwlIGZvciAodmFyIGk9MDsgaTxkYXRhc2V0cy5sZW5ndGg7IGkrKyl7JT48bGk+PCVpZihkYXRhc2V0c1tpXS5sYWJlbCl7JT48c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6PCU9ZGF0YXNldHNbaV0uZmlsbENvbG9yJT5cIj48L3NwYW4+PCU9ZGF0YXNldHNbaV0ubGFiZWwlPjwlfSU+PC9saT48JX0lPjwvdWw+Jyk7XG5cdFx0dmFyIGcgPSB7XG5cdFx0XHRsYWJlbHM6IFtcIjHmnIhcIiwgXCIy5pyIXCIsIFwiM+aciFwiLCBcIjTmnIhcIiwgXCI15pyIXCJdLFxuXHRcdFx0ZGF0YXNldHM6IFt7XG5cdFx0XHRcdGxhYmVsOiBcIuWbvuS+izFcIixcblx0XHRcdFx0ZmlsbENvbG9yOiBjWzBdLFxuXHRcdFx0XHRzdHJva2VDb2xvcjogZFswXSxcblx0XHRcdFx0cG9pbnRDb2xvcjogZFswXSxcblx0XHRcdFx0cG9pbnRTdHJva2VDb2xvcjogXCIjZmZmXCIsXG5cdFx0XHRcdGRhdGE6IFsyOCwgMjQsIDQwLCAxOSwgMjddXG5cdFx0XHR9LCB7XG5cdFx0XHRcdGxhYmVsOiBcIuWbvuS+izJcIixcblx0XHRcdFx0ZmlsbENvbG9yOiBjWzFdLFxuXHRcdFx0XHRzdHJva2VDb2xvcjogZFsxXSxcblx0XHRcdFx0cG9pbnRDb2xvcjogZFsxXSxcblx0XHRcdFx0cG9pbnRTdHJva2VDb2xvcjogXCIjZmZmXCIsXG5cdFx0XHRcdGRhdGE6IFsxMjMsIDEzMiwgMTQ2LCAxMTgsIDE4OV1cblx0XHRcdH0sIHtcblx0XHRcdFx0bGFiZWw6IFwi5Zu+5L6LM1wiLFxuXHRcdFx0XHRmaWxsQ29sb3I6IGNbMl0sXG5cdFx0XHRcdHN0cm9rZUNvbG9yOiBkWzJdLFxuXHRcdFx0XHRwb2ludENvbG9yOiBkWzJdLFxuXHRcdFx0XHRwb2ludFN0cm9rZUNvbG9yOiBcIiNmZmZcIixcblx0XHRcdFx0ZGF0YTogWzIwMSwgMjMyLCAyNTYsIDIxNSwgMjc4XVxuXHRcdFx0fV1cblx0XHR9LFxuXHRcdFx0aCA9IHtcblx0XHRcdFx0c2hvd1Rvb2x0aXBzOiAhMSxcblx0XHRcdFx0c2NhbGVTaG93TGFiZWxzOiAhMCxcblx0XHRcdFx0c2NhbGVTaG93R3JpZExpbmVzOiAhMSxcblx0XHRcdFx0c2NhbGVCZWdpbkF0WmVybzogITAsXG5cdFx0XHRcdGJlemllckN1cnZlOiBlLFxuXHRcdFx0XHRsZWdlbmRUZW1wbGF0ZTogZixcblx0XHRcdFx0YW5pbWF0aW9uOiAhMSxcblx0XHRcdFx0b25BbmltYXRpb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGEgPSB0aGlzLmNoYXJ0LmN0eCxcblx0XHRcdFx0XHRcdGIgPSB0aGlzLnNjYWxlLm1heDtcblx0XHRcdFx0XHRhLmZvbnQgPSB0aGlzLnNjYWxlLmZvbnQsIGEuZmlsbFN0eWxlID0gdGhpcy5zY2FsZS50ZXh0Q29sb3IsIGEudGV4dEFsaWduID0gXCJjZW50ZXJcIiwgYS50ZXh0QmFzZWxpbmUgPSBcImJvdHRvbVwiLCB0aGlzLmRhdGFzZXRzLmZvckVhY2goZnVuY3Rpb24oYykge1xuXHRcdFx0XHRcdFx0Yy5wb2ludHMuZm9yRWFjaChmdW5jdGlvbihkLCBlKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBmID0gNTtcblx0XHRcdFx0XHRcdFx0YiAtIGQudmFsdWUgPCAxMCAmJiAoZiA9IDApLCAwID09PSBlID8gYS5maWxsVGV4dChkLnZhbHVlLCBkLnggKyAxMCwgZC55IC0gZikgOiBlID09PSBjLnBvaW50cy5sZW5ndGggLSAxID8gYS5maWxsVGV4dChkLnZhbHVlLCBkLnggLSAxMCwgZC55IC0gZikgOiBhLmZpbGxUZXh0KGQudmFsdWUsIGQueCwgZC55IC0gZilcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGkgPSBuZXcgQ2hhcnQoYSkuTGluZShnLCBoKTtcblx0XHRyZXR1cm4gaVxuXHR9XG5cdGZ1bmN0aW9uIGwoYSwgYikge1xuXHRcdFwidmlld1wiID09PSB0Lm1vZGUgJiYgYi5wcm9wZXJ0aWVzLnVybCAmJiAkKGEpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGEgPSBiLnByb3BlcnRpZXMudXJsO1xuXHRcdFx0aXNOYU4oYSkgPyB3aW5kb3cub3BlbihhKSA6IGVxeGl1LnBhZ2VTY3JvbGwoYSlcblx0XHR9KVxuXHR9XG5cdGZ1bmN0aW9uIG0oYSkge1xuXHRcdCQoYSkuYmluZChcInRvdWNoc3RhcnQgbW91c2Vkb3duXCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdGEuc3RvcFByb3BhZ2F0aW9uKClcblx0XHR9KVxuXHR9XG5cdGZ1bmN0aW9uIG4oYSkge1xuXHRcdGEuZm9jdXMoZnVuY3Rpb24oKSB7XG5cdFx0XHRlcXhpdS5wYXVzZUF1dG9GbGlwKClcblx0XHR9KS5ibHVyKGZ1bmN0aW9uKCkge1xuXHRcdFx0JChkb2N1bWVudCkudHJpZ2dlcihcInN0YXJ0QXV0b0ZsaXBcIilcblx0XHR9KVxuXHR9XG5cdGZ1bmN0aW9uIG8oYSkge1xuXHRcdGZvciAodmFyIGIgPSAkKGEpLmZpbmQoXCJhW2RhdGFdXCIpLCBjID0gMDsgYyA8IGIubGVuZ3RoOyBjKyspIGlmIChiW2NdICYmIFwidmlld1wiID09PSB0Lm1vZGUpIHtcblx0XHRcdCQoYltjXSkuY3NzKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKTtcblx0XHRcdHZhciBkID0gJChiW2NdKS5hdHRyKFwiZGF0YVwiKTtcblx0XHRcdCFcblx0XHRcdGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0YltjXS5yZW1vdmVBdHRyaWJ1dGUoXCJocmVmXCIpLCAkKGJbY10pLmNsaWNrKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGVxeGl1LnBhZ2VTY3JvbGwoYSlcblx0XHRcdFx0fSlcblx0XHRcdH0oZClcblx0XHR9XG5cdH1cblx0ZnVuY3Rpb24gcChiLCBjLCBkKSB7XG5cdFx0dmFyIGUgPSBQUkVGSVhfUzFfVVJMICsgXCJpbmRleC5waHA/Yz1zY2VuZWRhdGEmYT1nZXRtc2cmc2NlbmVJZD1cIiArIGI7XG5cdFx0ZCAmJiAoZSArPSBcIiZsYXN0VGltZT1cIiArIGQpLCBlICs9IFwiJmRhdGU9XCIgKyAobmV3IERhdGUpLmdldFRpbWUoKSwgJC5hamF4KHtcblx0XHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0XHR1cmw6IGUsXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihiKSB7XG5cdFx0XHRcdGlmIChiLnN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBkLCBlLCBmLCBnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCBoID0gYi5saXN0LCBpID0gMDsgaSA8IGgubGVuZ3RoOyBpKyspIGUgPSBoW2ldLnVybCA/ICc8ZGl2IGNsYXNzPVwiaGVhZGltZ1wiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTp1cmwoJyArIGhbaV0udXJsICsgJylcIj48L2Rpdj4nIDogJzxkaXYgY2xhc3M9XCJoZWFkaW1nIGhlYWRpbWctYmdcIj48ZGl2IGNsYXNzPVwibG9nby1zY2FsZVwiPjxlbSBjbGFzcz1cImVxZi1lcXhpdVwiPjwvZW0+PC9kaXY+PC9kaXY+JywgZCA9ICQoJzxkaXYgY2xhc3M9XCJyZWNvcmRcIj4nICsgZSArICc8ZGl2IGNsYXNzPVwibmFtZVwiPicgKyBoW2ldLm5hbWUgKyAnPC9kaXY+PGRpdiBjbGFzcz1cIm1lc1wiPicgKyBoW2ldLmNvbnRlbnQgKyAnPC9kaXY+PGRpdiBjbGFzcz1cInRpbWVcIj4nICsgYS5EYXRlRm9ybWl0KGhbaV0uY3JlYXRlVGltZSwgXCJNTeaciERE5pelXCIpICsgXCI8L2Rpdj48L2Rpdj5cIikuZ2V0KDApLCBnLmFwcGVuZENoaWxkKGQpO1xuXHRcdFx0XHRcdDEwID09PSBoLmxlbmd0aCA/IGYgPSBoW2gubGVuZ3RoIC0gMV0uY3JlYXRlVGltZSA6IDAgPT09IGgubGVuZ3RoICYmIChmID0gMCksIGQgJiYgZy5hcHBlbmRDaGlsZChkKSwgYyhnLCBmKVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSlcblx0fVxuXHRmdW5jdGlvbiBxKGEsIGIpIHtcblx0XHRpZiAoYi50cmlnZ2VyKSB7XG5cdFx0XHR2YXIgYyA9ICQoYSk7XG5cdFx0XHRjLmF0dHIoXCJkYXRhLWV2ZW50XCIsIFwiMTEyMDYwM1wiKSwgdyAmJiBjbGVhclRpbWVvdXQodyksIGIudHJpZ2dlci5zZW5kcyAmJiBiLnRyaWdnZXIuc2VuZHMubGVuZ3RoICYmICQuZWFjaChiLnRyaWdnZXIuc2VuZHMsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdFx0Yy5iaW5kKHV0aWxUcmlnZ2VyLmdldFNlbmRUeXBlKGIudHlwZSkubmFtZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHQkLmVhY2goYi5oYW5kbGVzLCBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBjID0gdXRpbFRyaWdnZXIuZ2V0SGFuZGxlVHlwZShiLnR5cGUpLm5hbWU7XG5cdFx0XHRcdFx0XHRcdCQuZWFjaChiLmlkcywgZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBkO1xuXHRcdFx0XHRcdFx0XHRcdGQgPSAkKFwiI2luc2lkZV9cIiArIGIsIFwiLnBob25lLXZpZXdcIikubGVuZ3RoID8gJChcIiNpbnNpZGVfXCIgKyBiLCBcIi5waG9uZS12aWV3XCIpIDogJChcIiNpbnNpZGVfXCIgKyBiKSwgZC50cmlnZ2VyKGMpXG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdH0sIDFlMyAqIGIuZGVsYXkpXG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXHRcdH1cblx0fVxuXHRmdW5jdGlvbiByKGIsIGMpIHtcblx0XHRpZiAoYy5zb3VuZCkge1xuXHRcdFx0dmFyIGQgPSAkKGIpLFxuXHRcdFx0XHRlID0gJChcIiNtZWRpYVwiKS5nZXQoMCk7XG5cdFx0XHQwID09PSBjLnNvdW5kLnNyYy5pbmRleE9mKFwiaHR0cDovL1wiKSA/IGMuc291bmQuc3JjID0gYy5zb3VuZC5zcmMgOiBjLnNvdW5kLnNyYyA9IFBSRUZJWF9GSUxFX0hPU1QgKyBjLnNvdW5kLnNyYywgdXRpbFNvdW5kLmFkZEF1ZGlvKGIsIGMuc291bmQuc3JjKSwgZC5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0dXRpbFNvdW5kLnBsYXkoYiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZSAmJiBhLmV4ZWN1dGVQbGF5KClcblx0XHRcdFx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZSAmJiBhLmV4ZWN1dGVQYXVzZSgpXG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXHRcdH1cblx0fVxuXHR2YXIgdCA9IGEudGVtcGxhdGVQYXJzZXIoXCJqc29uUGFyc2VyXCIsIGZ1bmN0aW9uKCkge1xuXHRcdGZ1bmN0aW9uIGEoYSkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGIsIGMpIHtcblx0XHRcdFx0YVtiXSA9IGNcblx0XHRcdH1cblx0XHR9XG5cdFx0ZnVuY3Rpb24gYyhhLCBjKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YXIgZCA9IGpbKFwiXCIgKyBhLnR5cGUpLmNoYXJBdCgwKV0oYSwgYylcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0cmV0dXJuXG5cdFx0XHR9XG5cdFx0XHRpZiAoZCkge1xuXHRcdFx0XHR2YXIgZiA9ICQoJzxsaSBjb21wLWRyYWcgY29tcC1yb3RhdGUgY2xhc3M9XCJjb21wLXJlc2l6ZSBjb21wLXJvdGF0ZSBpbnNpZGVcIiBpZD1cImluc2lkZV8nICsgYS5pZCArICdcIiBudW09XCInICsgYS5udW0gKyAnXCIgY3R5cGU9XCInICsgYS50eXBlICsgJ1wiPjwvbGk+JyksXG5cdFx0XHRcdFx0ZyA9IChcIlwiICsgYS50eXBlKS5jaGFyQXQoMCk7XG5cdFx0XHRcdGlmIChcIjNcIiAhPT0gZyAmJiBcIjFcIiAhPT0gZyAmJiBmLmF0dHIoXCJjb21wLXJlc2l6ZVwiLCBcIlwiKSwgXCJwXCIgPT09IGcgPyBmLnJlbW92ZUF0dHIoXCJjb21wLXJvdGF0ZVwiKSA6IFwiMVwiID09PSBnID8gZi5yZW1vdmVBdHRyKFwiY29tcC1kcmFnXCIpIDogXCIyXCIgPT09IGcgPyBmLmFkZENsYXNzKFwid3NpdGUtdGV4dFwiKSA6IFwieFwiID09PSBnID8gZi5hZGRDbGFzcyhcInNob3ctdGV4dFwiKSA6IFwiNFwiID09PSBnID8gKGEucHJvcGVydGllcy5pbWdTdHlsZSAmJiAkKGQpLmNzcyhhLnByb3BlcnRpZXMuaW1nU3R5bGUpLCBmLmFkZENsYXNzKFwid3NpdGUtaW1hZ2VcIikpIDogXCJuXCIgPT09IGcgPyBmLmFkZENsYXNzKFwid3NpdGUtaW1hZ2VcIikgOiBcImhcIiA9PT0gZyA/IGYuYWRkQ2xhc3MoXCJ3c2l0ZS1zaGFwZVwiKSA6IFwiNVwiID09PSBnID8gZi5hZGRDbGFzcyhcIndzaXRlLWlucHV0XCIpIDogXCI2XCIgPT09IGcgPyBmLmFkZENsYXNzKFwid3NpdGUtYnV0dG9uXCIpIDogXCI4XCIgPT09IGcgPyBmLmFkZENsYXNzKFwid3NpdGUtYnV0dG9uXCIpIDogXCJ2XCIgPT09IGcgPyBmLmFkZENsYXNzKFwid3NpdGUtdmlkZW9cIikgOiBcImJcIiA9PT0gZyAmJiAoZi5hZGRDbGFzcyhcIndzaXRlLWJvYXJkc1wiKSwgZi5hdHRyKFwibWluLWhcIiwgNjApLCBmLmF0dHIoXCJtaW4td1wiLCAyMzApKSwgXCJ2XCIgPT09IChcIlwiICsgYS50eXBlKS5jaGFyQXQoMCkgJiYgZi5hZGRDbGFzcyhcIndzaXRlLXZpZGVvXCIpLCBhLnByb3BlcnRpZXMgJiYgYS5wcm9wZXJ0aWVzLmxvY2sgJiYgZi5hZGRDbGFzcyhcImFsb2NrXCIpLCBmLm1vdXNlZW50ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0JCh0aGlzKS5hZGRDbGFzcyhcImluc2lkZS1ob3ZlclwiKVxuXHRcdFx0XHR9KSwgZi5tb3VzZWxlYXZlKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoXCJpbnNpZGUtaG92ZXJcIilcblx0XHRcdFx0fSksIFwiZWRpdFwiID09PSB0Lm1vZGUgfHwgXCJ4XCIgIT09IChcIlwiICsgYS50eXBlKS5jaGFyQXQoMCkpIHtcblx0XHRcdFx0XHR2YXIgaCA9ICQoJzxkaXYgY2xhc3M9XCJlbGVtZW50LWJveC1jb250ZW50c1wiPicpLFxuXHRcdFx0XHRcdFx0aSA9ICQoJzxkaXYgY2xhc3M9XCJlbGVtZW50LWJveFwiPicpLmFwcGVuZChoLmFwcGVuZChkKSk7XG5cdFx0XHRcdFx0Zi5hcHBlbmQoaSksIFwiNVwiICE9PSAoXCJcIiArIGEudHlwZSkuY2hhckF0KDApICYmIFwiNlwiICE9PSAoXCJcIiArIGEudHlwZSkuY2hhckF0KDApICYmIFwiclwiICE9PSBhLnR5cGUgJiYgXCJjXCIgIT09IGEudHlwZSAmJiBcImFcIiAhPT0gYS50eXBlICYmIFwiOFwiICE9PSBhLnR5cGUgJiYgXCJsXCIgIT09IGEudHlwZSAmJiBcInNcIiAhPT0gYS50eXBlICYmIFwiaVwiICE9PSBhLnR5cGUgJiYgXCJoXCIgIT09IGEudHlwZSAmJiBcInpcIiAhPT0gYS50eXBlIHx8IFwiZWRpdFwiICE9PSBjIHx8ICQoZCkuYmVmb3JlKCQoJzxkaXYgY2xhc3M9XCJlbGVtZW50XCIgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IGhlaWdodDogMTAwJTsgd2lkdGg6IDEwMCU7ei1pbmRleDogMTtcIj4nKSlcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgaywgbCA9IGEuZm9udHMgfHwgYS5jc3MuZm9udEZhbWlseSB8fCBhLmZvbnRGYW1pbHk7XG5cdFx0XHRcdGlmIChcIjJcIiA9PT0gZyB8fCBcInhcIiA9PT0gZykge1xuXHRcdFx0XHRcdGZvciAodmFyIG0gPSBhLmNvbnRlbnQsIG4gPSAvZm9udC1mYW1pbHk6KC4qPyk7L2csIG8gPSBbXSwgcCA9IFtdOyBudWxsICE9PSAobyA9IG4uZXhlYyhtKSk7KSBwLnB1c2gob1sxXS50cmltKCkpO1xuXHRcdFx0XHRcdGlmICgxICE9PSBwLmxlbmd0aCB8fCBcImRlZmF1bHRGb250XCIgIT09IHBbMF0gJiYgXCJtb3JlblwiICE9PSBwWzBdIHx8IChsID0gbnVsbCksIGwpIHtcblx0XHRcdFx0XHRcdGlmIChcInZpZXdcIiA9PT0gdC5tb2RlICYmIGEuY3NzLmZvbnRGYW1pbHkgJiYgd2luZG93LnNjZW5lICYmICh3aW5kb3cuc2NlbmUucHVibGlzaFRpbWUgfHwgIW1vYmlsZWNoZWNrKCkgJiYgIXRhYmxldENoZWNrKCkgfHwgKGsgPSBcIkBmb250LWZhY2V7Zm9udC1mYW1pbHk6XCIgKyBhLmNzcy5mb250RmFtaWx5ICsgJztzcmM6IHVybChcIicgKyBhLnByb3BlcnRpZXMubG9jYWxGb250UGF0aCArICdcIikgZm9ybWF0KFwidHJ1ZXR5cGVcIik7fScsIGIoaykpKSwgXCJvYmplY3RcIiA9PSB0eXBlb2YgbCAmJiBsLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcblx0XHRcdFx0XHRcdFx0aWYgKCFqUXVlcnkuaXNFbXB0eU9iamVjdChsKSkgZm9yICh2YXIgcSBpbiBsKSB1W3FdIHx8IChcImVkaXRcIiA9PT0gdC5tb2RlID8gayA9IFwiQGZvbnQtZmFjZXtmb250LWZhbWlseTpcIiArIHEgKyBcIjtzcmM6IHVybChcIiArIFBSRUZJWF9GSUxFX0hPU1QgKyBsW3FdICsgXCIpIGZvcm1hdCh3b2ZmKTt9XCIgOiB3aW5kb3cuc2NlbmUgJiYgd2luZG93LnNjZW5lLnB1Ymxpc2hUaW1lICYmIChrID0gXCJAZm9udC1mYWNle2ZvbnQtZmFtaWx5OlwiICsgcSArICc7c3JjOiB1cmwoXCInICsgUFJFRklYX1MyX1VSTCArIFwiZmMvXCIgKyBxICsgXCJfXCIgKyBhLnNjZW5lSWQgKyBcIl9cIiArIHNjZW5lLnB1Ymxpc2hUaW1lICsgJy53b2ZmXCIpIGZvcm1hdChcIndvZmZcIik7fScpLCBiKGspLCB1W3FdID0gITApXG5cdFx0XHRcdFx0XHR9IGVsc2UgdVtsXSB8fCAoXCJlZGl0XCIgPT09IHQubW9kZSA/IGsgPSBcIkBmb250LWZhY2V7Zm9udC1mYW1pbHk6XCIgKyBsICsgXCI7c3JjOiB1cmwoXCIgKyBQUkVGSVhfRklMRV9IT1NUICsgYS5wcmVXb2ZmUGF0aCArIFwiKSBmb3JtYXQod29mZik7fVwiIDogd2luZG93LnNjZW5lICYmIHdpbmRvdy5zY2VuZS5wdWJsaXNoVGltZSAmJiAoayA9IFwiQGZvbnQtZmFjZXtmb250LWZhbWlseTpcIiArIGwgKyAnO3NyYzogdXJsKFwiJyArIFBSRUZJWF9TMl9VUkwgKyBcImZjL1wiICsgbCArIFwiX1wiICsgYS5zY2VuZUlkICsgXCJfXCIgKyBzY2VuZS5wdWJsaXNoVGltZSArICcud29mZlwiKSBmb3JtYXQoXCJ3b2ZmXCIpO30nKSwgYihrKSwgdVtsXSA9ICEwKTtcblx0XHRcdFx0XHRcdFwiZWRpdFwiID09PSB0Lm1vZGUgJiYgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzaG9wcGluZ0ZvbnRGYW1pbHlcIiwgSlNPTi5zdHJpbmdpZnkodSkpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChhLmNzcykge1xuXHRcdFx0XHRcdHZhciByID0gMzIwIC0gcGFyc2VJbnQoYS5jc3MubGVmdCwgMTApO1xuXHRcdFx0XHRcdGlmIChmLmNzcyh7XG5cdFx0XHRcdFx0XHR3aWR0aDogclxuXHRcdFx0XHRcdH0pLCBmLmNzcyh7XG5cdFx0XHRcdFx0XHR3aWR0aDogYS5jc3Mud2lkdGgsXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IGEuY3NzLmhlaWdodCxcblx0XHRcdFx0XHRcdGxlZnQ6IGEuY3NzLmxlZnQsXG5cdFx0XHRcdFx0XHR0b3A6IGEuY3NzLnRvcCxcblx0XHRcdFx0XHRcdHpJbmRleDogYS5jc3MuekluZGV4LFxuXHRcdFx0XHRcdFx0Ym90dG9tOiBhLmNzcy5ib3R0b20sXG5cdFx0XHRcdFx0XHR0cmFuc2Zvcm06IGEuY3NzLnRyYW5zZm9ybVxuXHRcdFx0XHRcdH0pLCAoMCA9PT0gYS5jc3MuYm94U2hhZG93U2l6ZSB8fCBcIlwiICsgYS5jc3MuYm94U2hhZG93U2l6ZSA9PSBcIjBcIikgJiYgKGEuY3NzLmJveFNoYWRvdyA9IFwiMHB4IDBweCAwcHggcmdiYSgwLDAsMCwwLjUpXCIpLCBcImVkaXRcIiAhPT0gdC5tb2RlICYmIFwieFwiID09PSAoXCJcIiArIGEudHlwZSkuY2hhckF0KDApKSByZXR1cm4gZi5hcHBlbmQoZCksIGYuZmluZChcIi5lbGVtZW50LWJveFwiKS5jc3Moe1xuXHRcdFx0XHRcdFx0Ym9yZGVyU3R5bGU6IGEuY3NzLmJvcmRlclN0eWxlLFxuXHRcdFx0XHRcdFx0Ym9yZGVyV2lkdGg6IGEuY3NzLmJvcmRlcldpZHRoLFxuXHRcdFx0XHRcdFx0Ym9yZGVyQ29sb3I6IGEuY3NzLmJvcmRlckNvbG9yLFxuXHRcdFx0XHRcdFx0Ym9yZGVyVG9wTGVmdFJhZGl1czogYS5jc3MuYm9yZGVyVG9wTGVmdFJhZGl1cyxcblx0XHRcdFx0XHRcdGJvcmRlclRvcFJpZ2h0UmFkaXVzOiBhLmNzcy5ib3JkZXJUb3BSaWdodFJhZGl1cyxcblx0XHRcdFx0XHRcdGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzOiBhLmNzcy5ib3JkZXJCb3R0b21SaWdodFJhZGl1cyxcblx0XHRcdFx0XHRcdGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IGEuY3NzLmJvcmRlckJvdHRvbUxlZnRSYWRpdXMsXG5cdFx0XHRcdFx0XHRib3hTaGFkb3c6IGEuY3NzLmJveFNoYWRvdyxcblx0XHRcdFx0XHRcdGJhY2tncm91bmRDb2xvcjogYS5jc3MuYmFja2dyb3VuZENvbG9yLFxuXHRcdFx0XHRcdFx0b3BhY2l0eTogYS5jc3Mub3BhY2l0eSxcblx0XHRcdFx0XHRcdHdpZHRoOiBcIjEwMCVcIixcblx0XHRcdFx0XHRcdGhlaWdodDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIlxuXHRcdFx0XHRcdH0pLCBmLmZpbmQoXCJpbWdcIikuY3NzKHtcblx0XHRcdFx0XHRcdHdpZHRoOiBcIjEwMCVcIlxuXHRcdFx0XHRcdH0pLCBmO1xuXHRcdFx0XHRcdGlzQW5kcm9pZCgpICYmIGlzV2VpeGluKCkgJiYgXCJcIiArIGEudHlwZSA9PSBcIjRcIiAmJiBcIjBweFwiICE9PSBhLmNzcy5ib3JkZXJSYWRpdXMgJiYgMCA9PT0gYS5jc3MuYm9yZGVyV2lkdGggJiYgYS5wcm9wZXJ0aWVzLmFuaW0gJiYgKGEuY3NzLmJvcmRlcldpZHRoID0gMSwgYS5jc3MuYm9yZGVyQ29sb3IgPSBcInJnYmEoMCwwLDAsMClcIik7XG5cdFx0XHRcdFx0dmFyIHMgPSAkLmV4dGVuZCghMCwge30sIGEuY3NzKTtcblx0XHRcdFx0XHRkZWxldGUgcy5mb250RmFtaWx5LCBpLmNzcyhzKS5jc3Moe1xuXHRcdFx0XHRcdFx0d2lkdGg6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjEwMCVcIixcblx0XHRcdFx0XHRcdHRyYW5zZm9ybTogXCJub25lXCJcblx0XHRcdFx0XHR9KSwgaS5jaGlsZHJlbihcIi5lbGVtZW50LWJveC1jb250ZW50c1wiKS5jc3Moe1xuXHRcdFx0XHRcdFx0d2lkdGg6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjEwMCVcIlxuXHRcdFx0XHRcdH0pLCBcIjRcIiAhPT0gKFwiXCIgKyBhLnR5cGUpLmNoYXJBdCgwKSAmJiBcIm5cIiAhPT0gKFwiXCIgKyBhLnR5cGUpLmNoYXJBdCgwKSAmJiBcInBcIiAhPT0gKFwiXCIgKyBhLnR5cGUpLmNoYXJBdCgwKSAmJiBcImhcIiAhPT0gKFwiXCIgKyBhLnR5cGUpLmNoYXJBdCgwKSAmJiBcInRcIiAhPT0gKFwiXCIgKyBhLnR5cGUpLmNoYXJBdCgwKSAmJiBcInpcIiAhPT0gKFwiXCIgKyBhLnR5cGUpLmNoYXJBdCgwKSAmJiAkKGQpLmNzcyh7XG5cdFx0XHRcdFx0XHR3aWR0aDogYS5jc3Mud2lkdGgsXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IGEuY3NzLmhlaWdodFxuXHRcdFx0XHRcdH0pLCAoXCJ3MDFcIiA9PT0gYS50eXBlIHx8IFwidzAyXCIgPT09IGEudHlwZSkgJiYgJChkKS5jc3Moe1xuXHRcdFx0XHRcdFx0bGluZUhlaWdodDogYS5jc3MuaGVpZ2h0ICsgXCJweFwiXG5cdFx0XHRcdFx0fSksIFwiaFwiID09PSAoXCJcIiArIGEudHlwZSkuY2hhckF0KDApICYmICgkKGQpLmZpbmQoXCJnXCIpLmxlbmd0aCA/ICQoZCkuZmluZChcImdcIikuYXR0cihcImZpbGxcIiwgYS5jc3MuY29sb3IpIDogJChkKS5jaGlsZHJlbigpLmF0dHIoXCJmaWxsXCIsIGEuY3NzLmNvbG9yKSwgaS5jaGlsZHJlbihcIi5lbGVtZW50LWJveC1jb250ZW50c1wiKS5jc3MoXCJwb3NpdGlvblwiLCBcInJlbGF0aXZlXCIpKVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmXG5cdFx0XHR9XG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGQoYSkge1xuXHRcdFx0Zm9yICh2YXIgYiA9IDA7IGIgPCBhLmxlbmd0aCAtIDE7IGIrKykgZm9yICh2YXIgYyA9IGIgKyAxOyBjIDwgYS5sZW5ndGg7IGMrKykgaWYgKHBhcnNlSW50KGFbYl0uY3NzLnpJbmRleCwgMTApID4gcGFyc2VJbnQoYVtjXS5jc3MuekluZGV4LCAxMCkpIHtcblx0XHRcdFx0dmFyIGQgPSBhW2JdO1xuXHRcdFx0XHRhW2JdID0gYVtjXSwgYVtjXSA9IGRcblx0XHRcdH1cblx0XHRcdGZvciAodmFyIGUgPSAwOyBlIDwgYS5sZW5ndGg7IGUrKykgYVtlXS5jc3MuekluZGV4ID0gZSArIDEgKyBcIlwiO1xuXHRcdFx0cmV0dXJuIGFcblx0XHR9XG5cdFx0ZnVuY3Rpb24gZShhLCBiLCBlKSB7XG5cdFx0XHRiID0gYi5maW5kKFwiLmVkaXRfYXJlYVwiKTtcblx0XHRcdHZhciBmLCBnID0gYS5lbGVtZW50cztcblx0XHRcdGlmIChnKSBmb3IgKGcgPSBkKGcpLCBmID0gMDsgZiA8IGcubGVuZ3RoOyBmKyspIGlmIChnW2ZdLnNjZW5lSWQgPSBhLnNjZW5lSWQsIFwiXCIgKyBnW2ZdLnR5cGUgPT0gXCIzXCIpIHtcblx0XHRcdFx0dmFyIGggPSBqWyhcIlwiICsgZ1tmXS50eXBlKS5jaGFyQXQoMCldKGdbZl0sIGIpO1xuXHRcdFx0XHRcImVkaXRcIiA9PT0gZSAmJiBrWyhcIlwiICsgZ1tmXS50eXBlKS5jaGFyQXQoMCldICYmIGtbKFwiXCIgKyBnW2ZdLnR5cGUpLmNoYXJBdCgwKV0oaCwgZ1tmXSlcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBpID0gYyhnW2ZdLCBlKTtcblx0XHRcdFx0aWYgKCFpKSBjb250aW51ZTtcblx0XHRcdFx0Yi5hcHBlbmQoaSk7XG5cdFx0XHRcdGZvciAodmFyIG4gPSAwOyBuIDwgbS5sZW5ndGg7IG4rKykgbVtuXShpLCBnW2ZdLCBlKTtcblx0XHRcdFx0bFsoXCJcIiArIGdbZl0udHlwZSkuY2hhckF0KDApXSAmJiAobFsoXCJcIiArIGdbZl0udHlwZSkuY2hhckF0KDApXShpLCBnW2ZdKSwgXCJlZGl0XCIgIT09IGUgJiYgKHEoaSwgZ1tmXSksIHIoaSwgZ1tmXSkpKSwgXCJlZGl0XCIgPT09IGUgJiYga1soXCJcIiArIGdbZl0udHlwZSkuY2hhckF0KDApXSAmJiBrWyhcIlwiICsgZ1tmXS50eXBlKS5jaGFyQXQoMCldKGksIGdbZl0pXG5cdFx0XHR9XG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGYoKSB7XG5cdFx0XHRyZXR1cm4ga1xuXHRcdH1cblx0XHRmdW5jdGlvbiBnKCkge1xuXHRcdFx0cmV0dXJuIGpcblx0XHR9XG5cdFx0ZnVuY3Rpb24gaChhKSB7XG5cdFx0XHRtLnB1c2goYSlcblx0XHR9XG5cdFx0ZnVuY3Rpb24gaSgpIHtcblx0XHRcdHJldHVybiBtXG5cdFx0fVxuXHRcdHZhciBqID0ge30sXG5cdFx0XHRrID0ge30sXG5cdFx0XHRsID0ge30sXG5cdFx0XHRtID0gW10sXG5cdFx0XHRuID0gY29udGFpbmVyV2lkdGggPSAzMjAsXG5cdFx0XHRvID0gY29udGFpbmVySGVpZ2h0ID0gNDg2LFxuXHRcdFx0cCA9IDEsXG5cdFx0XHRzID0gMSxcblx0XHRcdHYgPSB7XG5cdFx0XHRcdGdldENvbXBvbmVudHM6IGcsXG5cdFx0XHRcdGdldEV2ZW50SGFuZGxlcnM6IGYsXG5cdFx0XHRcdGFkZENvbXBvbmVudDogYShqKSxcblx0XHRcdFx0YmluZEVkaXRFdmVudDogYShrKSxcblx0XHRcdFx0YmluZEFmdGVyUmVuZGVyRXZlbnQ6IGEobCksXG5cdFx0XHRcdGFkZEludGVyY2VwdG9yOiBoLFxuXHRcdFx0XHRnZXRJbnRlcmNlcHRvcnM6IGksXG5cdFx0XHRcdHdyYXBDb21wOiBjLFxuXHRcdFx0XHRkaXNFdmVudDogITEsXG5cdFx0XHRcdG1vZGU6IFwidmlld1wiLFxuXHRcdFx0XHRwYXJzZTogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdHZhciBiID0gJCgnPGRpdiBjbGFzcz1cImVkaXRfd3JhcHBlclwiIGRhdGEtc2NlbmUtaWQ9XCInICsgYS5kZWYuc2NlbmVJZCArICdcIj48dWwgZXF4LWVkaXQtZGVzdHJveSBpZD1cImVkaXRfYXJlYScgKyBhLmRlZi5pZCArICdcIiBwYXN0ZS1lbGVtZW50IGNsYXNzPVwiZWRpdF9hcmVhIHdlZWJseS1jb250ZW50LWFyZWEgd2VlYmx5LWFyZWEtYWN0aXZlXCI+PC9kaXY+JyksXG5cdFx0XHRcdFx0XHRjID0gdGhpcy5tb2RlID0gYS5tb2RlO1xuXHRcdFx0XHRcdHRoaXMuZGVmID0gYS5kZWYsIGEuZGlzRXZlbnQgJiYgKHRoaXMuZGlzRXZlbnQgPSAhMCksIFwidmlld1wiID09PSBjICYmIHRwbENvdW50Kys7XG5cdFx0XHRcdFx0dmFyIGQgPSAkKGEuYXBwZW5kVG8pO1xuXHRcdFx0XHRcdHJldHVybiBjb250YWluZXJXaWR0aCA9IGQud2lkdGgoKSwgY29udGFpbmVySGVpZ2h0ID0gZC5oZWlnaHQoKSwgcCA9IG4gLyBjb250YWluZXJXaWR0aCwgcyA9IG8gLyBjb250YWluZXJIZWlnaHQsIGUoYS5kZWYsIGIuYXBwZW5kVG8oJChhLmFwcGVuZFRvKSksIGMpXG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0cmV0dXJuIHZcblx0fSk7XG5cdHQuYWRkSW50ZXJjZXB0b3IoZnVuY3Rpb24oYSwgYiwgYykge1xuXHRcdGVxeENvbW1vbi5hbmltYXRpb24oYSwgYiwgYywgdC5kZWYucHJvcGVydGllcylcblx0fSksIHQuYWRkQ29tcG9uZW50KFwiMVwiLCBmdW5jdGlvbihhKSB7XG5cdFx0dmFyIGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGlmIChiLmlkID0gYS5pZCwgYi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImVsZW1lbnQgY29tcF90aXRsZVwiKSwgYS5jb250ZW50ICYmIChiLnRleHRDb250ZW50ID0gYS5jb250ZW50KSwgYS5jc3MpIHtcblx0XHRcdHZhciBjLCBkID0gYS5jc3M7XG5cdFx0XHRmb3IgKGMgaW4gZCkgYi5zdHlsZVtjXSA9IGRbY11cblx0XHR9XG5cdFx0aWYgKGEucHJvcGVydGllcy5sYWJlbHMpIGZvciAodmFyIGUgPSBhLnByb3BlcnRpZXMubGFiZWxzLCBmID0gMDsgZiA8IGUubGVuZ3RoOyBmKyspICQoJzxhIGNsYXNzID0gXCJsYWJlbF9jb250ZW50XCIgc3R5bGUgPSBcImRpc3BsYXk6IGlubGluZS1ibG9jaztcIj4nKS5hcHBlbmRUbygkKGIpKS5odG1sKGVbZl0udGl0bGUpLmNzcyhlW2ZdLmNvbG9yKS5jc3MoXCJ3aWR0aFwiLCAxMDAgLyBlLmxlbmd0aCArIFwiJVwiKTtcblx0XHRyZXR1cm4gYlxuXHR9KTtcblx0dmFyIHUgPSB7fTtcblx0dC5hZGRDb21wb25lbnQoXCIyXCIsIGZ1bmN0aW9uKGEpIHtcblx0XHR2YXIgYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0cmV0dXJuIGIuaWQgPSBhLmlkLCBiLnNldEF0dHJpYnV0ZShcImN0eXBlXCIsIGEudHlwZSksIGIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJlbGVtZW50IGNvbXBfcGFyYWdyYXBoIGVkaXRhYmxlLXRleHRcIiksIGEuY29udGVudCAmJiAoYS5wcm9wZXJ0aWVzLmFuaW0gJiYgYS5wcm9wZXJ0aWVzLmFuaW0ubGVuZ3RoICYmIFwidHlwZXJcIiA9PT0gYS5wcm9wZXJ0aWVzLmFuaW1bMF0udHlwZSAmJiBcInZpZXdcIiA9PT0gdC5tb2RlID8gYi5pbm5lckhUTUwgPSBcIlwiIDogYi5pbm5lckhUTUwgPSBhLmNvbnRlbnQpLCBiLnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiLCBhLmNzcy5mb250U2l6ZSAmJiAoYi5zdHlsZS5mb250U2l6ZSA9IGEuY3NzLmZvbnRTaXplICsgXCJweFwiKSwgYlxuXHR9KSwgdC5hZGRDb21wb25lbnQoXCJ4XCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRmdW5jdGlvbiBiKCkge1xuXHRcdFx0YyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIGMuaWQgPSBhLmlkLCBjLnNldEF0dHJpYnV0ZShcImN0eXBlXCIsIGEudHlwZSksIGMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJlbGVtZW50IGNvbXBfcGFyYWdyYXBoIGVkaXRhYmxlLXRleHRcIiksIGEuY29udGVudCAmJiAoYy5pbm5lckhUTUwgPSBhLmNvbnRlbnQpLCBjLnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiXG5cdFx0fVxuXHRcdHZhciBjO1xuXHRcdHJldHVybiAhbW9iaWxlY2hlY2soKSAmJiB3aW5kb3cudG9wID09PSB3aW5kb3cuc2VsZiAmJiAkKFwiLmNyZWF0ZV9sZWZ0XCIpLmdldCgwKSAmJiAodC5tb2RlID0gXCJlZGl0XCIpLCBiKCksIGNcblx0fSksIHQuYWRkQ29tcG9uZW50KFwiM1wiLCBmdW5jdGlvbihiLCBjKSB7XG5cdFx0dmFyIGQsIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGlmIChcImVkaXRcIiA9PT0gdC5tb2RlID8gKGQgPSBjID8gYy5wYXJlbnQoXCIuZWRpdF93cmFwcGVyXCIpIDogJChcIiNuciAuZWRpdF93cmFwcGVyXCIpLCBlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwid3JhcHBlci1iYWNrZ3JvdW5kXCIpLCBlLnNldEF0dHJpYnV0ZShcImlkXCIsIGIuaWQpKSA6IFwidmlld1wiID09PSB0Lm1vZGUgJiYgKGQgPSBjID8gYy5wYXJlbnQoXCIuZWRpdF93cmFwcGVyXCIpIDogJChcIiNlZGl0X2FyZWFcIiArIHQuZGVmLmlkKS5wYXJlbnQoXCIuZWRpdF93cmFwcGVyXCIpLCBlLnNldEF0dHJpYnV0ZShcImlkXCIsIFwid3JhcHBlci1iYWNrZ3JvdW5kXCIgKyB0LmRlZi5pZCkpLCAyICE9PSBiLnByb3BlcnRpZXMuY3JvcHR5cGUgfHwgXCJlZGl0XCIgPT09IHQubW9kZSB8fCB0LmRlZi5pc3RwbCkge1xuXHRcdFx0dmFyIGYgPSBcIjEwMCVcIjtcblx0XHRcdCQoZSkucHJlcGVuZFRvKGQpLCAyICE9PSBiLnByb3BlcnRpZXMuY3JvcHR5cGUgfHwgdC5kZWYuaXN0cGwgfHwgKGYgPSA0ODYgKiBiLnByb3BlcnRpZXMucGFnZUxlbmd0aCArIFwicHhcIiwgJChlKS5wYXJlbnQoKS5jc3MoXCJvdmVyZmxvd1wiLCBcInZpc2libGVcIikpLCAkKGUpLmNzcyh7XG5cdFx0XHRcdHdpZHRoOiBcIjEwMCVcIixcblx0XHRcdFx0aGVpZ2h0OiBmXG5cdFx0XHR9KVxuXHRcdH1cblx0XHR2YXIgZywgaCA9IG5ldyBJbWFnZTtcblx0XHRpZiAoYi5wcm9wZXJ0aWVzLmltZ1NyYykge1xuXHRcdFx0ZyA9IGIucHJvcGVydGllcy5pbWdTcmM7XG5cdFx0XHR2YXIgaSA9IC9cXD9pbWFnZU1vZ3IyLyxcblx0XHRcdFx0aiA9IC8uc3ZnLztcblx0XHRcdGlmIChhLmlzTW9iaWxlQXBwKCkgfHwgai50ZXN0KGcpIHx8IChnICs9IGkudGVzdChnKSA/IFwiXCIgOiBcIlwiKSwgMiA9PT0gYi5wcm9wZXJ0aWVzLmNyb3B0eXBlICYmIFwidmlld1wiID09PSB0Lm1vZGUgJiYgIXQuZGVmLmlzdHBsKSB7XG5cdFx0XHRcdHZhciBrID0gXCJcIjtcblx0XHRcdFx0cmV0dXJuIGsgPSAvXmh0dHAuKiEvLnRlc3QoZykgPyBcInVybChcIiArIGcgKyBcIilcIiA6IFwidXJsKFwiICsgUFJFRklYX0ZJTEVfSE9TVCArIGcgKyBcIilcIiwgYy5wYXJlbnQoKS5jc3Moe1xuXHRcdFx0XHRcdGJhY2tncm91bmRJbWFnZTogayxcblx0XHRcdFx0XHRoZWlnaHQ6IDQ4NiAqIChiLnByb3BlcnRpZXMucGFnZUxlbmd0aCAtIDEpICsgKG1vYmlsZWNoZWNrKCkgPyAkKGRvY3VtZW50KS5oZWlnaHQoKSA6IDQ4NikgKyBcInB4XCJcblx0XHRcdFx0fSksIGVcblx0XHRcdH1cblx0XHRcdC9eaHR0cC4qIS8udGVzdChnKSA/IChoLnNyYyA9IGcsIGUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBnICsgXCIpXCIpIDogKGguc3JjID0gUFJFRklYX0ZJTEVfSE9TVCArIGcsIGUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBQUkVGSVhfRklMRV9IT1NUICsgZyArIFwiKVwiKSwgZS5zdHlsZS5iYWNrZ3JvdW5kT3JpZ2luID0gXCJlbGVtZW50IGNvbnRlbnQtYm94XCIsIGUuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBcImNvdmVyXCIsIGUuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gXCI1MCUgNTAlXCIsIGIuZWZmZWN0ICYmIChcInNjYWxlVXBcIiA9PT0gYi5lZmZlY3QudHlwZSA/ICQoZSkuY3NzKHtcblx0XHRcdFx0YW5pbWF0aW9uOiBcInNjYWxlVXAgN3MgZWFzZSAxc1wiLFxuXHRcdFx0XHRcImFuaW1hdGlvbi1maWxsLW1vZGVcIjogXCJib3RoXCJcblx0XHRcdH0pIDogXCJzY2FsZURvd25cIiA9PT0gYi5lZmZlY3QudHlwZSAmJiAkKGUpLmNzcyh7XG5cdFx0XHRcdGFuaW1hdGlvbjogXCJzY2FsZURvd24gN3MgZWFzZSAxc1wiLFxuXHRcdFx0XHRcImFuaW1hdGlvbi1maWxsLW1vZGVcIjogXCJib3RoXCJcblx0XHRcdH0pKVxuXHRcdH0gZWxzZSBiLnByb3BlcnRpZXMuYmdDb2xvciAmJiAoZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiLnByb3BlcnRpZXMuYmdDb2xvciwgYi5wcm9wZXJ0aWVzLnBhZ2VMZW5ndGggJiYgXCJlZGl0XCIgPT09IHQubW9kZSAmJiAkKGUpLmNzcyh7XG5cdFx0XHRoZWlnaHQ6IDQ4NiAqIGIucHJvcGVydGllcy5wYWdlTGVuZ3RoICsgXCJweFwiXG5cdFx0fSkucGFyZW50KCkuY3NzKFwib3ZlcmZsb3dcIiwgXCJ2aXNpYmxlXCIpKTtcblx0XHRyZXR1cm4gZVxuXHR9KSwgdC5hZGRDb21wb25lbnQoXCI0XCIsIGZ1bmN0aW9uKGIpIHtcblx0XHR2YXIgZCwgZSA9IG5ldyBSZWdFeHAoYS5nZXREb21haW4oUFJFRklYX0ZJTEVfSE9TVCkpLFxuXHRcdFx0ZiA9IC9eaHR0cC4qLy50ZXN0KGIucHJvcGVydGllcy5vcmlnaW5TcmMpID8gYi5wcm9wZXJ0aWVzLm9yaWdpblNyYyA6IFBSRUZJWF9GSUxFX0hPU1QgKyBiLnByb3BlcnRpZXMub3JpZ2luU3JjO1xuXHRcdGEuaXNNb2JpbGVBcHAoKSB8fCAoZiA9IGYucmVwbGFjZShPTERfRklMRV9IT1NULCBQUkVGSVhfRklMRV9IT1NUKSk7XG5cdFx0dmFyIGcgPSAvXFw/aW1hZ2VNb2dyMi8sXG5cdFx0XHRoID0gLy5zdmcvOyBcblx0XHRcblx0XHRpZiAoZS50ZXN0KGYpICYmICFoLnRlc3QoZikpIGlmIChnLnRlc3QoZikpIGYgKz0gXCIvc3RyaXBcIjtcblx0XHRlbHNlIHtcblx0XHRcdHZhciBpID0gYi5jc3M7XG5cdFx0XHRpZiAoaSkge1xuXHRcdFx0XHR2YXIgaiA9IHBhcnNlSW50KGIuY3NzLmhlaWdodCwgMTApLFxuXHRcdFx0XHRcdGsgPSBwYXJzZUludChiLmNzcy53aWR0aCwgMTApO1xuXHRcdFx0XHRmICs9IDYwMCA+PSBqICYmIDYwMCA+PSBrID8gXCJcIiA6IFwiXCJcblx0XHRcdH0gZWxzZSBmICs9IFwiP2ltYWdlTW9ncjIvc3RyaXBcIlxuXHRcdH1cblx0XHRpZiAoYi5wcm9wZXJ0aWVzLmZpbHRlcikge1xuXHRcdFx0aWYgKGIucHJvcGVydGllcy5maWx0ZXIudHlwZSkge1xuXHRcdFx0XHR2YXIgbCA9IGMoKSxcblx0XHRcdFx0XHRtID0gbFtiLnByb3BlcnRpZXMuZmlsdGVyLnR5cGUgLSAxXTtcblx0XHRcdFx0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRcdHZhciBuO1xuXHRcdFx0XHRuID0gbW9iaWxlY2hlY2soKSA/ICc8c3ZnIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxnPjxpbWFnZSB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeGxpbms6aHJlZj1cIicgKyBmICsgJ1wiIGZpbHRlcj1cInVybCgjJyArIGIuaWQgKyAnKVwiPjwvaW1hZ2U+PGRlZnM+PGZpbHRlciBpZD1cIicgKyBiLmlkICsgJ1wiPjxmZUNvbG9yTWF0cml4IGNsYXNzPVwic2F0dXJhdGlvblwiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz1cInNSR0JcIiB0eXBlPVwibWF0cml4XCIgdmFsdWVzPVwiJyArIG0ucGF0aCArICdcIj48L2ZlQ29sb3JNYXRyaXg+PC9maWx0ZXI+PC9kZWZzPjwvZz48L3N2Zz4nIDogJzxzdmcgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PGc+PGltYWdlIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4bGluazpocmVmPVwiJyArIGYgKyAnXCIgZmlsdGVyPVwidXJsKCcgKyB3aW5kb3cubG9jYXRpb24uaHJlZiArIFwiI1wiICsgYi5pZCArICcpXCI+PC9pbWFnZT48ZGVmcz48ZmlsdGVyIGlkPVwiJyArIGIuaWQgKyAnXCI+PGZlQ29sb3JNYXRyaXggY2xhc3M9XCJzYXR1cmF0aW9uXCIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPVwic1JHQlwiIHR5cGU9XCJtYXRyaXhcIiB2YWx1ZXM9XCInICsgbS5wYXRoICsgJ1wiPjwvZmVDb2xvck1hdHJpeD48L2ZpbHRlcj48L2RlZnM+PC9nPjwvc3ZnPicsIGQuaW5uZXJIVE1MID0gblxuXHRcdFx0fVxuXHRcdH0gZWxzZSBkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSwgZC5pZCA9IGIuaWQsIGQuc2V0QXR0cmlidXRlKFwiY3R5cGVcIiwgYi50eXBlKSwgZC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImVsZW1lbnQgY29tcF9pbWFnZSBlZGl0YWJsZS1pbWFnZVwiKSwgZC5zcmMgPSBmO1xuXHRcdHJldHVybiBcIlwiICsgYi50eXBlID09IFwiNDAzXCIgJiYgZC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWV2ZW50XCIsIFwiMTEyMDYxMVwiKSwgXCJcIiArIGIudHlwZSA9PSBcIjQwM1wiICYmIGIucHJvcGVydGllcy53eFNyYyAmJiBpc1dlaXhpbigpICYmIChkLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIiksIGRcblx0fSksIHQuYWRkQ29tcG9uZW50KFwiaFwiLCBmdW5jdGlvbihhKSB7XG5cdFx0dmFyIGIsIGM7XG5cdFx0aWYgKGEucHJvcGVydGllcy5zcmMpIHJldHVybiBiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGVxeGl1U3ZnLk5BTUVTUEFDRSwgXCJzdmdcIiksIGIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJlbGVtZW50IHN2Zy1lbGVtZW50XCIpLCAkLmFqYXgoe1xuXHRcdFx0dHlwZTogXCJHRVRcIixcblx0XHRcdHVybDogUFJFRklYX0ZJTEVfSE9TVCArIGEucHJvcGVydGllcy5zcmMsXG5cdFx0XHRkYXRhVHlwZTogXCJ4bWxcIixcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGMpIHtcblx0XHRcdFx0dmFyIGUgPSBjLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3ZnXCIpLFxuXHRcdFx0XHRcdGYgPSBwYXJzZUZsb2F0KCQoZSkuYXR0cihcIndpZHRoXCIpKSxcblx0XHRcdFx0XHRnID0gcGFyc2VGbG9hdCgkKGUpLmF0dHIoXCJoZWlnaHRcIikpLFxuXHRcdFx0XHRcdGggPSAkKGUpLmZpbmQoJ1tmaWxsXSwgW3N0eWxlKj1cImZpbGxcIl0nKSxcblx0XHRcdFx0XHRpID0gYS5wcm9wZXJ0aWVzLml0ZW1zID8gYS5wcm9wZXJ0aWVzLml0ZW1zIDogW107XG5cdFx0XHRcdGlmIChhLnByb3BlcnRpZXMuaXRlbXMpIGlmIChpWzBdLmVsZW1lbnRzIHx8IChhLnByb3BlcnRpZXMuaXRlbXMgPSBkKGksIGgpKSwgaC5sZW5ndGggPT09IGkubGVuZ3RoKSBmb3IgKHZhciBqID0gMDsgaiA8IGkubGVuZ3RoOyBqKyspIGguZXEoaikuY3NzKHtcblx0XHRcdFx0XHRmaWxsOiBpW2pdLmZpbGxcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGVsc2UgJC5lYWNoKGgsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBjID0gMDsgYyA8IGkubGVuZ3RoOyBjKyspIGZvciAodmFyIGQgPSBpW2NdLmVsZW1lbnRzLCBlID0gMDsgZSA8IGQubGVuZ3RoOyBlKyspIGEgPT09IGRbZV0gJiYgKFwiXCIgIT09IGlbY10uZmlsbCA/IGguZXEoYSkuY3NzKHtcblx0XHRcdFx0XHRcdGZpbGw6IGlbY10uZmlsbFxuXHRcdFx0XHRcdH0pIDogaC5lcShhKS5jc3Moe1xuXHRcdFx0XHRcdFx0ZmlsbDogXCJub25lXCJcblx0XHRcdFx0XHR9KSlcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHZhciBrID0gW10sXG5cdFx0XHRcdFx0XHRsID0ge307XG5cdFx0XHRcdFx0JC5lYWNoKGgsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdFx0XHRcdHZhciBjID0gJChiKS5hdHRyKFwic3R5bGVcIik7XG5cdFx0XHRcdFx0XHRpZiAoYykge1xuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBkID0gYy5zcGxpdChcIjtcIiksIGUgPSAwLCBmID0gZC5sZW5ndGg7IGYgPiBlOyBlKyspIGlmIChkW2VdLmluZGV4T2YoXCJmaWxsOlwiKSA+PSAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0ay5wdXNoKGRbZV0uc3BsaXQoXCI6XCIpWzFdKTtcblx0XHRcdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Ugay5wdXNoKCQoYikuYXR0cihcImZpbGxcIikpXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Zm9yICh2YXIgbSA9IDA7IG0gPCBrLmxlbmd0aDsgbSsrKSBsW2tbbV1dIHx8IChsW2tbbV1dID0gMSwgXCJub25lXCIgIT09IGtbbV0gPyBpLnB1c2goe1xuXHRcdFx0XHRcdFx0ZmlsbDoga1ttXSxcblx0XHRcdFx0XHRcdHN2Z0ZpbGw6IGtbbV1cblx0XHRcdFx0XHR9KSA6IGkucHVzaCh7XG5cdFx0XHRcdFx0XHRmaWxsOiBcIlwiLFxuXHRcdFx0XHRcdFx0c3ZnRmlsbDogXCJub25lXCJcblx0XHRcdFx0XHR9KSk7XG5cdFx0XHRcdFx0YS5wcm9wZXJ0aWVzLml0ZW1zID0gZChpLCBoKVxuXHRcdFx0XHR9XG5cdFx0XHRcdHZpZXdCb3hWYWwgPSBcIjAgMCBcIiArIGYgKyBcIiBcIiArIGc7XG5cdFx0XHRcdHZhciBuID0gYi5wYXJlbnROb2RlO1xuXHRcdFx0XHRuLnJlbW92ZUNoaWxkKGIpLCBiID0gZVswXSwgbi5hcHBlbmRDaGlsZChiKSwgYi5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIHZpZXdCb3hWYWwpLCBiLnNldEF0dHJpYnV0ZShcInByZXNlcnZlQXNwZWN0UmF0aW9cIiwgXCJub25lXCIpLCBiLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIFwiMTAwJVwiKSwgYi5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgXCIxMDAlXCIpLCBiLmlkID0gYS5pZCwgYi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImVsZW1lbnQgc3ZnLWVsZW1lbnRcIilcblx0XHRcdH1cblx0XHR9KSwgYjtcblx0XHRpZiAoYS5wcm9wZXJ0aWVzLnR5cGUuaW5kZXhPZihcInN5bWJvbFwiKSA8IDApIHtcblx0XHRcdHZhciBiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGVxeGl1U3ZnLk5BTUVTUEFDRSwgXCJzdmdcIik7XG5cdFx0XHRyZXR1cm4gYi5pZCA9IGEuaWQsIGIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJlbGVtZW50IHN2Zy1lbGVtZW50XCIpLCBiLnNldEF0dHJpYnV0ZShcInhtbG5zXCIsIGVxeGl1U3ZnLk5BTUVTUEFDRSksIGIuc2V0QXR0cmlidXRlKFwidmVyc2lvblwiLCBcIjEuMVwiKSwgYi5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBcIjEwMCVcIiksIGIuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiMTAwJVwiKSwgYi5zZXRBdHRyaWJ1dGUoXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsIFwibm9uZVwiKSwgYyA9IGVxeGl1U3ZnLlNoYXBlRnJvbVR5cGUoYS5wcm9wZXJ0aWVzLnR5cGUpLCBjLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCIjNTU1XCIpLCBiLmFwcGVuZENoaWxkKGMpLCBzID0gZXF4aXVTdmcuYm91bmRpbmdCb3goYyksIHZpZXdCb3ggPSBbTWF0aC5yb3VuZChzLngpIHx8IDAsIE1hdGgucm91bmQocy55KSB8fCAwLCBNYXRoLnJvdW5kKHMud2lkdGgpIHx8IDMyLCBNYXRoLnJvdW5kKHMuaGVpZ2h0KSB8fCAzMl0uam9pbihcIiBcIiksIGIuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCB2aWV3Qm94KSwgYlxuXHRcdH1cblx0XHRyZXR1cm4gYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIGMgPSBlcXhpdVN2Zy5TaGFwZUZyb21UeXBlKGEucHJvcGVydGllcy50eXBlLCAxMDAsIDEwMCwgYS5pZCwgYS5jc3MuY29sb3IpLCBiID0gJzxzdmcgaWQ9XCInICsgYS5pZCArICdcIiBjbGFzcz1cImVsZW1lbnQgc3ZnLWVsZW1lbnRcIiBjdHlwZT1cIicgKyBhLnR5cGUgKyAnXCIgeG1sbnM9XCInICsgZXF4aXVTdmcuTkFNRVNQQUNFICsgJ1wiIHZlcnNpb249XCIxLjFcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkXCIgdmlld0JveD1cIicgKyBhLnByb3BlcnRpZXMudmlld0JveCArICdcIj4nICsgYyArIFwiPC9zdmc+XCJcblx0fSksIHQuYWRkQ29tcG9uZW50KFwidlwiLCBmdW5jdGlvbihhKSB7XG5cdFx0dmFyIGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcblx0XHRyZXR1cm4gYi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImVsZW1lbnQgdmlkZW9fYXJlYVwiKSwgYi5pZCA9IGEuaWQsIGIuc2V0QXR0cmlidXRlKFwiY3R5cGVcIiwgYS50eXBlKSwgYS5wcm9wZXJ0aWVzLnNyYyAmJiBiLnNldEF0dHJpYnV0ZShcInZpZGVvdXJsXCIsIGEucHJvcGVydGllcy5zcmMpLCBiXG5cdH0pLCB0LmFkZENvbXBvbmVudChcIjVcIiwgZnVuY3Rpb24oYSkge1xuXHRcdHZhciBiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuXHRcdHJldHVybiBiLmlkID0gYS5pZCwgYi5zZXRBdHRyaWJ1dGUoXCJjdHlwZVwiLCBhLnR5cGUpLCBiLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZWxlbWVudCBjb21wX2lucHV0IGVkaXRhYmxlLXRleHRcIiksIGIuc2V0QXR0cmlidXRlKFwibWF4bGVuZ3RoXCIsIFwiMzAwXCIpLCBhLnByb3BlcnRpZXMucmVxdWlyZWQgJiYgYi5zZXRBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiLCBhLnByb3BlcnRpZXMucmVxdWlyZWQpLCBhLnByb3BlcnRpZXMucGxhY2Vob2xkZXIgJiYgYi5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBhLnByb3BlcnRpZXMucGxhY2Vob2xkZXIpLCBiLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJlcVtmX1wiICsgYS5pZCArIFwiXVwiKSwgYi5zdHlsZS53aWR0aCA9IFwiMTAwJVwiLCBiXG5cdH0pLCB0LmFkZENvbXBvbmVudChcInJcIiwgZnVuY3Rpb24oYSkge1xuXHRcdHZhciBiID0gJCgnPGRpdiBjbGFzcz1cImVsZW1lbnQgY29tcF9yYWRpbyBlZGl0YWJsZS10ZXh0XCIgaWQ9XCInICsgYS5pZCArICdcIj48L2Rpdj4nKTtcblx0XHRiLmF0dHIoXCJjdHlwZVwiLCBhLnR5cGUpLCBiLmF0dHIoXCJyZXF1aXJlZFwiLCBhLnByb3BlcnRpZXMucmVxdWlyZWQpLCBiLmF0dHIoXCJ0aXRsZVwiLCBhLnRpdGxlKSwgYi5hdHRyKFwibmFtZVwiLCBcImVxW2ZfXCIgKyBhLmlkICsgXCJdXCIpO1xuXHRcdHZhciBjID0gJCgnPGRpdiBjbGFzcz1cInJhZGlvLXRpdGxlXCI+JyArIGEudGl0bGUgKyBcIjwvZGl2PlwiKTtcblx0XHRhLnByb3BlcnRpZXMudGl0bGVTdHlsZSAmJiBjLmNzcyhhLnByb3BlcnRpZXMudGl0bGVTdHlsZSksIGIuYXBwZW5kKGMpO1xuXHRcdHZhciBkID0gJCgnPGRpdiBjbGFzcz1cIm9wdGlvbnNcIj48L2Rpdj4nKSxcblx0XHRcdGUgPSBKU09OLnBhcnNlKGEuY2hvaWNlcyk7XG5cdFx0cmV0dXJuICQuZWFjaChlLm9wdGlvbnMsIGZ1bmN0aW9uKGIsIGMpIHtcblx0XHRcdHZhciBmID0gJCgnPGRpdiBjbGFzcz1cIm9wdGlvbi1ncm91cFwiPjxsYWJlbCBjbGFzcz1cIm9wdGlvbi1sYWJlbFwiIGZvcj1cIicgKyAoYS5pZCArIFwiXCIgKyAoYiArIDEpKSArICdcIiBkYXRhLWV2ZW50PVwiMTEyMDhcIj48aW5wdXQgY2xhc3M9XCJvcHRpb25cIiBpZD1cIicgKyAoYS5pZCArIFwiXCIgKyAoYiArIDEpKSArICdcIiB0eXBlPVwicmFkaW9cIiBuYW1lPVwiZXFbZl8nICsgYS5pZCArICddXCIgdmFsdWU9XCInICsgYy5pZCArICdcIiBkYXRhLWV2ZW50PVwiMTEyMDhcIj4nICsgYy5sYWJlbCArIFwiPC9sYWJlbD48L2Rpdj5cIik7XG5cdFx0XHRhLnByb3BlcnRpZXMub3B0aW9uU3R5bGUgJiYgYiA8IGUub3B0aW9ucy5sZW5ndGggLSAxICYmIGYuY3NzKGEucHJvcGVydGllcy5vcHRpb25TdHlsZSksIGQuYXBwZW5kKGYpXG5cdFx0fSksIGIuYXBwZW5kKGQpLCBiLndpZHRoKFwiMTAwJVwiKSwgYi5nZXQoMClcblx0fSksIHQuYWRkQ29tcG9uZW50KFwiY1wiLCBmdW5jdGlvbihhKSB7XG5cdFx0dmFyIGIgPSAkKCc8ZGl2IGNsYXNzPVwiZWxlbWVudCBjb21wX3JhZGlvIGVkaXRhYmxlLXRleHRcIiBpZD1cIicgKyBhLmlkICsgJ1wiPjwvZGl2PicpO1xuXHRcdGIuYXR0cihcImN0eXBlXCIsIGEudHlwZSksIGIuYXR0cihcInJlcXVpcmVkXCIsIGEucHJvcGVydGllcy5yZXF1aXJlZCksIGIuYXR0cihcInRpdGxlXCIsIGEudGl0bGUpLCBiLmF0dHIoXCJuYW1lXCIsIFwiZXFbZl9cIiArIGEuaWQgKyBcIl1cIik7XG5cdFx0dmFyIGMgPSAkKCc8ZGl2IGNsYXNzPVwicmFkaW8tdGl0bGVcIj4nICsgYS50aXRsZSArIFwiKOWPr+WkmumAiSk8L2Rpdj5cIik7XG5cdFx0YS5wcm9wZXJ0aWVzLnRpdGxlU3R5bGUgJiYgYy5jc3MoYS5wcm9wZXJ0aWVzLnRpdGxlU3R5bGUpLCBiLmFwcGVuZChjKTtcblx0XHR2YXIgZCA9ICQoJzxkaXYgY2xhc3M9XCJvcHRpb25zXCI+PC9kaXY+JyksXG5cdFx0XHRlID0gSlNPTi5wYXJzZShhLmNob2ljZXMpO1xuXHRcdHJldHVybiAkLmVhY2goZS5vcHRpb25zLCBmdW5jdGlvbihiLCBjKSB7XG5cdFx0XHR2YXIgZiA9ICQoJzxkaXYgY2xhc3M9XCJvcHRpb24tZ3JvdXBcIj48bGFiZWwgY2xhc3M9XCJvcHRpb24tbGFiZWxcIiBmb3I9XCInICsgKGEuaWQgKyBcIlwiICsgKGIgKyAxKSkgKyAnXCIgZGF0YS1ldmVudD1cIjExMjA5XCI+PGlucHV0IGNsYXNzPVwib3B0aW9uXCIgaWQ9XCInICsgKGEuaWQgKyBcIlwiICsgKGIgKyAxKSkgKyAnXCIgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cImVxW2ZfJyArIGEuaWQgKyAnXVwiIHZhbHVlPVwiJyArIGMuaWQgKyAnXCIgZGF0YS1ldmVudD1cIjExMjA5XCI+JyArIGMubGFiZWwgKyBcIjwvbGFiZWw+PC9kaXY+XCIpO1xuXHRcdFx0YS5wcm9wZXJ0aWVzLm9wdGlvblN0eWxlICYmIGIgPCBlLm9wdGlvbnMubGVuZ3RoIC0gMSAmJiBmLmNzcyhhLnByb3BlcnRpZXMub3B0aW9uU3R5bGUpLCBkLmFwcGVuZChmKVxuXHRcdH0pLCBiLmFwcGVuZChkKSwgYi53aWR0aChcIjEwMCVcIiksIGIuZ2V0KDApXG5cdH0pLCB0LmFkZENvbXBvbmVudChcImFcIiwgZnVuY3Rpb24oYSkge1xuXHRcdHZhciBiID0gJCgnPGRpdiBjbGFzcz1cImVsZW1lbnQgY29tcF9yYXRpbmcgZWRpdGFibGUtdGV4dFwiIGlkPVwiJyArIGEuaWQgKyAnXCI+PC9kaXY+Jyk7XG5cdFx0Yi5hdHRyKFwiY3R5cGVcIiwgYS50eXBlKSwgYi5hdHRyKFwicmVxdWlyZWRcIiwgYS5wcm9wZXJ0aWVzLnJlcXVpcmVkKSwgYi5hdHRyKFwidGl0bGVcIiwgYS50aXRsZSksIGIuYXR0cihcIm5hbWVcIiwgXCJlcVtmX1wiICsgYS5pZCArIFwiXVwiKSwgYi5hcHBlbmQoJCgnPGRpdiBjbGFzcz1cInJhdGluZy10aXRsZVwiPicgKyBhLnRpdGxlICsgXCI8L2Rpdj5cIikpO1xuXHRcdGZvciAodmFyIGMgPSAkKCc8ZGl2IGNsYXNzPVwicmF0aW5nLWljb25zXCI+PC9kaXY+JyksIGQgPSAwOyA1ID4gZDsgZCsrKSBjLmFwcGVuZCgkKCc8aSBjbGFzcz1cIicgKyBhLnByb3BlcnRpZXMuaWNvbiArIFwiLWxpbmUgXCIgKyBhLnByb3BlcnRpZXMuc2l6ZSArICdcIj4nKS5jc3MoXCJjb2xvclwiLCBhLnByb3BlcnRpZXMuY29sb3IpKTtcblx0XHRyZXR1cm4gYi5hcHBlbmQoYyksIGIuYXBwZW5kKCQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImVxW2ZfJyArIGEuaWQgKyAnXVwiIHZhbHVlPVwiXCI+JykpLCBiLndpZHRoKFwiMTAwJVwiKSwgYi5nZXQoMClcblx0fSksIHQuYWRkQ29tcG9uZW50KFwicFwiLCBmdW5jdGlvbihiKSB7XG5cdFx0aWYgKGIucHJvcGVydGllcyAmJiBiLnByb3BlcnRpZXMuY2hpbGRyZW4pIHtcblx0XHRcdHZhciBjID0gYi5jc3Mud2lkdGgsXG5cdFx0XHRcdGQgPSBiLmNzcy5oZWlnaHQsXG5cdFx0XHRcdGYgPSAkKCc8ZGl2IGlkPVwiJyArIGIuaWQgKyAnXCIgY2xhc3M9XCJzbGlkZXIgZWxlbWVudFwiIGN0eXBlPVwiJyArIGIudHlwZSArICdcIj48L2Rpdj4nKTtcblx0XHRcdGIucHJvcGVydGllcy5iZ0NvbG9yICYmIGYuY3NzKFwiYmFja2dyb3VuZENvbG9yXCIsIGIucHJvcGVydGllcy5iZ0NvbG9yKTtcblx0XHRcdHZhciBnID0gL1xcP2ltYWdlTW9ncjIvLFxuXHRcdFx0XHRoID0gLy5zdmcvO1xuXHRcdFx0cmV0dXJuICQuZWFjaChiLnByb3BlcnRpZXMuY2hpbGRyZW4sIGZ1bmN0aW9uKGIsIGkpIHtcblx0XHRcdFx0dmFyIGogPSBlKGkud2lkdGgsIGkuaGVpZ2h0LCBjLCBkKSxcblx0XHRcdFx0XHRrID0gaS5zcmM7XG5cdFx0XHRcdGEuaXNNb2JpbGVBcHAoKSB8fCBoLnRlc3QoaykgfHwgKGsgKz0gZy50ZXN0KGspID8gXCJcIiA6IFwiXCIpO1xuXHRcdFx0XHR2YXIgbCA9ICQoJzxpbWcgc3JjPVwiJyArIFBSRUZJWF9GSUxFX0hPU1QgKyBrICsgJ1wiPicpO1xuXHRcdFx0XHRsLmNzcyh7XG5cdFx0XHRcdFx0bWFyZ2luOiAoZCAtIGouaGVpZ2h0KSAvIDIgKyBcInB4IFwiICsgKGMgLSBqLndpZHRoKSAvIDIgKyBcInB4XCIsXG5cdFx0XHRcdFx0d2lkdGg6IGoud2lkdGgsXG5cdFx0XHRcdFx0aGVpZ2h0OiBqLmhlaWdodFxuXHRcdFx0XHR9KSwgZi5hcHBlbmQobClcblx0XHRcdH0pLCB1dGlsUGljdHVyZXMuZGVsZXRlSW50ZXJ2YWwoYi5pZCksIGYuZ2V0KDApXG5cdFx0fVxuXHR9KSwgdC5hZGRDb21wb25lbnQoXCJuXCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRpZiAoYS5wcm9wZXJ0aWVzICYmIGEucHJvcGVydGllcy5waWNzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGIgPSAkKCc8ZGl2IGlkPVwiJyArIGEuaWQgKyAnXCIgY2xhc3M9XCJyYW5kb20tZXZlbnQgZWxlbWVudCBjb21wX2ltYWdlIGVkaXRhYmxlLWltYWdlXCIgY3R5cGU9XCInICsgYS50eXBlICsgJ1wiPjwvZGl2PicpO1xuXHRcdFx0YS5jc3Mud2lkdGggfHwgKGEuY3NzLndpZHRoID0gXCIxODBweFwiKTtcblx0XHRcdHZhciBjID0gMTgwICogcGFyc2VJbnQoYS5wcm9wZXJ0aWVzLnBpY3NbMF0uaGVpZ2h0LCAxMCkgLyBwYXJzZUludChhLnByb3BlcnRpZXMucGljc1swXS53aWR0aCwgMTApO1xuXHRcdFx0cmV0dXJuIGEuY3NzLmhlaWdodCB8fCAoYS5jc3MuaGVpZ2h0ID0gYyArIFwicHhcIiksICQuZWFjaChhLnByb3BlcnRpZXMucGljcywgZnVuY3Rpb24oYSwgYykge1xuXHRcdFx0XHR2YXIgZCA9ICQoJzxpbWcgc3JjPVwiJyArIFBSRUZJWF9GSUxFX0hPU1QgKyBjLm9yaWdpblNyYyArICdcIj4nKTtcblx0XHRcdFx0ZC5jc3Moe1xuXHRcdFx0XHRcdHdpZHRoOiBcIjEwMCVcIixcblx0XHRcdFx0XHRoZWlnaHQ6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdGRpc3BsYXk6IFwibm9uZVwiXG5cdFx0XHRcdH0pLCAwID09PSBhICYmIChkLmNzcyh7XG5cdFx0XHRcdFx0ZGlzcGxheTogXCJibG9ja1wiXG5cdFx0XHRcdH0pLCBiLmNzcyh7XG5cdFx0XHRcdFx0d2lkdGg6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdGhlaWdodDogXCIxMDAlXCJcblx0XHRcdFx0fSkpLCBiLmFwcGVuZChkKVxuXHRcdFx0fSksIGIuZ2V0KDApXG5cdFx0fVxuXHR9KSwgdC5hZGRDb21wb25lbnQoXCI2XCIsIGZ1bmN0aW9uKGEpIHtcblx0XHR2YXIgYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0aWYgKGIuaWQgPSBhLmlkLCBiLnNldEF0dHJpYnV0ZShcImN0eXBlXCIsIGEudHlwZSksIGIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJlbGVtZW50IGNvbXBfYnV0dG9uIGVkaXRhYmxlLXRleHRcIiksIGIuc2V0QXR0cmlidXRlKFwiZGF0YS1ldmVudFwiLCBcIjExMjAxXCIpLCBhLnByb3BlcnRpZXMudGl0bGUpIHtcblx0XHRcdHZhciBjID0gYS5wcm9wZXJ0aWVzLnRpdGxlLnJlcGxhY2UoLyAvZywgXCImbmJzcDtcIik7XG5cdFx0XHRiLmlubmVySFRNTCA9IGNcblx0XHR9XG5cdFx0cmV0dXJuIGIuc3R5bGUud2lkdGggPSBcIjEwMCVcIiwgYlxuXHR9KSwgdC5hZGRDb21wb25lbnQoXCI4XCIsIGZ1bmN0aW9uKGEpIHtcblx0XHR2YXIgYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuXHRcdGIuaWQgPSBhLmlkLCBiLnNldEF0dHJpYnV0ZShcImN0eXBlXCIsIGEudHlwZSksIGIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJlbGVtZW50IGNvbXBfYW5jaG9yIGVkaXRhYmxlLXRleHRcIiksIGIuc2V0QXR0cmlidXRlKFwiZGF0YS1ldmVudFwiLCBcIjExMjA2MDJcIik7XG5cdFx0dmFyIGMgPSBudWxsO1xuXHRcdHJldHVybiBhLnByb3BlcnRpZXMuaW1nU3JjID8gKGMgPSAkKCc8aW1nIHN0eWxlPVwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTtcIiBzcmM9XCInICsgKFBSRUZJWF9GSUxFX0hPU1QgKyBhLnByb3BlcnRpZXMuaW1nU3JjKSArICdcIi8+JyksICQoYikuaHRtbChjKSwgXCJ2aWV3XCIgPT09IHQubW9kZSAmJiAkKGIpLmF0dHIoXCJocmVmXCIsIFwidGVsOlwiICsgYS5wcm9wZXJ0aWVzLm51bWJlcikpIDogYS5wcm9wZXJ0aWVzLnRpdGxlICYmIChjID0gYS5wcm9wZXJ0aWVzLnRpdGxlLnJlcGxhY2UoLyAvZywgXCImbmJzcDtcIiksICQoYikuaHRtbChjKSwgXCJ2aWV3XCIgPT09IHQubW9kZSAmJiAkKGIpLmF0dHIoXCJocmVmXCIsIFwidGVsOlwiICsgYS5wcm9wZXJ0aWVzLm51bWJlcikpLCBiLnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiLCBiLnN0eWxlLndpZHRoID0gXCIxMDAlXCIsIGJcblx0fSksIHQuYWRkQ29tcG9uZW50KFwibFwiLCBmdW5jdGlvbihhKSB7XG5cdFx0dmFyIGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcblx0XHRiLmlkID0gYS5pZCwgYi5zZXRBdHRyaWJ1dGUoXCJjdHlwZVwiLCBhLnR5cGUpLCBiLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZWxlbWVudCBjb21wX2FuY2hvciBlZGl0YWJsZS10ZXh0XCIpLCBiLnNldEF0dHJpYnV0ZShcImRhdGEtZXZlbnRcIiwgXCIxMTIwNjAxXCIpO1xuXHRcdHZhciBjID0gbnVsbDtcblx0XHRyZXR1cm4gYS5wcm9wZXJ0aWVzLmltZ1NyYyA/IChjID0gJCgnPGltZyBzdHlsZT1cIndpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7XCIgc3JjPVwiJyArIChQUkVGSVhfRklMRV9IT1NUICsgYS5wcm9wZXJ0aWVzLmltZ1NyYykgKyAnXCIvPicpLCAkKGIpLmh0bWwoYykpIDogYS5wcm9wZXJ0aWVzLnRpdGxlICYmIChjID0gYS5wcm9wZXJ0aWVzLnRpdGxlLnJlcGxhY2UoLyAvZywgXCImbmJzcDtcIiksICQoYikuaHRtbChjKSksIGIuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCIsIGIuc3R5bGUud2lkdGggPSBcIjEwMCVcIiwgYlxuXHR9KSwgdC5hZGRDb21wb25lbnQoXCJzXCIsIGZ1bmN0aW9uKGEpIHtcblx0XHR2YXIgYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuXHRcdGIuaWQgPSBhLmlkLCBiLnNldEF0dHJpYnV0ZShcImN0eXBlXCIsIGEudHlwZSksIGIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJlbGVtZW50IGNvbXBfYW5jaG9yIGVkaXRhYmxlLXRleHRcIiksIGIuc2V0QXR0cmlidXRlKFwiZGF0YS1ldmVudFwiLCBcIjExMjA2MDRcIik7XG5cdFx0dmFyIGMgPSBudWxsO1xuXHRcdHJldHVybiBhLnByb3BlcnRpZXMuaW1nU3JjID8gKGMgPSAkKCc8aW1nIHN0eWxlPVwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTtcIiBzcmM9XCInICsgKFBSRUZJWF9GSUxFX0hPU1QgKyBhLnByb3BlcnRpZXMuaW1nU3JjKSArICdcIi8+JyksICQoYikuaHRtbChjKSkgOiBhLnByb3BlcnRpZXMudGl0bGUgJiYgKGMgPSBhLnByb3BlcnRpZXMudGl0bGUucmVwbGFjZSgvIC9nLCBcIiZuYnNwO1wiKSwgJChiKS5odG1sKGMpKSwgYi5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIiwgYi5zdHlsZS53aWR0aCA9IFwiMTAwJVwiLCBiXG5cdH0pLCB0LmFkZENvbXBvbmVudChcImlcIiwgZnVuY3Rpb24oYikge1xuXHRcdHZhciBjID0gJCgnPGRpdiBjbGFzcz1cImVsZW1lbnQgY29tcF9jb3VudGVyIG5vdC12b3RlZCBlZGl0YWJsZS10ZXh0XCIgaWQ9XCInICsgYi5pZCArICdcIj48L2Rpdj4nKTtcblx0XHRjLmF0dHIoXCJjdHlwZVwiLCBiLnR5cGUpLCBjLmF0dHIoXCJuYW1lXCIsIFwiZXFbZl9cIiArIGIuaWQgKyBcIl1cIiksIGMuYWRkQ2xhc3MoYi5wcm9wZXJ0aWVzLmxheW91dCkuYWRkQ2xhc3MoYi5wcm9wZXJ0aWVzLnNpemUpO1xuXHRcdHZhciBkID0gJCgnPGRpdiBjbGFzcz1cImNvdW50ZXItY29udGFpbmVyXCI+PC9kaXY+Jyk7XG5cdFx0Yi5wcm9wZXJ0aWVzLmltZ1NyYyA/IChkLmFwcGVuZCgkKCc8aW1nIGNsYXNzPVwiY291bnRlci1lbGVtIGNvdW50ZXItaWNvblwiIHN0eWxlPVwid2lkdGg6IDExNXB4OyBoZWlnaHQ6IDExNXB4OyBtYXJnaW46IDAgYXV0bztcIiBzcmM9XCInICsgKFBSRUZJWF9GSUxFX0hPU1QgKyBiLnByb3BlcnRpZXMuaW1nU3JjKSArICdcIi8+JykpLCBkLmF0dHIoXCJkYXRhLWV2ZW50XCIsIFwiMTEyMDYwOVwiKSkgOiAoZC5hcHBlbmQoJCgnPGkgY2xhc3M9XCJjb3VudGVyLWVsZW0gY291bnRlci1pY29uICcgKyBiLnByb3BlcnRpZXMuaWNvbiArICdcIj4nKS5jc3MoXCJjb2xvclwiLCBiLnByb3BlcnRpZXMuY29sb3IpKSwgXCJlcWYtbG92ZVwiID09PSBiLnByb3BlcnRpZXMuaWNvbiA/IGQuYXR0cihcImRhdGEtZXZlbnRcIiwgXCIxMTIwNjA1XCIpIDogXCJlcWYtZ29vZFwiID09PSBiLnByb3BlcnRpZXMuaWNvbiA/IGQuYXR0cihcImRhdGEtZXZlbnRcIiwgXCIxMTIwNjA2XCIpIDogXCJlcWYtZmxvd2VyMlwiID09PSBiLnByb3BlcnRpZXMuaWNvbiA/IGQuYXR0cihcImRhdGEtZXZlbnRcIiwgXCIxMTIwNjA3XCIpIDogXCJlcWYtdm90ZVwiID09PSBiLnByb3BlcnRpZXMuaWNvbiAmJiBkLmF0dHIoXCJkYXRhLWV2ZW50XCIsIFwiMTEyMDYwOFwiKSk7XG5cdFx0dmFyIGUgPSAkKCc8c3BhbiBjbGFzcz1cImNvdW50ZXItZWxlbSBjb3VudGVyLW51bWJlclwiPjA8L3NwYW4+JykuY3NzKFwiY29sb3JcIiwgYi5wcm9wZXJ0aWVzLmNvbG9yKTtcblx0XHRpZiAoZC5hcHBlbmQoZSksIFwidmlld1wiID09PSB0Lm1vZGUgPyBhLmNvdW50ZXJWYWx1ZXMgJiYgYS5jb3VudGVyVmFsdWVzLnRoZW4oZnVuY3Rpb24oYykge1xuXHRcdFx0dmFyIGQgPSBjLm1hcFtiLmlkXSB8fCAwO1xuXHRcdFx0ZS5hdHRyKFwiZGF0YS1jb3VudGVyLW51bWJlclwiLCBkKTtcblx0XHRcdHZhciBmID0gYS5maXhlZE51bShkKTtcblx0XHRcdGUudGV4dChmKVxuXHRcdH0pIDogYy5yZW1vdmVDbGFzcyhcIm5vdC12b3RlZFwiKSwgYy53aWR0aChcIjEwMCVcIiksIFwiY291bnRlci10YlwiID09PSBiLnByb3BlcnRpZXMubGF5b3V0KSB7XG5cdFx0XHR2YXIgZiA9IDA7XG5cdFx0XHRmID0gYi5wcm9wZXJ0aWVzLmltZ1NyYyA/IFwiY291bnRlci1sXCIgPT09IGIucHJvcGVydGllcy5zaXplID8gNzcgOiBcImNvdW50ZXItbVwiID09PSBiLnByb3BlcnRpZXMuc2l6ZSA/IDcxIDogNjYgOiBcImNvdW50ZXItbFwiID09PSBiLnByb3BlcnRpZXMuc2l6ZSA/IDQwIDogXCJjb3VudGVyLW1cIiA9PT0gYi5wcm9wZXJ0aWVzLnNpemUgPyAzMCA6IDIwLCBkLmNzcyhcIm1hcmdpbi10b3BcIiwgLWYpXG5cdFx0fVxuXHRcdHJldHVybiBcImVkaXRcIiAhPT0gdC5tb2RlICYmIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgYSA9IHtcblx0XHRcdFx0d2lkdGg6IFwiYXV0b1wiLFxuXHRcdFx0XHRcIm1pbi13aWR0aFwiOiBiLmNzcy53aWR0aFxuXHRcdFx0fTtcblx0XHRcdGMuY3NzKGEpLCBjLnBhcmVudHMoXCJsaS5jb21wLXJlc2l6ZVwiKS5jc3MoYSlcblx0XHR9LCAxMDApLCBjLmFwcGVuZChkKSwgYi5jc3MubGluZUhlaWdodCAmJiBjLmNzcyhcImxpbmUtaGVpZ2h0XCIsIGIuY3NzLmxpbmVIZWlnaHQpLCBjLmdldCgwKVxuXHR9KSwgdC5hZGRDb21wb25lbnQoXCJkXCIsIGZ1bmN0aW9uKGIpIHtcblx0XHR2YXIgYyA9ICQoJzxkaXYgY2xhc3M9XCJlbGVtZW50IGNvbXBfY291bnRlciBlZGl0YWJsZS10ZXh0XCIgaWQ9XCInICsgYi5pZCArICdcIj48L2Rpdj4nKTtcblx0XHRjLmF0dHIoXCJjdHlwZVwiLCBiLnR5cGUpLCBjLmFkZENsYXNzKGIucHJvcGVydGllcy5sYXlvdXQpLmFkZENsYXNzKGIucHJvcGVydGllcy5zaXplKTtcblx0XHR2YXIgZCA9ICQoJzxkaXYgY2xhc3M9XCJjb3VudGVyLWNvbnRhaW5lclwiPjwvZGl2PicpO1xuXHRcdGQuYXBwZW5kKCQoJzxpIGNsYXNzPVwiY291bnRlci1lbGVtIGNvdW50ZXItaWNvbiAnICsgYi5wcm9wZXJ0aWVzLmljb24gKyAnXCI+JykuY3NzKFwiY29sb3JcIiwgYi5wcm9wZXJ0aWVzLmNvbG9yKSk7XG5cdFx0dmFyIGUgPSAkKCc8c3BhbiBjbGFzcz1cImNvdW50ZXItZWxlbSBjb3VudGVyLW51bWJlclwiPjA8L3NwYW4+JykuY3NzKFwiY29sb3JcIiwgYi5wcm9wZXJ0aWVzLmNvbG9yKTtcblx0XHRpZiAoZC5hcHBlbmQoZSksIFwidmlld1wiID09PSB0Lm1vZGUgJiYgYS5zaG93Q291bnQgJiYgYS5zaG93Q291bnQudGhlbihmdW5jdGlvbihiKSB7XG5cdFx0XHR2YXIgYyA9IGEuZml4ZWROdW0oYiksXG5cdFx0XHRcdGQgPSBjIHx8IDA7XG5cdFx0XHRlLnRleHQoZClcblx0XHR9KSwgYy53aWR0aChcIjEwMCVcIiksIFwiY291bnRlci10YlwiID09PSBiLnByb3BlcnRpZXMubGF5b3V0KSB7XG5cdFx0XHR2YXIgZiA9IDA7XG5cdFx0XHRmID0gXCJjb3VudGVyLWxcIiA9PT0gYi5wcm9wZXJ0aWVzLnNpemUgPyA0MCA6IFwiY291bnRlci1tXCIgPT09IGIucHJvcGVydGllcy5zaXplID8gMzAgOiAyMCwgZC5jc3MoXCJtYXJnaW4tdG9wXCIsIC1mKVxuXHRcdH1cblx0XHRyZXR1cm4gYy5hcHBlbmQoZCksIGIuY3NzLmxpbmVIZWlnaHQgJiYgYy5jc3MoXCJsaW5lLWhlaWdodFwiLCBiLmNzcy5saW5lSGVpZ2h0KSwgYy5nZXQoMClcblx0fSksIHQuYWRkQ29tcG9uZW50KFwiN1wiLCBmdW5jdGlvbihhKSB7XG5cdFx0dmFyIGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGlmIChiLmlkID0gXCJtYXBfXCIgKyBhLmlkLCBiLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZWxlbWVudCBjb21wX21hcF93cmFwcGVyXCIpLCBhLmNvbnRlbnQgJiYgKGIudGV4dENvbnRlbnQgPSBhLmNvbnRlbnQpLCBhLmNzcykge1xuXHRcdFx0dmFyIGMsIGQgPSBhLmNzcztcblx0XHRcdGZvciAoYyBpbiBkKSBiLnN0eWxlW2NdID0gZFtjXVxuXHRcdH1cblx0XHRyZXR1cm4gYi5zdHlsZS5oZWlnaHQgPSBcIjI1MHB4XCIsIGJcblx0fSksIHQuYWRkQ29tcG9uZW50KFwibVwiLCBmdW5jdGlvbihhKSB7XG5cdFx0dmFyIGIsIGMsIGQgPSBuZXcgcXEubWFwcy5MYXRMbmcoYS5wcm9wZXJ0aWVzLmxhdCA/IGEucHJvcGVydGllcy5sYXQgOiAzOS45MTY1MjcsIGEucHJvcGVydGllcy5sbmcgPyBhLnByb3BlcnRpZXMubG5nIDogMTE2LjM5NzEyOCk7XG5cdFx0YiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIGIuaWQgPSBhLmlkLCBiLnNldEF0dHJpYnV0ZShcImN0eXBlXCIsIGEudHlwZSksIGIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJlbGVtZW50XCIpLCBcImVkaXRcIiA9PT0gdC5tb2RlID8gYyA9IHtcblx0XHRcdGRyYWdnYWJsZTogITEsXG5cdFx0XHRzY3JvbGx3aGVlbDogITEsXG5cdFx0XHRkaXNhYmxlRG91YmxlQ2xpY2tab29tOiAhMCxcblx0XHRcdGRpc2FibGVEZWZhdWx0VUk6ICEwLFxuXHRcdFx0Y2VudGVyOiBkLFxuXHRcdFx0em9vbTogYS5wcm9wZXJ0aWVzLnpvb20gPyBhLnByb3BlcnRpZXMuem9vbSA6IDExXG5cdFx0fSA6IChjID0ge1xuXHRcdFx0ZGlzYWJsZURlZmF1bHRVSTogITAsXG5cdFx0XHRjZW50ZXI6IGQsXG5cdFx0XHR6b29tOiBhLnByb3BlcnRpZXMuem9vbSA/IGEucHJvcGVydGllcy56b29tIDogMTFcblx0XHR9LCAkKGIpLm9uKFwibW91c2Vkb3duIG1vdXNlbW92ZSBtb3VzZXVwIG1vdXNlbGVhdmUgdG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmRcIiwgZnVuY3Rpb24oYSkge1xuXHRcdFx0YS5zdG9wUHJvcGFnYXRpb24oKVxuXHRcdH0pKTtcblx0XHR2YXIgZSA9IG5ldyBxcS5tYXBzLk1hcChiLCBjKTtcblx0XHRpZiAoXCJlZGl0XCIgPT09IHQubW9kZSAmJiAkKGIpLmRhdGEoXCJtYXBcIiwgZSksIGEuY29udGVudCAmJiBcIlwiICE9PSBhLmNvbnRlbnQpIHtcblx0XHRcdHZhciBmID0gbmV3IHFxLm1hcHMuTGFiZWwoe1xuXHRcdFx0XHRwb3NpdGlvbjogZCxcblx0XHRcdFx0bWFwOiBlLFxuXHRcdFx0XHRjb250ZW50OiBhLmNvbnRlbnRcblx0XHRcdH0pO1xuXHRcdFx0XCJlZGl0XCIgPT09IHQubW9kZSAmJiAkKGIpLmRhdGEoXCJsYWJlbFwiLCBmKVxuXHRcdH1cblx0XHR2YXIgZyA9IG5ldyBxcS5tYXBzLlBvaW50KDI1LCA1KSxcblx0XHRcdGggPSBuZXcgcXEubWFwcy5TaXplKDM0LCAzNCksXG5cdFx0XHRpID0gbmV3IHFxLm1hcHMuUG9pbnQoMCwgMCksXG5cdFx0XHRqID0gbmV3IHFxLm1hcHMuTWFya2VySW1hZ2UoUFJFRklYX0hPU1QgKyBcIi9hc3NldHMvaW1hZ2VzL21hcmtlci5wbmdcIiwgaCwgaSwgZyksXG5cdFx0XHRrID0gbmV3IHFxLm1hcHMuTWFya2VyKHtcblx0XHRcdFx0bWFwOiBlLFxuXHRcdFx0XHRwb3NpdGlvbjogZS5nZXRDZW50ZXIoKVxuXHRcdFx0fSk7XG5cdFx0cmV0dXJuIGsuc2V0SWNvbihqKSwgJChiKS5kYXRhKFwibWFya2VyXCIsIGspLCBiXG5cdH0pLCB0LmFkZENvbXBvbmVudChcIndcIiwgZnVuY3Rpb24oYSkge1xuXHRcdHZhciBiLCBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG5cdFx0cmV0dXJuIFwiXCIgKyBhLnR5cGUgPT0gXCJ3MDFcIiA/IChiID0gXCJlbGVtZW50IGNvbXBfd2VjaGF0X3BsYXlcIiwgYy5pbm5lckhUTUwgPSAnPHNwYW4gc3R5bGU9XCJmb250LXNpemU6MTZweDtcIiBjbGFzcz1cImVxZi1ub3N5XCI+PC9zcGFuPicpIDogXCJcIiArIGEudHlwZSA9PSBcIncwMlwiICYmIChiID0gXCJlbGVtZW50IGNvbXBfd2VjaGF0X2hlYXJcIiwgYy5pbm5lckhUTUwgPSBhLnByb3BlcnRpZXMudGl0bGUsIGMuc2V0QXR0cmlidXRlKFwiZGF0YS1ldmVudFwiLCBcIjExMjA2MTJcIikpLCBjLmlkID0gYS5pZCwgYy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBiKSwgYy5zZXRBdHRyaWJ1dGUoXCJjdHlwZVwiLCBhLnR5cGUpLCBjXG5cdH0pLCB0LmFkZENvbXBvbmVudChcInRcIiwgZnVuY3Rpb24oYSkge1xuXHRcdHZhciBiID0gJCgnPGRpdiBjbGFzcz1cImNyZWF0ZS1jaGFydFwiIGlkPVwiY2hhcnQtJyArIGEuaWQgKyAnXCI+PC9kaXY+JyksXG5cdFx0XHRjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImg1XCIpO1xuXHRcdGMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjaGFydC10aXRsZVwiKSwgYi5hcHBlbmQoYyk7XG5cdFx0dmFyIGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuXHRcdGQuaWQgPSBhLmlkLCBkLnNldEF0dHJpYnV0ZShcImN0eXBlXCIsIGEudHlwZSksIGIuYXBwZW5kKGQpO1xuXHRcdHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRlLmlkID0gXCJsZWdlbmQtXCIgKyBhLmlkLCBiLmFwcGVuZChlKTtcblx0XHR2YXIgbCwgbSA9IGEucHJvcGVydGllcy5jaGFydFR5cGUsXG5cdFx0XHRuID0gZC5nZXRDb250ZXh0KFwiMmRcIiksXG5cdFx0XHRvID0gdihuKTtcblx0XHRpZiAobW9iaWxlY2hlY2soKSAmJiBvID4gMSkge1xuXHRcdFx0dmFyIHAgPSBwYXJzZUZsb2F0KGEuY3NzLndpZHRoKSxcblx0XHRcdFx0cSA9IHBhcnNlRmxvYXQoYS5jc3MuaGVpZ2h0KSAvIDI7XG5cdFx0XHRkLndpZHRoID0gcCwgZC5oZWlnaHQgPSBxLCBkLnN0eWxlLndpZHRoID0gcCAvIG8gKyBcInB4XCIsIGQuc3R5bGUuaGVpZ2h0ID0gcSAvIG8gKyBcInB4XCIsIG4uc2NhbGUobywgbylcblx0XHR9XG5cdFx0XCJwaWVcIiA9PT0gbSA/IChsID0gaShuKSwgXCJlZGl0XCIgPT09IHQubW9kZSAmJiAkKGQpLmRhdGEoXCJwaWVDaGFydFwiLCBsKSkgOiBcImJhclwiID09PSBtID8gKGwgPSBqKG4pLCBcImVkaXRcIiA9PT0gdC5tb2RlICYmICQoZCkuZGF0YShcImJhckNoYXJ0XCIsIGwpKSA6IChcImxpbmVcIiA9PT0gbSB8fCBcImN1cnZlXCIgPT09IG0pICYmIChsID0gayhuLCBtKSwgXCJlZGl0XCIgPT09IHQubW9kZSAmJiAkKGQpLmRhdGEoXCJsaW5lQ2hhcnRcIiwgbCkpLCBhLnByb3BlcnRpZXMuY2hhcnRUaXRsZSAmJiAoYy5pbm5lckhUTUwgPSBhLnByb3BlcnRpZXMuY2hhcnRUaXRsZSksIFwicGllXCIgPT09IG0gJiYgYS5wcm9wZXJ0aWVzLnBpZUNoYXJ0ICYmIChsID0gaChhLCBuLCBsKSwgJChkKS5kYXRhKFwicGllQ2hhcnRcIiwgbCkpLCBcImJhclwiID09PSBtICYmIGEucHJvcGVydGllcy5iYXJDaGFydCAmJiAobCA9IGcoYSwgbiwgbCksICQoZCkuZGF0YShcImJhckNoYXJ0XCIsIGwpKSwgXCJsaW5lXCIgIT09IG0gJiYgXCJjdXJ2ZVwiICE9PSBtIHx8ICFhLnByb3BlcnRpZXMubGluZUNoYXJ0IHx8IChsID0gZihhLCBuLCBsKSwgJChkKS5kYXRhKFwibGluZUNoYXJ0XCIsIGwpKSwgZS5pbm5lckhUTUwgPSBsLmdlbmVyYXRlTGVnZW5kKCk7XG5cdFx0dmFyIHIgPSBhLnByb3BlcnRpZXMubGVnUG9zaXRpb247XG5cdFx0cmV0dXJuIFwicG9zaXRpb24tYWxpZ25cIiA9PT0gciA/ICQoZSkuYWRkQ2xhc3MoXCJwb3NpdGlvbi1hbGlnblwiKSA6IFwicG9zaXRpb24tcmlnaHRcIiA9PT0gciA/ICQoZSkuYWRkQ2xhc3MoXCJwb3NpdGlvbi1yaWdodFwiKSA6IFwicG9zaXRpb24tbm9uZVwiID09PSByICYmICQoZSkuYWRkQ2xhc3MoXCJwb3NpdGlvbi1ub25lXCIpLCBtb2JpbGVjaGVjaygpIHx8ICgkKGQpLmF0dHIoXCJ3aWR0aFwiKSAmJiAoJChkKS5yZW1vdmVBdHRyKFwid2lkdGhcIiksICQoZCkuY3NzKFwid2lkdGhcIiwgXCIxMDAlXCIpKSwgJChkKS5hdHRyKFwiaGVpZ2h0XCIpICYmICgkKGQpLnJlbW92ZUF0dHIoXCJoZWlnaHRcIiksICQoZCkuY3NzKFwiaGVpZ2h0XCIsIFwiNTAlXCIpKSwgbC51cGRhdGUoKSksIGIuZ2V0KDApXG5cdH0pO1xuXHR2YXIgdiA9IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHZhciBiID0gYS53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IGEubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBhLm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBhLm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IGEuYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCAxLFxuXHRcdFx0XHRjID0gKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpIC8gYjtcblx0XHRcdHJldHVybiBjXG5cdFx0fTtcblx0dC5hZGRDb21wb25lbnQoXCJ6XCIsIGZ1bmN0aW9uKGEpIHtcblx0XHR2YXIgYiA9ICQoJzxkaXYgc3R5bGU9XCJ3aWR0aDoxMDAlO2hlaWdodDoxMDAlXCIgaWQ9XCInICsgYS5pZCArICdcIj48L2Rpdj4nKTtcblx0XHRiLmF0dHIoXCJjdHlwZVwiLCBhLnR5cGUpLCBiLmF0dHIoXCJyZXF1aXJlZFwiLCBhLnJlcXVpcmVkKTtcblx0XHR2YXIgYyA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGRyb3Bkb3duLXRvZ2dsZSBidG4tZGVmYXVsdFwiIHN0eWxlPVwid2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmY7Y29sb3I6IzY2NjtwYWRkaW5nLXRvcDogMHB4O2JvcmRlcjogMXB4IHNvbGlkIHJnYig4LDE2MSwyMzkpO2ZvbnQtZmFtaWx5OiBPcGVuIFNhbnMsIHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6IDQwMDtmb250LXNpemU6IDE2cHg7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMHB4O2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDBweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMHB4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwcHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOjBweDtsZWZ0OjBweDtwb2ludGVyLWV2ZW50czpub25lO3BhZGRpbmctYm90dG9tOiAwcHg7cGFkZGluZy1yaWdodDowcHg7cGFkZGluZy1sZWZ0OjBweDtvdmVyZmxvdzogaGlkZGVuXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiIHRpdGxlPVwiTm90aGluZyBzZWxlY3RlZFwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPjxzcGFuIGNsYXNzPVwiZmlsdGVyLW9wdGlvbiBwdWxsLWxlZnRcIiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiA4cHg7ZmxvYXQ6bGVmdDt3aWR0aDpjYWxjKDEwMCUgLSA0MnB4KTt3aWR0aDotbW96LWNhbGMoMTAwJSAtIDQycHgpO3dpZHRoOi13ZWJraXQtY2FsYygxMDAlIC0gNDJweCk7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246IGxlZnQ7XCIgaWQ9XCJzZWxlY3RCdXR0b24nICsgYS5pZCArICdcIj4nICsgYS5zaG93VGV4dCArICc8L3NwYW4+Jm5ic3A7PHNwYW4gY2xhc3M9XCJicy1jYXJldFwiIHN0eWxlPVwiZmxvYXQ6cmlnaHQ7bWFyZ2luLXJpZ2h0OjEwcHg7XCI+PHNwYW4gY2xhc3M9XCJjYXJldFwiIHN0eWxlPVwiZGlzcGxheTogaW5saW5lLWJsb2NrO3dpZHRoOiAwcHg7aGVpZ2h0OiAwcHg7dmVydGljYWwtYWxpZ246IG1pZGRsZTtib3JkZXItdG9wOjRweCBkYXNoZWQ7Ym9yZGVyLXJpZ2h0OiA0cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6IDRweCBzb2xpZCB0cmFuc3BhcmVudDttYXJnaW4tbGVmdDogMHB4O1wiPjwvc3Bhbj48L3NwYW4+PC9idXR0b24+Jyk7XG5cdFx0Yi5hcHBlbmQoYyk7XG5cdFx0dmFyIGQgPSBKU09OLnBhcnNlKGEuY2hvaWNlcykub3B0aW9ucyxcblx0XHRcdGUgPSAkKCc8c2VsZWN0IHN0eWxlPVwid2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTsgXCIgbmFtZT1cImVxW2ZfJyArIGEuaWQgKyAnXVwiPjwvc2VsZWN0PicpO1xuXHRcdGUuYXR0cihcImN0eXBlXCIsIGEudHlwZSksIGUuYXR0cihcImRhdGEtZXZlbnRcIiwgXCIxMTIxMFwiKTtcblx0XHR2YXIgZiA9IG51bGwsXG5cdFx0XHRnID0gMDtcblx0XHRyZXR1cm4gZiA9IGEucGxhY2Vob2xkZXJUZXh0ID09PSBhLnNob3dUZXh0ID8gJCgnPG9wdGlvbiB2YWx1ZT1cIicgKyBhLnBsYWNlaG9sZGVyVGV4dCArICdcIiBzZWxlY3RlZD4nICsgYS5wbGFjZWhvbGRlclRleHQgKyBcIjwvb3B0aW9uPlwiKSA6ICQoJzxvcHRpb24gdmFsdWU9XCInICsgYS5wbGFjZWhvbGRlclRleHQgKyAnXCI+JyArIGEucGxhY2Vob2xkZXJUZXh0ICsgXCI8L29wdGlvbj5cIiksIGUuYXBwZW5kKGYpLCAkLmVhY2goZCwgZnVuY3Rpb24oYiwgYykge1xuXHRcdFx0Yy5sYWJlbCA9PT0gYS5zaG93VGV4dCA/IChnKyssIGYgPSAkKCc8b3B0aW9uIHZhbHVlPVwiJyArIGMubGFiZWwgKyAnXCIgc2VsZWN0ZWQ+JyArIGMubGFiZWwgKyBcIjwvb3B0aW9uPlwiKSkgOiBmID0gJCgnPG9wdGlvbiB2YWx1ZT1cIicgKyBjLmxhYmVsICsgJ1wiPicgKyBjLmxhYmVsICsgXCI8L29wdGlvbj5cIiksIGUuYXBwZW5kKGYpXG5cdFx0fSksICQoZSkuY2hhbmdlKGZ1bmN0aW9uKCkge1xuXHRcdFx0JChcIiNzZWxlY3RCdXR0b25cIiArIGEuaWQpLnRleHQoJChlKS52YWwoKSlcblx0XHR9KSwgYi5hcHBlbmQoZSksIGJcblx0fSksIHQuYWRkQ29tcG9uZW50KFwiYlwiLCBmdW5jdGlvbihhKSB7XG5cdFx0dmFyIGIsIGMsIGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuXHRcdFx0ZSA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRcdGYgPSAkKCc8ZGl2IGNsYXNzPVwidG9vbFwiPjxhIGNsYXNzPVwicmVwbGF5XCI+JyArIGEucHJvcGVydGllcy5tZXNsYWJlbCArICc8L2E+PGEgY2xhc3M9XCJtb3JlXCI+JyArIGEucHJvcGVydGllcy5tb3JlbGFiZWwgKyBcIjwvYT48L2Rpdj5cIikuZ2V0KDApO1xuXHRcdGlmIChlLmFwcGVuZENoaWxkKGYpLCBcInZpZXdcIiAhPT0gdC5tb2RlIHx8IHQuZGlzRXZlbnQpIHtcblx0XHRcdGIgPSBbe1xuXHRcdFx0XHRtZXM6IFwi6LWe5LiA5Liq77yB5aW95aSa5paw5Yqf6IO95ZOmflwiLFxuXHRcdFx0XHRuYW1lOiBcIuWMv+WQjeeUqOaIt1wiLFxuXHRcdFx0XHR0aW1lOiBcIjLmnIgx5pelIDEzOjAwXCJcblx0XHRcdH0sIHtcblx0XHRcdFx0bWVzOiBcIui1nuS4gOS4qu+8geWlveWkmuaWsOWKn+iDveWTpn5cIixcblx0XHRcdFx0bmFtZTogXCLljL/lkI3nlKjmiLdcIixcblx0XHRcdFx0dGltZTogXCIy5pyIMeaXpSAxMjo1OFwiXG5cdFx0XHR9LCB7XG5cdFx0XHRcdG1lczogXCLotZ7kuIDkuKrvvIHlpb3lpJrmlrDlip/og73lk6Z+XCIsXG5cdFx0XHRcdG5hbWU6IFwi5Yy/5ZCN55So5oi3XCIsXG5cdFx0XHRcdHRpbWU6IFwiMuaciDHml6UgMTI6NTVcIlxuXHRcdFx0fV07XG5cdFx0XHRmb3IgKHZhciBnID0gMDsgZyA8IGIubGVuZ3RoOyBnKyspIGMgPSAkKCc8ZGl2IGNsYXNzPVwicmVjb3JkXCI+PGRpdiBjbGFzcz1cImhlYWRpbWcgaGVhZGltZy1iZ1wiPjxkaXYgY2xhc3M9XCJsb2dvXCI+PGVtIGNsYXNzPVwiZXFmLWxvZ29cIj48L2VtPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJuYW1lXCI+JyArIGJbZ10ubmFtZSArICc8L2Rpdj48ZGl2IGNsYXNzPVwibWVzXCI+JyArIGJbZ10ubWVzICsgJzwvZGl2PjxkaXYgY2xhc3M9XCJ0aW1lXCI+JyArIGJbZ10udGltZSArIFwiPC9kaXY+PC9kaXY+XCIpLmdldCgwKSwgZS5hcHBlbmRDaGlsZChjKVxuXHRcdH0gZWxzZSBwKGEuc2NlbmVJZCwgZnVuY3Rpb24oYiwgYykge1xuXHRcdFx0aWYgKDAgPT09IGMpIHtcblx0XHRcdFx0dmFyIGUgPSAkKCc8ZGl2IGNsYXNzPVwiZW1wdHktYm9hcmRzXCI+PGltYWdlIHN0eWxlPVwibWFyZ2luLXRvcDotMjBweDtcIiBzcmM9XCInICsgQ0xJRU5UX0NETiArIFwidmlldy9pbWFnZXMvXCIgKyBhLnByb3BlcnRpZXMuc3R5bGUgKyAnX2JvYXJkcy5wbmdcIiAvPjwvZGl2PicpLmdldCgwKTtcblx0XHRcdFx0ZC5hcHBlbmRDaGlsZChlKVxuXHRcdFx0fSBlbHNlIGQuYXBwZW5kQ2hpbGQoYilcblx0XHR9KTtcblx0XHRyZXR1cm4gZC5hcHBlbmRDaGlsZChlKSwgZC5pZCA9IGEuaWQsIGQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJlbGVtZW50IGJvYXJkcy1cIiArIGEucHJvcGVydGllcy5zdHlsZSksIGQuc2V0QXR0cmlidXRlKFwiY3R5cGVcIiwgYS50eXBlKSwgZFxuXHR9KSwgdC5hZGRDb21wb25lbnQoXCJnXCIsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHR2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0cmV0dXJuIFwiZWRpdFwiID09PSBiICYmICQoJzxkaXYgY2xhc3M9XCJvdmVyLWVsZVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJhZC1jb250YWluXCI+PC9kaXY+JykuYXBwZW5kVG8oYyksIGEuY29udGVudCAmJiAoXCJlZGl0XCIgPT09IGIgPyAkKGMpLmZpbmQoXCIuYWQtY29udGFpblwiKS5hcHBlbmQoJChhLmNvbnRlbnQpKSA6ICgkKGEuY29udGVudCkuYXBwZW5kVG8oYyksIGEuY3NzLnpJbmRleCA9IDFlNSkpLCBjLmlkID0gYS5pZCwgYy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImVsZW1lbnRcIiksIGMuc2V0QXR0cmlidXRlKFwiY3R5cGVcIiwgYS50eXBlKSwgY1xuXHR9KSwgdC5iaW5kQWZ0ZXJSZW5kZXJFdmVudChcIjhcIiwgZnVuY3Rpb24oYSwgYikge1xuXHRcdGEgPSAkKFwiYVwiLCBhKVswXTtcblx0XHR2YXIgYyA9IHtcblx0XHRcdGlkOiBiLnNjZW5lSWQsXG5cdFx0XHRudW06IGIucHJvcGVydGllcy5udW1iZXJcblx0XHR9O1xuXHRcdGlmIChcInZpZXdcIiA9PT0gdC5tb2RlKSB7XG5cdFx0XHR2YXIgZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQuYWpheCh7XG5cdFx0XHRcdFx0XHRjYWNoZTogITAsXG5cdFx0XHRcdFx0XHR0eXBlOiBcIlBPU1RcIixcblx0XHRcdFx0XHRcdHVybDogUFJFRklYX1MxX1VSTCArIFwiZXFzL2RpYWxcIixcblx0XHRcdFx0XHRcdGRhdGE6ICQucGFyYW0oYyksXG5cdFx0XHRcdFx0XHRhc3luYzogITEsXG5cdFx0XHRcdFx0XHRlcnJvcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdC8vYWxlcnQoXCJDb25uZWN0aW9uIGVycm9yXCIpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fTtcblx0XHRcdGEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGQpXG5cdFx0fVxuXHR9KSwgdC5iaW5kQWZ0ZXJSZW5kZXJFdmVudChcImxcIiwgZnVuY3Rpb24oYSwgYikge1xuXHRcdGlmIChhID0gJChcImFcIiwgYSlbMF0sIFwidmlld1wiID09PSB0Lm1vZGUpIHtcblx0XHRcdHZhciBjID0gYi5wcm9wZXJ0aWVzLnVybDtcblx0XHRcdCQoYSkuY2xpY2soZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlzTmFOKGMpID8gd2luZG93Lm9wZW4oYykgOiBlcXhpdS5wYWdlU2Nyb2xsKGMpXG5cdFx0XHR9KVxuXHRcdH1cblx0fSksIHQuYmluZEFmdGVyUmVuZGVyRXZlbnQoXCJpXCIsIGZ1bmN0aW9uKGIsIGMpIHtcblx0XHRpZiAoXCJ2aWV3XCIgPT09IHQubW9kZSAmJiAhdC5kaXNFdmVudCkge1xuXHRcdFx0dmFyIGQgPSAkKGIpLmZpbmQoXCIuY29tcF9jb3VudGVyXCIpO1xuXHRcdFx0ZC5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGUgPSB7XG5cdFx0XHRcdFx0c2NlbmVJZDogYy5zY2VuZUlkLFxuXHRcdFx0XHRcdGZpZWxkSWQ6IGMuaWRcblx0XHRcdFx0fSxcblx0XHRcdFx0XHRmID0gJChiKTtcblx0XHRcdFx0JC5hamF4KHtcblx0XHRcdFx0XHRjYWNoZTogITAsXG5cdFx0XHRcdFx0dHlwZTogXCJQT1NUXCIsXG5cdFx0XHRcdFx0dXJsOiBQUkVGSVhfUzFfVVJMICsgXCJpbmRleC5waHA/Yz1zY2VuZSZhPWNvdW50ZXJzZXRcIixcblx0XHRcdFx0XHRkYXRhOiAkLnBhcmFtKGUpLFxuXHRcdFx0XHRcdGFzeW5jOiAhMSxcblx0XHRcdFx0XHRlcnJvcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRhbGVydChcIkNvbm5lY3Rpb24gZXJyb3JcIilcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZC51bmJpbmQoXCJjbGlja1wiKSwgZi5maW5kKFwiLmNvbXBfY291bnRlclwiKS5yZW1vdmVDbGFzcyhcIm5vdC12b3RlZFwiKTtcblx0XHRcdFx0XHRcdHZhciBiID0gJChcIi5jb3VudGVyLW51bWJlclwiLCBmKSxcblx0XHRcdFx0XHRcdFx0YyA9IChwYXJzZUludChiLmF0dHIoXCJkYXRhLWNvdW50ZXItbnVtYmVyXCIpLCAxMCkgfHwgMCkgKyAxO1xuXHRcdFx0XHRcdFx0Yi5hdHRyKFwiZGF0YS1jb3VudGVyLW51bWJlclwiLCBjKTtcblx0XHRcdFx0XHRcdHZhciBlID0gYS5maXhlZE51bShjKTtcblx0XHRcdFx0XHRcdCQoXCIuY291bnRlci1udW1iZXJcIiwgZikudGV4dChlKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblx0XHRcdH0pXG5cdFx0fVxuXHR9KSwgdC5iaW5kQWZ0ZXJSZW5kZXJFdmVudChcIjRcIiwgZnVuY3Rpb24oYSwgYikge1xuXHRcdFwidmlld1wiID09PSB0Lm1vZGUgJiYgKFwiXCIgKyBiLnR5cGUgPT0gXCI0XCIgPyAoJChhKS5hdHRyKFwiZGF0YS1ldmVudFwiLCBcIjExMjA2MDFcIiksIGwoYSwgYikpIDogXCJcIiArIGIudHlwZSA9PSBcIjQwM1wiICYmIGEub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBpc1dlaXhpbigpID8gdm9pZCAkKGRvY3VtZW50KS50cmlnZ2VyKFwid3guaW1nLnVwbG9hZFwiLCBiLmlkKSA6IHZvaWQgYWxlcnQoXCLor7flnKjlvq7kv6HkuK3ngrnlh7vmiJHvvIFcIilcblx0XHR9KSlcblx0fSksIHQuYmluZEFmdGVyUmVuZGVyRXZlbnQoXCJ4XCIsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRsKGEsIGIpXG5cdH0pLCB0LmJpbmRBZnRlclJlbmRlckV2ZW50KFwiaFwiLCBmdW5jdGlvbihhLCBiKSB7XG5cdFx0JChhKS5hdHRyKFwiZGF0YS1ldmVudFwiLCBcIjExMjA2MDFcIiksIGwoYSwgYilcblx0fSksIHQuYmluZEFmdGVyUmVuZGVyRXZlbnQoXCI1XCIsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHR2YXIgYyA9IG1vYmlsZWNoZWNrKCk7XG5cdFx0bSgkKGEpLmZpbmQoXCJ0ZXh0YXJlYVwiKSksIG4oJChhKS5maW5kKFwidGV4dGFyZWFcIikpLCBcInZpZXdcIiA9PT0gdC5tb2RlICYmIGMgJiYgcGFyc2VGbG9hdChiLmNzcy50b3ApID49IDIwMCAmJiAoJChhKS5maW5kKFwidGV4dGFyZWFcIikuZm9jdXMoZnVuY3Rpb24oKSB7XG5cdFx0XHQkKGEpLmNsb3Nlc3QoXCIuZWRpdF9hcmVhXCIpLmNzcyh7XG5cdFx0XHRcdHRvcDogXCItMTUwcHhcIlxuXHRcdFx0fSlcblx0XHR9KSwgJChhKS5maW5kKFwidGV4dGFyZWFcIikuYmx1cihmdW5jdGlvbigpIHtcblx0XHRcdCQoYSkuY2xvc2VzdChcIi5lZGl0X2FyZWFcIikuY3NzKHtcblx0XHRcdFx0dG9wOiAwXG5cdFx0XHR9KVxuXHRcdH0pKVxuXHR9KSwgdC5iaW5kQWZ0ZXJSZW5kZXJFdmVudChcInJcIiwgZnVuY3Rpb24oYSkge1xuXHRcdFwidmlld1wiID09PSB0Lm1vZGUgJiYgbSgkKGEpLmZpbmQoXCJsYWJlbFwiKSlcblx0fSksIHQuYmluZEFmdGVyUmVuZGVyRXZlbnQoXCJjXCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcInZpZXdcIiA9PT0gdC5tb2RlICYmIG0oJChhKS5maW5kKFwibGFiZWxcIikpXG5cdH0pLCB0LmJpbmRBZnRlclJlbmRlckV2ZW50KFwidlwiLCBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XCJ2aWV3XCIgPT09IHQubW9kZSAmJiAkKGEpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXHRcdFx0JChhKS5oaWRlKCksICQoXCIjYXVkaW9fYnRuXCIpLmhhc0NsYXNzKFwidmlkZW9fZXhpc3RcIikgJiYgKCQoXCIjYXVkaW9fYnRuXCIpLmhpZGUoKSwgJChcIiNtZWRpYVwiKVswXS5wYXVzZSgpKSwgdXRpbFNvdW5kLnBhdXNlKCksICQoJzxkaXYgY2xhc3M9XCJ2aWRlb19tYXNrIHBhZ2VfZWZmZWN0IGxvY2tcIiBpZD1cIm1hc2tfJyArIGIuaWQgKyAnXCI+PC9kaXY+JykuYXBwZW5kVG8oJChhKS5jbG9zZXN0KFwiLm0taW1nXCIpKSwgJCgnPGEgY2xhc3MgPSBcImNsb3NlX21hc2sgZXFmLXdyb25nXCIgaWQ9XCJjbG9zZV8nICsgYi5pZCArICdcIj48L2E+JykuYXBwZW5kVG8oJChhKS5jbG9zZXN0KFwiLm0taW1nXCIpKSwgJChiLnByb3BlcnRpZXMuc3JjKS5hcHBlbmRUbygkKFwiI21hc2tfXCIgKyBiLmlkKSkuYXR0cihcInN0eWxlXCIsIFwicG9zaXRpb246IGFic29sdXRlO3RvcDowOyBtaW4taGVpZ2h0OiA0NSU7IG1heC1oZWlnaHQ6IDEwMCU7IHRvcDogMjAlO1wiKS5hdHRyKFwid2lkdGhcIiwgXCIxMDAlXCIpLnJlbW92ZUF0dHIoXCJoZWlnaHRcIiksICQoXCIjY2xvc2VfXCIgKyBiLmlkKS5iaW5kKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQoYSkuc2hvdygpLCAkKFwiI21hc2tfXCIgKyBiLmlkKS5yZW1vdmUoKSwgJChcIiNjbG9zZV9cIiArIGIuaWQpLnJlbW92ZSgpLCAkKFwiI2F1ZGlvX2J0blwiKS5oYXNDbGFzcyhcInZpZGVvX2V4aXN0XCIpICYmICQoXCIjYXVkaW9fYnRuXCIpLnNob3coZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0JChcIiNtZWRpYVwiKVswXS5wbGF5KClcblx0XHRcdFx0fSlcblx0XHRcdH0pXG5cdFx0fSlcblx0fSksIHQuYmluZEFmdGVyUmVuZGVyRXZlbnQoXCIyXCIsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRvKGEpLCBsKGEsIGIpXG5cdH0pLCB0LmJpbmRBZnRlclJlbmRlckV2ZW50KFwiNlwiLCBmdW5jdGlvbihiLCBjKSB7XG5cdFx0aWYgKGIgPSAkKFwiYnV0dG9uXCIsIGIpWzBdLCBcInZpZXdcIiA9PT0gdC5tb2RlKSB7XG5cdFx0XHR2YXIgZCA9IHtcblx0XHRcdFx0UkVRVUlSRUQ6IFwi5Li65b+F5aGr6aG577yBXCIsXG5cdFx0XHRcdFdST05HX1BIT05FX05VTUJFUl9GT1JNQVQ6IFwi55S16K+d5Y+356CB5qC85byP6ZSZ6K+v77yBXCIsXG5cdFx0XHRcdFdST05HX0VNQUlMX0ZPUk1BVDogXCLpgq7nrrHmoLzlvI/plJnor6/vvIFcIixcblx0XHRcdFx0RklMTF9PVVRfVEhFX0ZPUk06IFwi6K+35aGr5YaZ6KGo5Y2V77yBXCIsXG5cdFx0XHRcdERVUExJQ0FURURfU1VCTUlTU0lPTjogXCLor7fkuI3opoHph43lpI3mj5DkuqTvvIFcIixcblx0XHRcdFx0VEhBTktTX0ZPUl9QQVJUSUNJUEFUSU9OOiBcIuiwouiwouaCqOeahOWPguS4ju+8gVwiXG5cdFx0XHR9LFxuXHRcdFx0XHRlID0gZnVuY3Rpb24oYSwgYiwgZSkge1xuXHRcdFx0XHRcdHZhciBmID0gITAsXG5cdFx0XHRcdFx0XHRnID0ge307XG5cdFx0XHRcdFx0aWYgKCQoXCJ0ZXh0YXJlYVwiLCBlKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKGYpIHtcblx0XHRcdFx0XHRcdFx0aWYgKFwicmVxdWlyZWRcIiA9PT0gJCh0aGlzKS5hdHRyKFwicmVxdWlyZWRcIikgJiYgXCJcIiA9PT0gJCh0aGlzKS52YWwoKS50cmltKCkpIHJldHVybiBhbGVydCgkKHRoaXMpLmF0dHIoXCJwbGFjZWhvbGRlclwiKSArIGQuUkVRVUlSRUQpLCB2b2lkKGYgPSAhMSk7XG5cdFx0XHRcdFx0XHRcdGlmIChcIjUwMlwiID09PSAkKHRoaXMpLmF0dHIoXCJjdHlwZVwiKSAmJiBcIlwiICE9PSAkKHRoaXMpLnZhbCgpLnRyaW0oKSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBhID0gbmV3IFJlZ0V4cCgvXlxcZHszLDE1fSQvKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWEudGVzdCgkKHRoaXMpLnZhbCgpKSkgcmV0dXJuIGFsZXJ0KFwi55S16K+d6L6T5YWl5pyJ6K+v77yM6K+36L6T5YWlMy0xNeS9jeaVsOWtl1wiKSwgdm9pZChmID0gITEpXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKFwiNTAzXCIgPT09ICQodGhpcykuYXR0cihcImN0eXBlXCIpICYmIFwiXCIgIT09ICQodGhpcykudmFsKCkudHJpbSgpKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGIgPSBuZXcgUmVnRXhwKC9eKFthLXpBLVowLTlfXFwuXFwtXSkrXFxAKChbYS16QS1aMC05XFwtXSkrXFwuKSsoW2EtekEtWjAtOV17Miw0fSkrJC9nKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWIudGVzdCgkKHRoaXMpLnZhbCgpKSkgcmV0dXJuIGFsZXJ0KFwi6YKu566x5qC85byP6ZSZ6K+v77yBXCIpLCB2b2lkKGYgPSAhMSlcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRnWyQodGhpcykuYXR0cihcIm5hbWVcIildID0gJCh0aGlzKS52YWwoKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pLCAkKFwiaW5wdXQ6Y2hlY2tlZFwiLCBlKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIGEgPSAkKHRoaXMpO1xuXHRcdFx0XHRcdFx0Z1thLmF0dHIoXCJuYW1lXCIpXSA/IGdbYS5hdHRyKFwibmFtZVwiKV0gKz0gXCIsXCIgKyBhLnZhbCgpIDogZ1thLmF0dHIoXCJuYW1lXCIpXSA9IGEudmFsKClcblx0XHRcdFx0XHR9KSwgJCgnLmNvbXBfcmFkaW9bcmVxdWlyZWQ9XCJyZXF1aXJlZFwiXScsIGUpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgYSA9ICQodGhpcyk7XG5cdFx0XHRcdFx0XHRnW2EuYXR0cihcIm5hbWVcIildIHx8IChhbGVydChhLmF0dHIoXCJ0aXRsZVwiKSArIGQuUkVRVUlSRUQpLCBmID0gITEpXG5cdFx0XHRcdFx0fSksICQoJ2lucHV0W3R5cGU9XCJoaWRkZW5cIl0nLCBlKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0Z1skKHRoaXMpLmF0dHIoXCJuYW1lXCIpXSA9ICQodGhpcykudmFsKClcblx0XHRcdFx0XHR9KSwgJCgnLmNvbXBfcmF0aW5nW3JlcXVpcmVkPVwicmVxdWlyZWRcIl0nLCBlKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIGEgPSAkKHRoaXMpO1xuXHRcdFx0XHRcdFx0Z1thLmF0dHIoXCJuYW1lXCIpXSAmJiBcIlwiICsgZ1thLmF0dHIoXCJuYW1lXCIpXSAhPSBcIjBcIiB8fCAoYWxlcnQoYS5hdHRyKFwidGl0bGVcIikgKyBcIuS4uuW/heWhq+mhue+8gVwiKSwgZiA9ICExKVxuXHRcdFx0XHRcdH0pLCBmKSB7XG5cdFx0XHRcdFx0XHR2YXIgaCA9ICExO1xuXHRcdFx0XHRcdFx0aWYgKCQuaXNFbXB0eU9iamVjdChnKSkgcmV0dXJuIHZvaWQoaCA9ICEwKTtcblx0XHRcdFx0XHRcdGZvciAodmFyIGkgaW4gZykgaWYgKFwiXCIgIT09IGdbaV0pIHtcblx0XHRcdFx0XHRcdFx0aCA9ICEwO1xuXHRcdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCFoKSByZXR1cm4gdm9pZCBhbGVydChcIuivt+Whq+WGmeihqOWNle+8gVwiKTtcblx0XHRcdFx0XHRcdCQoXCJzZWxlY3RcIiwgZSkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGEgPSAkKHRoaXMpLmF0dHIoXCJuYW1lXCIpLnN1YnN0cmluZyg1LCAkKHRoaXMpLmF0dHIoXCJuYW1lXCIpLmxlbmd0aCAtIDEpLFxuXHRcdFx0XHRcdFx0XHRcdGIgPSAkKHRoaXMpLmZpbmQoXCJvcHRpb246Zmlyc3RcIikudmFsKCksXG5cdFx0XHRcdFx0XHRcdFx0YyA9ICQodGhpcykudmFsKCk7XG5cdFx0XHRcdFx0XHRcdGlmIChcInJlcXVpcmVkXCIgPT09ICQoXCIjXCIgKyBhKS5hdHRyKFwicmVxdWlyZWRcIikpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoYiA9PT0gYykgcmV0dXJuIGFsZXJ0KFwi5L2g6L+Y5rKh5pyJ6YCJ5oup5LiL5ouJ5YiX6KGo77yBXCIpLCB2b2lkKGYgPSAhMSlcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGIgPT09IGMgJiYgJCh0aGlzKS52YWwobnVsbCk7XG5cdFx0XHRcdFx0XHRcdGdbJCh0aGlzKS5hdHRyKFwibmFtZVwiKV0gPSAkKHRoaXMpLnZhbCgpXG5cdFx0XHRcdFx0XHR9KSwgZiAmJiAkLmFqYXgoe1xuXHRcdFx0XHRcdFx0XHRjYWNoZTogITAsXG5cdFx0XHRcdFx0XHRcdHR5cGU6IFwiUE9TVFwiLFxuXHRcdFx0XHRcdFx0XHR1cmw6IFBSRUZJWF9TMV9VUkwgKyBcImluZGV4LnBocD9jPXNjZW5lZGF0YSZhPWFkZCZpZD1cIiArIGIsXG5cdFx0XHRcdFx0XHRcdGRhdGE6ICQucGFyYW0oZyksXG5cdFx0XHRcdFx0XHRcdGFzeW5jOiAhMSxcblx0XHRcdFx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGFsZXJ0KFwiQ29ubmVjdGlvbiBlcnJvclwiKVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHQkKGEpLnVuYmluZChcImNsaWNrXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0YWxlcnQoXCLor7fkuI3opoHph43lpI3mj5DkuqTvvIFcIilcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgYjtcblx0XHRcdFx0XHRcdFx0XHRjLnByb3BlcnRpZXMubGF5b3V0IHx8IChjLnByb3BlcnRpZXMubGF5b3V0ID0gXCJyYXRpbmctbFwiLCBjLnByb3BlcnRpZXMudGV4dCA9IFwiXCIpLCBjLnByb3BlcnRpZXMudGV4dC50cmltKCkgfHwgXCJyYXRpbmctbFwiICE9PSBjLnByb3BlcnRpZXMubGF5b3V0ID8gKFwicmF0aW5nLW1cIiA9PT0gYy5wcm9wZXJ0aWVzLmxheW91dCAmJiAoYiA9IGMucHJvcGVydGllcy5jaGVja2VkTGluayA/ICc8ZGl2IGNsYXNzPVwiZmVlZGJhY2stYm94XCI+PGRpdiBjbGFzcz1cImZlZWRiYWNrLWZvcm1cIj48aW1nIHNyYyA9IFwiJyArIChQUkVGSVhfRklMRV9IT1NUICsgYy5wcm9wZXJ0aWVzLmltZ1NyYykgKyAnXCIvPjxhIGhyZWY9XCInICsgYy5wcm9wZXJ0aWVzLmxpbmsgKyAnXCIgc3R5bGU9XCJtYXJnaW4tdG9wOjIwcHg7XCI+PHNwYW4+JyArIGMucHJvcGVydGllcy50ZXh0ICsgJzwvc3Bhbj48L2E+PGJ1dHRvbiBjbGFzcz1cImZlZWRiYWNrLWJ1dHRvblwiPuaIkeefpemBk+S6hjwvYnV0dG9uPjwvZGl2PjwvZGl2PicgOiAnPGRpdiBjbGFzcz1cImZlZWRiYWNrLWJveFwiPjxkaXYgY2xhc3M9XCJmZWVkYmFjay1mb3JtXCI+PGltZyBzcmMgPSBcIicgKyAoUFJFRklYX0ZJTEVfSE9TVCArIGMucHJvcGVydGllcy5pbWdTcmMpICsgJ1wiLz48c3BhbiBzdHlsZT1cIm1hcmdpbi10b3A6MjBweDtcIj4nICsgYy5wcm9wZXJ0aWVzLnRleHQgKyAnPC9zcGFuPjxidXR0b24gY2xhc3M9XCJmZWVkYmFjay1idXR0b25cIj7miJHnn6XpgZPkuoY8L2J1dHRvbj48L2Rpdj48L2Rpdj4nKSwgXCJyYXRpbmctc1wiID09PSBjLnByb3BlcnRpZXMubGF5b3V0ICYmIChiID0gYy5wcm9wZXJ0aWVzLmNoZWNrZWRMaW5rID8gJzxkaXYgY2xhc3M9XCJmZWVkYmFjay1ib3hcIj48ZGl2IGNsYXNzPVwiZmVlZGJhY2stZm9ybVwiPjxhIGhyZWY9XCInICsgYy5wcm9wZXJ0aWVzLmxpbmsgKyAnXCI+PHNwYW4+JyArIGMucHJvcGVydGllcy50ZXh0ICsgJzwvc3Bhbj48L2E+PGltZyBzcmMgPSBcIicgKyAoUFJFRklYX0ZJTEVfSE9TVCArIGMucHJvcGVydGllcy5pbWdTcmMpICsgJ1wiIHN0eWxlPVwibWFyZ2luLXRvcDoyMHB4O1wiLz48YnV0dG9uIGNsYXNzPVwiZmVlZGJhY2stYnV0dG9uXCI+5oiR55+l6YGT5LqGPC9idXR0b24+PC9kaXY+PC9kaXY+JyA6ICc8ZGl2IGNsYXNzPVwiZmVlZGJhY2stYm94XCI+PGRpdiBjbGFzcz1cImZlZWRiYWNrLWZvcm1cIj48c3Bhbj4nICsgYy5wcm9wZXJ0aWVzLnRleHQgKyAnPC9zcGFuPjxpbWcgc3JjID0gXCInICsgKFBSRUZJWF9GSUxFX0hPU1QgKyBjLnByb3BlcnRpZXMuaW1nU3JjKSArICdcIiBzdHlsZT1cIm1hcmdpbi10b3A6MjBweDtcIi8+PGJ1dHRvbiBjbGFzcz1cImZlZWRiYWNrLWJ1dHRvblwiPuaIkeefpemBk+S6hjwvYnV0dG9uPjwvZGl2PjwvZGl2PicpLCBcInJhdGluZy1sXCIgPT09IGMucHJvcGVydGllcy5sYXlvdXQgJiYgKGIgPSBjLnByb3BlcnRpZXMuY2hlY2tlZExpbmsgPyAnPGRpdiBjbGFzcz1cImZlZWRiYWNrLWJveFwiPjxkaXYgY2xhc3M9XCJmZWVkYmFjay1mb3JtXCI+PGEgaHJlZj1cIicgKyBjLnByb3BlcnRpZXMubGluayArICdcIj48c3Bhbj4nICsgYy5wcm9wZXJ0aWVzLnRleHQgKyAnPC9zcGFuPjwvYT48YnV0dG9uIGNsYXNzPVwiZmVlZGJhY2stYnV0dG9uXCI+5oiR55+l6YGT5LqGPC9idXR0b24+PC9kaXY+PC9kaXY+JyA6ICc8ZGl2IGNsYXNzPVwiZmVlZGJhY2stYm94XCI+PGRpdiBjbGFzcz1cImZlZWRiYWNrLWZvcm1cIj48c3Bhbj4nICsgYy5wcm9wZXJ0aWVzLnRleHQgKyAnPC9zcGFuPjxidXR0b24gY2xhc3M9XCJmZWVkYmFjay1idXR0b25cIj7miJHnn6XpgZPkuoY8L2J1dHRvbj48L2Rpdj48L2Rpdj4nKSkgOiBiID0gJzxkaXYgY2xhc3M9XCJmZWVkYmFjay1ib3hcIj48ZGl2IGNsYXNzPVwiZmVlZGJhY2stZm9ybVwiPjxzcGFuPuiwouiwouaCqOeahOWPguS4jiE8L3NwYW4+PGJ1dHRvbiBjbGFzcz1cImZlZWRiYWNrLWJ1dHRvblwiPuaIkeefpemBk+S6hjwvYnV0dG9uPjwvZGl2PjwvZGl2PicsICQoYikucHJlcGVuZFRvKFwiLnotY3VycmVudFwiKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZCA9ICgwIC0gcGFyc2VJbnQoJChcIi5mZWVkYmFjay1mb3JtXCIpLmNzcyhcImhlaWdodFwiKSwgMTApKSAvIDI7XG5cdFx0XHRcdFx0XHRcdFx0JChcIi5mZWVkYmFjay1mb3JtXCIpLmNzcyh7XG5cdFx0XHRcdFx0XHRcdFx0XHRtYXJnaW5Ub3A6IGQgKyBcInB4XCJcblx0XHRcdFx0XHRcdFx0XHR9KSwgJChcIi56LWN1cnJlbnRcIikub24oXCJjbGlja1wiLCBcIi5mZWVkYmFjay1idXR0b25cIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQkKFwiLmZlZWRiYWNrLWJveFwiKS5hbmltYXRlKHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMFxuXHRcdFx0XHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkdXJhdGlvbjogMWUzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0JChcIi5mZWVkYmFjay1ib3hcIikucmVtb3ZlKClcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdCQoYikuYmluZChcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoYS5pc01vYmlsZUFwcCgpKSByZXR1cm4gdm9pZCBhbGVydChcIuWcuuaZr+i/mOayoeacieWPkeW4g+WRou+8jOivt+WPkeW4g+WQjuaPkOS6pOWGheWuue+8gVwiKTtcblx0XHRcdFx0dmFyIGMsIGQgPSAkKGIpLnBhcmVudHMoXCIuZWRpdF93cmFwcGVyXCIpLmF0dHIoXCJkYXRhLXNjZW5lLWlkXCIpO1xuXHRcdFx0XHRjID0gZCA/ICQoYikucGFyZW50cyhcIi5uclwiKS5maW5kKCcuZWRpdF93cmFwcGVyW2RhdGEtc2NlbmUtaWQ9XCInICsgZCArICdcIl0nKSA6ICQoYikucGFyZW50cyhcIi5uclwiKSwgZSh0aGlzLCBkLCBjKVxuXHRcdFx0fSlcblx0XHR9XG5cdH0pLCB0LmJpbmRBZnRlclJlbmRlckV2ZW50KFwiN1wiLCBmdW5jdGlvbihhLCBiKSB7XG5cdFx0dmFyIGMgPSBuZXcgQk1hcC5NYXAoXCJtYXBfXCIgKyBiLmlkLCB7XG5cdFx0XHRlbmFibGVNYXBDbGljazogITFcblx0XHR9KSxcblx0XHRcdGQgPSBuZXcgQk1hcC5Qb2ludChiLnByb3BlcnRpZXMueCwgYi5wcm9wZXJ0aWVzLnkpLFxuXHRcdFx0ZSA9IG5ldyBCTWFwLk1hcmtlcihkKTtcblx0XHRjLmFkZE92ZXJsYXkoZSk7XG5cdFx0dmFyIGYgPSBuZXcgQk1hcC5MYWJlbChiLnByb3BlcnRpZXMubWFya1RpdGxlLCB7XG5cdFx0XHRvZmZzZXQ6IG5ldyBCTWFwLlNpemUoMjAsIC0xMClcblx0XHR9KTtcblx0XHRlLnNldExhYmVsKGYpLCBjLmRpc2FibGVEb3VibGVDbGlja1pvb20oKSwgYy5jZW50ZXJBbmRab29tKGQsIDE1KVxuXHR9KSwgdC5iaW5kQWZ0ZXJSZW5kZXJFdmVudChcInBcIiwgZnVuY3Rpb24oYSwgYikge1xuXHRcdGlmICghJChhKS5jbG9zZXN0KFwiLnBhZ2VfdHBsX2NvbnRhaW5lciBcIikubGVuZ3RoKSB7XG5cdFx0XHQkKGEpLmNoaWxkcmVuKFwiLmVsZW1lbnQtYm94XCIpLmNzcyhcIm92ZXJmbG93XCIsIFwidmlzaWJsZVwiKSwgdXRpbFBpY3R1cmVzLmRlbGV0ZUludGVydmFsKGIuaWQpO1xuXHRcdFx0dmFyIGMgPSAkKGEpLmZpbmQoXCIjXCIgKyBiLmlkKTtcblx0XHRcdG5ldyBmbHV4LnNsaWRlcihjLCB7XG5cdFx0XHRcdGF1dG9wbGF5OiBiLnByb3BlcnRpZXMuYXV0b1BsYXksXG5cdFx0XHRcdGRlbGF5OiBiLnByb3BlcnRpZXMuaW50ZXJ2YWwsXG5cdFx0XHRcdHBhZ2luYXRpb246ICExLFxuXHRcdFx0XHR0cmFuc2l0aW9uczogW3V0aWxQaWN0dXJlcy5nZXRQaWNTdHlsZShiLnByb3BlcnRpZXMucGljU3R5bGUpLm5hbWVdLFxuXHRcdFx0XHR3aWR0aDogYi5jc3Mud2lkdGgsXG5cdFx0XHRcdGhlaWdodDogYi5jc3MuaGVpZ2h0LFxuXHRcdFx0XHRiZ0NvbG9yOiBiLnByb3BlcnRpZXMuYmdDb2xvcixcblx0XHRcdFx0b25TdGFydEVuZDogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdHV0aWxQaWN0dXJlcy5hZGRJbnRlcnZhbChiLmlkLCBhKVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdH1cblx0fSksIHQuYmluZEFmdGVyUmVuZGVyRXZlbnQoXCJhXCIsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRmdW5jdGlvbiBjKGEpIHtcblx0XHRcdGUuZWFjaChmdW5jdGlvbihiLCBjKSB7XG5cdFx0XHRcdCQoYykucmVtb3ZlQ2xhc3MoZykuYWRkQ2xhc3MoZyArIFwiLWxpbmVcIiksIGEgPj0gYiAmJiAkKGMpLnJlbW92ZUNsYXNzKGcgKyBcIi1saW5lXCIpLmFkZENsYXNzKGcpXG5cdFx0XHR9KVxuXHRcdH1cblx0XHR2YXIgZCA9ICQoYSk7XG5cdFx0aWYgKFwidmlld1wiID09PSB0Lm1vZGUpIHtcblx0XHRcdHZhciBlID0gZC5maW5kKFwiaVwiKSxcblx0XHRcdFx0ZiA9IGQuZmluZChcImlucHV0XCIpLFxuXHRcdFx0XHRnID0gYi5wcm9wZXJ0aWVzLmljb247XG5cdFx0XHRlLmVhY2goZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHQkKGIpLmF0dHIoXCJkYXRhLWV2ZW50XCIsIFwiMTEyMTFcIiksICQoYikuYmluZChcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGMoYSksIGYudmFsKGEgKyAxKVxuXHRcdFx0XHR9KSwgJChiKS5iaW5kKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRjKGEpXG5cdFx0XHRcdH0pXG5cdFx0XHR9KSwgZC5maW5kKFwiLnJhdGluZy1pY29uc1wiKS5iaW5kKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0YyhwYXJzZUludChmLnZhbCgpLCAxMCkgLSAxKVxuXHRcdFx0fSksIG0oZC5maW5kKFwiLnJhdGluZy1pY29uc1wiKSlcblx0XHR9XG5cdH0pLCB0LmJpbmRBZnRlclJlbmRlckV2ZW50KFwid1wiLCBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XCJ2aWV3XCIgPT09IHQubW9kZSAmJiAobSgkKGEpKSwgJChhKS5vbihcIm1vdXNlZG93biB0b3VjaHN0YXJ0XCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdGlmIChhLnByZXZlbnREZWZhdWx0KCksIGlzV2VpeGluKCkpXCJ3MDFcIiA9PT0gYi50eXBlID8gJChkb2N1bWVudCkudHJpZ2dlcihcInd4LmF1ZGlvLnBsYXlcIiwgYi5pZCkgOiBcIncwMlwiID09PSBiLnR5cGUgJiYgJChkb2N1bWVudCkudHJpZ2dlcihcInd4LmF1ZGlvLnJlY29yZFwiLCBiLmlkKTtcblx0XHRcdGVsc2UgaWYgKFwidzAxXCIgPT09IGIudHlwZSkge1xuXHRcdFx0XHR2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtcblx0XHRcdFx0Yy5zcmMgPSBiLnByb3BlcnRpZXMuc3JjLCBjLnBsYXkoKTtcblx0XHRcdFx0dmFyIGQgPSAkKFwiI21lZGlhXCIpLmdldCgwKTtcblx0XHRcdFx0ZC5wYXVzZSgpXG5cdFx0XHR9IGVsc2UgXCJ3MDJcIiA9PT0gYi50eXBlICYmIGFsZXJ0KFwi6K+35Zyo5b6u5L+h5Lit54K55oiR77yBXCIpXG5cdFx0fSkub24oXCJtb3VzZXVwIHRvdWNoZW5kXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0aXNXZWl4aW4oKSAmJiBcIncwMlwiID09PSBiLnR5cGUgJiYgJChkb2N1bWVudCkudHJpZ2dlcihcInd4LmF1ZGlvLnJlY29yZGVuZFwiLCBiLmlkKVxuXHRcdH0pKVxuXHR9KSwgdC5iaW5kQWZ0ZXJSZW5kZXJFdmVudChcImdcIiwgZnVuY3Rpb24oYSkge1xuXHRcdGEuYXR0cihcImRhdGEtZXZlbnRcIiwgXCIxMTIxMlwiKVxuXHR9KSwgdC5iaW5kQWZ0ZXJSZW5kZXJFdmVudChcImJcIiwgZnVuY3Rpb24oYiwgYykge1xuXHRcdGZ1bmN0aW9uIGQoKSB7XG5cdFx0XHRpZiAoaC5maW5kKFwiLmJvYXJkcy1wYW5lbFwiKS5sZW5ndGgpIGguZmluZChcIi5ib2FyZHMtcGFuZWxcIikuc2hvdygpO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGguYXBwZW5kKCQoJzxkaXYgY2xhc3M9XCJib2FyZHMtcGFuZWwgYm9hcmRzLScgKyBjLnByb3BlcnRpZXMuc3R5bGUgKyAnXCI+PGRpdiBjbGFzcz1cImJvYXJkcy10b3BcIj48ZGl2IGNsYXNzPVwiaGVhZFwiPueVmeiogOadvzxlbSBjbGFzcz1cImVxZi13cm9uZ1wiPjwvZW0+PC9kaXY+PGRpdiBjbGFzcz1cImJvYXJkcy1mb3JtXCI+PHRleHRhcmVhIG1heGxlbmd0aD1cIjE0MFwiIGNsYXNzPVwiY29udGVudC10ZXh0XCI+PC90ZXh0YXJlYT48c3BhbiBjbGFzcz1cImNvbnRlbnQtdGlwXCI+MC8xNDA8L3NwYW4+PGEgY2xhc3M9XCJyZWNvcmQtYnRuXCIgZGF0YS1ldmVudD1cIjExMjA3XCI+5o+Q5Lqk55WZ6KiAPC9hPjwvZGl2PjxkaXYgY2xhc3M9XCJzcGxpbmUtY29uXCI+PHNwYW4+5pu05aSa55WZ6KiAPC9zcGFuPjxzcGFuIGNsYXNzPVwic3BsaW5lXCI+PC9zcGFuPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJib2FyZHMtY29uXCI+PGRpdiBjbGFzcz1cImxpc3RcIj48L2Rpdj48L2Rpdj4nICsgaSArIFwiPC9kaXY+XCIpKSwgZiA9IGguZmluZChcIi5yZWNvcmQtYnRuXCIpLCBpcGhvbmVDaGVjaygpICYmIGguZmluZChcIi5ib2FyZHMtY29uXCIpLmFkZENsYXNzKFwiaW9zLWJvYXJkcy1jb25cIik7XG5cdFx0XHRcdHZhciBiID0gMDtcblx0XHRcdFx0Zi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmIChhLmlzTW9iaWxlQXBwKCkpIHJldHVybiB2b2lkIGFsZXJ0KFwi5Zy65pmv6L+Y5rKh5pyJ5Y+R5biD5ZGi77yM6K+35Y+R5biD5ZCO5o+Q5Lqk5YaF5a6577yBXCIpO1xuXHRcdFx0XHRcdGlmICghYikge1xuXHRcdFx0XHRcdFx0dmFyIGMgPSBoLmZpbmQoXCIuYm9hcmRzLXBhbmVsIC5jb250ZW50LXRleHRcIikudmFsKCk7XG5cdFx0XHRcdFx0XHRpZiAoISQudHJpbShjKSkgcmV0dXJuIHZvaWQgYWxlcnQoXCLnlZnoqIDkuI3og73kuLrnqbohXCIpO1xuXHRcdFx0XHRcdFx0YiA9IDEwLCBmLnRleHQoXCLmj5DkuqTnlZnoqIAoXCIgKyBiICsgXCLnp5IpXCIpLCBmLmNzcyhcImJhY2tncm91bmRDb2xvclwiLCBcIiNiNGI0YjRcIik7XG5cdFx0XHRcdFx0XHR2YXIgZCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRiLS0sIGYudGV4dChcIuaPkOS6pOeVmeiogChcIiArIGIgKyBcIuenkilcIiksIGIgfHwgKGYuY3NzKFwiYmFja2dyb3VuZENvbG9yXCIsIFwiXCIpLnRleHQoXCLmj5DkuqTnlZnoqIBcIiksIGNsZWFySW50ZXJ2YWwoZCkpXG5cdFx0XHRcdFx0XHR9LCAxZTMpLFxuXHRcdFx0XHRcdFx0XHRlID0ge1xuXHRcdFx0XHRcdFx0XHRcdHNjZW5lSWQ6IGosXG5cdFx0XHRcdFx0XHRcdFx0Y29udGVudDogYyxcblx0XHRcdFx0XHRcdFx0XHR1cmw6IFwiXCIsXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogXCLljL/lkI3nlKjmiLdcIlxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0d2VDaGF0VXNlciAmJiB3ZUNoYXRVc2VyLmhlYWRpbWd1cmwgJiYgKGUubmFtZSA9IHdlQ2hhdFVzZXIubmlja25hbWUsIGUudXJsID0gd2VDaGF0VXNlci5oZWFkaW1ndXJsKSwgJC5hamF4KHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJQT1NUXCIsXG5cdFx0XHRcdFx0XHRcdHVybDogUFJFRklYX1VSTCArIFwiaW5kZXgucGhwP2M9c2NlbmVkYXRhJmE9c2VuZG1zZ1wiLFxuXHRcdFx0XHRcdFx0XHRkYXRhOiAkLnBhcmFtKGUpLFxuXHRcdFx0XHRcdFx0XHRlcnJvcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0YWxlcnQoXCJDb25uZWN0aW9uIGVycm9yXCIpXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoYS5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhbGVydChcIueVmeiogOaIkOWKn++8jOiwouiwouWPguS4ju+8gVwiKTtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBiID0gJzxkaXYgY2xhc3M9XCJoZWFkaW1nIGhlYWRpbWctYmdcIj48ZGl2IGNsYXNzPVwibG9nby1zY2FsZVwiPjxlbSBjbGFzcz1cImVxZi1lcXhpdVwiPjwvZW0+PC9kaXY+PC9kaXY+Jztcblx0XHRcdFx0XHRcdFx0XHRcdHdlQ2hhdFVzZXIuaGVhZGltZ3VybCAmJiAoYiA9ICc8ZGl2IGNsYXNzPVwiaGVhZGltZ1wiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTp1cmwoJyArIHdlQ2hhdFVzZXIuaGVhZGltZ3VybCArICcpXCI+PC9kaXY+JyksICQoXCIuei1jdXJyZW50ICNcIiArIGspLmZpbmQoXCIuZW1wdHktYm9hcmRzXCIpLmxlbmd0aCAmJiAkKFwiLnotY3VycmVudCAjXCIgKyBrKS5maW5kKFwiLmVtcHR5LWJvYXJkc1wiKS5yZW1vdmUoKSwgJChcIi56LWN1cnJlbnQgI1wiICsgaykuZmluZChcIi50b29sXCIpLmFmdGVyKCQoJzxkaXYgY2xhc3M9XCJyZWNvcmRcIj4nICsgYiArICc8ZGl2IGNsYXNzPVwibmFtZVwiPicgKyBhLm9iai5uYW1lICsgJzwvZGl2PjxkaXYgY2xhc3M9XCJtZXNcIj4nICsgYS5vYmouY29udGVudCArICc8L2Rpdj48ZGl2IGNsYXNzPVwidGltZVwiPuWImuWImjwvZGl2PjwvZGl2PicpKSwgaC5maW5kKFwiLmxpc3RcIikucHJlcGVuZCgkKCc8ZGl2IGNsYXNzPVwicmVjb3JkIGNsZWFyZml4XCI+JyArIGIgKyAnPGRpdiBjbGFzcz1cIm5hbWVcIj4nICsgYS5vYmoubmFtZSArICc8L2Rpdj48ZGl2IGNsYXNzPVwibWVzXCI+JyArIGEub2JqLmNvbnRlbnQgKyAnPC9kaXY+PGRpdiBjbGFzcz1cInRpbWVcIj7liJrliJo8L2Rpdj48L2Rpdj4nKSlcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KSwgaC5maW5kKFwiLmJvYXJkcy1wYW5lbCAuY29udGVudC10ZXh0XCIpLm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdHZhciBiID0gYS50YXJnZXQudmFsdWUubGVuZ3RoICsgYS50YXJnZXQudmFsdWUuc3BsaXQoXCJcXG5cIikubGVuZ3RoIC0gMTtcblx0XHRcdFx0XHRoLmZpbmQoXCIuYm9hcmRzLXBhbmVsIC5jb250ZW50LXRpcFwiKS5odG1sKGIgKyBcIi8xNDBcIilcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHRcdGguZmluZChcIi5ib2FyZHMtcGFuZWxcIikub24oXCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmVcIiwgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRhLnN0b3BQcm9wYWdhdGlvbigpXG5cdFx0XHR9KSwgaC5maW5kKFwiLnotY3VycmVudFwiKS5oaWRlKCk7XG5cdFx0XHR2YXIgZCA9ICQoJzxkaXYgY2xhc3M9XCJtb3JlLW1lc1wiPuafpeeci+abtOWkmjwvZGl2PicpLFxuXHRcdFx0XHRnID0gaC5maW5kKFwiLmxpc3RcIik7XG5cdFx0XHRnLmVtcHR5KCk7XG5cdFx0XHR2YXIgbCA9IGcuZ2V0KDApO1xuXHRcdFx0Zy5hcHBlbmQoZCksIHAoaiwgZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHRlID0gYiwgbC5pbnNlcnRCZWZvcmUoYSwgZC5nZXQoMCkpLCBiIHx8IChkLmh0bWwoXCLmsqHmnInmm7TlpJpcIiksIGQudW5iaW5kKFwiY2xpY2tcIikpXG5cdFx0XHR9KSwgZC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRwKGosIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdFx0XHRlID0gYiwgZy5nZXQoMCkuaW5zZXJ0QmVmb3JlKGEsIGQuZ2V0KDApKSwgYiB8fCAoZC5odG1sKFwi5rKh5pyJ5pu05aSaXCIpLCBkLnVuYmluZChcImNsaWNrXCIpKVxuXHRcdFx0XHR9LCBlKVxuXHRcdFx0fSlcblx0XHR9XG5cdFx0aWYgKFwidmlld1wiID09PSB0Lm1vZGUgJiYgIXQuZGlzRXZlbnQpIHtcblx0XHRcdHZhciBlLCBmLCBnID0gJChiKSxcblx0XHRcdFx0aCA9IG1vYmlsZWNoZWNrKCkgPyAkKGRvY3VtZW50LmJvZHkpIDogJChcIi5uclwiKSxcblx0XHRcdFx0aSA9IG1vYmlsZWNoZWNrKCkgPyAnPGRpdiBjbGFzcz1cImJvYXJkcy1ib3R0b21cIj48L2Rpdj4nIDogXCJcIixcblx0XHRcdFx0aiA9IGMuc2NlbmVJZCxcblx0XHRcdFx0ayA9IGMuaWQ7XG5cdFx0XHRnLmZpbmQoXCIudG9vbCBhXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHQoIWEuaXNUcmlnZ2VyIHx8IGIpICYmICghYS5pc1RyaWdnZXIgfHwgXCJsb25nUGFnZVwiICE9PSBiIHx8IG1vYmlsZWNoZWNrKCkpICYmICgkLmlzRW1wdHlPYmplY3Qod2VDaGF0VXNlcikgJiYgaXNXZWl4aW4oKSA/IGQoKSA6IGQoKSlcblx0XHRcdH0pLCBoLm9uKFwiY2xpY2tcIiwgXCIuYm9hcmRzLXBhbmVsIC5lcWYtd3JvbmdcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGguZmluZChcIi5ib2FyZHMtcGFuZWwgLmxpc3RcIikuZW1wdHkoKSwgaC5maW5kKFwiLmJvYXJkcy1wYW5lbFwiKS5oaWRlKCksIGguZmluZChcIi56LWN1cnJlbnRcIikuc2hvdygpXG5cdFx0XHR9KVxuXHRcdH1cblx0fSk7XG5cdHZhciB3XG59KHdpbmRvdy5lcVNob3cpO1xudmFyIHRwbENvdW50ID0gMCxcblx0ZXF4Q29tbW9uID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGEgPSBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHZhciBiLCBjLCBkID0gYS50eXBlO1xuXHRcdFx0XHRyZXR1cm4gXCJ0eXBlclwiID09PSBkICYmIChiID0gXCJ0eXBlclwiKSwgMCA9PT0gZCAmJiAoYiA9IFwiZmFkZUluXCIpLCAxID09PSBkICYmIChjID0gYS5kaXJlY3Rpb24sIDAgPT09IGMgJiYgKGIgPSBcImZhZGVJbkxlZnRcIiksIDEgPT09IGMgJiYgKGIgPSBcImZhZGVJbkRvd25cIiksIDIgPT09IGMgJiYgKGIgPSBcImZhZGVJblJpZ2h0XCIpLCAzID09PSBjICYmIChiID0gXCJmYWRlSW5VcFwiKSksIDYgPT09IGQgJiYgKGIgPSBcIndvYmJsZVwiKSwgNSA9PT0gZCAmJiAoYiA9IFwicnViYmVyQmFuZFwiKSwgNyA9PT0gZCAmJiAoYiA9IFwicm90YXRlSW5cIiksIDggPT09IGQgJiYgKGIgPSBcImZsaXBcIiksIDkgPT09IGQgJiYgKGIgPSBcInN3aW5nXCIpLCAyID09PSBkICYmIChjID0gYS5kaXJlY3Rpb24sIDAgPT09IGMgJiYgKGIgPSBcImJvdW5jZUluTGVmdFwiKSwgMSA9PT0gYyAmJiAoYiA9IFwiYm91bmNlSW5Eb3duXCIpLCAyID09PSBjICYmIChiID0gXCJib3VuY2VJblJpZ2h0XCIpLCAzID09PSBjICYmIChiID0gXCJib3VuY2VJblVwXCIpKSwgMyA9PT0gZCAmJiAoYiA9IFwiYm91bmNlSW5cIiksIDQgPT09IGQgJiYgKGIgPSBcInpvb21JblwiKSwgMTAgPT09IGQgJiYgKGIgPSBcImZhZGVPdXRcIiksIDExID09PSBkICYmIChiID0gXCJmbGlwT3V0WVwiKSwgMTIgPT09IGQgJiYgKGIgPSBcInJvbGxJblwiKSwgMTMgPT09IGQgJiYgKGIgPSBcImxpZ2h0U3BlZWRJblwiKSwgMTQgPT09IGQgJiYgKGIgPSBcImJvdW5jZU91dFwiKSwgMTUgPT09IGQgJiYgKGIgPSBcInJvbGxPdXRcIiksIDE2ID09PSBkICYmIChiID0gXCJsaWdodFNwZWVkT3V0XCIpLCAxNyA9PT0gZCAmJiAoYyA9IGEuZGlyZWN0aW9uLCAwID09PSBjICYmIChiID0gXCJmYWRlT3V0UmlnaHRcIiksIDEgPT09IGMgJiYgKGIgPSBcImZhZGVPdXREb3duXCIpLCAyID09PSBjICYmIChiID0gXCJmYWRlT3V0TGVmdFwiKSwgMyA9PT0gYyAmJiAoYiA9IFwiZmFkZU91dFVwXCIpKSwgMTggPT09IGQgJiYgKGIgPSBcInpvb21PdXRcIiksIDE5ID09PSBkICYmIChjID0gYS5kaXJlY3Rpb24sIDAgPT09IGMgJiYgKGIgPSBcImJvdW5jZU91dFJpZ2h0XCIpLCAxID09PSBjICYmIChiID0gXCJib3VuY2VPdXREb3duXCIpLCAyID09PSBjICYmIChiID0gXCJib3VuY2VPdXRMZWZ0XCIpLCAzID09PSBjICYmIChiID0gXCJib3VuY2VPdXRVcFwiKSksIDIwID09PSBkICYmIChiID0gXCJmbGlwSW5ZXCIpLCAyMSA9PT0gZCAmJiAoYiA9IFwidGFkYVwiKSwgMjIgPT09IGQgJiYgKGIgPSBcImplbGxvXCIpLCAyMyA9PT0gZCAmJiAoYiA9IFwiZmxhc2hcIiksIDI2ID09PSBkICYmIChiID0gXCJ0d2lzdGVySW5Eb3duXCIpLCAyNyA9PT0gZCAmJiAoYiA9IFwicHVmZkluXCIpLCAyOCA9PT0gZCAmJiAoYiA9IFwicHVmZk91dFwiKSwgMjkgPT09IGQgJiYgKGIgPSBcInNsaWRlRG93blwiKSwgMzAgPT09IGQgJiYgKGIgPSBcInNsaWRlVXBcIiksIDI0ID09PSBkICYmIChiID0gXCJmbGlwSW5YXCIpLCAyNSA9PT0gZCAmJiAoYiA9IFwiZmxpcE91dFhcIiksIDMxID09PSBkICYmIChiID0gXCJ0d2lzdGVySW5VcFwiKSwgMzIgPT0gZCAmJiAoYiA9IFwidmFuaXNoT3V0XCIpLCAzMyA9PSBkICYmIChiID0gXCJ2YW5pc2hJblwiKSwgYlxuXHRcdFx0fSxcblx0XHRcdGIgPSBmdW5jdGlvbihhLCBiLCBjLCBkLCBlKSB7XG5cdFx0XHRcdGZ1bmN0aW9uIGYoYSwgZCwgZSwgZywgaCkge1xuXHRcdFx0XHRcdGlmIChlLmxlbmd0aCAmJiBpIDwgZS5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGlmIChcInR5cGVyXCIgPT0gZFtpXSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgaiA9IGEuZmluZChcIi5lbGVtZW50XCIpLFxuXHRcdFx0XHRcdFx0XHRcdGsgPSBlW2ldLmludGVydmFsLFxuXHRcdFx0XHRcdFx0XHRcdGwgPSBlW2ldLmRlbGF5O1xuXHRcdFx0XHRcdFx0XHRpZiAoZyAmJiBoLnRvcCA+IDQ4NiAmJiBcInZpZXdcIiA9PSBjKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG0gPSBmdW5jdGlvbihjLCBnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdE1hdGguYWJzKGcpID4gaC50b3AgJiYgKGouZGF0YShcInR5cGVkXCIpICYmIChjbGVhckludGVydmFsKGouZGF0YShcInR5cGVkXCIpLnRpbWVvdXQpLCBqLnJlbW92ZURhdGEoXCJ0eXBlZFwiKSksIGouZW1wdHkoKSwgai50eXBlZCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3RyaW5nczogW2IuY29udGVudF0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGVudFR5cGU6IFwiaHRtbFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNob3dDdXJzb3I6ICExLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVTcGVlZDogMWUzICogayB8fCAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0YXJ0RGVsYXk6IDFlMyAqIGwgfHwgMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGVhckludGVydmFsKGouZGF0YShcInR5cGVkXCIpLnRpbWVvdXQpLCBqLnJlbW92ZURhdGEoXCJ0eXBlZFwiKSwgaSsrLCBmKGEsIGQsIGUpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KSwgJChkb2N1bWVudCkudW5iaW5kKFwicGFnZVNjcm9sbFBvc1wiLCBtKSlcblx0XHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHZvaWQgJChkb2N1bWVudCkuYmluZChcInBhZ2VTY3JvbGxQb3NcIiwgbSlcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRqLmRhdGEoXCJ0eXBlZFwiKSAmJiAoY2xlYXJJbnRlcnZhbChqLmRhdGEoXCJ0eXBlZFwiKS50aW1lb3V0KSwgai5yZW1vdmVEYXRhKFwidHlwZWRcIikpLCBqLmVtcHR5KCksIGoudHlwZWQoe1xuXHRcdFx0XHRcdFx0XHRcdHN0cmluZ3M6IFtiLmNvbnRlbnRdLFxuXHRcdFx0XHRcdFx0XHRcdGNvbnRlbnRUeXBlOiBcImh0bWxcIixcblx0XHRcdFx0XHRcdFx0XHRzaG93Q3Vyc29yOiAhMSxcblx0XHRcdFx0XHRcdFx0XHR0eXBlU3BlZWQ6IDFlMyAqIGsgfHwgMCxcblx0XHRcdFx0XHRcdFx0XHRzdGFydERlbGF5OiAxZTMgKiBlW2ldLmRlbGF5IHx8IDAsXG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbChqLmRhdGEoXCJ0eXBlZFwiKS50aW1lb3V0KSwgai5yZW1vdmVEYXRhKFwidHlwZWRcIiksIGkrKywgZihhLCBkLCBlKVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGEuY3NzKFwiYW5pbWF0aW9uXCIsIFwiXCIpO1xuXHRcdFx0XHRcdFx0YS5nZXQoMCk7XG5cdFx0XHRcdFx0XHRpZiAoYS5jc3MoXCJhbmltYXRpb25cIiwgZFtpXSArIFwiIFwiICsgZVtpXS5kdXJhdGlvbiArIFwicyBlYXNlIFwiICsgZVtpXS5kZWxheSArIFwicyBcIiArIChlW2ldLmNvdW50TnVtID8gZVtpXS5jb3VudE51bSA6IFwiXCIpKSwgXCJ2aWV3XCIgPT0gYyA/IChlW2ldLmNvdW50ICYmIGkgPT0gZS5sZW5ndGggLSAxICYmIGEuY3NzKFwiYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudFwiLCBcImluZmluaXRlXCIpLCBhLmNzcyhcImFuaW1hdGlvbi1maWxsLW1vZGVcIiwgXCJib3RoXCIpKSA6IChhLmNzcyhcImFuaW1hdGlvbi1pdGVyYXRpb24tY291bnRcIiwgXCIxXCIpLCBhLmNzcyhcImFuaW1hdGlvbi1maWxsLW1vZGVcIiwgXCJiYWNrd2FyZHNcIikpLCBlW2ldLmxpbmVhciAmJiBhLmNzcyhcImFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb25cIiwgXCJsaW5lYXJcIiksIGcgJiYgaC50b3AgPiA0ODYgJiYgXCJ2aWV3XCIgPT0gYykge1xuXHRcdFx0XHRcdFx0XHRhLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0XHRcdFx0XHR2YXIgbiA9IGZ1bmN0aW9uKGIsIGMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdE1hdGguYWJzKGMpID4gaC50b3AgJiYgKGEuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpLCAkKGRvY3VtZW50KS51bmJpbmQoXCJwYWdlU2Nyb2xsUG9zXCIsIG4pKVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdCQoZG9jdW1lbnQpLmJpbmQoXCJwYWdlU2Nyb2xsUG9zXCIsIG4pXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRhLm9uZShcIndlYmtpdEFuaW1hdGlvbkVuZCBtb3pBbmltYXRpb25FbmQgTVNBbmltYXRpb25FbmQgb2FuaW1hdGlvbmVuZCBhbmltYXRpb25lbmRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGkrKywgZihhLCBkLCBlKVxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGIudHJpZ2dlciAmJiBiLnRyaWdnZXIucmVjZWl2ZXMgJiYgYi50cmlnZ2VyLnJlY2VpdmVzLmxlbmd0aCAmJiAhZSAmJiBcInZpZXdcIiA9PSBjKSBmb3IgKHZhciBnID0gYi50cmlnZ2VyLnJlY2VpdmVzLCBoID0gMDsgaCA8IGcubGVuZ3RoOyBoKyspIGlmICgxID09IGdbaF0udHlwZSAmJiBnW2hdLmlkcy5sZW5ndGgpIHJldHVybjtcblx0XHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0XHRpZiAoYi5wcm9wZXJ0aWVzICYmIGIucHJvcGVydGllcy5hbmltKSB7XG5cdFx0XHRcdFx0dmFyIGogPSBbXTtcblx0XHRcdFx0XHRiLnByb3BlcnRpZXMuYW5pbS5sZW5ndGggPyBqID0gYi5wcm9wZXJ0aWVzLmFuaW0gOiBqLnB1c2goYi5wcm9wZXJ0aWVzLmFuaW0pO1xuXHRcdFx0XHRcdHZhciBrID0gJChcIi5lbGVtZW50LWJveFwiLCBhKTtcblx0XHRcdFx0XHRrLmF0dHIoXCJlbGVtZW50LWFuaW1cIiwgXCJcIik7XG5cdFx0XHRcdFx0Zm9yICh2YXIgbCwgbSA9IFtdLCBuID0gW10sIGggPSAwLCBvID0gai5sZW5ndGg7IG8gPiBoOyBoKyspIG51bGwgIT0galtoXS50eXBlICYmIC0xICE9IGpbaF0udHlwZSAmJiAobCA9IGVxeENvbW1vbi5jb252ZXJ0VHlwZShqW2hdKSwgbS5wdXNoKGwpLCBuLnB1c2goaltoXSkpO1xuXHRcdFx0XHRcdGlmIChkICYmIGQuc2NhbGUpIHJldHVybjtcblx0XHRcdFx0XHRiLnByb3BlcnRpZXMuYW5pbS50cmlnZ2VyID8gYS5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGYoaywgbCwgYi5wcm9wZXJ0aWVzLmFuaW0pXG5cdFx0XHRcdFx0fSkgOiBkICYmIGQubG9uZ1BhZ2UgPyBmKGssIG0sIG4sICEwLCBiLmNzcykgOiBmKGssIG0sIG4pXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRjID0gZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHR2YXIgYywgZCA9ICQoYSk7XG5cdFx0XHRcdGlmIChiLnRyaWdnZXIgJiYgYi50cmlnZ2VyLnJlY2VpdmVzICYmIGIudHJpZ2dlci5yZWNlaXZlcy5sZW5ndGgpIHtcblx0XHRcdFx0XHQkLmVhY2goYi50cmlnZ2VyLnJlY2VpdmVzLCBmdW5jdGlvbihhLCBlKSB7XG5cdFx0XHRcdFx0XHRpZiAoZS5pZHMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBmID0gdXRpbFRyaWdnZXIuZ2V0SGFuZGxlVHlwZShlLnR5cGUpLm5hbWU7XG5cdFx0XHRcdFx0XHRcdChcInNob3dcIiA9PSBmIHx8IFwicmFuZG9tRXZlbnRcIiA9PSBmKSAmJiBkLmhpZGUoKSwgXCJoaWRlXCIgPT0gZiAmJiBkLnNob3coKSwgZC5iaW5kKGYsIGZ1bmN0aW9uKGEsIGUpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoXCJzaG93XCIgPT0gZikgJCh0aGlzKS5zaG93KCksIGMgfHwgKGMgPSAhMCwgZXF4Q29tbW9uLmFuaW1hdGlvbihkLCBiLCBcInZpZXdcIiwgbnVsbCwgITApKTtcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIChcImhpZGVcIiA9PSBmKSAkKHRoaXMpLmhpZGUoKSwgYyA9ICExO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2UgaWYgKFwicmFuZG9tRXZlbnRcIiA9PSBmKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlcVNob3cucGxheVRyaWdnZXJTb3VuZCgpLCAkKHRoaXMpLnNob3coKTtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBnID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYi5wcm9wZXJ0aWVzLnBpY3MubGVuZ3RoKTtcblx0XHRcdFx0XHRcdFx0XHRcdCQodGhpcykuZmluZChcImltZ1wiKS5jc3Moe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkaXNwbGF5OiBcIm5vbmVcIlxuXHRcdFx0XHRcdFx0XHRcdFx0fSksICQodGhpcykuZmluZChcImltZ1wiKS5lcShnKS5jc3Moe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkaXNwbGF5OiBcImJsb2NrXCJcblx0XHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBhLCBiLCBjID0gd2luZG93Lm5hdmlnYXRvcixcblx0XHRcdFx0XHRkID0gW1wibGFuZ3VhZ2VcIiwgXCJicm93c2VyTGFuZ3VhZ2VcIiwgXCJzeXN0ZW1MYW5ndWFnZVwiLCBcInVzZXJMYW5ndWFnZVwiXTtcblx0XHRcdFx0aWYgKCQuaXNBcnJheShjLmxhbmd1YWdlcykpIGZvciAoYSA9IDA7IGEgPCBjLmxhbmd1YWdlcy5sZW5ndGg7IGErKykgaWYgKGIgPSBjLmxhbmd1YWdlc1thXSwgYiAmJiBiLmxlbmd0aCkgcmV0dXJuIGI7XG5cdFx0XHRcdGZvciAoYSA9IDA7IGEgPCBkLmxlbmd0aDsgYSsrKSBpZiAoYiA9IGNbZFthXV0sIGIgJiYgYi5sZW5ndGgpIHJldHVybiBiO1xuXHRcdFx0XHRyZXR1cm4gbnVsbFxuXHRcdFx0fTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Y29udmVydFR5cGU6IGEsXG5cdFx0XHRhbmltYXRpb246IGIsXG5cdFx0XHRiaW5kVHJpZ2dlcjogYyxcblx0XHRcdGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlOiBkXG5cdFx0fVxuXHR9KCk7XG5lcVNob3cuY2xlYXJUeXBlclRleHQgPSBmdW5jdGlvbihhKSB7XG5cdGlmIChhICYmIGEuZWxlbWVudHMpIHtcblx0XHR2YXIgYiA9IGEuZWxlbWVudHM7XG5cdFx0JC5lYWNoKGIsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdGlmIChiLnByb3BlcnRpZXMgJiYgYi5wcm9wZXJ0aWVzLmFuaW0pIHtcblx0XHRcdFx0dmFyIGMgPSBiLnByb3BlcnRpZXMuYW5pbTtcblx0XHRcdFx0JC5lYWNoKGMsIGZ1bmN0aW9uKGEsIGMpIHtcblx0XHRcdFx0XHQwID09IGEgJiYgXCJ0eXBlclwiID09IGMudHlwZSAmJiAkKFwiI2luc2lkZV9cIiArIGIuaWQpLmZpbmQoXCIuZWxlbWVudFwiKS5lbXB0eSgpXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fSlcblx0fVxufSwgZXFTaG93LmlzTW9iaWxlQXBwID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiAhIXdpbmRvdy52aWV3RGF0YVxufSwgZXFTaG93LnNldFBhZ2VIaXMgPSBmdW5jdGlvbihhKSB7XG5cdGlmIChtb2JpbGVjaGVjaygpKSB7XG5cdFx0dmFyIGIgPSBlcVNob3cuZ2V0UXVlcnlTdHJpbmcoXCJ0b1BhZ2VcIiksXG5cdFx0XHRjID0gbG9jYXRpb24uaHJlZjtcblx0XHRiID8gYiAhPT0gXCJcIiArIGEgJiYgKGMgPSBjLnJlcGxhY2UoYiwgYSkpIDogYyArPSAoL1xcPy8udGVzdChjKSA/IFwiJlwiIDogXCI/XCIpICsgXCJ0b1BhZ2U9XCIgKyBhLCB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe1xuXHRcdFx0dGl0bGU6ICQoXCJ0aXRsZVwiKS5odG1sKCksXG5cdFx0XHR1cmw6IGNcblx0XHR9LCAkKFwidGl0bGVcIikuaHRtbCgpLCBjKVxuXHR9XG59LCBlcVNob3cuZ2V0U2hvd0NvdW50ID0gZnVuY3Rpb24oYSkge1xuXHRyZXR1cm4gdGhpcy5zaG93Q291bnQgPSAkLmFqYXgoe1xuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0dXJsOiBQUkVGSVhfUzFfVVJMICsgXCJpbmRleC5waHA/Yz1zY2VuZSZhPXB2JnNjZW5lSWQ9XCIgKyBhLFxuXHRcdHhockZpZWxkczoge1xuXHRcdFx0d2l0aENyZWRlbnRpYWxzOiAhMFxuXHRcdH0sXG5cdFx0ZXJyb3I6IGZ1bmN0aW9uKCkge1xuXHRcdFx0YWxlcnQoXCJDb25uZWN0aW9uIGVycm9yXCIpXG5cdFx0fSxcblx0XHRjcm9zc0RvbWFpbjogITBcblx0fSksIHRoaXMuc2hvd0NvdW50XG59LCBlcVNob3cuZ2V0UXVlcnlTdHJpbmcgPSBmdW5jdGlvbihhKSB7XG5cdHZhciBiID0gbmV3IFJlZ0V4cChcIihefCYpXCIgKyBhICsgXCI9KFteJl0qKSgmfCQpXCIsIFwiaVwiKSxcblx0XHRjID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkubWF0Y2goYik7XG5cdHJldHVybiBjID8gdW5lc2NhcGUoY1syXSkgOiBudWxsXG59LCBlcVNob3cuZGVsUXVlU3RyID0gZnVuY3Rpb24oYSwgYikge1xuXHR2YXIgYyA9IFwiXCI7XG5cdGlmICgtMSA9PT0gYS5pbmRleE9mKFwiP1wiKSkgcmV0dXJuIGE7XG5cdGMgPSBhLnN1YnN0cihhLmluZGV4T2YoXCI/XCIpICsgMSk7XG5cdHZhciBkID0gW10sXG5cdFx0ZSA9IFwiXCI7XG5cdGlmICgtMSAhPT0gYy5pbmRleE9mKFwiJlwiKSkge1xuXHRcdGQgPSBjLnNwbGl0KFwiJlwiKTtcblx0XHRmb3IgKGkgaW4gZCkgZFtpXS5zcGxpdChcIj1cIilbMF0gIT0gYiAmJiAoZSA9IGUgKyBkW2ldLnNwbGl0KFwiPVwiKVswXSArIFwiPVwiICsgZFtpXS5zcGxpdChcIj1cIilbMV0gKyBcIiZcIik7XG5cdFx0cmV0dXJuIGEuc3Vic3RyKDAsIGEuaW5kZXhPZihcIj9cIikpICsgXCI/XCIgKyBlLnN1YnN0cigwLCBlLmxlbmd0aCAtIDEpXG5cdH1cblx0cmV0dXJuIGQgPSBjLnNwbGl0KFwiPVwiKSwgZFswXSA9PSBiID8gYS5zdWJzdHIoMCwgYS5pbmRleE9mKFwiP1wiKSkgOiBhXG59LCBlcVNob3cuZ2V0RG9tYWluID0gZnVuY3Rpb24oYSkge1xuXHR2YXIgYiA9IFwibnVsbFwiO1xuXHQoXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgYSB8fCBudWxsID09IGEpICYmIChhID0gd2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXHR2YXIgYyA9IC8uKlxcOlxcL1xcLyhbXlxcL10qKS4qLyxcblx0XHRkID0gYS5tYXRjaChjKTtcblx0cmV0dXJuIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGQgJiYgbnVsbCAhPSBkICYmIChiID0gZFsxXSksIGJcbn0sIGVxU2hvdy5EYXRlRm9ybWl0ID0gZnVuY3Rpb24oYSwgYikge1xuXHR2YXIgYywgZCA9IG5ldyBEYXRlKGEpO1xuXHRzd2l0Y2ggKGIpIHtcblx0Y2FzZSBcIk1N5pyIRETml6VcIjpcblx0XHRjID0gZC5nZXRNb250aCgpICsgMSArIFwi5pyIXCIgKyBkLmdldERhdGUoKSArIFwi5pelIFwiICsgZC5nZXRIb3VycygpICsgXCI6XCIgKyBkLmdldE1pbnV0ZXMoKTtcblx0XHRicmVhaztcblx0Y2FzZSBcIlRcIjpcblx0XHRjID0gXCLliJrliJpcIlxuXHR9XG5cdHJldHVybiBjXG59LCBlcVNob3cuZml4ZWROdW0gPSBmdW5jdGlvbihhKSB7XG5cdHZhciBiO1xuXHRyZXR1cm4gMWU0ID4gYSA/IGIgPSBhIDogYSA+PSAxZTQgJiYgMWU4ID4gYSA/IGIgPSAoYSAvIDFlNCkudG9GaXhlZCgyKSArIFwi5LiHXCIgOiBhID49IDFlOCAmJiAoYiA9IChhIC8gMWU4KS50b0ZpeGVkKDIpICsgXCLkur9cIiksIGJcbn0sIGVxU2hvdy5zaG93UHJvZ3Jlc3NCYXIgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG5cdGlmIChhLm9iai5wcm9wZXJ0eS5zbGlkZU51bWJlcikge1xuXHRcdHZhciBkID0gJCgnPGRpdiBjbGFzcz1cInByb2dyZXNzXCI+PC9kaXY+JyksXG5cdFx0XHRlID0gJChcIjxzcGFuPjwvc3Bhbj5cIiksXG5cdFx0XHRmID0gJCgnPGVtIGNsYXNzPVwicGFnZS10aXBcIj48L2VtPicpO1xuXHRcdGQuYXBwZW5kKGUpLmFwcGVuZChmKSwgYyAmJiBhLm9iai5wcm9wZXJ0eS5zbGlkZURpc3BsYXkgPyBjLmFwcGVuZChkLmNzcyhcImRpc3BsYXlcIiwgYS5vYmoucHJvcGVydHkuc2xpZGVEaXNwbGF5KSkgOiAkKFwiI25yXCIpLmFwcGVuZChkLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKSlcblx0fVxuXHR2YXIgZyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0YS5vYmoucHJvcGVydHkuc2xpZGVOdW1iZXIgJiYgZSAmJiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgYSA9ICQoXCIuei1hY3RpdmVcIikuZ2V0KDApID8gJChcIi56LWFjdGl2ZVwiKS5nZXQoMCkgOiAkKFwiLnotY3VycmVudFwiKS5nZXQoMCk7XG5cdFx0XHRcdGlmIChhKSB7XG5cdFx0XHRcdFx0dmFyIGMgPSAkKGEpLmZpbmQoXCIubS1pbWdcIikuYXR0cihcImlkXCIpLnN1YnN0cmluZyg0KSxcblx0XHRcdFx0XHRcdGcgPSBiLmxlbmd0aCxcblx0XHRcdFx0XHRcdGggPSBjIC8gZyxcblx0XHRcdFx0XHRcdGkgPSAxMDA7XG5cdFx0XHRcdFx0Zi50ZXh0KGMgKyBcIi9cIiArIGcpLCBlLmNzcyhcIndpZHRoXCIsIHBhcnNlRmxvYXQoZC53aWR0aCgpKSAqIGgpLCAkKGEpLmZpbmQoXCIubG9ja1wiKS5sZW5ndGggJiYgKGkgPSAwKSwgZC5jc3MoXCJ6LWluZGV4XCIsIGkpXG5cdFx0XHRcdH1cblx0XHRcdH0sIDEwMClcblx0XHR9O1xuXHRnKCksIGIuZXEoMCkuZmluZChcIi51LWFycm93LWJvdHRvbVwiKS5jc3MoXCJib3R0b21cIiwgXCIzMHB4XCIpLCBlcVNob3cucHJvZ3Jlc3NJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuXHRcdGcoKVxuXHR9LCAzMDApXG59LCBlcVNob3cuc2VsZWN0RWxlbWVudCA9IGZ1bmN0aW9uKGEpIHtcblx0dmFyIGI7XG5cdHJldHVybiBiID0gJChcIiNpbnNpZGVfXCIgKyBhLCBcIi5waG9uZS12aWV3XCIpLmxlbmd0aCA/ICQoXCIjaW5zaWRlX1wiICsgYSwgXCIucGhvbmUtdmlld1wiKSA6ICQoXCIjaW5zaWRlX1wiICsgYSlcbn0sIGVxU2hvdy5zdWJzdHRyQ2hhcmFjdGVycyA9IGZ1bmN0aW9uKGEsIGIpIHtcblx0aWYgKGEgJiYgKGEgPSBhLnJlcGxhY2UoL1xcbnxcXHIvZywgXCIgXCIpKSwgYSAmJiBhLmxlbmd0aCA+IGIgLyAyKSB7XG5cdFx0dmFyIGMgPSBhLnJlcGxhY2UoL1teXFx4MDAtXFx4ZmZdL2csIFwieHhcIik7XG5cdFx0aWYgKGMubGVuZ3RoID4gYikge1xuXHRcdFx0dmFyIGQgPSBjLnN1YnN0cmluZygwLCBiKS5yZXBsYWNlKC94eC9nLCBcIuS4rVwiKS5sZW5ndGg7XG5cdFx0XHRhID0gYS5zdWJzdHJpbmcoMCwgZClcblx0XHR9XG5cdH1cblx0cmV0dXJuIGFcbn0sIGVxU2hvdy5nZXRDaGFyYWN0ZXJzTGVuID0gZnVuY3Rpb24oYSkge1xuXHR2YXIgYiA9IGEucmVwbGFjZSgvW15cXHgwMC1cXHhmZl0vZywgXCJ4eFwiKTtcblx0cmV0dXJuIGIubGVuZ3RoXG59LCBlcVNob3cuZ2V0UkdCID0gZnVuY3Rpb24oYSkge1xuXHRpZiAoYSA9IGEudG9Mb3dlckNhc2UoKSwgYS5pbmRleE9mKFwicmdiYVwiKSA+PSAwKSB7XG5cdFx0dmFyIGIgPSBhLnNwbGl0KFwiLFwiKTtcblx0XHRiWzBdID0gYlswXS5yZXBsYWNlKFwicmdiYVwiLCBcInJnYlwiKSwgYi5wb3AoKSwgYltiLmxlbmd0aCAtIDFdICs9IFwiKVwiLCBhID0gYi5qb2luKFwiLFwiKVxuXHR9XG5cdHJldHVybiBhXG59LCBlcVNob3cuY29udmVydFRvSGV4Q29sb3IgPSBmdW5jdGlvbihhKSB7XG5cdGlmIChhID0gYS50b0xvd2VyQ2FzZSgpLCBhLmluZGV4T2YoXCJyZ2JcIikgPj0gMCkge1xuXHRcdHZhciBiID0gYS5zcGxpdChcIixcIiksXG5cdFx0XHRjID0gYlswXS5zdWJzdHJpbmcoYlswXS5pbmRleE9mKFwiKFwiKSArIDEpO1xuXHRcdGMgPSBwYXJzZUludChjLCAxMCkudG9TdHJpbmcoMTYpLCBjID0gYy5sZW5ndGggPCAyID8gXCIwXCIgKyBjIDogYztcblx0XHR2YXIgZCA9IHBhcnNlSW50KGJbMV0sIDEwKS50b1N0cmluZygxNik7XG5cdFx0ZCA9IGQubGVuZ3RoIDwgMiA/IFwiMFwiICsgZCA6IGQ7XG5cdFx0dmFyIGUgPSBiWzJdLnN1YnN0cmluZygwLCBiWzJdLmluZGV4T2YoXCIpXCIpKTtcblx0XHRlID0gcGFyc2VJbnQoZSwgMTApLnRvU3RyaW5nKDE2KSwgZSA9IGUubGVuZ3RoIDwgMiA/IFwiMFwiICsgZSA6IGUsIGEgPSBcIiNcIiArIGMgKyBkICsgZVxuXHR9XG5cdHJldHVybiBhXG59LCBlcVNob3cucmVzcG9uc2l2ZUltYWdlID0gZnVuY3Rpb24oYSwgYiwgYywgZCwgZSkge1xuXHR2YXIgZiA9IG5ldyBJbWFnZTtcblx0Zi5zcmMgPSBhLCBmLm9ubG9hZCA9IGZ1bmN0aW9uKGYpIHtcblx0XHR2YXIgZywgaCwgaSA9IHRoaXM7XG5cdFx0JC5lYWNoKGIsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdGIuZWxlbWVudHMgJiYgYi5lbGVtZW50cy5sZW5ndGggJiYgJC5lYWNoKGIuZWxlbWVudHMsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdFx0aWYgKGIuaWQgPT0gYykge1xuXHRcdFx0XHRcdHZhciBkID0gcGFyc2VJbnQoYi5jc3Mud2lkdGgpLFxuXHRcdFx0XHRcdFx0ZSA9IHBhcnNlSW50KGIuY3NzLmhlaWdodCk7XG5cdFx0XHRcdFx0aS53aWR0aCAvIGkuaGVpZ2h0ID49IGQgLyBlID8gKGcgPSBkLCBoID0gaS5oZWlnaHQgKiAoZCAvIGkud2lkdGgpKSA6IChoID0gZSwgZyA9IGkud2lkdGggKiAoZSAvIGkuaGVpZ2h0KSlcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9KSwgZS5jc3Moe1xuXHRcdFx0ZGlzcGxheTogXCJibG9ja1wiLFxuXHRcdFx0d2lkdGg6IGcgKyBcInB4XCIsXG5cdFx0XHRoZWlnaHQ6IGggKyBcInB4XCIsXG5cdFx0XHRcIm1hcmdpbi10b3BcIjogKHBhcnNlSW50KGQuaGVpZ2h0KCkpIC0gaCkgLyAyICsgXCJweFwiLFxuXHRcdFx0XCJtYXJnaW4tbGVmdFwiOiAocGFyc2VJbnQoZC53aWR0aCgpKSAtIGcpIC8gMiArIFwicHhcIlxuXHRcdH0pLmF0dHIoXCJzcmNcIiwgYSlcblx0fVxufSwgZXFTaG93LmdldENvb2tpZUlkID0gZnVuY3Rpb24oKSB7XG5cdHZhciBhID0gXCJcIixcblx0XHRiID0gXCJDX0lEPVwiLFxuXHRcdGMgPSBkb2N1bWVudC5jb29raWUsXG5cdFx0ZCA9IGMuaW5kZXhPZihiKTtcblx0aWYgKC0xICE9IGQpIHtcblx0XHRkICs9IGIubGVuZ3RoO1xuXHRcdHZhciBlID0gYy5pbmRleE9mKFwiO1wiLCBkKTsgLSAxID09IGUgJiYgKGUgPSBjLmxlbmd0aCksIGEgPSBjLnN1YnN0cmluZyhkLCBlKVxuXHR9XG5cdHJldHVybiBhXG59LCBlcVNob3cuZGVsYXlMb2FkSlNBbmRDU1MgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG5cdHZhciBkLCBlO1xuXHRpZiAoYiB8fCAoYiA9IGEuc3Vic3RyKGEubGFzdEluZGV4T2YoXCIuXCIpICsgMSkpLCBcImpzXCIgPT0gYikge1xuXHRcdHZhciBmID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0Zm9yIChlID0gMDsgZSA8IGYubGVuZ3RoOyBlKyspIGlmIChmW2VdLnNyYyAmJiAtMSAhPSBmW2VdLnNyYy5pbmRleE9mKGEpIHx8IGZbZV0udGl0bGUgPT0gYykgcmV0dXJuIGZbZV07XG5cdFx0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksIGQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCIsIGQuc3JjID0gYSwgYyAmJiAoZC50aXRsZSA9IGMpXG5cdH0gZWxzZSB7XG5cdFx0aWYgKFwiY3NzXCIgIT0gYikgcmV0dXJuO1xuXHRcdHZhciBnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaW5rXCIpO1xuXHRcdGZvciAoZSA9IDA7IGUgPCBnLmxlbmd0aDsgZSsrKSBpZiAoZ1tlXS5ocmVmICYmIC0xICE9IGdbZV0uaHJlZi5pbmRleE9mKGEpIHx8IGdbZV0udGl0bGUgPT0gYykgcmV0dXJuIGdbZV07XG5cdFx0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpLCBkLnJlbCA9IFwic3R5bGVzaGVldFwiLCBkLnR5cGUgPSBcInRleHQvY3NzXCIsIGQuaHJlZiA9IGEsIGMgJiYgKGQudGl0bGUgPSBjKSwgZC5kaXNhYmxlZCA9ICExXG5cdH1cblx0dmFyIGggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XG5cdHJldHVybiBoLmFwcGVuZENoaWxkKGQpLCBkXG59LCBlcVNob3cuY29weVRvQ2xpcGJvYXJkID0gZnVuY3Rpb24oYSkge1xuXHR2YXIgYiwgYywgZCA9IFwiX2hpZGRlbkNvcHlUZXh0X1wiLFxuXHRcdGUgPSBcIklOUFVUXCIgPT09IGEudGFnTmFtZSB8fCBcIlRFWFRBUkVBXCIgPT09IGEudGFnTmFtZTtcblx0aWYgKGUpIGYgPSBhLCBiID0gYS5zZWxlY3Rpb25TdGFydCwgYyA9IGEuc2VsZWN0aW9uRW5kO1xuXHRlbHNlIHtcblx0XHRpZiAoZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGQpLCAhZikge1xuXHRcdFx0dmFyIGYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG5cdFx0XHRmLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiLCBmLnN0eWxlLmxlZnQgPSBcIi05OTk5cHhcIiwgZi5zdHlsZS50b3AgPSBcIjBcIiwgZi5pZCA9IGQsIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZilcblx0XHR9XG5cdFx0Zi50ZXh0Q29udGVudCA9IGEudGV4dENvbnRlbnRcblx0fVxuXHR2YXIgZyA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdGYuZm9jdXMoKSwgZi5zZXRTZWxlY3Rpb25SYW5nZSgwLCBmLnZhbHVlLmxlbmd0aCk7XG5cdHZhciBoO1xuXHR0cnkge1xuXHRcdGggPSBkb2N1bWVudC5leGVjQ29tbWFuZChcImNvcHlcIilcblx0fSBjYXRjaCAoaSkge1xuXHRcdGggPSAhMVxuXHR9XG5cdHJldHVybiBnICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZy5mb2N1cyAmJiBnLmZvY3VzKCksIGUgPyBhLnNldFNlbGVjdGlvblJhbmdlKGIsIGMpIDogZi50ZXh0Q29udGVudCA9IFwiXCIsIGhcbn0sIGVxU2hvdy5nZXRVcmxQYXJhbWV0ZXIgPSBmdW5jdGlvbihhKSB7XG5cdHZhciBiLCBjLCBkID0gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpKSxcblx0XHRlID0gZC5zcGxpdChcIiZcIik7XG5cdGZvciAoYyA9IDA7IGMgPCBlLmxlbmd0aDsgYysrKSBpZiAoYiA9IGVbY10uc3BsaXQoXCI9XCIpLCBiWzBdID09PSBhKSByZXR1cm4gdm9pZCAwID09PSBiWzFdID8gITAgOiBiWzFdXG59O1xudmFyIGxpc3RQYWdlcyA9IFtdO1xuIVxuZnVuY3Rpb24oYSkge1xuXHRmdW5jdGlvbiBiKGIpIHtcblx0XHRyZXR1cm4gYi5jbGFzc0xpc3QgPyBiLmNsYXNzTGlzdCA6IGEoYikuYXR0cihcImNsYXNzXCIpLm1hdGNoKC9cXFMrL2dpKVxuXHR9XG5cdGEuZm4uU2hhcmVMaW5rID0gZnVuY3Rpb24oYykge1xuXHRcdGZ1bmN0aW9uIGQoYSkge1xuXHRcdFx0dmFyIGIgPSBnW2FdO1xuXHRcdFx0cmV0dXJuIGIgPSBiLnJlcGxhY2UoXCJ7dXJsfVwiLCBlbmNvZGVVUklDb21wb25lbnQoYy51cmwpKSwgYiA9IGIucmVwbGFjZShcInt0aXRsZX1cIiwgZW5jb2RlVVJJQ29tcG9uZW50KGMudGl0bGUpKSwgYiA9IGIucmVwbGFjZShcInt0ZXh0fVwiLCBlbmNvZGVVUklDb21wb25lbnQoYy50ZXh0KSksIGIgPSBiLnJlcGxhY2UoXCJ7aW1hZ2V9XCIsIGVuY29kZVVSSUNvbXBvbmVudChjLmltYWdlKSlcblx0XHR9XG5cdFx0dmFyIGUgPSB7XG5cdFx0XHR0aXRsZTogXCJcIixcblx0XHRcdHRleHQ6IFwiXCIsXG5cdFx0XHRpbWFnZTogXCJcIixcblx0XHRcdHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG5cdFx0XHRjbGFzc19wcmVmaXg6IFwic19cIlxuXHRcdH0sXG5cdFx0XHRjID0gYS5leHRlbmQoe30sIGUsIGMpLFxuXHRcdFx0ZiA9IGMuY2xhc3NfcHJlZml4Lmxlbmd0aCxcblx0XHRcdGcgPSB7XG5cdFx0XHRcdHR3aXR0ZXI6IFwiaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/dXJsPXt1cmx9JnRleHQ9e3RleHR9XCIsXG5cdFx0XHRcdHBpbnRlcmVzdDogXCJodHRwczovL3d3dy5waW50ZXJlc3QuY29tL3Bpbi9jcmVhdGUvYnV0dG9uLz9tZWRpYT17aW1hZ2V9JnVybD17dXJsfSZkZXNjcmlwdGlvbj17dGV4dH1cIixcblx0XHRcdFx0ZmFjZWJvb2s6IFwiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci5waHA/dT17dXJsfVwiLFxuXHRcdFx0XHR2azogXCJodHRwczovL3Zrb250YWt0ZS5ydS9zaGFyZS5waHA/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX0mZGVzY3JpcHRpb249e3RleHR9JmltYWdlPXtpbWFnZX0mbm9wYXJzZT10cnVlXCIsXG5cdFx0XHRcdGxpbmtlZGluOiBcImh0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS9zaGFyZUFydGljbGU/bWluaT10cnVlJnVybD17dXJsfSZ0aXRsZT17dGl0bGV9JnN1bW1hcnk9e3RleHR9JnNvdXJjZT17dXJsfVwiLFxuXHRcdFx0XHRteXdvcmxkOiBcImh0dHBzOi8vY29ubmVjdC5tYWlsLnJ1L3NoYXJlP3VybD17dXJsfSZ0aXRsZT17dGl0bGV9JmRlc2NyaXB0aW9uPXt0ZXh0fSZpbWFnZXVybD17aW1hZ2V9XCIsXG5cdFx0XHRcdG9kbm9rbGFzc25pa2k6IFwiaHR0cDovL29kbm9rbGFzc25pa2kucnUvZGs/c3QuY21kPWFkZFNoYXJlJnN0LnM9MSZzdC5fc3VybD17dXJsfSZzdC5jb21tZW50cz17dGV4dH1cIixcblx0XHRcdFx0dHVtYmxyOiBcImh0dHBzOi8vdHVtYmxyLmNvbS9zaGFyZT9zPSZ2PTMmdD17dGl0bGV9JnU9e3VybH1cIixcblx0XHRcdFx0YmxvZ2dlcjogXCJodHRwczovL2Jsb2dnZXIuY29tL2Jsb2ctdGhpcy5nP3Q9e3RleHR9Jm49e3RpdGxlfSZ1PXt1cmx9XCIsXG5cdFx0XHRcdGRlbGljaW91czogXCJodHRwczovL2RlbGljaW91cy5jb20vc2F2ZT91cmw9e3VybH0mdGl0bGU9e3RpdGxlfVwiLFxuXHRcdFx0XHRwbHVzOiBcImh0dHBzOi8vcGx1cy5nb29nbGUuY29tL3NoYXJlP3VybD17dXJsfVwiLFxuXHRcdFx0XHRkaWdnOiBcImh0dHBzOi8vZGlnZy5jb20vc3VibWl0P3VybD17dXJsfSZ0aXRsZT17dGl0bGV9XCIsXG5cdFx0XHRcdHJlZGRpdDogXCJodHRwOi8vcmVkZGl0LmNvbS9zdWJtaXQ/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0c3R1bWJsZXVwb246IFwiaHR0cHM6Ly93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9e3VybH0mdGl0bGU9e3RpdGxlfVwiLFxuXHRcdFx0XHRwb2NrZXQ6IFwiaHR0cHM6Ly9nZXRwb2NrZXQuY29tL2VkaXQ/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0Y2hpcTogXCJodHRwOi8vd3d3LmNoaXEuY29tL2NyZWF0ZS9ib29rbWFya2xldD91PXt1cmx9Jmk9e2ltYWdlfSZkPXt0aXRsZX0mYz17dXJsfVwiLFxuXHRcdFx0XHRxcmlmaWVyOiBcImh0dHA6Ly9xcmlmaWVyLmNvbS9xP2luYz1xciZ0eXBlPXVybCZzaXplPTM1MCZzdHJpbmc9e3VybH1cIixcblx0XHRcdFx0cXJzcmM6IFwiaHR0cDovL3d3dy5xcnNyYy5jb20vZGVmYXVsdC5hc3B4P3NoYXJldXJsPXt1cmx9XCIsXG5cdFx0XHRcdHF6b25lOiBcImh0dHA6Ly9zbnMucXpvbmUucXEuY29tL2NnaS1iaW4vcXpzaGFyZS9jZ2lfcXpzaGFyZV9vbmVrZXk/dXJsPXt1cmx9XCIsXG5cdFx0XHRcdHR1bGlucTogXCJodHRwOi8vd3d3LnR1bGlucS5jb20vZW52aWFyP3VybD17dXJsfSZ0aXRsZT17dGl0bGV9XCIsXG5cdFx0XHRcdG1pc3Rlcndvbmc6IFwiaHR0cDovL3d3dy5taXN0ZXItd29uZy5jb20vaW5kZXgucGhwP2FjdGlvbj1hZGR1cmwmYm1fdXJsPXt1cmx9JmJtX2Rlc2NyaXB0aW9uPXt0aXRsZX0mYm1fbm90aWNlPVwiLFxuXHRcdFx0XHRzdG9femFrbGFkb2s6IFwiaHR0cDovL3d3dy4xMDB6YWtsYWRvay5ydS9zYXZlLz9ibXVybD17dXJsfSZibXRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0dHdvX2xpbmttZTogXCJodHRwOi8vd3d3LjJsaW5rbWUuY29tLz9jb2xsZWdhbWVudG89e3VybH0maWQ9MmxiYXJcIixcblx0XHRcdFx0YWRpZm5pOiBcImh0dHA6Ly93d3cuYWRpZm5pLmNvbS9hY2NvdW50L2Jvb2ttYXJrLz9ib29rbWFya191cmw9e3VybH1cIixcblx0XHRcdFx0YW1hem9ud2lzaGxpc3Q6IFwiaHR0cDovL3d3dy5hbWF6b24uY29tL2dwL3dpc2hsaXN0L3N0YXRpYy1hZGQ/dT17dXJsfSZ0PXt0aXRsZX1cIixcblx0XHRcdFx0YW1lbm1lOiBcImh0dHA6Ly93d3cuYW1lbm1lLmNvbS9BbWVuTWUvQW1lbnMvQW1lblRvVGhpcy5hc3B4P3VybD17dXJsfSZ0aXRsZT17dGl0bGV9XCIsXG5cdFx0XHRcdGFpbTogXCJodHRwOi8vbGlmZXN0cmVhbS5hb2wuY29tL3NoYXJlLz91cmw9e3VybH0mdGl0bGU9e3RpdGxlfSZkZXNjcmlwdGlvbj17dGV4dH0gXCIsXG5cdFx0XHRcdGFvbG1haWw6IFwiaHR0cDovL3dlYm1haWwuYW9sLmNvbS8yNTA0NS9hb2wvZW4tdXMvTWFpbC9jb21wb3NlLW1lc3NhZ2UuYXNweD90bz0mc3ViamVjdD17dGl0bGV9JmJvZHk9e3tjb250ZW50fX1cIixcblx0XHRcdFx0YXJ0bzogXCJodHRwOi8vd3d3LmFydG8uY29tL3NlY3Rpb24vbGlua3NoYXJlLz9sdT17dXJsfSZsbj17dGl0bGV9XCIsXG5cdFx0XHRcdGJhaWR1OiBcImh0dHA6Ly9jYW5nLmJhaWR1LmNvbS9kby9hZGQ/aXQ9e3RpdGxlfSZpdT17dXJsfSZmcj1pZW4mZGM9e3RleHR9XCIsXG5cdFx0XHRcdGJpdGx5OiBcImh0dHBzOi8vYml0bHkuY29tL2EvYml0bWFya2xldD91PXt1cmx9XCIsXG5cdFx0XHRcdGJpenN1Z2FyOiBcImh0dHA6Ly93d3cuYml6c3VnYXIuY29tL2JpenN1Z2FydGhpcy5waHA/dXJsPXt1cmx9XCIsXG5cdFx0XHRcdGJsaW5rbGlzdDogXCJodHRwOi8vd3d3LmJsaW5rbGlzdC5jb20vYmxpbms/dT17dXJsfSZ0PXt0aXRsZX0mZD17dGV4dH1cIixcblx0XHRcdFx0YmxpcDogXCJodHRwOi8vYmxpcC5wbC9kYXNoYm9hcmQ/Ym9keT17dGl0bGV9JTNBJTIwe3VybH1cIixcblx0XHRcdFx0YmxvZ21hcmtzOiBcImh0dHA6Ly9ibG9nbWFya3MubmV0L215L25ldy5waHA/bWluaT0xJnNpbXBsZT0xJnVybD17dXJsfSZ0aXRsZT17dGl0bGV9JmNvbnRlbnQ9e3RleHR9XCIsXG5cdFx0XHRcdGJsdXJwYWxpY2lvdXM6IFwiaHR0cDovL3d3dy5ibHVycGFsaWNpb3VzLmNvbS9zdWJtaXQvP3VybD17dXJsfSZ0aXRsZT17dGl0bGV9JmRlc2M9e3RleHR9XCIsXG5cdFx0XHRcdGJvYnJkb2JyOiBcImh0dHA6Ly9ib2JyZG9ici5ydS9hZGRleHQuaHRtbD91cmw9e3VybH0mdGl0bGU9e3RpdGxlfSZkZXNjPXt0ZXh0fVwiLFxuXHRcdFx0XHRib256b2JveDogXCJodHRwOi8vYm9uem9ib3guY29tL3Rvb2xiYXIvYWRkP3U9e3VybH0mdD17dGl0bGV9JmRlc2M9e3RleHR9XCIsXG5cdFx0XHRcdGJvb2ttZXJrZW5kZTogXCJodHRwOi8vd3d3LmJvb2ttZXJrZW4uZGUvP3VybD17dXJsfSZ0aXRsZT17dGl0bGV9XCIsXG5cdFx0XHRcdGJveDogXCJodHRwczovL3d3dy5ib3gubmV0L2FwaS8xLjAvaW1wb3J0P2ltcG9ydF9hcz1saW5rJnVybD17dXJsfSZuYW1lPXt0aXRsZX0mZGVzY3JpcHRpb249e3RleHR9XCIsXG5cdFx0XHRcdGJyeWRlcmk6IFwiaHR0cDovL2JyeWRlcmkuc2UvYWRkLmh0bWw/dT17dXJsfVwiLFxuXHRcdFx0XHRidWRkeW1hcmtzOiBcImh0dHA6Ly9idWRkeW1hcmtzLmNvbS9hZGRfYm9va21hcmsucGhwP2Jvb2ttYXJrX3RpdGxlPXt0aXRsZX0mYm9va21hcmtfdXJsPXt1cmx9JmJvb2ttYXJrX2Rlc2M9e3RleHR9XCIsXG5cdFx0XHRcdGNhbXlvbzogXCJodHRwOi8vd3d3LmNhbXlvby5jb20vbm90ZS5odG1sP3VybD17dXJsfVwiLFxuXHRcdFx0XHRjYXJlMjogXCJodHRwOi8vd3d3LmNhcmUyLmNvbS9uZXdzL2NvbXBvc2U/c2hhcmVoaW50PW5ld3Mmc2hhcmVbc2hhcmVfdHlwZV1uZXdzJmJvb2ttYXJrbGV0PVkmc2hhcmVbdGl0bGVdPXt0aXRsZX0mc2hhcmVbbGlua191cmxdPXt1cmx9JnNoYXJlW2NvbnRlbnRdPXt0ZXh0fVwiLFxuXHRcdFx0XHRjaXRldWxpa2U6IFwiaHR0cDovL3d3dy5jaXRldWxpa2Uub3JnL3Bvc3R1cmw/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0Y2xhc3NpY2FscGxhY2U6IFwiaHR0cDovL3d3dy5jbGFzc2ljYWxwbGFjZS5jb20vP3U9e3VybH0mdD17dGl0bGV9JmM9e3RleHR9XCIsXG5cdFx0XHRcdGNvc21pcTogXCJodHRwOi8vd3d3LmNvc21pcS5kZS9saWxpL215L2FkZD91cmw9e3VybH1cIixcblx0XHRcdFx0ZGlnZ2l0YTogXCJodHRwOi8vd3d3LmRpZ2dpdGEuaXQvc3VibWl0LnBocD91cmw9e3VybH0mdGl0bGU9e3RpdGxlfVwiLFxuXHRcdFx0XHRkaWlnbzogXCJodHRwOi8vd3d3LmRpaWdvLmNvbS9wb3N0P3VybD17dXJsfSZ0aXRsZT17dGl0bGV9JmRlc2M9e3RleHR9XCIsXG5cdFx0XHRcdGRvbWVsaG9yOiBcImh0dHA6Ly9kb21lbGhvci5uZXQvc3VibWl0LnBocD91cmw9e3VybH0mdGl0bGU9e3RpdGxlfVwiLFxuXHRcdFx0XHRkb3RuZXRzaG91dG91dDogXCJodHRwOi8vZG90bmV0c2hvdXRvdXQuY29tL1N1Ym1pdD91cmw9e3VybH0mdGl0bGU9e3RpdGxlfVwiLFxuXHRcdFx0XHRkb3ViYW46IFwiaHR0cDovL3d3dy5kb3ViYW4uY29tL3JlY29tbWVuZC8/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0ZHJvcGphY2s6IFwiaHR0cDovL3d3dy5kcm9wamFjay5jb20vc3VibWl0LnBocD91cmw9e3VybH1cIixcblx0XHRcdFx0ZWRlbGlnaHQ6IFwiaHR0cDovL3d3dy5lZGVsaWdodC5kZS9nZXNjaGVuay9uZXU/cHVybD17dXJsfVwiLFxuXHRcdFx0XHRla3Vkb3M6IFwiaHR0cDovL3d3dy5la3Vkb3MubmwvYXJ0aWtlbC9uaWV1dz91cmw9e3VybH0mdGl0bGU9e3RpdGxlfSZkZXNjPXt0ZXh0fVwiLFxuXHRcdFx0XHRlbGVmYW50YXBsOiBcImh0dHA6Ly9lbGVmYW50YS5wbC9tZW1iZXIvYm9va21hcmtOZXdQYWdlLmFjdGlvbj91cmw9e3VybH0mdGl0bGU9e3RpdGxlfSZib29rbWFya1ZPLm5vdGVzPVwiLFxuXHRcdFx0XHRlbWJhcmtvbnM6IFwiaHR0cDovL3d3dy5lbWJhcmtvbnMuY29tL3NoYXJlci5waHA/dT17dXJsfSZ0PXt0aXRsZX1cIixcblx0XHRcdFx0ZXZlcm5vdGU6IFwiaHR0cDovL3d3dy5ldmVybm90ZS5jb20vY2xpcC5hY3Rpb24/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0ZXh0cmFwbGF5OiBcImh0dHA6Ly93d3cuZXh0cmFwbGF5LmNvbS9tZW1iZXJzL3NoYXJlLnBocD91cmw9e3VybH0mdGl0bGU9e3RpdGxlfSZkZXNjPXt0ZXh0fVwiLFxuXHRcdFx0XHRlenlzcG90OiBcImh0dHA6Ly93d3cuZXp5c3BvdC5jb20vc3VibWl0P3VybD17dXJsfSZ0aXRsZT17dGl0bGV9XCIsXG5cdFx0XHRcdGZhYnVsb3VzbHk0MDogXCJodHRwOi8vZmFidWxvdXNseTQwLmNvbS93cml0ZWJsb2c/c3ViamVjdD17dGl0bGV9JmJvZHk9e3VybH1cIixcblx0XHRcdFx0aW5mb3JtYXppb25lOiBcImh0dHA6Ly9mYWkuaW5mb3JtYXppb25lLml0L3N1Ym1pdC5hc3B4P3VybD17dXJsfSZ0aXRsZT17dGl0bGV9JmRlc2M9e3RleHR9XCIsXG5cdFx0XHRcdGZhcms6IFwiaHR0cDovL3d3dy5mYXJrLmNvbS9jZ2kvZmFya2l0LnBsP3U9e3VybH0maD17dGl0bGV9XCIsXG5cdFx0XHRcdGZhcmtpbmRhOiBcImh0dHA6Ly93d3cuZmFya2luZGEuY29tL3N1Ym1pdD91cmw9e3VybH1cIixcblx0XHRcdFx0ZmF2YWJsZTogXCJodHRwOi8vd3d3LmZhdmFibGUuY29tL29leGNoYW5nZT91cmw9e3VybH0mdGl0bGU9e3RpdGxlfSZkZXNjPXt0ZXh0fVwiLFxuXHRcdFx0XHRmYXZsb2dkZTogXCJodHRwOi8vd3d3LmZhdmxvZy5kZS9zdWJtaXQucGhwP3VybD17dXJsfVwiLFxuXHRcdFx0XHRmbGFrZXI6IFwiaHR0cDovL2ZsYWtlci5wbC9hZGQyZmxha2VyLnBocD90aXRsZT17dGl0bGV9JnVybD17dXJsfVwiLFxuXHRcdFx0XHRmb2xrZDogXCJodHRwOi8vd3d3LmZvbGtkLmNvbS9zdWJtaXQve3VybH1cIixcblx0XHRcdFx0ZnJlc3F1aTogXCJodHRwOi8vZnJlc3F1aS5jb20vZW52aWFyP3VybD17dXJsfVwiLFxuXHRcdFx0XHRmcmllbmRmZWVkOiBcImh0dHA6Ly9mcmllbmRmZWVkLmNvbS9zaGFyZT91cmw9e3VybH0mdGl0bGU9e3RpdGxlfVwiLFxuXHRcdFx0XHRmdW5wOiBcImh0dHA6Ly9mdW5wLmNvbS9wdXNoL3N1Ym1pdC8/dXJsPXt1cmx9XCIsXG5cdFx0XHRcdGZ3aXNwOiBcImh0dHA6Ly9md2lzcC5jb20vc3VibWl0LnBocD91cmw9e3VybH1cIixcblx0XHRcdFx0Z2l2ZWFsaW5rOiBcImh0dHA6Ly9naXZlYWxpbmsub3JnL2Jvb2ttYXJrL2FkZD91cmw9e3VybH0mdGl0bGU9e3RpdGxlfVwiLFxuXHRcdFx0XHRnbWFpbDogXCJodHRwOi8vbWFpbC5nb29nbGUuY29tL21haWwvP3ZpZXc9Y20mZnM9MSZ0bz0mc3U9e3RpdGxlfSZib2R5PXt0ZXh0fSZ1aT0xXCIsXG5cdFx0XHRcdGdvb2Rub293czogXCJodHRwOi8vZ29vZG5vb3dzLmNvbS9hZGQvP3VybD17dXJsfVwiLFxuXHRcdFx0XHRnb29nbGU6IFwiaHR0cDovL3d3dy5nb29nbGUuY29tL2Jvb2ttYXJrcy9tYXJrP29wPWFkZCZia21rPXt1cmx9JnRpdGxlPXt0aXRsZX0mYW5ub3RhdGlvbj17dGV4dH1cIixcblx0XHRcdFx0Z29vZ2xldHJhbnNsYXRlOiBcImh0dHA6Ly90cmFuc2xhdGUuZ29vZ2xlLmNvbS90cmFuc2xhdGU/aGw9ZW4mdT17dXJsfSZ0bD1lbiZzbD1hdXRvXCIsXG5cdFx0XHRcdGdyZWF0ZXJkZWJhdGVyOiBcImh0dHA6Ly9ncmVhdGVyZGViYXRlci5jb20vc3VibWl0Lz91cmw9e3VybH0mdGl0bGU9e3RpdGxlfVwiLFxuXHRcdFx0XHRoYWNrZXJuZXdzOiBcImh0dHA6Ly9uZXdzLnljb21iaW5hdG9yLmNvbS9zdWJtaXRsaW5rP3U9e3VybH0mdD17dGl0bGV9XCIsXG5cdFx0XHRcdGhhdGVuYTogXCJodHRwOi8vYi5oYXRlbmEubmUuanAvYm9va21hcmtsZXQ/dXJsPXt1cmx9JmJ0aXRsZT17dGl0bGV9XCIsXG5cdFx0XHRcdGhlZGdlaG9nczogXCJodHRwOi8vd3d3LmhlZGdlaG9ncy5uZXQvbW9kL2Jvb2ttYXJrcy9hZGQucGhwP2FkZHJlc3M9e3VybH0mdGl0bGU9e3RpdGxlfVwiLFxuXHRcdFx0XHRob3RtYWlsOiBcImh0dHA6Ly93d3cuaG90bWFpbC5tc24uY29tL3NlY3VyZS9zdGFydD9hY3Rpb249Y29tcG9zZSZ0bz0mc3ViamVjdD17dGl0bGV9JmJvZHk9e3tjb250ZW50fX1cIixcblx0XHRcdFx0dzN2YWxpZGF0b3I6IFwiaHR0cDovL3ZhbGlkYXRvci53My5vcmcvY2hlY2s/dXJpPXt1cmx9JmNoYXJzZXQ9JTI4ZGV0ZWN0K2F1dG9tYXRpY2FsbHklMjkmZG9jdHlwZT1JbmxpbmUmZ3JvdXA9MFwiLFxuXHRcdFx0XHRpaGF2ZWdvdDogXCJodHRwOi8vd3d3LmloYXZlZ290LmNvbS9zaGFyZS8/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX0mZGVzYz17dGV4dH1cIixcblx0XHRcdFx0aW5zdGFwYXBlcjogXCJodHRwOi8vd3d3Lmluc3RhcGFwZXIuY29tL2VkaXQ/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX0mc3VtbWFyeT17dGV4dH1cIixcblx0XHRcdFx0aXNvY2lldHk6IFwiaHR0cDovL2lzb2NpZXR5LmJlL3NoYXJlLz91cmw9e3VybH0mdGl0bGU9e3RpdGxlfSZkZXNjPXt0ZXh0fVwiLFxuXHRcdFx0XHRpd2l3OiBcImh0dHA6Ly9pd2l3Lmh1L3BhZ2VzL3NoYXJlL3NoYXJlLmpzcD92PTEmdT17dXJsfSZ0PXt0aXRsZX1cIixcblx0XHRcdFx0amFtZXNwb3Q6IFwiaHR0cDovL3d3dy5qYW1lc3BvdC5jb20vP2FjdGlvbj1zcG90aXQmdT17dXJsfSZ0PXt0aXRsZX1cIixcblx0XHRcdFx0anVtcHRhZ3M6IFwiaHR0cDovL3d3dy5qdW1wdGFncy5jb20vYWRkLz91cmw9e3VybH0mdGl0bGU9e3RpdGxlfVwiLFxuXHRcdFx0XHRrYWJvb2RsZTogXCJodHRwOi8vd3d3LmthYm9vZGxlLmNvbS9ncmFiL2FkZEl0ZW1XaXRoVXJsP3VybD17dXJsfSZwaWRPclJpZD1waWQ9JnJlZGlyZWN0VG9LUGFnZT10cnVlXCIsXG5cdFx0XHRcdGthZXZ1cjogXCJodHRwOi8va2FldnVyLmNvbS9zdWJtaXQucGhwP3VybD17dXJsfVwiLFxuXHRcdFx0XHRrbGVkeTogXCJodHRwOi8vd3d3LmtsZWR5LmRlL3N1Ym1pdC5waHA/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0bGlicmVyaW86IFwiaHR0cDovL3d3dy5saWJyZXJpby5jb20vaW5ib3g/dT17dXJsfSZ0PXt0aXRsZX1cIixcblx0XHRcdFx0bGlua3VqOiBcImh0dHA6Ly9saW5rdWouY3o/aWQ9bGlua3VqJnVybD17dXJsfSZ0aXRsZT17dGl0bGV9JmRlc2NyaXB0aW9uPXt0ZXh0fSZpbWdzcmM9XCIsXG5cdFx0XHRcdGxpdmVqb3VybmFsOiBcImh0dHA6Ly93d3cubGl2ZWpvdXJuYWwuY29tL3VwZGF0ZS5ibWw/c3ViamVjdD17dGl0bGV9JmV2ZW50PXt1cmx9XCIsXG5cdFx0XHRcdGxvZ2dlcjI0OiBcImh0dHA6Ly9sb2dnZXIyNC5jb20vP3VybD17dXJsfVwiLFxuXHRcdFx0XHRtYXNoYm9yZDogXCJodHRwOi8vbWFzaGJvcmQuY29tL3BsdWdpbi1hZGQtYm9va21hcms/dXJsPXt1cmx9XCIsXG5cdFx0XHRcdG1laW52ejogXCJodHRwOi8vd3d3Lm1laW52ei5uZXQvU3VnZ2VzdC9TZWxlY3Rpb24vP3U9e3VybH0mZGVzYz17dGl0bGV9JnByb3Y9YWRkdGhpcy5jb21cIixcblx0XHRcdFx0bWVrdXNoYXJpbTogXCJodHRwOi8vbWVrdXNoYXJpbS53YWxsYS5jby5pbC9zaGFyZS9zaGFyZS5hc3B4P3VybD17dXJsfSZ0aXRsZT17dGl0bGV9XCIsXG5cdFx0XHRcdG1lbW9yaTogXCJodHRwOi8vbWVtb3JpLnJ1L2xpbmsvP3NtPTEmdV9kYXRhW3VybF09e3VybH1cIixcblx0XHRcdFx0bWVuZWFtZTogXCJodHRwOi8vd3d3Lm1lbmVhbWUubmV0L3N1Ym1pdC5waHA/dXJsPXt1cmx9XCIsXG5cdFx0XHRcdG1peGk6IFwiaHR0cDovL21peGkuanAvc2hhcmUucGw/dT17dXJsfVwiLFxuXHRcdFx0XHRtb2VtZXN0bzogXCJodHRwOi8vbW9lbWVzdG8ucnUvcG9zdC5waHA/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0bXlzcGFjZTogXCJodHRwOi8vd3d3Lm15c3BhY2UuY29tL01vZHVsZXMvUG9zdFRvL1BhZ2VzLz91PXt1cmx9JnQ9e3RpdGxlfSZjPVwiLFxuXHRcdFx0XHRuNGc6IFwiaHR0cDovL3d3dy5uNGcuY29tL3RpcHMuYXNweD91cmw9e3VybH0mdGl0bGU9e3RpdGxlfVwiLFxuXHRcdFx0XHRuZXRsb2c6IFwiaHR0cDovL3d3dy5uZXRsb2cuY29tL2dvL21hbmFnZS9saW5rcy8/dmlldz1zYXZlJm9yaWdpbj1leHRlcm5hbCZ1cmw9e3VybH0mdGl0bGU9e3RpdGxlfSZkZXNjcmlwdGlvbj17dGV4dH1cIixcblx0XHRcdFx0bmV0dm91ejogXCJodHRwOi8vbmV0dm91ei5jb20vYWN0aW9uL3N1Ym1pdEJvb2ttYXJrP3VybD17dXJsfSZ0aXRsZT17dGl0bGV9JnBvcHVwPW5vJmRlc2NyaXB0aW9uPXt0ZXh0fVwiLFxuXHRcdFx0XHRuZXdzdHJ1c3Q6IFwiaHR0cDovL25ld3N0cnVzdC5uZXQvc3VibWl0P3VybD17dXJsfSZ0aXRsZT17dGl0bGV9JnJlZj1hZGR0aGlzXCIsXG5cdFx0XHRcdG5ld3N2aW5lOiBcImh0dHA6Ly93d3cubmV3c3ZpbmUuY29tL190b29scy9zZWVkJnNhdmU/dT17dXJsfSZoPXt0aXRsZX0mcz17dGV4dH1cIixcblx0XHRcdFx0bnVqaWo6IFwiaHR0cDovL251amlqLm5sL2ppai5seW5reD91PXt1cmx9JnQ9e3RpdGxlfSZiPXt0ZXh0fVwiLFxuXHRcdFx0XHRva25vdGl6aWU6IFwiaHR0cDovL29rbm90aXppZS52aXJnaWxpby5pdC9wb3N0P3RpdGxlPXt0aXRsZX0mdXJsPXt1cmx9XCIsXG5cdFx0XHRcdG95eWxhOiBcImh0dHA6Ly93d3cub3l5bGEuY29tL2dvbmRlcj9waGFzZT0yJnVybD17dXJsfVwiLFxuXHRcdFx0XHRwZGZvbmxpbmU6IFwiaHR0cDovL3NhdmVwYWdlYXNwZGYucGRmb25saW5lLmNvbS9wZGZvbmxpbmUvcGRmb25saW5lLmFzcD9jVVJMPXt1cmx9XCIsXG5cdFx0XHRcdHBkZm15dXJsOiBcImh0dHA6Ly9wZGZteXVybC5jb20/dXJsPXt1cmx9XCIsXG5cdFx0XHRcdHBob25lZmF2czogXCJodHRwOi8vcGhvbmVmYXZzLmNvbS9ib29rbWFya3M/YWN0aW9uPWFkZCZhZGRyZXNzPXt1cmx9JnRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0cGxheG86IFwiaHR0cDovL3d3dy5wbGF4by5jb20vZXZlbnRzP3NoYXJlX2xpbms9e3VybH0mZGVzYz17dGV4dH1cIixcblx0XHRcdFx0cGx1cms6IFwiaHR0cDovL3d3dy5wbHVyay5jb20vbT9jb250ZW50PXt1cmx9Kyh7dGl0bGV9KSZxdWFsaWZpZXI9c2hhcmVzIFwiLFxuXHRcdFx0XHRwb3N0ZWV6eTogXCJodHRwOi8vcG9zdGVlenkuY29tL25vZGUvYWRkL3N0b3J5P3RpdGxlPXt0aXRsZX0mYm9keT17dXJsfVwiLFxuXHRcdFx0XHRwdXNoYTogXCJodHRwOi8vd3d3LnB1c2hhLnNlL3Bvc3RhP3VybD17dXJsfSZ0aXRsZT17dGl0bGV9JmRlc2NyaXB0aW9uPXt0ZXh0fVwiLFxuXHRcdFx0XHRyZWRpZmY6IFwiaHR0cDovL3NoYXJlLnJlZGlmZi5jb20vYm9va21hcmsvYWRkYm9va21hcms/dGl0bGU9e3RpdGxlfSZib29rbWFya3VybD17dXJsfVwiLFxuXHRcdFx0XHRyZWRrdW06IFwiaHR0cDovL3d3dy5yZWRrdW0uY29tL2FkZD91cmw9e3VybH0mc3RlcD0xJnRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0c2Nvb3BhdDogXCJodHRwOi8vc2Nvb3AuYXQvc3VibWl0P3VybD17dXJsfSZ0aXRsZT17dGl0bGV9JmJvZHk9e3RleHR9XCIsXG5cdFx0XHRcdHNla29tYW46IFwiaHR0cDovL3Nla29tYW4ubHYvaG9tZT9zdGF0dXM9e3RpdGxlfSZ1cmw9e3VybH1cIixcblx0XHRcdFx0c2hhdmVoOiBcImh0dHA6Ly9zaGF2ZWguY28uaWwvc3VibWl0LnBocD91cmw9e3VybH0mdGl0bGU9e3RpdGxlfVwiLFxuXHRcdFx0XHRzaGV0b2xkbWU6IFwiaHR0cDovL3NoZXRvbGRtZS5jb20vcHVibGlzaD91cmw9e3VybH0mdGl0bGU9e3RpdGxlfSZib2R5PXt0ZXh0fVwiLFxuXHRcdFx0XHRzaW5hd2VpYm86IFwiaHR0cDovL3YudC5zaW5hLmNvbS5jbi9zaGFyZS9zaGFyZS5waHA/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0c29kYWhlYWQ6IFwiaHR0cDovL3d3dy5zb2RhaGVhZC5jb20vbmV3cy9zdWJtaXQvP3VybD17dXJsfSZ0aXRsZT17dGl0bGV9XCIsXG5cdFx0XHRcdHNvbmljbzogXCJodHRwOi8vd3d3LnNvbmljby5jb20vc2hhcmUucGhwP3VybD17dXJsfSZ0aXRsZT17dGl0bGV9XCIsXG5cdFx0XHRcdHNwcmluZ3BhZDogXCJodHRwOi8vc3ByaW5ncGFkaXQuY29tL3M/dHlwZT1saWZlbWFuYWdyLkJvb2ttYXJrJnVybD17dXJsfSZuYW1lPXt0aXRsZX1cIixcblx0XHRcdFx0c3RhcnRhaWQ6IFwiaHR0cDovL3d3dy5zdGFydGFpZC5jb20vaW5kZXgucGhwP3N0PUFkZEJyb3dzZXJMaW5rJnR5cGU9RGV0YWlsJnY9MyZ1cmxuYW1lPXt1cmx9JnVybHRpdGxlPXt0aXRsZX0mdXJsZGVzYz17dGV4dH1cIixcblx0XHRcdFx0c3RhcnRsYXA6IFwiaHR0cDovL3d3dy5zdGFydGxhcC5odS9zYWphdF9saW5rZWsvYWRkbGluay5waHA/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0c3R1ZGl2ejogXCJodHRwOi8vd3d3LnN0dWRpdnoubmV0L1N1Z2dlc3QvU2VsZWN0aW9uLz91PXt1cmx9JmRlc2M9e3RpdGxlfSZwcm92PWFkZHRoaXMuY29tXCIsXG5cdFx0XHRcdHN0dWZmcGl0OiBcImh0dHA6Ly93d3cuc3R1ZmZwaXQuY29tL2FkZC5waHA/cHJvZHVybD17dXJsfVwiLFxuXHRcdFx0XHRzdHVtcGVkaWE6IFwiaHR0cDovL3d3dy5zdHVtcGVkaWEuY29tL3N1Ym1pdD91cmw9e3VybH1cIixcblx0XHRcdFx0c3Zlam86IFwiaHR0cDovL3N2ZWpvLm5ldC9zdG9yeS9zdWJtaXRfYnlfdXJsP3VybD17dXJsfSZ0aXRsZT17dGl0bGV9JnN1bW1hcnk9e3RleHR9XCIsXG5cdFx0XHRcdHN5bWJhbG9vOiBcImh0dHA6Ly93d3cuc3ltYmFsb28uY29tL2VuL2FkZC8/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0dGhld2ViYmxlbmQ6IFwiaHR0cDovL3RoZXdlYmJsZW5kLmNvbS9zdWJtaXQ/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX1cIixcblx0XHRcdFx0dGhpbmtmaW5pdHk6IFwiaHR0cDovL3d3dy50aGlua2Zpbml0eS5vcmcvZmF2b3JpdGUtYm9va21hcmtsZXQuanNwYT91cmw9e3VybH0mc3ViamVjdD17dGl0bGV9XCIsXG5cdFx0XHRcdHRoaXNuZXh0OiBcImh0dHA6Ly93d3cudGhpc25leHQuY29tL3BpY2svbmV3L3N1Ym1pdC91cmwvP2Rlc2NyaXB0aW9uPXt0ZXh0fSZuYW1lPXt0aXRsZX0mdXJsPXt1cmx9XCIsXG5cdFx0XHRcdHR1ZW50aTogXCJodHRwOi8vd3d3LnR1ZW50aS5jb20vc2hhcmU/dXJsPXt1cmx9XCIsXG5cdFx0XHRcdHR5cGVwYWQ6IFwiaHR0cDovL3d3dy50eXBlcGFkLmNvbS9zZXJ2aWNlcy9xdWlja3Bvc3QvcG9zdD92PTImcXBfc2hvdz1hYyZxcF90aXRsZT17dGl0bGV9JnFwX2hyZWY9e3VybH0mcXBfdGV4dD17dGV4dH1cIixcblx0XHRcdFx0dmlhZGVvOiBcImh0dHA6Ly93d3cudmlhZGVvLmNvbS9zaGFyZWl0L3NoYXJlLz91cmw9e3VybH0mdGl0bGU9e3RpdGxlfSZ1cmxhZmZpbGlhdGU9MzIwMDUmZW5jb2Rpbmc9VVRGLThcIixcblx0XHRcdFx0dmlyYjogXCJodHRwOi8vdmlyYi5jb20vc2hhcmU/ZXh0ZXJuYWwmdj0yJnVybD17dXJsfSZ0aXRsZT17dGl0bGV9XCIsXG5cdFx0XHRcdHZpc2l0ZXptb25zaXRlOiBcImh0dHA6Ly93d3cudmlzaXRlem1vbnNpdGUuY29tL3B1YmxpZXI/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX0mYm9keT17dGV4dH1cIixcblx0XHRcdFx0dnlicmFsaXNtZTogXCJodHRwOi8vdnlicmFsaS5zbWUuc2svc3ViLnBocD91cmw9e3VybH1cIixcblx0XHRcdFx0d2VibmV3czogXCJodHRwOi8vd3d3LndlYm5ld3MuZGUvZWluc3RlbGxlbj91cmw9e3VybH0mdGl0bGU9e3RpdGxlfVwiLFxuXHRcdFx0XHR3aXJlZmFuOiBcImh0dHA6Ly93d3cud2lyZWZhbi5jb20vZ3Jwb3N0LnBocD9kPSZ1PXt1cmx9Jmg9e3RpdGxlfSZkPXt0ZXh0fVwiLFxuXHRcdFx0XHR3b3JkcHJlc3M6IFwiaHR0cDovL3dvcmRwcmVzcy5jb20vd3AtYWRtaW4vcHJlc3MtdGhpcy5waHA/dT17dXJsfSZ0PXt0aXRsZX0mcz17dGV4dH0mdj0yXCIsXG5cdFx0XHRcdHdvd2JvcmVkOiBcImh0dHA6Ly93d3cud293Ym9yZWQuY29tL3N1Ym1pdC5waHA/dXJsPXt1cmx9XCIsXG5cdFx0XHRcdHd5a29wOiBcImh0dHA6Ly93d3cud3lrb3AucGwvZG9kYWo/dXJsPXt1cmx9JnRpdGxlPXt0aXRsZX0mZGVzYz17dGV4dH1cIixcblx0XHRcdFx0eWFob29ia206IFwiaHR0cDovL2Jvb2ttYXJrcy55YWhvby5jb20vdG9vbGJhci9zYXZlYm0/b3BlbmVyPXRiJnU9e3VybH0mdD17dGl0bGV9JmQ9e3RleHR9XCIsXG5cdFx0XHRcdHlhaG9vbWFpbDogXCJodHRwOi8vY29tcG9zZS5tYWlsLnlhaG9vLmNvbS8/VG89JlN1YmplY3Q9e3RpdGxlfSZib2R5PXt7Y29udGVudH19XCIsXG5cdFx0XHRcdHlhbW1lcjogXCJodHRwczovL3d3dy55YW1tZXIuY29tL2hvbWUvYm9va21hcmtsZXQ/Ym9va21hcmtsZXRfcG9wPTEmdT17dXJsfSZ0PXt0aXRsZX1cIixcblx0XHRcdFx0eWFyZGJhcmtlcjogXCJodHRwOi8vd3d3LnlhcmRiYXJrZXIuY29tL2F1dGhvci9uZXcvP3BVcmw9e3VybH0mcEhlYWQ9e3RpdGxlfVwiLFxuXHRcdFx0XHR5aWdnOiBcImh0dHA6Ly93d3cueWlnZy5kZS9uZXU/ZXh0dXJsPXt1cmx9JmV4dHRpdGxlPXt0aXRsZX0mZXh0ZGVzYz17dGV4dH1cIixcblx0XHRcdFx0eW9vbGluazogXCJodHRwOi8vZ28ueW9vbGluay50by9hZGRvcnNoYXJlP3VybF92YWx1ZT17dXJsfSZ0aXRsZT17dGl0bGV9XCIsXG5cdFx0XHRcdHlvcnVtY3V5dW06IFwiaHR0cDovL3d3dy55b3J1bWN1eXVtLmNvbS8/YmFzbGlrPXt0aXRsZX0mbGluaz17dXJsfVwiLFxuXHRcdFx0XHR5b3Vtb2I6IFwiaHR0cDovL3lvdW1vYi5jb20vbW9iaXQuYXNweD90aXRsZT17dGl0bGV9Jm1vYj17dXJsfVwiLFxuXHRcdFx0XHR6YWtsYWRva25ldDogXCJodHRwOi8vemFrbGFkb2submV0L2xpbmsvP3U9e3VybH0mdD17dGl0bGV9XCIsXG5cdFx0XHRcdHppY3phYzogXCJodHRwOi8vemljemFjLml0L2Evc2VnbmFsYS8/Z3VybD17dXJsfSZndGl0PXt0aXRsZX1cIlxuXHRcdFx0fTtcblx0XHR0aGlzLmVhY2goZnVuY3Rpb24oZSwgaCkge1xuXHRcdFx0Zm9yICh2YXIgaSA9IGIoaCksIGUgPSAwOyBlIDwgaS5sZW5ndGg7IGUrKykge1xuXHRcdFx0XHR2YXIgaiA9IGlbZV07XG5cdFx0XHRcdGlmIChqLnN1YnN0cigwLCBmKSA9PSBjLmNsYXNzX3ByZWZpeCAmJiBnW2ouc3Vic3RyKGYpXSkge1xuXHRcdFx0XHRcdHZhciBrID0gZChqLnN1YnN0cihmKSk7XG5cdFx0XHRcdFx0YShoKS5hdHRyKFwiaHJlZlwiLCBrKS5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBiID0gc2NyZWVuLndpZHRoLFxuXHRcdFx0XHRcdFx0XHRkID0gc2NyZWVuLmhlaWdodCxcblx0XHRcdFx0XHRcdFx0ZSA9IGMud2lkdGggPyBjLndpZHRoIDogYiAtIC4yICogYixcblx0XHRcdFx0XHRcdFx0ZiA9IGMuaGVpZ2h0ID8gYy5oZWlnaHQgOiBkIC0gLjIgKiBkLFxuXHRcdFx0XHRcdFx0XHRnID0gYiAvIDIgLSBlIC8gMixcblx0XHRcdFx0XHRcdFx0aCA9IGQgLyAyIC0gZiAvIDIsXG5cdFx0XHRcdFx0XHRcdGkgPSBcInRvb2xiYXI9MCxzdGF0dXM9MCx3aWR0aD1cIiArIGUgKyBcIixoZWlnaHQ9XCIgKyBmICsgXCIsdG9wPVwiICsgaCArIFwiLGxlZnQ9XCIgKyBnO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHdpbmRvdy5vcGVuKGEodGhpcykuYXR0cihcImhyZWZcIiksIFwiXCIsIGkpICYmICExXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pXG5cdH1cbn0oalF1ZXJ5KSwgZnVuY3Rpb24oKSB7XG5cdHZhciBhLCBiID0gMDtcblx0ZXFTaG93LnNoYWtlVHJpZ2dlciA9IGZ1bmN0aW9uKGMsIGQpIHtcblx0XHRmdW5jdGlvbiBlKGEpIHtcblx0XHRcdHZhciBjID0gYS5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LFxuXHRcdFx0XHRkID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7XG5cdFx0XHRpZiAoZCAtIG0gPiAxMDApIHtcblx0XHRcdFx0dmFyIGcgPSBwYXJzZUludChkIC0gbSk7XG5cdFx0XHRcdG0gPSBkLCBqID0gYy54LCBrID0gYy55LCBsID0gYy56O1xuXHRcdFx0XHR2YXIgaSA9IE1hdGguYWJzKGogKyBrICsgbCAtIG4gLSBvIC0gcCkgLyBnICogMWU0O1xuXHRcdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRldmljZW1vdGlvblwiLCBlLCAhMCksIGkgPiBoICYmIChxIHx8IChlcVNob3cucGxheVRyaWdnZXJTb3VuZCgpLCBxID0gITApLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRldmljZW1vdGlvblwiLCBlLCAhMCksIGYuc2VuZHMgJiYgZi5zZW5kcy5sZW5ndGggJiYgJC5lYWNoKGYuc2VuZHMsIGZ1bmN0aW9uKGEsIGMpIHtcblx0XHRcdFx0XHR0aW1lID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdCQuZWFjaChjLmhhbmRsZXMsIGZ1bmN0aW9uKGEsIGMpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGQgPSB1dGlsVHJpZ2dlci5nZXRIYW5kbGVUeXBlKGMudHlwZSkubmFtZTtcblx0XHRcdFx0XHRcdFx0JC5lYWNoKGMuaWRzLCBmdW5jdGlvbihhLCBjKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGUgPSAkKFwiI2luc2lkZV9cIiArIGMpO1xuXHRcdFx0XHRcdFx0XHRcdGUudHJpZ2dlcihkLCBiKVxuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9LCAxZTMgKiBjLmRlbGF5KVxuXHRcdFx0XHR9KSksIG4gPSBqLCBvID0gaywgcCA9IGxcblx0XHRcdH1cblx0XHR9XG5cdFx0dmFyIGYsIGcgPSAkKGQpLmZpbmQoXCIubS1pbWdcIikuYXR0cihcImlkXCIpLnN1YnN0cmluZyg0KTtcblx0XHRpZiAoY1tnIC0gMV0ucHJvcGVydGllcyAmJiAoZiA9IGNbZyAtIDFdLnByb3BlcnRpZXMudHJpZ2dlciksIGYgJiYgZi5zZW5kcykge1xuXHRcdFx0dmFyIGggPSA0ZTMsXG5cdFx0XHRcdGkgPSBQUkVGSVhfSE9TVCArIFwiL2Fzc2V0cy9hdWRpby93eFNoYWtlLm1wM1wiO1xuXHRcdFx0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKSwgYS5zcmMgPSBpO1xuXHRcdFx0dmFyIGosIGssIGwsIG0gPSAwLFxuXHRcdFx0XHRuID0gMCxcblx0XHRcdFx0byA9IDAsXG5cdFx0XHRcdHAgPSAwLFxuXHRcdFx0XHRxID0gITE7XG5cdFx0XHR3aW5kb3cuRGV2aWNlTW90aW9uRXZlbnQgJiYgZCAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZW1vdGlvblwiLCBlLCAhMSlcblx0XHR9XG5cdH0sIGVxU2hvdy5wbGF5VHJpZ2dlclNvdW5kID0gZnVuY3Rpb24oKSB7XG5cdFx0YSAmJiBhLnBsYXkoKVxuXHR9XG59KCksIGZ1bmN0aW9uKCkge1xuXHRlcVNob3cuZ2V0SW1hZ2VzUmVzb3VyY2VIb3N0ID0gZnVuY3Rpb24oYSwgYikge1xuXHRcdHJldHVybiAtMSAhPT0gbG9jYXRpb24uaG9zdC5pbmRleE9mKHdpbmRvdy5ET01BSU4pICYmICgtMSAhPT0gW1wiMlwiLCBcIjIxXCJdLmluZGV4T2YoYSkgJiYgLTEgIT09IFtcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIiwgXCI2XCIsIFwiN1wiLCBcIjhcIiwgXCI5XCJdLmluZGV4T2YoYikgPyBQUkVGSVhfRklMRV9IT1NUID0gVklQX0ZJTEVfSE9TVCA6IFBSRUZJWF9GSUxFX0hPU1QgPSBDT01NT05fRklMRV9IT1NUKSwgUFJFRklYX0ZJTEVfSE9TVFxuXHR9XG59KCksIGZ1bmN0aW9uKGEpIHtcblx0ZnVuY3Rpb24gYihhLCBiLCBpKSB7XG5cdFx0dmFyIGogPSAwLFxuXHRcdFx0ayA9IFswXSxcblx0XHRcdGwgPSBcIlwiLFxuXHRcdFx0bSA9IG51bGwsXG5cdFx0XHRsID0gaSB8fCBcIlVURjhcIjtcblx0XHRpZiAoXCJVVEY4XCIgIT09IGwgJiYgXCJVVEYxNlwiICE9PSBsKSB0aHJvdyBcImVuY29kaW5nIG11c3QgYmUgVVRGOCBvciBVVEYxNlwiO1xuXHRcdGlmIChcIkhFWFwiID09PSBiKSB7XG5cdFx0XHRpZiAoMCAhPT0gYS5sZW5ndGggJSAyKSB0aHJvdyBcInNyY1N0cmluZyBvZiBIRVggdHlwZSBtdXN0IGJlIGluIGJ5dGUgaW5jcmVtZW50c1wiO1xuXHRcdFx0bSA9IGQoYSksIGogPSBtLmJpbkxlbiwgayA9IG0udmFsdWVcblx0XHR9IGVsc2UgaWYgKFwiQVNDSUlcIiA9PT0gYiB8fCBcIlRFWFRcIiA9PT0gYikgbSA9IGMoYSwgbCksIGogPSBtLmJpbkxlbiwgayA9IG0udmFsdWU7XG5cdFx0ZWxzZSB7XG5cdFx0XHRpZiAoXCJCNjRcIiAhPT0gYikgdGhyb3cgXCJpbnB1dEZvcm1hdCBtdXN0IGJlIEhFWCwgVEVYVCwgQVNDSUksIG9yIEI2NFwiO1xuXHRcdFx0bSA9IGUoYSksIGogPSBtLmJpbkxlbiwgayA9IG0udmFsdWVcblx0XHR9XG5cdFx0dGhpcy5nZXRIYXNoID0gZnVuY3Rpb24oYSwgYiwgYywgZCkge1xuXHRcdFx0dmFyIGUsIGkgPSBudWxsLFxuXHRcdFx0XHRsID0gay5zbGljZSgpLFxuXHRcdFx0XHRtID0gajtcblx0XHRcdGlmICgzID09PSBhcmd1bWVudHMubGVuZ3RoID8gXCJudW1iZXJcIiAhPSB0eXBlb2YgYyAmJiAoZCA9IGMsIGMgPSAxKSA6IDIgPT09IGFyZ3VtZW50cy5sZW5ndGggJiYgKGMgPSAxKSwgYyAhPT0gcGFyc2VJbnQoYywgMTApIHx8IDEgPiBjKSB0aHJvdyBcIm51bVJvdW5kcyBtdXN0IGEgaW50ZWdlciA+PSAxXCI7XG5cdFx0XHRzd2l0Y2ggKGIpIHtcblx0XHRcdGNhc2UgXCJIRVhcIjpcblx0XHRcdFx0aSA9IGY7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcIkI2NFwiOlxuXHRcdFx0XHRpID0gZztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBcImZvcm1hdCBtdXN0IGJlIEhFWCBvciBCNjRcIlxuXHRcdFx0fVxuXHRcdFx0aWYgKFwiU0hBLTFcIiAhPT0gYSkgdGhyb3cgXCJDaG9zZW4gU0hBIHZhcmlhbnQgaXMgbm90IHN1cHBvcnRlZFwiO1xuXHRcdFx0Zm9yIChlID0gMDsgYyA+IGU7IGUrKykgbCA9IG8obCwgbSksIG0gPSAxNjA7XG5cdFx0XHRyZXR1cm4gaShsLCBoKGQpKVxuXHRcdH0sIHRoaXMuZ2V0SE1BQyA9IGZ1bmN0aW9uKGEsIGIsIGksIG0sIG4pIHtcblx0XHRcdHZhciBwLCBxLCByLCBzLCB0ID0gW10sXG5cdFx0XHRcdHUgPSBbXTtcblx0XHRcdHN3aXRjaCAocCA9IG51bGwsIG0pIHtcblx0XHRcdGNhc2UgXCJIRVhcIjpcblx0XHRcdFx0bSA9IGY7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcIkI2NFwiOlxuXHRcdFx0XHRtID0gZztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBcIm91dHB1dEZvcm1hdCBtdXN0IGJlIEhFWCBvciBCNjRcIlxuXHRcdFx0fVxuXHRcdFx0aWYgKFwiU0hBLTFcIiAhPT0gaSkgdGhyb3cgXCJDaG9zZW4gU0hBIHZhcmlhbnQgaXMgbm90IHN1cHBvcnRlZFwiO1xuXHRcdFx0aWYgKHEgPSA2NCwgcyA9IDE2MCwgXCJIRVhcIiA9PT0gYikgcCA9IGQoYSksIHIgPSBwLmJpbkxlbiwgcCA9IHAudmFsdWU7XG5cdFx0XHRlbHNlIGlmIChcIkFTQ0lJXCIgPT09IGIgfHwgXCJURVhUXCIgPT09IGIpIHAgPSBjKGEsIGwpLCByID0gcC5iaW5MZW4sIHAgPSBwLnZhbHVlO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGlmIChcIkI2NFwiICE9PSBiKSB0aHJvdyBcImlucHV0Rm9ybWF0IG11c3QgYmUgSEVYLCBURVhULCBBU0NJSSwgb3IgQjY0XCI7XG5cdFx0XHRcdHAgPSBlKGEpLCByID0gcC5iaW5MZW4sIHAgPSBwLnZhbHVlXG5cdFx0XHR9XG5cdFx0XHRpZiAoYSA9IDggKiBxLCBiID0gcSAvIDQgLSAxLCByIC8gOCA+IHEpIHtcblx0XHRcdFx0aWYgKFwiU0hBLTFcIiAhPT0gaSkgdGhyb3cgXCJVbmV4cGVjdGVkIGVycm9yIGluIEhNQUMgaW1wbGVtZW50YXRpb25cIjtcblx0XHRcdFx0cCA9IG8ocCwgciksIHBbYl0gJj0gNDI5NDk2NzA0MFxuXHRcdFx0fSBlbHNlIHEgPiByIC8gOCAmJiAocFtiXSAmPSA0Mjk0OTY3MDQwKTtcblx0XHRcdGZvciAocSA9IDA7IGIgPj0gcTsgcSArPSAxKSB0W3FdID0gOTA5NTIyNDg2IF4gcFtxXSwgdVtxXSA9IDE1NDk1NTY4MjggXiBwW3FdO1xuXHRcdFx0aWYgKFwiU0hBLTFcIiAhPT0gaSkgdGhyb3cgXCJVbmV4cGVjdGVkIGVycm9yIGluIEhNQUMgaW1wbGVtZW50YXRpb25cIjtcblx0XHRcdHJldHVybiBpID0gbyh1LmNvbmNhdChvKHQuY29uY2F0KGspLCBhICsgaikpLCBhICsgcyksIG0oaSwgaChuKSlcblx0XHR9XG5cdH1cblx0ZnVuY3Rpb24gYyhhLCBiKSB7XG5cdFx0dmFyIGMsIGQsIGUgPSBbXSxcblx0XHRcdGYgPSBbXSxcblx0XHRcdGcgPSAwO1xuXHRcdGlmIChcIlVURjhcIiA9PT0gYikgZm9yIChkID0gMDsgZCA8IGEubGVuZ3RoOyBkICs9IDEpIGZvciAoYyA9IGEuY2hhckNvZGVBdChkKSwgZiA9IFtdLCBjID4gMjA0OCA/IChmWzBdID0gMjI0IHwgKDYxNDQwICYgYykgPj4+IDEyLCBmWzFdID0gMTI4IHwgKDQwMzIgJiBjKSA+Pj4gNiwgZlsyXSA9IDEyOCB8IDYzICYgYykgOiBjID4gMTI4ID8gKGZbMF0gPSAxOTIgfCAoMTk4NCAmIGMpID4+PiA2LCBmWzFdID0gMTI4IHwgNjMgJiBjKSA6IGZbMF0gPSBjLCBjID0gMDsgYyA8IGYubGVuZ3RoOyBjICs9IDEpIGVbZyA+Pj4gMl0gfD0gZltjXSA8PCAyNCAtIGcgJSA0ICogOCwgZyArPSAxO1xuXHRcdGVsc2UgaWYgKFwiVVRGMTZcIiA9PT0gYikgZm9yIChkID0gMDsgZCA8IGEubGVuZ3RoOyBkICs9IDEpIGVbZyA+Pj4gMl0gfD0gYS5jaGFyQ29kZUF0KGQpIDw8IDE2IC0gZyAlIDQgKiA4LCBnICs9IDI7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHZhbHVlOiBlLFxuXHRcdFx0YmluTGVuOiA4ICogZ1xuXHRcdH1cblx0fVxuXHRmdW5jdGlvbiBkKGEpIHtcblx0XHR2YXIgYiwgYywgZCA9IFtdLFxuXHRcdFx0ZSA9IGEubGVuZ3RoO1xuXHRcdGlmICgwICE9PSBlICUgMikgdGhyb3cgXCJTdHJpbmcgb2YgSEVYIHR5cGUgbXVzdCBiZSBpbiBieXRlIGluY3JlbWVudHNcIjtcblx0XHRmb3IgKGIgPSAwOyBlID4gYjsgYiArPSAyKSB7XG5cdFx0XHRpZiAoYyA9IHBhcnNlSW50KGEuc3Vic3RyKGIsIDIpLCAxNiksIGlzTmFOKGMpKSB0aHJvdyBcIlN0cmluZyBvZiBIRVggdHlwZSBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnNcIjtcblx0XHRcdGRbYiA+Pj4gM10gfD0gYyA8PCAyNCAtIGIgJSA4ICogNFxuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0dmFsdWU6IGQsXG5cdFx0XHRiaW5MZW46IDQgKiBlXG5cdFx0fVxuXHR9XG5cdGZ1bmN0aW9uIGUoYSkge1xuXHRcdHZhciBiLCBjLCBkLCBlLCBmLCBnID0gW10sXG5cdFx0XHRoID0gMDtcblx0XHRpZiAoLTEgPT09IGEuc2VhcmNoKC9eW2EtekEtWjAtOT0rXFwvXSskLykpIHRocm93IFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gYmFzZS02NCBzdHJpbmdcIjtcblx0XHRpZiAoYiA9IGEuaW5kZXhPZihcIj1cIiksIGEgPSBhLnJlcGxhY2UoL1xcPS9nLCBcIlwiKSwgLTEgIT09IGIgJiYgYiA8IGEubGVuZ3RoKSB0aHJvdyBcIkludmFsaWQgJz0nIGZvdW5kIGluIGJhc2UtNjQgc3RyaW5nXCI7XG5cdFx0Zm9yIChjID0gMDsgYyA8IGEubGVuZ3RoOyBjICs9IDQpIHtcblx0XHRcdGZvciAoZiA9IGEuc3Vic3RyKGMsIDQpLCBkID0gZSA9IDA7IGQgPCBmLmxlbmd0aDsgZCArPSAxKSBiID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIuaW5kZXhPZihmW2RdKSwgZSB8PSBiIDw8IDE4IC0gNiAqIGQ7XG5cdFx0XHRmb3IgKGQgPSAwOyBkIDwgZi5sZW5ndGggLSAxOyBkICs9IDEpIGdbaCA+PiAyXSB8PSAoZSA+Pj4gMTYgLSA4ICogZCAmIDI1NSkgPDwgMjQgLSBoICUgNCAqIDgsIGggKz0gMVxuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0dmFsdWU6IGcsXG5cdFx0XHRiaW5MZW46IDggKiBoXG5cdFx0fVxuXHR9XG5cdGZ1bmN0aW9uIGYoYSwgYikge1xuXHRcdHZhciBjLCBkLCBlID0gXCJcIixcblx0XHRcdGYgPSA0ICogYS5sZW5ndGg7XG5cdFx0Zm9yIChjID0gMDsgZiA+IGM7IGMgKz0gMSkgZCA9IGFbYyA+Pj4gMl0gPj4+IDggKiAoMyAtIGMgJSA0KSwgZSArPSBcIjAxMjM0NTY3ODlhYmNkZWZcIi5jaGFyQXQoZCA+Pj4gNCAmIDE1KSArIFwiMDEyMzQ1Njc4OWFiY2RlZlwiLmNoYXJBdCgxNSAmIGQpO1xuXHRcdHJldHVybiBiLm91dHB1dFVwcGVyID8gZS50b1VwcGVyQ2FzZSgpIDogZVxuXHR9XG5cdGZ1bmN0aW9uIGcoYSwgYikge1xuXHRcdHZhciBjLCBkLCBlLCBmID0gXCJcIixcblx0XHRcdGcgPSA0ICogYS5sZW5ndGg7XG5cdFx0Zm9yIChjID0gMDsgZyA+IGM7IGMgKz0gMykgZm9yIChlID0gKGFbYyA+Pj4gMl0gPj4+IDggKiAoMyAtIGMgJSA0KSAmIDI1NSkgPDwgMTYgfCAoYVtjICsgMSA+Pj4gMl0gPj4+IDggKiAoMyAtIChjICsgMSkgJSA0KSAmIDI1NSkgPDwgOCB8IGFbYyArIDIgPj4+IDJdID4+PiA4ICogKDMgLSAoYyArIDIpICUgNCkgJiAyNTUsIGQgPSAwOyA0ID4gZDsgZCArPSAxKSBmID0gOCAqIGMgKyA2ICogZCA8PSAzMiAqIGEubGVuZ3RoID8gZiArIFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLmNoYXJBdChlID4+PiA2ICogKDMgLSBkKSAmIDYzKSA6IGYgKyBiLmI2NFBhZDtcblx0XHRyZXR1cm4gZlxuXHR9XG5cdGZ1bmN0aW9uIGgoYSkge1xuXHRcdHZhciBiID0ge1xuXHRcdFx0b3V0cHV0VXBwZXI6ICExLFxuXHRcdFx0YjY0UGFkOiBcIj1cIlxuXHRcdH07XG5cdFx0dHJ5IHtcblx0XHRcdGEuaGFzT3duUHJvcGVydHkoXCJvdXRwdXRVcHBlclwiKSAmJiAoYi5vdXRwdXRVcHBlciA9IGEub3V0cHV0VXBwZXIpLCBhLmhhc093blByb3BlcnR5KFwiYjY0UGFkXCIpICYmIChiLmI2NFBhZCA9IGEuYjY0UGFkKVxuXHRcdH0gY2F0Y2ggKGMpIHt9XG5cdFx0aWYgKFwiYm9vbGVhblwiICE9IHR5cGVvZiBiLm91dHB1dFVwcGVyKSB0aHJvdyBcIkludmFsaWQgb3V0cHV0VXBwZXIgZm9ybWF0dGluZyBvcHRpb25cIjtcblx0XHRpZiAoXCJzdHJpbmdcIiAhPSB0eXBlb2YgYi5iNjRQYWQpIHRocm93IFwiSW52YWxpZCBiNjRQYWQgZm9ybWF0dGluZyBvcHRpb25cIjtcblx0XHRyZXR1cm4gYlxuXHR9XG5cdGZ1bmN0aW9uIGkoYSwgYikge1xuXHRcdHJldHVybiBhIDw8IGIgfCBhID4+PiAzMiAtIGJcblx0fVxuXHRmdW5jdGlvbiBqKGEsIGIsIGMpIHtcblx0XHRyZXR1cm4gYSBeIGIgXiBjXG5cdH1cblx0ZnVuY3Rpb24gayhhLCBiLCBjKSB7XG5cdFx0cmV0dXJuIGEgJiBiIF4gfmEgJiBjXG5cdH1cblx0ZnVuY3Rpb24gbChhLCBiLCBjKSB7XG5cdFx0cmV0dXJuIGEgJiBiIF4gYSAmIGMgXiBiICYgY1xuXHR9XG5cdGZ1bmN0aW9uIG0oYSwgYikge1xuXHRcdHZhciBjID0gKDY1NTM1ICYgYSkgKyAoNjU1MzUgJiBiKTtcblx0XHRyZXR1cm4gKChhID4+PiAxNikgKyAoYiA+Pj4gMTYpICsgKGMgPj4+IDE2KSAmIDY1NTM1KSA8PCAxNiB8IDY1NTM1ICYgY1xuXHR9XG5cdGZ1bmN0aW9uIG4oYSwgYiwgYywgZCwgZSkge1xuXHRcdHZhciBmID0gKDY1NTM1ICYgYSkgKyAoNjU1MzUgJiBiKSArICg2NTUzNSAmIGMpICsgKDY1NTM1ICYgZCkgKyAoNjU1MzUgJiBlKTtcblx0XHRyZXR1cm4gKChhID4+PiAxNikgKyAoYiA+Pj4gMTYpICsgKGMgPj4+IDE2KSArIChkID4+PiAxNikgKyAoZSA+Pj4gMTYpICsgKGYgPj4+IDE2KSAmIDY1NTM1KSA8PCAxNiB8IDY1NTM1ICYgZlxuXHR9XG5cdGZ1bmN0aW9uIG8oYSwgYikge1xuXHRcdHZhciBjLCBkLCBlLCBmLCBnLCBoLCBvLCBwLCBxLCByID0gW10sXG5cdFx0XHRzID0gayxcblx0XHRcdHQgPSBqLFxuXHRcdFx0dSA9IGwsXG5cdFx0XHR2ID0gaSxcblx0XHRcdHcgPSBtLFxuXHRcdFx0eCA9IG4sXG5cdFx0XHR5ID0gWzE3MzI1ODQxOTMsIDQwMjMyMzM0MTcsIDI1NjIzODMxMDIsIDI3MTczMzg3OCwgMzI4NTM3NzUyMF07XG5cdFx0Zm9yIChhW2IgPj4+IDVdIHw9IDEyOCA8PCAyNCAtIGIgJSAzMiwgYVsoYiArIDY1ID4+PiA5IDw8IDQpICsgMTVdID0gYiwgcSA9IGEubGVuZ3RoLCBvID0gMDsgcSA+IG87IG8gKz0gMTYpIHtcblx0XHRcdGZvciAoYyA9IHlbMF0sIGQgPSB5WzFdLCBlID0geVsyXSwgZiA9IHlbM10sIGcgPSB5WzRdLCBwID0gMDsgODAgPiBwOyBwICs9IDEpIHJbcF0gPSAxNiA+IHAgPyBhW3AgKyBvXSA6IHYocltwIC0gM10gXiByW3AgLSA4XSBeIHJbcCAtIDE0XSBeIHJbcCAtIDE2XSwgMSksIGggPSAyMCA+IHAgPyB4KHYoYywgNSksIHMoZCwgZSwgZiksIGcsIDE1MTg1MDAyNDksIHJbcF0pIDogNDAgPiBwID8geCh2KGMsIDUpLCB0KGQsIGUsIGYpLCBnLCAxODU5Nzc1MzkzLCByW3BdKSA6IDYwID4gcCA/IHgodihjLCA1KSwgdShkLCBlLCBmKSwgZywgMjQwMDk1OTcwOCwgcltwXSkgOiB4KHYoYywgNSksIHQoZCwgZSwgZiksIGcsIDMzOTU0Njk3ODIsIHJbcF0pLCBnID0gZiwgZiA9IGUsIGUgPSB2KGQsIDMwKSwgZCA9IGMsIGMgPSBoO1xuXHRcdFx0eVswXSA9IHcoYywgeVswXSksIHlbMV0gPSB3KGQsIHlbMV0pLCB5WzJdID0gdyhlLCB5WzJdKSwgeVszXSA9IHcoZiwgeVszXSksIHlbNF0gPSB3KGcsIHlbNF0pXG5cdFx0fVxuXHRcdHJldHVybiB5XG5cdH1cblx0XCJmdW5jdGlvblwiID09IHR5cGVvZiBkZWZpbmUgPyBkZWZpbmUoZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGJcblx0fSkgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBleHBvcnRzID8gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzID8gbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gYiA6IGV4cG9ydHMgPSBiIDogYS5qc1NIQSA9IGJcbn0odGhpcyk7XG52YXIgd2VjaGF0VXRpbHMgPSBmdW5jdGlvbigpIHtcblx0XHRmdW5jdGlvbiBhKGEsIGMsIGQsIGcsIGgpIHtcblx0XHRcdGYgPSBcIlwiLCBlID0gXCJcIjtcblx0XHRcdHZhciBpID0gYy5vYmoubmFtZSxcblx0XHRcdFx0aiA9IGMub2JqLmNvdmVyLFxuXHRcdFx0XHRrID0gYy5vYmouZGVzY3JpcHRpb24gfHwgXCJcIixcblx0XHRcdFx0bCA9IGE7XG5cdFx0XHRhLmluZGV4T2YoXCJ0b1BhZ2VcIikgPiAtMSAmJiAobCA9IGVxU2hvdy5kZWxRdWVTdHIoYSwgXCJ0b1BhZ2VcIikpO1xuXHRcdFx0dmFyIGsgPSBjLm9iai5kZXNjcmlwdGlvbiB8fCBcIlwiLFxuXHRcdFx0XHRtID0gYy5vYmoucHJvcGVydHk7XG5cdFx0XHRpZiAoYy5saXN0KSBhOiBmb3IgKHZhciBuID0gMDsgbiA8IGMubGlzdC5sZW5ndGg7IG4rKykgaWYgKGMubGlzdFtuXS5lbGVtZW50cykgZm9yICh2YXIgbyA9IDA7IG8gPCBjLmxpc3Rbbl0uZWxlbWVudHMubGVuZ3RoOyBvKyspIGlmICgoXCI0MDFcIiA9PSBjLmxpc3Rbbl0uZWxlbWVudHNbb10udHlwZSB8fCBcIjIwMVwiID09IGMubGlzdFtuXS5lbGVtZW50c1tvXS50eXBlKSAmJiBcInNoYXJlXCIgPT0gYy5saXN0W25dLmVsZW1lbnRzW29dLnByb3BlcnRpZXMudHlwZSkge1xuXHRcdFx0XHRsLmluZGV4T2YoXCImdXNlcktleT1cIikgPiAtMSA/IGwgPSBsLnNwbGl0KFwiJnVzZXJLZXk9XCIpWzBdIDogbC5pbmRleE9mKFwiP3VzZXJLZXk9XCIpID4gLTEgJiYgKGwgPSBsLnNwbGl0KFwiP3VzZXJLZXk9XCIpWzBdKSwgZiA9IERhdGUubm93KCkgKyBcIlwiICsgTWF0aC5mbG9vcigxZTUgKiBNYXRoLnJhbmRvbSgpKSwgZSArPSAoL1xcPy8udGVzdChsKSA/IFwiJlwiIDogXCI/XCIpICsgXCJ1c2VyS2V5PVwiICsgZjtcblx0XHRcdFx0YnJlYWsgYVxuXHRcdFx0fVxuXHRcdFx0ZCAmJiBnICYmIChlID0gXCJcIiwgbC5pbmRleE9mKFwiJnVzZXJLZXk9XCIpID4gLTEgPyBsID0gbC5zcGxpdChcIiZ1c2VyS2V5PVwiKVswXSA6IGwuaW5kZXhPZihcIj91c2VyS2V5PVwiKSA+IC0xICYmIChsID0gbC5zcGxpdChcIj91c2VyS2V5PVwiKVswXSksIGYgPSBEYXRlLm5vdygpICsgXCJcIiArIE1hdGguZmxvb3IoMWU1ICogTWF0aC5yYW5kb20oKSksIGUgKz0gKC9cXD8vLnRlc3QobCkgPyBcIiZcIiA6IFwiP1wiKSArIFwidXNlcktleT1cIiArIGYpLFxuXHRcdFx0ZCAmJiBnICYmICh3aW5kb3cud3hDb21wRGF0YVtkXSA9IGcpLFxuXHRcdFx0bSAmJiBcIjFcIiA9PSBtLnNob3dTaGFyZUNvdW50ID8gKGMubWFwIHx8IChjLm1hcCA9IHt9LCBjLm1hcC5zaGFyZUNvdW50ID0gMCksICQuYWpheCh7XG5cdFx0XHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0XHRcdHVybDogUFJFRklYX1MxX1VSTCArIFwiZXFzL3NjZW5lL3B2P3NjZW5lSWQ9XCIgKyB3aW5kb3cuc2NlbmUuaWQsXG5cdFx0XHRcdHhockZpZWxkczoge1xuXHRcdFx0XHRcdHdpdGhDcmVkZW50aWFsczogITBcblx0XHRcdFx0fSxcblx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHQvL2FsZXJ0KFwi5pyN5Yqh5Zmo5byC5bi477yBXCIpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRrICs9IFwi5oiR5piv56ysXCIgKyBhICsgXCLkvY1cIiArIG0uc2hhcmVEZXMsIGsgfHwgKGsgPSBcIiBcIiksIGIoaSwgaywgbCwgZSwgailcblx0XHRcdFx0fVxuXHRcdFx0fSkpIDogKGsgfHwgKGsgPSBcIiBcIiksIGIoaSwgaywgbCwgZSwgaikpLFxuXHRcdFx0aCAmJiAkKFwiI21lZGlhXCIpICYmICQoXCIjbWVkaWFcIikuZ2V0KDApICYmICQoXCIjbWVkaWFcIikuZ2V0KDApLnBsYXkoKVxuXHRcdH1cblx0XHRmdW5jdGlvbiBiKGEsIGIsIGQsIGUsIGYpIHtcblx0XHRcdHZhciBnID0gZCArIGUsXG5cdFx0XHRcdGggPSBzY2VuZS5kc0FwcElkID8gRFMubGlua0NoYW5nZShnKSA6IGc7XG5cdFx0XHR3eC5vbk1lbnVTaGFyZVRpbWVsaW5lKHtcblx0XHRcdFx0dGl0bGU6IGEsXG5cdFx0XHRcdGxpbms6IGgsXG5cdFx0XHRcdGltZ1VybDogUFJFRklYX0ZJTEVfSE9TVCArIGYsXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNjZW5lLmRzQXBwSWQgJiYgRFMuc2VuZFJlcG9zdChcInRpbWVsaW5lXCIpLCBjKHd4Q29tcERhdGEpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNhbmNlbDogZnVuY3Rpb24oKSB7fVxuXHRcdFx0fSksIHd4Lm9uTWVudVNoYXJlQXBwTWVzc2FnZSh7XG5cdFx0XHRcdHRpdGxlOiBhLFxuXHRcdFx0XHRkZXNjOiBiLFxuXHRcdFx0XHRsaW5rOiBoLFxuXHRcdFx0XHRpbWdVcmw6IFBSRUZJWF9GSUxFX0hPU1QgKyBmLFxuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzY2VuZS5kc0FwcElkICYmIERTLnNlbmRSZXBvc3QoXCJhcHBNZXNzYWdlXCIpLCBjKHd4Q29tcERhdGEpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNhbmNlbDogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGEpXG5cdFx0XHRcdH1cblx0XHRcdH0pLCB3eC5vbk1lbnVTaGFyZVFRKHtcblx0XHRcdFx0dGl0bGU6IGEsXG5cdFx0XHRcdGRlc2M6IGIsXG5cdFx0XHRcdGxpbms6IGcsXG5cdFx0XHRcdGltZ1VybDogUFJFRklYX0ZJTEVfSE9TVCArIGYsXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge30sXG5cdFx0XHRcdGNhbmNlbDogZnVuY3Rpb24oKSB7fVxuXHRcdFx0fSksIHd4Lm9uTWVudVNoYXJlV2VpYm8oe1xuXHRcdFx0XHR0aXRsZTogYSxcblx0XHRcdFx0ZGVzYzogYixcblx0XHRcdFx0bGluazogZyxcblx0XHRcdFx0aW1nVXJsOiBQUkVGSVhfRklMRV9IT1NUICsgZixcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oKSB7fSxcblx0XHRcdFx0Y2FuY2VsOiBmdW5jdGlvbigpIHt9XG5cdFx0XHR9KVxuXHRcdH1cblx0XHRmdW5jdGlvbiBjKGEpIHtcblx0XHRcdGlmIChmKSB7XG5cdFx0XHRcdHZhciBiID0ge1xuXHRcdFx0XHRcdHVzZXJLZXk6IGZcblx0XHRcdFx0fTtcblx0XHRcdFx0d2VDaGF0VXNlciAmJiB3ZUNoYXRVc2VyLmhlYWRpbWd1cmwgJiYgKGEuc2hhcmVVc2VySGVhZGVyID0gd2VDaGF0VXNlci5oZWFkaW1ndXJsKSwgd2VDaGF0VXNlciAmJiB3ZUNoYXRVc2VyLmhlYWRpbWd1cmwgJiYgKGEuc2hhcmVVc2VyTmFtZSA9IHdlQ2hhdFVzZXIubmlja25hbWUpLCBiLmRhdGEgPSBKU09OLnN0cmluZ2lmeShhKSwgJC5hamF4KHtcblx0XHRcdFx0XHR0eXBlOiBcIlBPU1RcIixcblx0XHRcdFx0XHR1cmw6IFBSRUZJWF9TMV9VUkwgKyBcImVxcy93eC9jb21wb25lbnRcIixcblx0XHRcdFx0XHRkYXRhOiAkLnBhcmFtKGIpLFxuXHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0XHRhbGVydChKU09OLnN0cmluZ2lmeShhKSlcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGEpIHt9XG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGQoYSwgYikge1xuXHRcdFx0dmFyIGMgPSBQUkVGSVhfUzFfVVJMICsgXCJpbmRleC5waHA/Yz1lcXMmYT13eHVzZXJcIjtcblx0XHRcdCQuYWpheCh7XG5cdFx0XHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0XHRcdHVybDogYyxcblx0XHRcdFx0eGhyRmllbGRzOiB7XG5cdFx0XHRcdFx0d2l0aENyZWRlbnRpYWxzOiAhMFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0aWYgKDIwMCA9PT0gZC5jb2RlKSBpZiAoZC5vYmopIHdpbmRvdy53ZUNoYXRVc2VyID0gZC5vYmosIGEoKTtcblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdHZhciBlID0gZXFTaG93LmdldERvbWFpbih3aW5kb3cubG9jYXRpb24uaHJlZiksXG5cdFx0XHRcdFx0XHRcdGYgPSBcIlwiO1xuXHRcdFx0XHRcdFx0YiAmJiAoZiA9IFwiP3RvUGFnZT1cIiArIGIpLCBlcVNob3cuZ2V0UXVlcnlTdHJpbmcoXCJ1c2VyS2V5XCIpICYmIChmID0gKC9cXD8vLnRlc3QoYykgPyBcIiZcIiA6IFwiP1wiKSArIFwidXNlcktleT1cIiArIGVxU2hvdy5nZXRRdWVyeVN0cmluZyhcInVzZXJLZXlcIikpLCB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiaHR0cHM6Ly9vcGVuLndlaXhpbi5xcS5jb20vY29ubmVjdC9vYXV0aDIvYXV0aG9yaXplP2FwcGlkPVwiICsgQVBQSURfV1ggKyBcIiZyZWRpcmVjdF91cmk9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoUFJFRklYX1MxX1VSTCArIFwiZXFzL3d4L3VzZXIvaW5mb1wiKSArIFwiJnJlc3BvbnNlX3R5cGU9Y29kZSZzY29wZT1zbnNhcGlfdXNlcmluZm8mc3RhdGU9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoXCJodHRwOi8vXCIgKyBlICsgXCIvdi9cIiArIHdpbmRvdy5zY2VuZS5jb2RlICsgZikgKyBcIiN3ZWNoYXRfcmVkaXJlY3RcIlxuXHRcdFx0XHRcdH0gZWxzZSBhbGVydChcImVycm9yXCIpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGVycm9yOiBmdW5jdGlvbihhKSB7fSxcblx0XHRcdFx0Y3Jvc3NEb21haW46ICEwXG5cdFx0XHR9KVxuXHRcdH1cblx0XHR2YXIgZSwgZjtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2hhcmVXZWl4aW5XaGVuUmVhZHk6IGEsXG5cdFx0XHRzaGFyZVdpZHRoU0RLOiBiLFxuXHRcdFx0c2F2ZUNvbXBvbmVudEluZm86IGMsXG5cdFx0XHR3ZUNoYXRBdXRoOiBkXG5cdFx0fVxuXHR9KHdpbmRvdyk7XG4hXG5mdW5jdGlvbigpIHtcblx0ZnVuY3Rpb24gYShiLCBjKSB7XG5cdFx0dmFyIGQgPSAwO1xuXHRcdCQuZWFjaChjLCBmdW5jdGlvbihlLCBmKSB7XG5cdFx0XHRcInNoYXJlVXNlckhlYWRlclwiICE9IGUgJiYgXCJzaGFyZVVzZXJOYW1lXCIgIT0gZSAmJiAoZCsrLCAxID09IGQgJiYgd3guZG93bmxvYWRJbWFnZSh7XG5cdFx0XHRcdHNlcnZlcklkOiBmLFxuXHRcdFx0XHRpc1Nob3dQcm9ncmVzc1RpcHM6IDAsXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRlcVNob3cucmVzcG9uc2l2ZUltYWdlKGQubG9jYWxJZCwgYiwgZSwgJChcIiNpbnNpZGVfXCIgKyBlKSwgJChcIiNcIiArIGUpKSwgZGVsZXRlIGNbZV0sIGEoYiwgYylcblx0XHRcdFx0fSxcblx0XHRcdFx0ZmFpbDogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdCQoXCIjXCIgKyBlKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIilcblx0XHRcdFx0fVxuXHRcdFx0fSkpXG5cdFx0fSlcblx0fVxuXHR3ZWNoYXRVdGlscy53ZWNoYXRJbWdVcGxvYWQgPSBmdW5jdGlvbihiLCBjKSB7XG5cdFx0dmFyIGQsIGUsIGYgPSBjLmxpc3Q7XG5cdFx0aWYgKCQoZG9jdW1lbnQpLm9uKFwid3guaW1nLnVwbG9hZFwiLCBmdW5jdGlvbihhLCBnKSB7XG5cdFx0XHR3eC5jaG9vc2VJbWFnZSh7XG5cdFx0XHRcdGNvdW50OiAxLFxuXHRcdFx0XHRzaXplVHlwZTogW1wib3JpZ2luYWxcIiwgXCJjb21wcmVzc2VkXCJdLFxuXHRcdFx0XHRzb3VyY2VUeXBlOiBbXCJhbGJ1bVwiLCBcImNhbWVyYVwiXSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdGQgPSBhLmxvY2FsSWRzLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0d3gudXBsb2FkSW1hZ2Uoe1xuXHRcdFx0XHRcdFx0XHRsb2NhbElkOiBkLnRvU3RyaW5nKCksXG5cdFx0XHRcdFx0XHRcdGlzU2hvd1Byb2dyZXNzVGlwczogMSxcblx0XHRcdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdFx0XHRcdGVxU2hvdy5yZXNwb25zaXZlSW1hZ2UoZCwgZiwgZywgJChcIiNpbnNpZGVfXCIgKyBnKSwgJChcIiNcIiArIGcpKSwgZSA9IGEuc2VydmVySWQsIHdlY2hhdFV0aWxzLnNoYXJlV2VpeGluV2hlblJlYWR5KGIsIGMsIGcsIGUsICExKVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdH0sIDEwMClcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9KSwgYy5tYXAgJiYgYy5tYXAud3hDb21wb25lbnQpIHtcblx0XHRcdHZhciBnID0gJC5leHRlbmQoITAsIHt9LCBjLm1hcC53eENvbXBvbmVudCk7XG5cdFx0XHRhKGMubGlzdCwgZylcblx0XHR9XG5cdH1cbn0oKSwgZnVuY3Rpb24oKSB7XG5cdHZhciBhLCBiID0ge307XG5cdHdlY2hhdFV0aWxzLndlY2hhdEF1ZGlvVXBsb2FkID0gZnVuY3Rpb24oYywgZCkge1xuXHRcdGZ1bmN0aW9uIGUoYSwgZSkge1xuXHRcdFx0YltlXSA9IGEsIHd4LnVwbG9hZFZvaWNlKHtcblx0XHRcdFx0bG9jYWxJZDogYSxcblx0XHRcdFx0aXNTaG93UHJvZ3Jlc3NUaXBzOiAxLFxuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0dmFyIGIgPSBhLnNlcnZlcklkO1xuXHRcdFx0XHRcdHdlY2hhdFV0aWxzLnNoYXJlV2VpeGluV2hlblJlYWR5KGMsIGQsIFwid3hwXCIgKyBlLnN1YnN0cmluZygzKSwgYiwgITEpXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGYoYSkge1xuXHRcdFx0dmFyIGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7XG5cdFx0XHRiLnNyYyA9IGEsIGIucGxheSgpLCAkKGIpLmJpbmQoXCJlbmRlZFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZXFTaG93LmV4ZWN1dGVQbGF5KClcblx0XHRcdH0pXG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGcoYSwgYikge1xuXHRcdFx0JChcIiNwYW5lbFwiICsgYSkubGVuZ3RoICYmICQoXCIjcGFuZWxcIiArIGEpLnJlbW92ZSgpO1xuXHRcdFx0dmFyIGMgPSAkKFwiI3d4cFwiICsgYS5zdWJzdHJpbmcoMykpLFxuXHRcdFx0XHRkID0gJzxkaXYgY2xhc3M9XCJ2b2ljZS1wYW5lbFwiIGlkPVwicGFuZWwnICsgYSArICdcIj48c3BhbiBjbGFzcz1cImljb24gZXFmLXZvaWNlXCI+PC9zcGFuPjxkaXYgY2xhc3M9XCJ2b2ljZS10aXBcIj7mnb7lvIDmiYvmjIcg5YGc5q2i5b2V6Z+zPC9kaXY+PC9kaXY+Jztcblx0XHRcdCQoZCkucHJlcGVuZFRvKFwiLnotY3VycmVudFwiKSwgYy5hZGRDbGFzcyhcImJhY2tncm91bmQtdHJhbnNmb3JtXCIpLCBqID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGIrKywgYy50b2dnbGVDbGFzcyhcImdyZWVuLWJhY2tcIiksIGIgPj0gNTAgJiYgJChcIiNwYW5lbFwiICsgYSkudGV4dCg2MCAtIGIpLCA2MCA9PSBiICYmIChjbGVhckludGVydmFsKGopLCAkKFwiI3BhbmVsXCIgKyBhKS5yZW1vdmUoKSwgYy5yZW1vdmVDbGFzcyhcImdyZWVuLWJhY2tcIiksIHd4Lm9uVm9pY2VSZWNvcmRFbmQoe1xuXHRcdFx0XHRcdGNvbXBsZXRlOiBmdW5jdGlvbihjKSB7XG5cdFx0XHRcdFx0XHRiID0gMCwgJChkb2N1bWVudCkudHJpZ2dlcihcInd4LmF1ZGlvLnJlY29yZGVuZFwiLCBhKSwgZXFTaG93LmV4ZWN1dGVQbGF5KCksIGUoYy5sb2NhbElkLCBhKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkpXG5cdFx0XHR9LCAxZTMpXG5cdFx0fVxuXHRcdHZhciBoLCBpID0gMDtcblx0XHQkKGRvY3VtZW50KS5vbihcInd4LmF1ZGlvLnJlY29yZFwiLCBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR3eC5zdGFydFJlY29yZCh7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRlcVNob3cuZXhlY3V0ZVBhdXNlKCksIGggPSAhMCwgaSA9IDAsIGcoYiwgaSlcblx0XHRcdFx0fVxuXHRcdFx0fSksICQoXCIjXCIgKyBiKS5hZGRDbGFzcyhcInJlY29yZGluZ1wiKS50ZXh0KFwi5p2+5byAIOe7k+adn1wiKVxuXHRcdH0pLCAkKGRvY3VtZW50KS5vbihcInd4LmF1ZGlvLnJlY29yZGVuZFwiLCBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRqICYmIGNsZWFySW50ZXJ2YWwoaiksICQoXCIjXCIgKyBiKS5yZW1vdmVDbGFzcyhcInJlY29yZGluZ1wiKS50ZXh0KFwi5oyJ5L2PIOivtOivnVwiKSwgJChcIiNwYW5lbFwiICsgYikucmVtb3ZlKCksICQoXCIjd3hwXCIgKyBiLnN1YnN0cmluZygzKSkucmVtb3ZlQ2xhc3MoXCJncmVlbi1iYWNrXCIpLCB3eC5zdG9wUmVjb3JkKHtcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdGkgPSAwLCBlcVNob3cuZXhlY3V0ZVBsYXkoKSwgZShhLmxvY2FsSWQsIGIpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGVycm9yOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0YWxlcnQoSlNPTi5zdHJpbmdpZnkoYSkpXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0fSksICQoZG9jdW1lbnQpLm9uKFwid3guYXVkaW8ucGxheVwiLCBmdW5jdGlvbihjLCBlKSB7XG5cdFx0XHR2YXIgZyA9ICgkKFwiI21lZGlhXCIpLmdldCgwKSwgQ0xJRU5UX0NETiArIFwiYXNzZXRzL2F1ZGlvL3dleGluX3NvdW5kLm1wM1wiKTtcblx0XHRcdHV0aWxTb3VuZC5wYXVzZSgpLCBiW1wid3hyXCIgKyBlLnN1YnN0cmluZygzKV0gPyAoYSA9IGJbXCJ3eHJcIiArIGUuc3Vic3RyaW5nKDMpXSwgZXFTaG93LmV4ZWN1dGVQYXVzZSgpLCB3eC5wbGF5Vm9pY2Uoe1xuXHRcdFx0XHRsb2NhbElkOiBhXG5cdFx0XHR9KSkgOiBkLm1hcCAmJiBkLm1hcC53eENvbXBvbmVudCAmJiBkLm1hcC53eENvbXBvbmVudFtlXSA/IHd4LmRvd25sb2FkVm9pY2Uoe1xuXHRcdFx0XHRzZXJ2ZXJJZDogZC5tYXAud3hDb21wb25lbnRbZV0sXG5cdFx0XHRcdGlzU2hvd1Byb2dyZXNzVGlwczogMSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oYikge1xuXHRcdFx0XHRcdHZhciBjID0gYSA9IGIubG9jYWxJZDtcblx0XHRcdFx0XHRlcVNob3cuZXhlY3V0ZVBhdXNlKCksIHd4LnBsYXlWb2ljZSh7XG5cdFx0XHRcdFx0XHRsb2NhbElkOiBjXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fSxcblx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRlcVNob3cuZXhlY3V0ZVBhdXNlKCksIGYoZylcblx0XHRcdFx0fVxuXHRcdFx0fSkgOiAoZXFTaG93LmV4ZWN1dGVQYXVzZSgpLCBmKGcpKSwgd3gub25Wb2ljZVBsYXlFbmQoe1xuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0ZXFTaG93LmV4ZWN1dGVQbGF5KClcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9KTtcblx0XHR2YXIgalxuXHR9LCB3ZWNoYXRVdGlscy5zdG9wV2VjaGF0U291bmQgPSBmdW5jdGlvbigpIHtcblx0XHRhICYmIHd4LnN0b3BWb2ljZSh7XG5cdFx0XHRsb2NhbElkOiBhXG5cdFx0fSlcblx0fVxufSgpO1xudmFyIHdlY2hhdENvbmZpZyA9IGZ1bmN0aW9uKCkge1xuXHRcdGZ1bmN0aW9uIGEoYSkge1xuXHRcdFx0dmFyIGUgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KFwiI1wiKVswXSxcblx0XHRcdFx0ZiA9IERhdGUubm93KCksXG5cdFx0XHRcdGcgPSBcImluZGV4LnBocD9jPWVxcyZhPXRpY2tldFwiLFxuXHRcdFx0XHRoID0gbmV3IFJlZ0V4cChkLnJlcGxhY2UoXCJoNS5cIiwgXCJcIikpLFxuXHRcdFx0XHRpID0gbmV3IFJlZ0V4cChkLnJlcGxhY2UoXCJoNS5cIiwgXCJcIikucmVwbGFjZShcImNuXCIsIFwiY29tXCIpKTtcblx0XHRcdGgudGVzdChlKSB8fCBpLnRlc3QoZSkgfHwgKGcgKz0gKC9cXD8vLnRlc3QoZykgPyBcIiZcIiA6IFwiP1wiKSArIFwiZG9tYWluPVwiICsgYyksIGcgKz0gKC9cXD8vLnRlc3QoZykgPyBcIiZcIiA6IFwiP1wiKSArIFwidGltZT1cIiArIChuZXcgRGF0ZSkuZ2V0VGltZSgpLCAkLmFqYXgoe1xuXHRcdFx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdFx0XHR1cmw6IFBSRUZJWF9TMV9VUkwgKyBnLFxuXHRcdFx0XHRjcm9zc0RvbWFpbjogITBcblx0XHRcdH0pLnRoZW4oZnVuY3Rpb24oYykge1xuXHRcdFx0XHRjLnN1Y2Nlc3MgJiYgYy5vYmouYXBwSWQgJiYgYy5vYmoudGlja2V0ICYmIC0xICE9IGMub2JqLnRpY2tldCAmJiBiKGMub2JqLmFwcElkLCBjLm9iai50aWNrZXQsIGEsIGYpXG5cdFx0XHR9LCBmdW5jdGlvbihhKSB7fSlcblx0XHR9XG5cdFx0ZnVuY3Rpb24gYihhLCBiLCBjLCBkKSB7XG5cdFx0XHR2YXIgZSA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoXCIjXCIpWzBdLFxuXHRcdFx0XHRmID0gXCJlcXhpdXZpZXdcIixcblx0XHRcdFx0ZyA9IFwianNhcGlfdGlja2V0PVwiICsgYiArIFwiJm5vbmNlc3RyPVwiICsgZiArIFwiJnRpbWVzdGFtcD1cIiArIGQgKyBcIiZ1cmw9XCIgKyBlLFxuXHRcdFx0XHRoID0gbmV3IGpzU0hBKGcsIFwiVEVYVFwiKSxcblx0XHRcdFx0aSA9IGguZ2V0SGFzaChcIlNIQS0xXCIsIFwiSEVYXCIpO1xuXHRcdFx0d3guY29uZmlnKHtcblx0XHRcdFx0ZGVidWc6ICExLFxuXHRcdFx0XHRhcHBJZDogYSxcblx0XHRcdFx0dGltZXN0YW1wOiBkLFxuXHRcdFx0XHRub25jZVN0cjogZixcblx0XHRcdFx0c2lnbmF0dXJlOiBpLFxuXHRcdFx0XHRqc0FwaUxpc3Q6IFtcImNoZWNrSnNBcGlcIiwgXCJvbk1lbnVTaGFyZVRpbWVsaW5lXCIsIFwib25NZW51U2hhcmVBcHBNZXNzYWdlXCIsIFwib25NZW51U2hhcmVRUVwiLCBcIm9uTWVudVNoYXJlV2VpYm9cIiwgXCJjaG9vc2VJbWFnZVwiLCBcInByZXZpZXdJbWFnZVwiLCBcInVwbG9hZEltYWdlXCIsIFwiZG93bmxvYWRJbWFnZVwiLCBcInN0YXJ0UmVjb3JkXCIsIFwic3RvcFJlY29yZFwiLCBcIm9uVm9pY2VSZWNvcmRFbmRcIiwgXCJwbGF5Vm9pY2VcIiwgXCJwYXVzZVZvaWNlXCIsIFwic3RvcFZvaWNlXCIsIFwib25Wb2ljZVBsYXlFbmRcIiwgXCJ1cGxvYWRWb2ljZVwiLCBcImRvd25sb2FkVm9pY2VcIl1cblx0XHRcdH0pLCB3eC5yZWFkeShmdW5jdGlvbigpIHtcblx0XHRcdFx0d2VjaGF0VXRpbHMuc2hhcmVXZWl4aW5XaGVuUmVhZHkoZSwgYywgbnVsbCwgbnVsbCwgITApLCB3ZWNoYXRVdGlscy53ZWNoYXRJbWdVcGxvYWQoZSwgYyksIHdlY2hhdFV0aWxzLndlY2hhdEF1ZGlvVXBsb2FkKGUsIGMpXG5cdFx0XHR9KVxuXHRcdH1cblx0XHR2YXIgYyA9IGVxU2hvdy5nZXREb21haW4od2luZG93LmxvY2F0aW9uLmhyZWYpLFxuXHRcdFx0ZCA9IGVxU2hvdy5nZXREb21haW4oUFJFRklYX1NIT1dfSE9TVCk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGNvbmZpZ1dlaXhpbjogYVxuXHRcdH1cblx0fSh3aW5kb3cpO1xuIVxuZnVuY3Rpb24oYSkge1xuXHRhLmNvbXBsZXRlRWZmZWN0ID0gZnVuY3Rpb24oYSkge1xuXHRcdHJldHVybiBhLmZpbmQoXCIubG9ja1wiKS5nZXQoMCkgPyAhMSA6ICEwXG5cdH1cbn0od2luZG93LCBqUXVlcnkpLCBmdW5jdGlvbigpIHtcblx0d2luZG93LmVxeCA9IHt9LCB3aW5kb3cuZXF4Lm1vbmV5ID0ge1xuXHRcdGNvbmZpZzoge1xuXHRcdFx0bW9kZTogMyxcblx0XHRcdGVmZmVjdENhbGxiYWNrOiBcImVkaXRNb25leVwiLFxuXHRcdFx0aW1hZ2VDYWxsYmFjazogXCJjb3VudE1vbmV5XCIsXG5cdFx0XHRyZXNvdXJjZXM6IFt7XG5cdFx0XHRcdHVybDogQ0xJRU5UX0NETiArIFwiY29tbW9uL2pzL2NvdW50TW9uZXkuanNcIixcblx0XHRcdFx0dHlwZTogXCJqc1wiXG5cdFx0XHR9LCB7XG5cdFx0XHRcdHVybDogQ0xJRU5UX0NETiArIFwiYXNzZXRzL2ltYWdlcy9tb25leS9tb25leWJnLnBuZ1wiLFxuXHRcdFx0XHR0eXBlOiBcImltYWdlXCJcblx0XHRcdH0sIHtcblx0XHRcdFx0dXJsOiBDTElFTlRfQ0ROICsgXCJhc3NldHMvaW1hZ2VzL21vbmV5L21vcmVtb25leS5wbmdcIixcblx0XHRcdFx0dHlwZTogXCJpbWFnZVwiXG5cdFx0XHR9LCB7XG5cdFx0XHRcdHVybDogQ0xJRU5UX0NETiArIFwiYXNzZXRzL2ltYWdlcy9tb25leS9mbHltb25leS5wbmdcIixcblx0XHRcdFx0dHlwZTogXCJpbWFnZVwiXG5cdFx0XHR9LCB7XG5cdFx0XHRcdHVybDogQ0xJRU5UX0NETiArIFwiYXNzZXRzL2ltYWdlcy9tb25leS9mbG9hdC5wbmdcIixcblx0XHRcdFx0dHlwZTogXCJpbWFnZVwiXG5cdFx0XHR9LCB7XG5cdFx0XHRcdHVybDogQ0xJRU5UX0NETiArIFwiYXNzZXRzL2ltYWdlcy9tb25leS9mbG9hdDIucG5nXCIsXG5cdFx0XHRcdHR5cGU6IFwiaW1hZ2VcIlxuXHRcdFx0fSwge1xuXHRcdFx0XHR1cmw6IENMSUVOVF9DRE4gKyBcImFzc2V0cy9pbWFnZXMvbW9uZXkvZmxvYXQzLnBuZ1wiLFxuXHRcdFx0XHR0eXBlOiBcImltYWdlXCJcblx0XHRcdH1dXG5cdFx0fVxuXHR9LCB3aW5kb3cuZXF4LnNub3dGbHkgPSB7XG5cdFx0Y29uZmlnOiB7XG5cdFx0XHRtb2RlOiA0LFxuXHRcdFx0ZWZmZWN0Q2FsbGJhY2s6IFwiZmx5QWN0aW9uXCIsXG5cdFx0XHRyZXNvdXJjZXM6IFt7XG5cdFx0XHRcdHVybDogQ0xJRU5UX0NETiArIFwiY29tbW9uL2pzL3Nub3dlZmZlY3QuanNcIixcblx0XHRcdFx0dHlwZTogXCJqc1wiXG5cdFx0XHR9LCB7XG5cdFx0XHRcdHVybDogQ0xJRU5UX0NETiArIFwiY29tbW9uL2pzL3RocmVlY2FudmFzLmpzXCIsXG5cdFx0XHRcdHR5cGU6IFwianNcIlxuXHRcdFx0fV1cblx0XHR9XG5cdH0sIHdpbmRvdy5lcXgucmFpbnlEYXkgPSB7XG5cdFx0Y29uZmlnOiB7XG5cdFx0XHRtb2RlOiA0LFxuXHRcdFx0ZWZmZWN0Q2FsbGJhY2s6IFwicmFpbnlFZmZlY3RcIixcblx0XHRcdHJlc291cmNlczogW3tcblx0XHRcdFx0dXJsOiBDTElFTlRfQ0ROICsgXCJjb21tb24vanMvcmFpbnlkYXkuanNcIixcblx0XHRcdFx0dHlwZTogXCJqc1wiXG5cdFx0XHR9LCB7XG5cdFx0XHRcdHVybDogQ0xJRU5UX0NETiArIFwiY29tbW9uL2pzL3JhaW55ZWZmZWN0LmpzXCIsXG5cdFx0XHRcdHR5cGU6IFwianNcIlxuXHRcdFx0fV1cblx0XHR9XG5cdH0sIHdpbmRvdy5lcXguZmlyZVdvcmtzID0ge1xuXHRcdGNvbmZpZzoge1xuXHRcdFx0bW9kZTogNCxcblx0XHRcdGVmZmVjdENhbGxiYWNrOiBcImZpcmVXb3Jrc1wiLFxuXHRcdFx0cmVzb3VyY2VzOiBbe1xuXHRcdFx0XHR1cmw6IENMSUVOVF9DRE4gKyBcImNvbW1vbi9qcy9maXJld29ya3MuanNcIixcblx0XHRcdFx0dHlwZTogXCJqc1wiXG5cdFx0XHR9XVxuXHRcdH1cblx0fVxufSgpLCBmdW5jdGlvbigpIHtcblx0ZnVuY3Rpb24gYShhKSB7XG5cdFx0cmVzb3VyY2VzLmxvYWRlZCA9ICEwLCBhIGluc3RhbmNlb2YgQXJyYXkgPyBhLmZvckVhY2goZnVuY3Rpb24oYSkge1xuXHRcdFx0YihhKVxuXHRcdH0pIDogYihhKVxuXHR9XG5cdGZ1bmN0aW9uIGIoYSkge1xuXHRcdGlmIChcImxvYWRpbmdcIiAhPT0gZlthLnVybF0pIHtcblx0XHRcdGlmIChmW2EudXJsXSkgcmV0dXJuIGZbYS51cmxdO1xuXHRcdFx0aWYgKGZbYS51cmxdID0gITEsIFwiaW1hZ2VcIiA9PT0gYS50eXBlKSB7XG5cdFx0XHRcdHZhciBiID0gbmV3IEltYWdlO1xuXHRcdFx0XHRmW2EudXJsXSA9IFwibG9hZGluZ1wiLCBiLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGZbYS51cmxdID0gYiwgZCgpICYmIGcuZm9yRWFjaChmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0XHRhKClcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9LCBiLnNyYyA9IGEudXJsXG5cdFx0XHR9IGVsc2UgXCJqc1wiID09PSBhLnR5cGUgJiYgKGZbYS51cmxdID0gXCJsb2FkaW5nXCIsICQuZ2V0U2NyaXB0KGEudXJsLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZlthLnVybF0gPSAhMCwgZCgpICYmIGcuZm9yRWFjaChmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0YSgpXG5cdFx0XHRcdH0pXG5cdFx0XHR9KSlcblx0XHR9XG5cdH1cblx0ZnVuY3Rpb24gYyhhKSB7XG5cdFx0cmV0dXJuIGZbYV1cblx0fVxuXHRmdW5jdGlvbiBkKCkge1xuXHRcdHZhciBhID0gITA7XG5cdFx0Zm9yICh2YXIgYiBpbiBmKSBpZiAoZi5oYXNPd25Qcm9wZXJ0eShiKSAmJiAoIWZbYl0gfHwgXCJsb2FkaW5nXCIgPT09IGZbYl0pKSByZXR1cm4gITE7XG5cdFx0cmV0dXJuIGFcblx0fVxuXHRmdW5jdGlvbiBlKGEpIHtcblx0XHRnLnB1c2goYSlcblx0fVxuXHR2YXIgZiA9IHt9LFxuXHRcdGcgPSBbXTtcblx0d2luZG93LnJlc291cmNlcyA9IHtcblx0XHRsb2FkOiBhLFxuXHRcdGdldDogYyxcblx0XHRvblJlYWR5OiBlLFxuXHRcdGlzUmVhZHk6IGRcblx0fVxufSgpLCBmdW5jdGlvbihhLCBiKSB7XG5cdGZ1bmN0aW9uIGMoYSwgYykge1xuXHRcdGNvbXBsZXRlRWZmZWN0KGIoXCIuei1jdXJyZW50XCIpKSAmJiAoRSA9IFwic3RhcnRlZFwiLCBELmxlbmd0aCB8fCAoRCA9IG4uZmluZChcIi5tYWluLXBhZ2VcIikpLCBjIHx8IChCID8gKGEgPSBldmVudCwgcSA9IHtcblx0XHRcdHg6IGEudG91Y2hlc1swXS5wYWdlWCAtIG4ub2Zmc2V0KCkubGVmdCxcblx0XHRcdHk6IGEudG91Y2hlc1swXS5wYWdlWSAtIG4ub2Zmc2V0KCkudG9wXG5cdFx0fSkgOiBxID0ge1xuXHRcdFx0eDogYS5wYWdlWCAtIG4ub2Zmc2V0KCkubGVmdCxcblx0XHRcdHk6IGEucGFnZVkgLSBuLm9mZnNldCgpLnRvcFxuXHRcdH0pKVxuXHR9XG5cdGZ1bmN0aW9uIGQoYSwgYykge1xuXHRcdGlmIChFID0gXCJ0dXJuaW5nXCIsIFcgJiYgVy5vYmoucHJvcGVydHkuYXV0b0ZsaXAgJiYgVy5vYmoucHJvcGVydHkuYXV0b0ZsaXBUaW1lICYmIG0oKSwgYyB8fCAoQiA/IChhID0gZXZlbnQsIHIgPSB7XG5cdFx0XHR4OiBhLnRvdWNoZXNbMF0ucGFnZVggLSBuLm9mZnNldCgpLmxlZnQsXG5cdFx0XHR5OiBhLnRvdWNoZXNbMF0ucGFnZVkgLSBuLm9mZnNldCgpLnRvcFxuXHRcdH0pIDogciA9IHtcblx0XHRcdHg6IGEucGFnZVggLSBuLm9mZnNldCgpLmxlZnQsXG5cdFx0XHR5OiBhLnBhZ2VZIC0gbi5vZmZzZXQoKS50b3Bcblx0XHR9KSwgcyA9IHIueCAtIHEueCwgMCA+IHMpIHtcblx0XHRcdGlmICh4KSB7XG5cdFx0XHRcdHggPSAhMSwgQiAmJiBwID8gdiA9ICEwIDogcS55ID49IG4uaGVpZ2h0KCkgLyAyID8gdCA9ICEwIDogcS55IDwgbi5oZWlnaHQoKSAvIDIgJiYgKHUgPSAhMCksIHkgPSBiKFwiLnotY3VycmVudFwiKS5nZXQoMCk7XG5cdFx0XHRcdHZhciBkID0gYih5KS5maW5kKFwiLm0taW1nXCIpLmF0dHIoXCJpZFwiKS5zdWJzdHJpbmcoNCk7XG5cdFx0XHRcdGlmIChvID0gYihcIiNmbGlwXCIgKyBkKSwgWiB8fCAoeiA9IGIoeSkucGFyZW50KFwiLmZsaXAtbWFza1wiKS5nZXQoMCkubmV4dEVsZW1lbnRTaWJsaW5nICYmIGIoYih5KS5wYXJlbnQoXCIuZmxpcC1tYXNrXCIpLmdldCgwKS5uZXh0RWxlbWVudFNpYmxpbmcpLmZpbmQoXCIubWFpbi1wYWdlXCIpLmdldCgwKSA/IGIoYih5KS5wYXJlbnQoXCIuZmxpcC1tYXNrXCIpLmdldCgwKS5uZXh0RWxlbWVudFNpYmxpbmcpLmZpbmQoXCIubWFpbi1wYWdlXCIpLmdldCgwKSA6IEEgPyBELmZpcnN0KCkuZ2V0KDApIDogITEpLCB6KSB7XG5cdFx0XHRcdFx0Yih6KS5maW5kKFwiLm0taW1nXCIpLmF0dHIoXCJpZFwiKS5zdWJzdHJpbmcoNCk7XG5cdFx0XHRcdFx0Yih5KS5wYXJlbnQoXCIuZmxpcC1tYXNrXCIpLmNzcyh7XG5cdFx0XHRcdFx0XHR6SW5kZXg6IDEwMCxcblx0XHRcdFx0XHRcdGRpc3BsYXk6IFwiYmxvY2tcIlxuXHRcdFx0XHRcdH0pLCBiKHopLmFkZENsYXNzKFwiei1hY3RpdmVcIikucGFyZW50KFwiLmZsaXAtbWFza1wiKS5jc3Moe1xuXHRcdFx0XHRcdFx0ekluZGV4OiA5OSxcblx0XHRcdFx0XHRcdGRpc3BsYXk6IFwiYmxvY2tcIlxuXHRcdFx0XHRcdH0pLCBpKHopLCBjb21wbGV0ZUVmZmVjdChiKHopKSB8fCBiKFwiI2F1ZGlvX2J0blwiKS5jc3MoXCJvcGFjaXR5XCIsIDApLCB0ID8gKGIoXCIuei1jdXJyZW50XCIpLmNzcyh7XG5cdFx0XHRcdFx0XHR0b3A6IG8uaGVpZ2h0KCkgLSBuLmhlaWdodCgpICsgXCJweFwiLFxuXHRcdFx0XHRcdFx0bGVmdDogXCIwXCJcblx0XHRcdFx0XHR9KSwgby5jc3Moe1xuXHRcdFx0XHRcdFx0dG9wOiBcIi1cIiArIChvLmhlaWdodCgpIC0gbi5oZWlnaHQoKSkgKyBcInB4XCJcblx0XHRcdFx0XHR9KSwgYihcIi50dXJuaW5nXCIpLmNzcyh7XG5cdFx0XHRcdFx0XHR0cmFuc2Zvcm1PcmlnaW46IFwiMCUgMTAwJSAwcHhcIixcblx0XHRcdFx0XHRcdGxlZnQ6IG4ud2lkdGgoKSArIFwicHhcIixcblx0XHRcdFx0XHRcdHRvcDogbi5oZWlnaHQoKSArIFwicHhcIlxuXHRcdFx0XHRcdH0pKSA6IHUgPyBiKFwiLnR1cm5pbmdcIikuY3NzKHtcblx0XHRcdFx0XHRcdHRvcDogXCIwXCIsXG5cdFx0XHRcdFx0XHRsZWZ0OiBuLndpZHRoKCkgKyBcInB4XCIsXG5cdFx0XHRcdFx0XHR0cmFuc2Zvcm1PcmlnaW46IFwiMCUgMCUgMHB4XCJcblx0XHRcdFx0XHR9KSA6IHYgJiYgKGIoXCIuei1jdXJyZW50XCIpLmNzcyh7XG5cdFx0XHRcdFx0XHR0b3A6IDAsXG5cdFx0XHRcdFx0XHRsZWZ0OiBiKHRoaXMpLndpZHRoKCkgLSBuLndpZHRoKCkgKyBcInB4XCJcblx0XHRcdFx0XHR9KSwgby5jc3Moe1xuXHRcdFx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRcdFx0bGVmdDogLShvLndpZHRoKCkgLSBuLndpZHRoKCkpICsgXCJweFwiXG5cdFx0XHRcdFx0fSksIGIoXCIudHVybmluZ1wiKS5jc3Moe1xuXHRcdFx0XHRcdFx0dHJhbnNmb3JtT3JpZ2luOiBcIjAlIDEwMCUgMHB4XCIsXG5cdFx0XHRcdFx0XHRsZWZ0OiBuLndpZHRoKCkgKyBcInB4XCIsXG5cdFx0XHRcdFx0XHR0b3A6IDBcblx0XHRcdFx0XHR9KSlcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAocyA+IDAgJiYgeCkge1xuXHRcdFx0eCA9ICExLCB3ID0gITAsIHkgPSBiKFwiLnotY3VycmVudFwiKS5nZXQoMCk7XG5cdFx0XHR2YXIgZCA9IGIoeSkuZmluZChcIi5tLWltZ1wiKS5hdHRyKFwiaWRcIikuc3Vic3RyKDQpO1xuXHRcdFx0byA9IGIoXCIjZmxpcFwiICsgZCksIFogfHwgKHogPSBiKHkpLnBhcmVudChcIi5mbGlwLW1hc2tcIikuZ2V0KDApLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgYihiKHkpLnBhcmVudChcIi5mbGlwLW1hc2tcIikuZ2V0KDApLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpLmZpbmQoXCIubWFpbi1wYWdlXCIpLmdldCgwKSA/IGIoYih5KS5wYXJlbnQoXCIuZmxpcC1tYXNrXCIpLmdldCgwKS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKS5maW5kKFwiLm1haW4tcGFnZVwiKS5nZXQoMCkgOiBBID8gRC5sYXN0KCkuZ2V0KDApIDogITEpLCB6ICYmIChpKHopLCBjb21wbGV0ZUVmZmVjdChiKHopKSB8fCBiKFwiI2F1ZGlvX2J0blwiKS5jc3MoXCJvcGFjaXR5XCIsIDApLCBiKHkpLnBhcmVudChcIi5mbGlwLW1hc2tcIikuY3NzKHtcblx0XHRcdFx0ZGlzcGxheTogXCJibG9ja1wiXG5cdFx0XHR9KSwgYih6KS5hZGRDbGFzcyhcInotYWN0aXZlXCIpLnBhcmVudChcIi5mbGlwLW1hc2tcIikuY3NzKHtcblx0XHRcdFx0ekluZGV4OiA5OSxcblx0XHRcdFx0ZGlzcGxheTogXCJibG9ja1wiXG5cdFx0XHR9KSwgYihcIi50dXJuaW5nXCIpLmNzcyh7XG5cdFx0XHRcdHRvcDogXCIwXCIsXG5cdFx0XHRcdGxlZnQ6IFwiMFwiLFxuXHRcdFx0XHR0cmFuc2Zvcm1PcmlnaW46IFwiMCUgMCUgMHB4XCJcblx0XHRcdH0pKVxuXHRcdH1cblx0XHR6ICYmIGYocilcblx0fVxuXHRmdW5jdGlvbiBlKGEsIGIpIHtcblx0XHRpZiAoIXopIHJldHVybiBFID0gXCJmZWVsaW5nXCIsIHQgPSAhMSwgdSA9ICExLCB2ID0gITEsIHcgPSAhMSwgdm9pZCh4ID0gITApO1xuXHRcdEUgPSBcImxlYXZpbmdcIjtcblx0XHR2YXIgYywgZCwgZSwgZztcblx0XHRiID8gKGMgPSBhLngsIGQgPSBhLnkpIDogQiA/IChjID0gci54IC0gbi5vZmZzZXQoKS5sZWZ0LCBkID0gci55IC0gbi5vZmZzZXQoKS50b3ApIDogKGMgPSBhLnBhZ2VYIC0gbi5vZmZzZXQoKS5sZWZ0LCBkID0gYS5wYWdlWSAtIG4ub2Zmc2V0KCkudG9wKSwgdCA/IChGID0gMTYsIGUgPSAtbi53aWR0aCgpLCBnID0gbi5oZWlnaHQoKSwgQyA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuXHRcdFx0YyA9IEYgPj0gYyAtIGUgPyBjIDogYyAtIEYsIGQgPSBGID49IGcgLSBkID8gZCA6IGQgKyBGLCBmKHtcblx0XHRcdFx0eDogYyxcblx0XHRcdFx0eTogZFxuXHRcdFx0fSksIEYgPj0gYyAtIGUgJiYgRiA+PSBnIC0gZCAmJiAoY2xlYXJJbnRlcnZhbChDKSwgaCgpKVxuXHRcdH0sIDEwKSkgOiB1ID8gKEYgPSAxNiwgZSA9IC1uLndpZHRoKCksIGcgPSAwLCBDID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdFx0XHRjID0gRiA+PSBjIC0gZSA/IGMgOiBjIC0gRiwgZCA9IEYgPj0gZCAtIGcgPyBkIDogZCAtIEYsIGYoe1xuXHRcdFx0XHR4OiBjLFxuXHRcdFx0XHR5OiBkXG5cdFx0XHR9KSwgRiA+PSBjIC0gZSAmJiBGID49IGQgLSBnICYmIChjbGVhckludGVydmFsKEMpLCBoKCkpXG5cdFx0fSwgMSkpIDogdiA/IChGID0gNSwgZSA9IC1uLndpZHRoKCksIEMgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcblx0XHRcdGMgPSBGID49IGMgLSBlID8gYyA6IGMgLSBGLCBmKHtcblx0XHRcdFx0eDogYyxcblx0XHRcdFx0eTogZFxuXHRcdFx0fSksIEYgPj0gYyAtIGUgJiYgKGNsZWFySW50ZXJ2YWwoQyksIGgoKSlcblx0XHR9LCAxKSkgOiB3ICYmIChGID0gMywgZSA9IG4ud2lkdGgoKSwgZyA9IDAsIEMgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcblx0XHRcdGMgPSBGID49IGUgLSBjID8gYyA6IGMgKyBGLCBmKHtcblx0XHRcdFx0eDogYyxcblx0XHRcdFx0eTogZFxuXHRcdFx0fSksIEYgPj0gZSAtIGMgJiYgKGNsZWFySW50ZXJ2YWwoQyksIGgoKSlcblx0XHR9LCAxKSlcblx0fVxuXHRmdW5jdGlvbiBmKGEpIHtcblx0XHR0IHx8IHUgPyAoSCA9IG4ud2lkdGgoKSAtIGEueCwgdCA/IEkgPSBNYXRoLmFicyhuLmhlaWdodCgpIC0gYS55KSA6IHUgJiYgKEkgPSBhLnkpLCBKID0gSSAvIEgsIEsgPSBJIC8gTWF0aC5zcXJ0KEggKiBIICsgSSAqIEkpLCBMID0gTWF0aC5zcXJ0KDEgLSBLICogSyksIE0gPSBNYXRoLnNxcnQoSCAqIEggKyBJICogSSkgLyAyLCBOID0gTSAqIEosIE8gPSBNYXRoLnNxcnQoTiAqIE4gKyBNICogTSksIFAgPSBPIC8gSiwgRyA9IDE4MCAqIE1hdGguYXRhbihKKSAvIE1hdGguUEkgPiAwID8gMTgwICogTWF0aC5hdGFuKEopIC8gTWF0aC5QSSA6IDAsIFEgPSAobi53aWR0aCgpIC0gTykgKiBMLCBSID0gKG4ud2lkdGgoKSAtIE8pICogSyAqIEwsIFMgPSAobi53aWR0aCgpIC0gTykgKiAoMSAtIEsgKiBLKSwgUSA+PSAxICYmICh0ID8gKEcgPiAxID8gYihcIi50dXJuaW5nXCIpLmNzcyh7XG5cdFx0XHR3aWR0aDogTyArIFwicHhcIixcblx0XHRcdGhlaWdodDogUCArIFwicHhcIixcblx0XHRcdGJhY2tncm91bmRDb2xvcjogXCIjZmYwMDAwXCIsXG5cdFx0XHRiYWNrZ3JvdW5kOiBcIi13ZWJraXQtbGluZWFyLWdyYWRpZW50KFwiICsgKDE4MCAtIEcpICsgXCJkZWcsICNmZmYgMTAlLCAjZDFjZmM3IDQwJSwgI2YyZWVlMiA1MCUsIHRyYW5zcGFyZW50IDUwJSwgdHJhbnNwYXJlbnQgMTAwJSlcIixcblx0XHRcdHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVYKC1cIiArIChPIC0gMykgKyBcInB4KSB0cmFuc2xhdGVZKC1cIiArIChQIC0gMykgKyBcInB4KSByb3RhdGUoXCIgKyAyICogRyArIFwiZGVnKSBzY2FsZVgoLTEpXCJcblx0XHR9KSA6IGcoYSksIFQgPSBcIjAlIDEwMCUgMHB4XCIsIFUgPSBcInJvdGF0ZSgtXCIgKyAoOTAgLSBHKSArIFwiZGVnKSB0cmFuc2xhdGVZKFwiICsgUSArIFwicHgpXCIsIFYgPSBcInJvdGF0ZShcIiArICg5MCAtIEcpICsgXCJkZWcpIHRyYW5zbGF0ZVkoLVwiICsgUiArIFwicHgpIHRyYW5zbGF0ZVgoLVwiICsgUyArIFwicHgpXCIpIDogdSAmJiAoRyA+IDEgPyBiKFwiLnR1cm5pbmdcIikuY3NzKHtcblx0XHRcdHdpZHRoOiBPICsgXCJweFwiLFxuXHRcdFx0aGVpZ2h0OiBQICsgXCJweFwiLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiBcIiMwMDBcIixcblx0XHRcdGJhY2tncm91bmQ6IFwiLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoLVwiICsgKDE4MCAtIEcpICsgXCJkZWcsICNmZmYgMTAlLCAjZDFjZmM3IDQwJSwgI2YyZWVlMiA1MCUsIHRyYW5zcGFyZW50IDUwJSwgdHJhbnNwYXJlbnQgMTAwJSlcIixcblx0XHRcdHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVYKC1cIiArIChPIC0gMikgKyBcInB4KSByb3RhdGUoLVwiICsgMiAqIEcgKyBcImRlZykgc2NhbGVYKC0xKVwiXG5cdFx0fSkgOiBnKGEpLCBUID0gXCIwJSAwJSAwcHhcIiwgVSA9IFwicm90YXRlKFwiICsgKDkwIC0gRykgKyBcImRlZykgdHJhbnNsYXRlWSgtXCIgKyBRICsgXCJweClcIiwgViA9IFwicm90YXRlKC1cIiArICg5MCAtIEcpICsgXCJkZWcpIHRyYW5zbGF0ZVkoXCIgKyBSICsgXCJweCkgdHJhbnNsYXRlWCgtXCIgKyBTICsgXCJweClcIiksIG8uY3NzKHtcblx0XHRcdHpJbmRleDogMTAwLFxuXHRcdFx0dHJhbnNmb3JtT3JpZ2luOiBULFxuXHRcdFx0dHJhbnNmb3JtOiBVXG5cdFx0fSksIGIoeikucGFyZW50KFwiLmZsaXAtbWFza1wiKS5jc3Moe1xuXHRcdFx0ekluZGV4OiA5OSxcblx0XHRcdGRpc3BsYXk6IFwiYmxvY2tcIlxuXHRcdH0pLCBiKHopLmNzcyh7XG5cdFx0XHR6SW5kZXg6IDFlM1xuXHRcdH0pLCBiKHkpLmNzcyh7XG5cdFx0XHR0cmFuc2Zvcm1PcmlnaW46IFQsXG5cdFx0XHR0cmFuc2Zvcm06IFZcblx0XHR9KSkpIDogdiA/IChiKFwiLnR1cm5pbmdcIikuY3NzKHtcblx0XHRcdHdpZHRoOiAobi53aWR0aCgpIC0gYS54KSAvIDIgKyBcInB4XCIsXG5cdFx0XHRoZWlnaHQ6IG4uaGVpZ2h0KCkgKyBcInB4XCIsXG5cdFx0XHRsZWZ0OiBhLnggKyBcInB4XCIsXG5cdFx0XHRiYWNrZ3JvdW5kOiBcIi13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQsICNmZmYgMCUgLCAjZDFjZmM3IDE1JSwgI2YyZWVlMiA4NSUsICNmZmYgMTAwJSlcIlxuXHRcdH0pLCBvLmNzcyh7XG5cdFx0XHR0cmFuc2Zvcm1PcmlnaW46IFwiMCUgNTAlIDBweFwiLFxuXHRcdFx0bGVmdDogMCxcblx0XHRcdHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVYKC1cIiArIChvLndpZHRoKCkgLSBhLngpICsgXCJweClcIlxuXHRcdH0pLCBiKHkpLmNzcyh7XG5cdFx0XHR0cmFuc2Zvcm1PcmlnaW46IFwiMCUgNTAlIDBweFwiLFxuXHRcdFx0dHJhbnNmb3JtOiBcInRyYW5zbGF0ZVgoXCIgKyAoby53aWR0aCgpIC0gYS54KSArIFwicHgpXCJcblx0XHR9KSkgOiB3ICYmIChvLmNzcyh7XG5cdFx0XHR6SW5kZXg6IDEwMCxcblx0XHRcdHRyYW5zZm9ybU9yaWdpbjogXCIwJSA1MCUgMHB4XCIsXG5cdFx0XHR0cmFuc2Zvcm06IFwidHJhbnNsYXRlWChcIiArIGEueCArIFwicHgpXCJcblx0XHR9KSwgYih5KS5jc3Moe1xuXHRcdFx0dHJhbnNmb3JtT3JpZ2luOiBcIjAlIDUwJSAwcHhcIixcblx0XHRcdHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVYKC1cIiArIGEueCArIFwicHgpXCJcblx0XHR9KSwgYihcIi50dXJuaW5nXCIpLmNzcyh7XG5cdFx0XHR3aWR0aDogbi53aWR0aCgpIC0gYS54ICsgXCJweFwiLFxuXHRcdFx0aGVpZ2h0OiBuLmhlaWdodCgpICsgXCJweFwiLFxuXHRcdFx0bGVmdDogLShuLndpZHRoKCkgLSAyICogYS54KSArIFwicHhcIixcblx0XHRcdGJhY2tncm91bmQ6IFwiLXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCwgI2ZmZiAwJSAsICNkMWNmYzcgMTUlLCAjZjJlZWUyIDg1JSwgI2ZmZiAxMDAlKVwiXG5cdFx0fSkpXG5cdH1cblx0ZnVuY3Rpb24gZyhhKSB7XG5cdFx0YihcIi50dXJuaW5nXCIpLmNzcyh7XG5cdFx0XHR3aWR0aDogKG4ud2lkdGgoKSAtIGEueCArIDYpIC8gMiArIFwicHhcIixcblx0XHRcdGhlaWdodDogbi5oZWlnaHQoKSArIFwicHhcIixcblx0XHRcdHRvcDogMCxcblx0XHRcdGxlZnQ6IGEueCArIDIgKyBcInB4XCIsXG5cdFx0XHRiYWNrZ3JvdW5kOiBcIi13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQsICNmZmYgMCUgLCAjZDFjZmM3IDEwJSwgI2YyZWVlMiA5MCUsICNmZmYgMTAwJSlcIixcblx0XHRcdHRyYW5zZm9ybTogXCJcIixcblx0XHRcdGJvcmRlcjogMFxuXHRcdH0pXG5cdH1cblx0ZnVuY3Rpb24gaCgpIHtcdFx0XG5cdFx0dmFyIGEgPSBXLmxpc3Q7XG5cdFx0Vy5vYmoucHJvcGVydHkuYXV0b0ZsaXAgJiYgVy5vYmoucHJvcGVydHkuYXV0b0ZsaXBUaW1lICYmIGwoKSwgdXRpbFNvdW5kLnBhdXNlKCk7XG5cdFx0dmFyIGMgPSBiKFwiI3JlcG9ydDBcIik7XG5cdFx0Yy5sZW5ndGggJiYgYy5yZW1vdmUoKSwgRSA9IFwiZmVlbGluZ1wiLCB0ID0gITEsIHUgPSAhMSwgdiA9ICExLCB3ID0gITEsIHggPSAhMCwgcyA9IDAsIGIoXCIuZmxpcC1tYXNrXCIpLmNzcyh7XG5cdFx0XHR0cmFuc2Zvcm06IFwiXCIsXG5cdFx0XHR0b3A6IDAsXG5cdFx0XHRsZWZ0OiAwLFxuXHRcdFx0ekluZGV4OiAwXG5cdFx0fSksIGIoeSkucmVtb3ZlQ2xhc3MoXCJ6LWN1cnJlbnRcIikuY3NzKHtcblx0XHRcdHRyYW5zZm9ybTogXCJcIixcblx0XHRcdHRvcDogMCxcblx0XHRcdGxlZnQ6IDBcblx0XHR9KSwgYih6KS5yZW1vdmVDbGFzcyhcInotYWN0aXZlXCIpLmFkZENsYXNzKFwiei1jdXJyZW50XCIpLmNzcyh7XG5cdFx0XHR0cmFuc2Zvcm06IFwiXCJcblx0XHR9KSwgYihcIi50dXJuaW5nXCIpLmNzcyh7XG5cdFx0XHR3aWR0aDogMCxcblx0XHRcdGhlaWdodDogMCxcblx0XHRcdHRvcDogMCxcblx0XHRcdGxlZnQ6IDAsXG5cdFx0XHR0cmFuc2Zvcm06IFwiXCIsXG5cdFx0XHRiYWNrZ3JvdW5kOiBcIm5vbmVcIlxuXHRcdH0pLCB5ID0gejtcblx0XHR2YXIgZCA9IGIoeikuZmluZChcIi5tLWltZ1wiKS5hdHRyKFwiaWRcIikuc3Vic3RyaW5nKDQpO1xuXHRcdGIoXCIjZmxpcFwiICsgZCkuY3NzKHtcblx0XHRcdHpJbmRleDogMTAwXG5cdFx0fSksIGIoXCIjYXVkaW9fYnRuXCIpLmNzcyhcIm9wYWNpdHlcIiwgMSksIHogPSBudWxsO1xuXHRcdHZhciBlID0gYih5KS5maW5kKFwiLm0taW1nXCIpLmF0dHIoXCJpZFwiKS5zdWJzdHJpbmcoNCk7XG5cdFx0YVtlIC0gMV0uZWxlbWVudHMgJiYgYVtlIC0gMV0uZWxlbWVudHMubGVuZ3RoICYmIGIuZWFjaChhW2UgLSAxXS5lbGVtZW50cywgZnVuY3Rpb24oYSwgYykge1xuXHRcdFx0XCJkXCIgPT0gYy50eXBlICYmIGVxU2hvdy5nZXRTaG93Q291bnQoVy5vYmouaWQpLnRoZW4oZnVuY3Rpb24oYSkge1xuXHRcdFx0XHR2YXIgZCA9IGVxU2hvdy5maXhlZE51bShhKTtcblx0XHRcdFx0YihcIiNcIiArIGMuaWQpLmZpbmQoXCIuY291bnRlci1udW1iZXJcIikudGV4dChkKVxuXHRcdFx0fSlcblx0XHR9KSwgJCB8fCBlcVNob3cuc2hvd1Byb2dyZXNzQmFyKFcsIGIoXCIjbnJcIikuZmluZChcIi5tYWluLXBhZ2VcIikpLCAkID0gITA7XG5cdH1cblx0ZnVuY3Rpb24gaShhKSB7XG5cdFx0aWYgKGEpIHtcblx0XHRcdHZhciBjID0gYihhKS5maW5kKFwiLm0taW1nXCIpLmF0dHIoXCJpZFwiKS5zdWJzdHJpbmcoNCk7XG5cdFx0XHRiKGEpLmZpbmQoXCJsaVwiKS5lYWNoKGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0Zm9yICh2YXIgZCA9IDA7IGQgPCBXLmxpc3RbYyAtIDFdLmVsZW1lbnRzLmxlbmd0aDsgZCsrKSBXLmxpc3RbYyAtIDFdLmVsZW1lbnRzW2RdLmlkID09IHBhcnNlSW50KGIodGhpcykuYXR0cihcImlkXCIpLnN1YnN0cmluZyg3KSwgMTApICYmIGVxeENvbW1vbi5hbmltYXRpb24oYih0aGlzKSwgVy5saXN0W2MgLSAxXS5lbGVtZW50c1tkXSwgXCJ2aWV3XCIpXG5cdFx0XHR9KVxuXHRcdH1cblx0fVxuXHRmdW5jdGlvbiBqKCkge1xuXHRcdFwidHVybmluZ1wiICE9IEUgJiYgXCJsZWF2aW5nXCIgIT0gRSAmJiAocSA9IHtcblx0XHRcdHg6IDAsXG5cdFx0XHR5OiBuLmhlaWdodCgpXG5cdFx0fSwgYyhxLCBcIm1vY2tcIiksIEUgPSBcInR1cm5pbmdcIiwgYihcIi5tYWluLXBhZ2VcIikuY3NzKHtcblx0XHRcdHdpZHRoOiBuLndpZHRoKCkgKyBcInB4XCIsXG5cdFx0XHRoZWlnaHQ6IG4uaGVpZ2h0KCkgKyBcInB4XCJcblx0XHR9KSwgciA9IHtcblx0XHRcdHg6IDAsXG5cdFx0XHR5OiBuLmhlaWdodCgpXG5cdFx0fSwgdyA9ICEwLCBDID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdFx0XHRyLngrKywgZChyLCBcIm1vY2tcIiksIHIueCA8PSAyNTAgJiYgKGNsZWFySW50ZXJ2YWwoQyksIGUociwgXCJtb2NrXCIpKVxuXHRcdH0sIDEpKVxuXHR9XG5cdGZ1bmN0aW9uIGsoKSB7XG5cdFx0XCJ0dXJuaW5nXCIgIT0gRSAmJiBcImxlYXZpbmdcIiAhPSBFICYmIChxID0ge1xuXHRcdFx0eDogbi53aWR0aCgpLFxuXHRcdFx0eTogbi5oZWlnaHQoKVxuXHRcdH0sIGMocSwgXCJtb2NrXCIpLCBFID0gXCJ0dXJuaW5nXCIsIGIoXCIubWFpbi1wYWdlXCIpLmNzcyh7XG5cdFx0XHR3aWR0aDogbi53aWR0aCgpICsgXCJweFwiLFxuXHRcdFx0aGVpZ2h0OiBuLmhlaWdodCgpICsgXCJweFwiXG5cdFx0fSksIHIgPSB7XG5cdFx0XHR4OiBuLndpZHRoKCksXG5cdFx0XHR5OiBuLmhlaWdodCgpXG5cdFx0fSwgQiAmJiBwID8gdiA9ICEwIDogdCA9ICEwLCBZID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdFx0XHRyLnggLT0gNSwgci55IC09IDUsIGQociwgXCJtb2NrXCIpLCByLnggPD0gMjAwICYmIChjbGVhckludGVydmFsKFkpLCBlKHIsIFwibW9ja1wiKSwgQSB8fCB6IHx8IG0oKSlcblx0XHR9LCAxKSlcblx0fVxuXHRmdW5jdGlvbiBsKCkge1xuXHRcdF8gPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBjb21wbGV0ZUVmZmVjdChiKFwiLnotY3VycmVudFwiKSkgPyB2b2lkIGsoKSA6IHZvaWQgbSgpXG5cdFx0fSwgMWUzICogWClcblx0fVxuXHRmdW5jdGlvbiBtKCkge1xuXHRcdGNsZWFySW50ZXJ2YWwoXylcblx0fVxuXHR2YXIgbiA9IGIoXCIubnJcIiksXG5cdFx0byA9IG51bGwsXG5cdFx0cCA9IGlzQW5kcm9pZCgpLFxuXHRcdHEgPSB7fSxcblx0XHRyID0ge30sXG5cdFx0cyA9IDAsXG5cdFx0dCA9ICExLFxuXHRcdHUgPSAhMSxcblx0XHR2ID0gITEsXG5cdFx0dyA9ICExLFxuXHRcdHggPSAhMCxcblx0XHR5ID0gbnVsbCxcblx0XHR6ID0gbnVsbCxcblx0XHRBID0gITEsXG5cdFx0QiA9IG1vYmlsZWNoZWNrKCksXG5cdFx0QyA9IG51bGwsXG5cdFx0RCA9IFtdLFxuXHRcdEUgPSBcImZlZWxpbmdcIixcblx0XHRGID0gMCxcblx0XHRHID0gMCxcblx0XHRIID0gMCxcblx0XHRJID0gMCxcblx0XHRKID0gMCxcblx0XHRLID0gMCxcblx0XHRMID0gMCxcblx0XHRNID0gMCxcblx0XHROID0gMCxcblx0XHRPID0gMCxcblx0XHRQID0gMCxcblx0XHRRID0gMCxcblx0XHRSID0gMCxcblx0XHRTID0gMCxcblx0XHRUID0gMCxcblx0XHRVID0gMCxcblx0XHRWID0gMCxcblx0XHRXID0gbnVsbCxcblx0XHRYID0gMCxcblx0XHRZID0gXCJcIixcblx0XHRaID0gITE7XG5cdGEudHVybkJvb2sgPSBmdW5jdGlvbihhKSB7XG5cdFx0VyA9IGEsIFcub2JqLnByb3BlcnR5LmF1dG9GbGlwICYmIFcub2JqLnByb3BlcnR5LmF1dG9GbGlwVGltZSAmJiAoWCA9IFcub2JqLnByb3BlcnR5LmF1dG9GbGlwVGltZSwgbCgpKSwgQSA9IFcub2JqLnByb3BlcnR5LnRyaWdnZXJMb29wLCBiKCc8ZGl2IGNsYXNzPVwidHVybmluZ1wiPjwvZGl2PicpLmFwcGVuZFRvKFwiLm5yXCIpLCBiKFwiLm1haW4tcGFnZVwiKS5jc3Moe1xuXHRcdFx0d2lkdGg6IGIoXCIubnJcIikud2lkdGgoKSArIFwicHhcIixcblx0XHRcdGhlaWdodDogYihcIi5uclwiKS5oZWlnaHQoKSArIFwicHhcIlxuXHRcdH0pLCBuLm9uKEIgPyBcInRvdWNoc3RhcnRcIiA6IFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFcub2JqLnByb3BlcnR5LmZvcmJpZEhhbmRGbGlwIHx8IFwiZmVlbGluZ1wiID09IEUgJiYgKGMoYSksIGIoXCIubWFpbi1wYWdlXCIpLmNzcyh7XG5cdFx0XHRcdHdpZHRoOiBuLndpZHRoKCkgKyBcInB4XCIsXG5cdFx0XHRcdGhlaWdodDogbi5oZWlnaHQoKSArIFwicHhcIlxuXHRcdFx0fSkpXG5cdFx0fSkub24oQiA/IFwidG91Y2htb3ZlXCIgOiBcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRXLm9iai5wcm9wZXJ0eS5mb3JiaWRIYW5kRmxpcCB8fCAoXCJzdGFydGVkXCIgPT0gRSB8fCBcInR1cm5pbmdcIiA9PSBFKSAmJiBkKGEpXG5cdFx0fSkub24oQiA/IFwidG91Y2hlbmRcIiA6IFwibW91c2V1cCBtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdHJldHVybiAhVy5vYmoucHJvcGVydHkuZm9yYmlkSGFuZEZsaXAgJiYgKFogPSAhMSwgYihcIi56LWN1cnJlbnRcIikuZ2V0KDApKSA/IDAgPT0gcyA/ICh4ID0gITAsIHZvaWQoRSA9IFwiZmVlbGluZ1wiKSkgOiB2b2lkKFwidHVybmluZ1wiID09IEUgJiYgZShhKSkgOiB2b2lkIDBcblx0XHR9KVxuXHR9O1xuXHR2YXIgJCA9ICExO1xuXHRhLmZsaXBCb29rU2Nyb2xsID0gZnVuY3Rpb24oYSkge1xuXHRcdFogPSAhMDtcblx0XHRmb3IgKHZhciBjLCBkID0gMCwgZSA9IFcubGlzdC5sZW5ndGg7IGUgPiBkOyBkKyspIGEgPT0gVy5saXN0W2RdLmlkICYmIChjID0gVy5saXN0W2RdLm51bSk7XG5cdFx0YyB8fCAoYyA9IGEpLCB5ID0gYihcIi56LWN1cnJlbnRcIikuZ2V0KDApO1xuXHRcdHZhciBmID0gYih5KS5maW5kKFwiLm0taW1nXCIpLmF0dHIoXCJpZFwiKS5zdWJzdHJpbmcoNCksXG5cdFx0XHRnID0gYih5KS5wYXJlbnQoXCIuZmxpcC1tYXNrXCIpLnNpYmxpbmdzKFwiLmZsaXAtbWFza1wiKS5maW5kKFwiLm1haW4tcGFnZVwiKS5maW5kKFwiI3BhZ2VcIiArIGMpO1xuXHRcdGcgJiYgKHogPSBiKGcpLnBhcmVudChcIi5tYWluLXBhZ2VcIikuZ2V0KDApLCBmID4gYyA/IGooKSA6IGMgPiBmICYmIGsoKSlcblx0fSwgYihkb2N1bWVudCkub24oXCJib29rRmxpcFByZVwiLCBmdW5jdGlvbihhKSB7XG5cdFx0aigpXG5cdH0pLCBiKGRvY3VtZW50KS5vbihcImJvb2tGbGlwTmV4dFwiLCBmdW5jdGlvbihhKSB7XG5cdFx0aygpXG5cdH0pO1xuXHR2YXIgX1xufSh3aW5kb3csIGpRdWVyeSk7XG52YXIgZXF4aXUgPSBmdW5jdGlvbigpIHtcblx0XHRmdW5jdGlvbiBhKGEsIGQpIHtcblx0XHRcdGZvciAodmFyIGUsIGYgPSAwLCBnID0gbi5fcGFnZURhdGEubGVuZ3RoOyBnID4gZjsgZisrKSBhID09IG4uX3BhZ2VEYXRhW2ZdLmlkICYmIChlID0gbi5fcGFnZURhdGFbZl0ubnVtKTtcblx0XHRcdGlmIChlIHx8IChlID0gYSksIGQpIHtcblx0XHRcdFx0aWYgKDEgPT0gZSkgcmV0dXJuO1xuXHRcdFx0XHQkKG4uJGN1cnJlbnRQYWdlKS5yZW1vdmVDbGFzcyhcInotY3VycmVudFwiKSwgbi4kY3VycmVudFBhZ2UgPSAkKG4uJGN1cnJlbnRQYWdlKS5zaWJsaW5ncyhcIi5tYWluLXBhZ2VcIikuZmluZChcIiNwYWdlXCIgKyBlKS5wYXJlbnQoKS5hZGRDbGFzcyhcInotY3VycmVudFwiKVxuXHRcdFx0fSBlbHNlIGlmIChcIjEwXCIgIT0gbi5fc2Nyb2xsTW9kZSkge1xuXHRcdFx0XHRDID0gITA7XG5cdFx0XHRcdHZhciBoID0gJChuLiRjdXJyZW50UGFnZSkuZmluZChcIi5tLWltZ1wiKS5hdHRyKFwiaWRcIikuc3Vic3RyaW5nKDQpLFxuXHRcdFx0XHRcdGkgPSAkKG4uJGN1cnJlbnRQYWdlKS5zaWJsaW5ncyhcIi5tYWluLXBhZ2VcIikuZmluZChcIiNwYWdlXCIgKyBlKTtcblx0XHRcdFx0aWYgKCFpKSByZXR1cm47XG5cdFx0XHRcdG4uJGFjdGl2ZVBhZ2UgPSAkKGkpLnBhcmVudChcIi5tYWluLXBhZ2VcIikuZ2V0KDApLCBoID4gZSA/IGIoKSA6IGUgPiBoICYmIGMoKVxuXHRcdFx0fSBlbHNlIGZsaXBCb29rU2Nyb2xsKGEpXG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGIoYSkge1xuXHRcdFx0aWYgKCEodyAmJiAyID09IGEgfHwgeCAmJiAxID09IGEpKSBpZiAoXCIxMFwiICE9IG4uX3Njcm9sbE1vZGUpIHtcblx0XHRcdFx0dmFyIGIgPSAwO1xuXHRcdFx0XHRvKCk7XG5cdFx0XHRcdHZhciBjID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0YiArPSAyLCBcIjBcIiA9PSBuLl9zY3JvbGxNb2RlIHx8IFwiMVwiID09IG4uX3Njcm9sbE1vZGUgfHwgXCIyXCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjZcIiA9PSBuLl9zY3JvbGxNb2RlIHx8IFwiN1wiID09IG4uX3Njcm9sbE1vZGUgfHwgXCI4XCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjExXCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjEyXCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjEzXCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjE0XCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjE1XCIgPT0gbi5fc2Nyb2xsTW9kZSA/IEkgPSBiIDogKFwiM1wiID09IG4uX3Njcm9sbE1vZGUgfHwgXCI0XCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjVcIiA9PSBuLl9zY3JvbGxNb2RlIHx8IFwiOVwiID09IG4uX3Njcm9sbE1vZGUpICYmIChIID0gYiksIHAoKSwgYiA+PSAyMSAmJiAoY2xlYXJJbnRlcnZhbChjKSwgcSgpKVxuXHRcdFx0XHR9LCAxKVxuXHRcdFx0fSBlbHNlICQoZG9jdW1lbnQpLnRyaWdnZXIoXCJib29rRmxpcFByZVwiKVxuXHRcdH1cblx0XHRmdW5jdGlvbiBjKGEpIHtcblx0XHRcdGlmICghKHcgJiYgMiA9PSBhIHx8IHggJiYgMSA9PSBhKSkgaWYgKFwiMTBcIiAhPSBuLl9zY3JvbGxNb2RlKSB7XG5cdFx0XHRcdHUgPSAhMTtcblx0XHRcdFx0dmFyIGIgPSAwO1xuXHRcdFx0XHRcImJsb2NrXCIgPT0gJChcImJvZHkgLmJvYXJkcy1wYW5lbFwiKS5jc3MoXCJkaXNwbGF5XCIpICYmICgkKFwiYm9keSAuYm9hcmRzLXBhbmVsXCIpLmhpZGUoKSwgJChcImJvZHkgLnotY3VycmVudFwiKS5zaG93KCkpLCBvKCk7XG5cdFx0XHRcdHZhciBjID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0YiAtPSAyLCBcIjBcIiA9PSBuLl9zY3JvbGxNb2RlIHx8IFwiMVwiID09IG4uX3Njcm9sbE1vZGUgfHwgXCIyXCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjZcIiA9PSBuLl9zY3JvbGxNb2RlIHx8IFwiN1wiID09IG4uX3Njcm9sbE1vZGUgfHwgXCI4XCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjExXCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjEyXCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjEzXCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjE0XCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjE1XCIgPT0gbi5fc2Nyb2xsTW9kZSA/IEkgPSBiIDogKFwiM1wiID09IG4uX3Njcm9sbE1vZGUgfHwgXCI0XCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjVcIiA9PSBuLl9zY3JvbGxNb2RlIHx8IFwiOVwiID09IG4uX3Njcm9sbE1vZGUpICYmIChIID0gYiksIHAoKSwgLTIxID49IGIgJiYgKGNsZWFySW50ZXJ2YWwoYyksIHEoKSwgQiB8fCBuLiRhY3RpdmVQYWdlIHx8IGNsZWFySW50ZXJ2YWwoeikpXG5cdFx0XHRcdH0sIDEpXG5cdFx0XHR9IGVsc2UgJChkb2N1bWVudCkudHJpZ2dlcihcImJvb2tGbGlwTmV4dFwiKVxuXHRcdH1cblx0XHRmdW5jdGlvbiBkKCkge1xuXHRcdFx0eiA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQxMCA9PT0gbi5fc2Nyb2xsTW9kZSB8fCBKIHx8IGMoKVxuXHRcdFx0fSwgdilcblx0XHR9XG5cdFx0ZnVuY3Rpb24gZSgpIHtcblx0XHRcdGNsZWFySW50ZXJ2YWwoeilcblx0XHR9XG5cdFx0ZnVuY3Rpb24gZigpIHtcblx0XHRcdG4uJGFjdGl2ZVBhZ2UgPSBuLl8kcGFnZXMubGFzdCgpLmdldCgwKSwgbi5fJHBhZ2VzLnBhcmVudCgpLmZpbmQoXCIuei1jdXJyZW50XCIpLnJlbW92ZUNsYXNzKFwiei1jdXJyZW50XCIpLCBuLl8kcGFnZXMubGFzdCgpLmFkZENsYXNzKFwiei1jdXJyZW50XCIpXG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGcoYSkge1xuXHRcdFx0YSA/IG4uXyRwYWdlcy5sYXN0KCkucHJldigpLnJlbW92ZSgpIDogbi5fJHBhZ2VzLmxhc3QoKS5yZW1vdmUoKVxuXHRcdH1cblx0XHRmdW5jdGlvbiBoKGEpIHtcblx0XHRcdG4uX3Njcm9sbE1vZGUgPSBhLCByID0gYSwgX3Njcm9sbE1vZGUgPSBhXG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGkoYSkge1xuXHRcdFx0bi5faXNmb3JiaWRIYW5kRmxpcCA9IGFcblx0XHR9XG5cdFx0ZnVuY3Rpb24gaihhKSB7XG5cdFx0XHR2ID0gMWUzICogYSwgZSgpLCBkKClcblx0XHR9XG5cdFx0ZnVuY3Rpb24gaygpIHtcblx0XHRcdG4uXyRwYWdlcyA9IG4uXyRhcHAuZmluZChcIi5tYWluLXBhZ2VcIilcblx0XHR9XG5cdFx0ZnVuY3Rpb24gZihhKSB7XG5cdFx0XHRuLl8kcGFnZXMucGFyZW50KCkuZmluZChcIi56LWN1cnJlbnRcIikucmVtb3ZlQ2xhc3MoXCJ6LWN1cnJlbnRcIiksIGEgPyAobi4kYWN0aXZlUGFnZSA9IG4uXyRwYWdlcy5sYXN0KCkucHJldigpLmdldCgwKSwgbi5fJHBhZ2VzLmxhc3QoKS5wcmV2KCkuYWRkQ2xhc3MoXCJ6LWN1cnJlbnRcIikpIDogKG4uJGFjdGl2ZVBhZ2UgPSBuLl8kcGFnZXMubGFzdCgpLmdldCgwKSwgbi5fJHBhZ2VzLmxhc3QoKS5hZGRDbGFzcyhcInotY3VycmVudFwiKSlcblx0XHR9XG5cdFx0ZnVuY3Rpb24gbChhKSB7XG5cdFx0XHRuLl9wYWdlRGF0YSA9IGFcblx0XHR9XG5cdFx0ZnVuY3Rpb24gbShhKSB7XG5cdFx0XHRCID0gYVxuXHRcdH1cblx0XHR2YXIgbiwgbywgcCwgcSwgciwgcywgdCwgdSwgdiwgdywgeCwgeSwgeiwgQSA9ICQod2luZG93KSxcblx0XHRcdEIgPSAhMSxcblx0XHRcdEMgPSAhMSxcblx0XHRcdEQgPSBtb2JpbGVjaGVjaygpLFxuXHRcdFx0RSA9IHRhYmxldENoZWNrKCksXG5cdFx0XHRGID0gMCxcblx0XHRcdEcgPSAwLFxuXHRcdFx0SCA9IDAsXG5cdFx0XHRJID0gMCxcblx0XHRcdEogPSAhMSxcblx0XHRcdEsgPSAhMSxcblx0XHRcdEwgPSAhMCxcblx0XHRcdE0gPSA1MDAsXG5cdFx0XHROID0gLjQsXG5cdFx0XHRPID0gZnVuY3Rpb24oYSwgYiwgYywgZSkge1xuXHRcdFx0XHRmdW5jdGlvbiBmKGEsIGIsIGMpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBkID0gW1wiXCIsIFwid2Via2l0XCIsIFwibW96XCJdLCBlID0gMCwgZiA9IGQubGVuZ3RoOyBmID4gZTsgZSsrKSB7XG5cdFx0XHRcdFx0XHQwICE9IGUgfHwgbW9iaWxlY2hlY2soKSB8fCAoYiA9IGIuc3Vic3RyaW5nKDAsIDEpLnRvTG93ZXJDYXNlKCkgKyBiLnN1YnN0cmluZygxLCBiLmxlbmd0aCkpO1xuXHRcdFx0XHRcdFx0dmFyIGcgPSBjIGluc3RhbmNlb2YgQXJyYXkgPyBjW2VdIDogYyxcblx0XHRcdFx0XHRcdFx0aCA9IGRbZV0gKyBiO1xuXHRcdFx0XHRcdFx0YVtoXSA9IGdcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gZyhhLCBiLCBjKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgZCA9IFtcIlwiLCBcIi13ZWJraXQtXCIsIFwiLW1vei1cIl0sIGUgPSAwOyBlIDwgZC5sZW5ndGg7IGUrKykgYS5jc3MoZFtlXSArIGIsIGMpXG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gaChhKSB7XG5cdFx0XHRcdFx0dmFyIGI7XG5cdFx0XHRcdFx0cmV0dXJuIGIgPSAkKFwiI2luc2lkZV9cIiArIGEsIFwiLnBob25lLXZpZXdcIikubGVuZ3RoID8gJChcIiNpbnNpZGVfXCIgKyBhLCBcIi5waG9uZS12aWV3XCIpIDogJChcIiNpbnNpZGVfXCIgKyBhKVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIGkoKSB7XG5cdFx0XHRcdFx0bi5faXNEaXNhYmxlRmxpcFBhZ2UgPSAhMDtcblx0XHRcdFx0XHR2YXIgYTtcblx0XHRcdFx0XHRcIjBcIiA9PSBiIHx8IFwiMVwiID09IGIgfHwgXCIyXCIgPT0gYiB8fCBcIjZcIiA9PSBiIHx8IFwiOVwiID09IGIgfHwgXCIxMVwiID09IGIgfHwgXCIxMlwiID09IGIgPyAoYSA9IEkgPiAwID8gLXQgOiB0LCBnKCQobi4kYWN0aXZlUGFnZSksIFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlWShcIiArIGEgKyBcInB4KVwiKSwgZygkKG4uJGN1cnJlbnRQYWdlKSwgXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVZKDApIHNjYWxlKDEpXCIpKSA6IChcIjNcIiA9PSBiIHx8IFwiNVwiID09IGIpICYmIChhID0gSCA+IDAgPyAtcyA6IHMsIGcoJChuLiRhY3RpdmVQYWdlKSwgXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVYKFwiICsgYSArIFwicHgpXCIpLCBnKCQobi4kY3VycmVudFBhZ2UpLCBcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZVgoMCkgc2NhbGUoMSlcIikpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0JChuLiRjdXJyZW50UGFnZSkuYXR0cihcInN0eWxlXCIsIFwiXCIpLCAkKG4uJGFjdGl2ZVBhZ2UpLmF0dHIoXCJzdHlsZVwiLCBcIlwiKSwgJChuLiRhY3RpdmVQYWdlKS5yZW1vdmVDbGFzcyhcInotYWN0aXZlIHotbW92ZVwiKSwgbi5faXNEaXNhYmxlRmxpcFBhZ2UgPSAhMVxuXHRcdFx0XHRcdH0sIDUwMClcblx0XHRcdFx0fVxuXHRcdFx0XHRmdW5jdGlvbiBqKCkge1xuXHRcdFx0XHRcdGlmIChNYXRoLmFicyhJKSA+IE1hdGguYWJzKEgpICYmIGNvbXBsZXRlRWZmZWN0KCQobi4kY3VycmVudFBhZ2UpKSkgaWYgKEkgPiAwKSB7XG5cdFx0XHRcdFx0XHRpZiAobi5faXNEaXNhYmxlRmxpcFByZXZQYWdlKSByZXR1cm47XG5cdFx0XHRcdFx0XHRLIHx8IEwgPyAoSyA9ICExLCBMID0gITEsIGFhKCEwKSwgYmEoITAsIFwiYm90dG9tIGNlbnRlclwiLCBcInRyYW5zbGF0ZVlcIiwgdCkpIDogY2EoITAsIFwidHJhbnNsYXRlWVwiLCB0LCBJLCBuLl9zY3JvbGxNb2RlKVxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoMCA+IEkpIHtcblx0XHRcdFx0XHRcdGlmIChuLl9pc0Rpc2FibGVGbGlwTmV4dFBhZ2UpIHJldHVybjtcblx0XHRcdFx0XHRcdCFLIHx8IEwgPyAoSyA9ICEwLCBMID0gITEsIGFhKCExKSwgYmEoITEsIFwidG9wIGNlbnRlclwiLCBcInRyYW5zbGF0ZVlcIiwgdCkpIDogY2EoITEsIFwidHJhbnNsYXRlWVwiLCB0LCBJLCBuLl9zY3JvbGxNb2RlKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRmdW5jdGlvbiBrKCkge1xuXHRcdFx0XHRcdE1hdGguYWJzKEkpID4gTWF0aC5hYnMoSCkgJiYgTWF0aC5hYnMoSSkgPiAyMCA/IChkYShcInRyYW5zbGF0ZVlcIiwgSSwgdCwgbi5fc2Nyb2xsTW9kZSksICQoZG9jdW1lbnQpLnRyaWdnZXIoXCJmbGlwZW5kXCIpKSA6IChuLl9pc0Rpc2FibGVGbGlwUGFnZSA9ICExLCBpKCkpXG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gbCgpIHtcblx0XHRcdFx0XHRpZiAoTWF0aC5hYnMoSCkgPiBNYXRoLmFicyhJKSAmJiBjb21wbGV0ZUVmZmVjdCgkKG4uJGN1cnJlbnRQYWdlKSkpIGlmIChIID4gMCkge1xuXHRcdFx0XHRcdFx0aWYgKG4uX2lzRGlzYWJsZUZsaXBQcmV2UGFnZSkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0SyB8fCBMID8gKEsgPSAhMSwgTCA9ICExLCBhYSghMCksIGJhKCEwLCBcImNlbnRlciByaWdodFwiLCBcInRyYW5zbGF0ZVhcIiwgcykpIDogY2EoITAsIFwidHJhbnNsYXRlWFwiLCBzLCBILCBuLl9zY3JvbGxNb2RlKVxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoMCA+IEgpIHtcblx0XHRcdFx0XHRcdGlmIChuLl9pc0Rpc2FibGVGbGlwTmV4dFBhZ2UpIHJldHVybjtcblx0XHRcdFx0XHRcdCFLIHx8IEwgPyAoSyA9ICEwLCBMID0gITEsIGFhKCExKSwgYmEoITEsIFwiY2VudGVyIGxlZnRcIiwgXCJ0cmFuc2xhdGVYXCIsIHMpKSA6IGNhKCExLCBcInRyYW5zbGF0ZVhcIiwgcywgSCwgbi5fc2Nyb2xsTW9kZSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gbSgpIHtcblx0XHRcdFx0XHRNYXRoLmFicyhIKSA+IE1hdGguYWJzKEkpICYmIE1hdGguYWJzKEgpID4gMjAgPyAoZGEoXCJ0cmFuc2xhdGVYXCIsIEgsIHMsIG4uX3Njcm9sbE1vZGUpLCAkKGRvY3VtZW50KS50cmlnZ2VyKFwiZmxpcGVuZFwiKSkgOiAobi5faXNEaXNhYmxlRmxpcFBhZ2UgPSAhMSwgaSgpKVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIHIoKSB7XG5cdFx0XHRcdFx0aWYgKE1hdGguYWJzKEgpID4gTWF0aC5hYnMoSSkgJiYgY29tcGxldGVFZmZlY3QoJChuLiRjdXJyZW50UGFnZSkpKSBpZiAoSCA+IDApIHtcblx0XHRcdFx0XHRcdGlmIChuLl9pc0Rpc2FibGVGbGlwUHJldlBhZ2UpIHJldHVybjtcblx0XHRcdFx0XHRcdEsgfHwgTCA/IChLID0gITEsIEwgPSAhMSwgYWEoITApLCBzID0gRCA/IHdpbmRvdy5pbm5lcldpZHRoIDogJChcIi5uclwiKS53aWR0aCgpLCBiYSghMCwgXCJcIiwgXCJ0cmFuc2xhdGVYXCIsIHMpKSA6IGNhKCEwLCBcInRyYW5zbGF0ZVhcIiwgcywgSCwgbi5fc2Nyb2xsTW9kZSlcblx0XHRcdFx0XHR9IGVsc2UgaWYgKDAgPiBIKSB7XG5cdFx0XHRcdFx0XHRpZiAobi5faXNEaXNhYmxlRmxpcE5leHRQYWdlKSByZXR1cm47XG5cdFx0XHRcdFx0XHQhSyB8fCBMID8gKEsgPSAhMCwgTCA9ICExLCBhYSghMSksIHMgPSBEID8gd2luZG93LmlubmVyV2lkdGggOiAkKFwiLm5yXCIpLndpZHRoKCksIGJhKCExLCBcIlwiLCBcInRyYW5zbGF0ZVhcIiwgcykpIDogY2EoITEsIFwidHJhbnNsYXRlWFwiLCBzLCBILCBuLl9zY3JvbGxNb2RlKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRmdW5jdGlvbiB1KCkge1xuXHRcdFx0XHRcdE1hdGguYWJzKEgpID4gTWF0aC5hYnMoSSkgJiYgTWF0aC5hYnMoSCkgPiAyMCA/IChkYShcInRyYW5zbGF0ZVhcIiwgSCwgcywgbi5fc2Nyb2xsTW9kZSksICQoZG9jdW1lbnQpLnRyaWdnZXIoXCJmbGlwZW5kXCIpKSA6IChuLl9pc0Rpc2FibGVGbGlwUGFnZSA9ICExLCBpKCkpXG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24geigpIHtcblx0XHRcdFx0XHRpZiAoTWF0aC5hYnMoSSkgPiBNYXRoLmFicyhIKSAmJiBjb21wbGV0ZUVmZmVjdCgkKG4uJGN1cnJlbnRQYWdlKSkpIGlmIChJID4gMCkge1xuXHRcdFx0XHRcdFx0aWYgKG4uX2lzRGlzYWJsZUZsaXBQcmV2UGFnZSkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0SyB8fCBMID8gKEsgPSAhMSwgTCA9ICExLCBhYSghMCksIHQgPSBEID8gd2luZG93LmlubmVySGVpZ2h0IDogJChcIi5uclwiKS5oZWlnaHQoKSwgYmEoITAsIFwiXCIsIFwidHJhbnNsYXRlWVwiLCB0KSkgOiBjYSghMCwgXCJ0cmFuc2xhdGVZXCIsIHQsIEksIG4uX3Njcm9sbE1vZGUpXG5cdFx0XHRcdFx0fSBlbHNlIGlmICgwID4gSSkge1xuXHRcdFx0XHRcdFx0aWYgKG4uX2lzRGlzYWJsZUZsaXBOZXh0UGFnZSkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0IUsgfHwgTCA/IChLID0gITAsIEwgPSAhMSwgYWEoITEpLCB0ID0gRCA/IHdpbmRvdy5pbm5lckhlaWdodCA6ICQoXCIubnJcIikuaGVpZ2h0KCksIGJhKCExLCBcIlwiLCBcInRyYW5zbGF0ZVlcIiwgdCkpIDogY2EoITEsIFwidHJhbnNsYXRlWVwiLCB0LCBJLCBuLl9zY3JvbGxNb2RlKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRmdW5jdGlvbiBPKCkge1xuXHRcdFx0XHRcdE1hdGguYWJzKEkpID4gTWF0aC5hYnMoSCkgJiYgTWF0aC5hYnMoSSkgPiAyMCA/IChkYShcInRyYW5zbGF0ZVlcIiwgSSwgdCwgbi5fc2Nyb2xsTW9kZSksICQoZG9jdW1lbnQpLnRyaWdnZXIoXCJmbGlwZW5kXCIpKSA6IChuLl9pc0Rpc2FibGVGbGlwUGFnZSA9ICExLCBpKCkpXG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gUCgpIHtcblx0XHRcdFx0XHRpZiAoTWF0aC5hYnMoSSkgPiBNYXRoLmFicyhIKSAmJiBjb21wbGV0ZUVmZmVjdCgkKG4uJGN1cnJlbnRQYWdlKSkpIGlmIChJID4gMCkge1xuXHRcdFx0XHRcdFx0aWYgKG4uX2lzRGlzYWJsZUZsaXBOZXh0UGFnZSkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0KCFLIHx8IEwpICYmIChLID0gITAsIEwgPSAhMSwgbi4kYWN0aXZlUGFnZSAmJiAkKG4uJGFjdGl2ZVBhZ2UpLnJlbW92ZUNsYXNzKFwiei1tb3ZlIHotYWN0aXZlXCIpLCBhYSghMCksIGYobi4kYWN0aXZlUGFnZS5zdHlsZSwgXCJUcmFuc2Zvcm1cIiwgXCJyb3RhdGVYKDkwZGVnKSB0cmFuc2xhdGVZKC1cIiArIHQgLyAyICsgXCJweCkgdHJhbnNsYXRlWihcIiArIHQgLyAyICsgXCJweClcIiksIGYoZWEuZ2V0KDApLnN0eWxlLCBcIlBlcnNwZWN0aXZlXCIsIFwiNzAwcHhcIiksIGYoZWEuZ2V0KDApLnN0eWxlLCBcIlRyYW5zZm9ybVN0eWxlXCIsIFwicHJlc2VydmUtM2RcIikpLCBuLiRhY3RpdmVQYWdlICYmIG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFpbi1wYWdlXCIpICYmICgkKG4uJGFjdGl2ZVBhZ2UpLmFkZENsYXNzKFwiei1hY3RpdmUgei1tb3ZlXCIpLnRyaWdnZXIoXCJhY3RpdmVcIikuY3NzKFwiekluZGV4XCIsIDEpLCBmKG4uJGN1cnJlbnRQYWdlLnN0eWxlLCBcIlRyYW5zZm9ybVwiLCBcInJvdGF0ZVgoLVwiICsgSSAvIHQgKiA5MCArIFwiZGVnKSB0cmFuc2xhdGVZKFwiICsgSSAvIDIgKyBcInB4KSB0cmFuc2xhdGVaKFwiICsgSSAvIDIgKyBcInB4KVwiKSwgZihuLiRhY3RpdmVQYWdlLnN0eWxlLCBcIlRyYW5zZm9ybVwiLCBcInJvdGF0ZVgoXCIgKyAoOTAgLSBJIC8gdCAqIDkwKSArIFwiZGVnKSB0cmFuc2xhdGVZKFwiICsgKC0odCAvIDIpICsgSSAvIDIpICsgXCJweCkgdHJhbnNsYXRlWihcIiArICh0IC8gMiAtIEkgLyAyKSArIFwicHgpXCIpKVxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoMCA+IEkpIHtcblx0XHRcdFx0XHRcdGlmIChuLl9pc0Rpc2FibGVGbGlwTmV4dFBhZ2UpIHJldHVybjtcblx0XHRcdFx0XHRcdCghSyB8fCBMKSAmJiAoSyA9ICEwLCBMID0gITEsIG4uJGFjdGl2ZVBhZ2UgJiYgJChuLiRhY3RpdmVQYWdlKS5yZW1vdmVDbGFzcyhcInotbW92ZSB6LWFjdGl2ZVwiKSwgYWEoITEpLCBmKG4uJGFjdGl2ZVBhZ2Uuc3R5bGUsIFwiVHJhbnNmb3JtXCIsIFwicm90YXRlWCgtOTBkZWcpIHRyYW5zbGF0ZVkoLVwiICsgdCAvIDIgKyBcInB4KSB0cmFuc2xhdGVaKC1cIiArIHQgLyAyICsgXCJweClcIiksIGYoZWEuZ2V0KDApLnN0eWxlLCBcIlBlcnNwZWN0aXZlXCIsIFwiNzAwcHhcIiksIGYoZWEuZ2V0KDApLnN0eWxlLCBcIlRyYW5zZm9ybVN0eWxlXCIsIFwicHJlc2VydmUtM2RcIikpLCBuLiRhY3RpdmVQYWdlICYmIG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFpbi1wYWdlXCIpID8gKCQobi4kYWN0aXZlUGFnZSkuYWRkQ2xhc3MoXCJ6LWFjdGl2ZSB6LW1vdmVcIikudHJpZ2dlcihcImFjdGl2ZVwiKS5jc3MoXCJ6SW5kZXhcIiwgMCksIGYobi4kY3VycmVudFBhZ2Uuc3R5bGUsIFwiVHJhbnNmb3JtXCIsIFwicm90YXRlWChcIiArIC1JIC8gdCAqIDkwICsgXCJkZWcpIHRyYW5zbGF0ZVkoXCIgKyBJIC8gMiArIFwicHgpIHRyYW5zbGF0ZVooXCIgKyAtSSAvIDIgKyBcInB4KVwiKSwgZihuLiRhY3RpdmVQYWdlLnN0eWxlLCBcIlRyYW5zZm9ybVwiLCBcInJvdGF0ZVgoXCIgKyAoLTkwIC0gSSAvIHQgKiA5MCkgKyBcImRlZykgdHJhbnNsYXRlWShcIiArICh0IC8gMiArIEkgLyAyKSArIFwicHgpIHRyYW5zbGF0ZVooXCIgKyAodCAvIDIgKyBJIC8gMikgKyBcInB4KVwiKSkgOiAoZihuLiRjdXJyZW50UGFnZS5zdHlsZSwgXCJUcmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVYKDBweCkgc2NhbGUoMSlcIiksIG4uJGFjdGl2ZVBhZ2UgPSBudWxsKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRmdW5jdGlvbiBRKCkge1xuXHRcdFx0XHRcdE1hdGguYWJzKEkpID4gTWF0aC5hYnMoSCkgJiYgTWF0aC5hYnMoSSkgPiAyMCA/IChJID4gMCA/IGYobi4kY3VycmVudFBhZ2Uuc3R5bGUsIFwiVHJhbnNmb3JtXCIsIFwicm90YXRlWCgtOTBkZWcpIHRyYW5zbGF0ZVkoXCIgKyB0IC8gMiArIFwicHgpIHRyYW5zbGF0ZVooXCIgKyB0IC8gMiArIFwicHgpXCIpIDogZihuLiRjdXJyZW50UGFnZS5zdHlsZSwgXCJUcmFuc2Zvcm1cIiwgXCJyb3RhdGVYKDkwZGVnKSB0cmFuc2xhdGVZKC1cIiArIHQgLyAyICsgXCJweCkgdHJhbnNsYXRlWihcIiArIHQgLyAyICsgXCJweClcIiksIGYobi4kY3VycmVudFBhZ2Uuc3R5bGUsIFwiekluZGV4XCIsIFwiMFwiKSwgZihuLiRhY3RpdmVQYWdlLnN0eWxlLCBcIlRyYW5zZm9ybVwiLCBcInJvdGF0ZVgoMGRlZykgdHJhbnNsYXRlWSgwcHgpIHRyYW5zbGF0ZVooMHB4KVwiKSwgZihuLiRhY3RpdmVQYWdlLnN0eWxlLCBcInpJbmRleFwiLCBcIjJcIiksICQoZG9jdW1lbnQpLnRyaWdnZXIoXCJmbGlwZW5kXCIpKSA6IChmKG4uJGN1cnJlbnRQYWdlLnN0eWxlLCBcIlRyYW5zaXRpb25cIiwgXCJub25lXCIpLCBmKG4uJGFjdGl2ZVBhZ2Uuc3R5bGUsIFwiVHJhbnNpdGlvblwiLCBcIm5vbmVcIiksIG4uX2lzRGlzYWJsZUZsaXBQYWdlID0gITEsIGkoKSlcblx0XHRcdFx0fVxuXHRcdFx0XHRmdW5jdGlvbiBSKCkge1xuXHRcdFx0XHRcdGlmIChNYXRoLmFicyhJKSA+IE1hdGguYWJzKEgpICYmIGNvbXBsZXRlRWZmZWN0KCQobi4kY3VycmVudFBhZ2UpKSkgaWYgKEkgPiAwKSB7XG5cdFx0XHRcdFx0XHRpZiAobi5faXNEaXNhYmxlRmxpcE5leHRQYWdlKSByZXR1cm47XG5cdFx0XHRcdFx0XHQoIUsgfHwgTCkgJiYgKEsgPSAhMCwgTCA9ICExLCBuLiRhY3RpdmVQYWdlICYmICQobi4kYWN0aXZlUGFnZSkucmVtb3ZlQ2xhc3MoXCJ6LW1vdmUgei1hY3RpdmVcIiksIGFhKCEwKSwgZyhlYSwgXCJwZXJzcGVjdGl2ZVwiLCBcIjcwMHB4XCIpLCBnKGVhLCBcInRyYW5zZm9ybS1zdHlsZVwiLCBcInByZXNlcnZlLTNkXCIpLCBmKG4uJGFjdGl2ZVBhZ2Uuc3R5bGUsIFwiVHJhbnNmb3JtT3JpZ2luXCIsIFwidG9wXCIpLCBmKG4uJGFjdGl2ZVBhZ2Uuc3R5bGUsIFwiVHJhbnNmb3JtXCIsIFwicm90YXRlWCg5MGRlZylcIikpLCBuLiRhY3RpdmVQYWdlICYmIG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFpbi1wYWdlXCIpICYmICgkKG4uJGFjdGl2ZVBhZ2UpLmFkZENsYXNzKFwiei1hY3RpdmUgei1tb3ZlXCIpLnRyaWdnZXIoXCJhY3RpdmVcIiksIGYobi4kYWN0aXZlUGFnZS5zdHlsZSwgXCJUcmFuc2Zvcm1cIiwgXCJyb3RhdGVYKFwiICsgKDkwIC0gSSAvIHQgKiA5MCkgKyBcImRlZykgXCIpKVxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoMCA+IEkpIHtcblx0XHRcdFx0XHRcdGlmIChuLl9pc0Rpc2FibGVGbGlwTmV4dFBhZ2UpIHJldHVybjtcblx0XHRcdFx0XHRcdCghSyB8fCBMKSAmJiAoSyA9ICEwLCBMID0gITEsIG4uJGFjdGl2ZVBhZ2UgJiYgJChuLiRhY3RpdmVQYWdlKS5yZW1vdmVDbGFzcyhcInotbW92ZSB6LWFjdGl2ZVwiKSwgYWEoITEpLCBmKG4uJGFjdGl2ZVBhZ2Uuc3R5bGUsIFwiVHJhbnNmb3JtT3JpZ2luXCIsIFwiYm90dG9tXCIpLCBmKG4uJGFjdGl2ZVBhZ2Uuc3R5bGUsIFwiVHJhbnNmb3JtXCIsIFwicm90YXRlWCgtOTBkZWcpXCIpLCBnKGVhLCBcInBlcnNwZWN0aXZlXCIsIFwiNzAwcHhcIiksIGcoZWEsIFwidHJhbnNmb3JtLXN0eWxlXCIsIFwicHJlc2VydmUtM2RcIikpLCBuLiRhY3RpdmVQYWdlICYmIG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFpbi1wYWdlXCIpID8gKCQobi4kYWN0aXZlUGFnZSkuYWRkQ2xhc3MoXCJ6LWFjdGl2ZSB6LW1vdmVcIikudHJpZ2dlcihcImFjdGl2ZVwiKSwgZihuLiRhY3RpdmVQYWdlLnN0eWxlLCBcIlRyYW5zZm9ybVwiLCBcInJvdGF0ZVgoXCIgKyAoLTkwIC0gSSAvIHQgKiA5MCkgKyBcImRlZykgXCIpKSA6IChmKG4uJGN1cnJlbnRQYWdlLnN0eWxlLCBcIlRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZVgoMHB4KSBzY2FsZSgxKVwiKSwgbi4kYWN0aXZlUGFnZSA9IG51bGwpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIFMoKSB7XG5cdFx0XHRcdFx0TWF0aC5hYnMoSSkgPiBNYXRoLmFicyhIKSAmJiBNYXRoLmFicyhJKSA+IDIwID8gKEkgPiAwID8gZihuLiRhY3RpdmVQYWdlLnN0eWxlLCBcIlRyYW5zZm9ybVwiLCBcInJvdGF0ZVgoMGRlZylcIikgOiBmKG4uJGFjdGl2ZVBhZ2Uuc3R5bGUsIFwiVHJhbnNmb3JtXCIsIFwicm90YXRlWCgwZGVnKVwiKSwgJChkb2N1bWVudCkudHJpZ2dlcihcImZsaXBlbmRcIikpIDogKGYobi4kY3VycmVudFBhZ2Uuc3R5bGUsIFwiVHJhbnNpdGlvblwiLCBcIm5vbmVcIiksIGYobi4kYWN0aXZlUGFnZS5zdHlsZSwgXCJUcmFuc2l0aW9uXCIsIFwibm9uZVwiKSwgbi5faXNEaXNhYmxlRmxpcFBhZ2UgPSAhMSwgaSgpKVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIFQoKSB7XG5cdFx0XHRcdFx0aWYgKE1hdGguYWJzKEkpID4gTWF0aC5hYnMoSCkgJiYgY29tcGxldGVFZmZlY3QoJChuLiRjdXJyZW50UGFnZSkpKSB7XG5cdFx0XHRcdFx0XHRpZiAoSSA+IDApIHtcblx0XHRcdFx0XHRcdFx0aWYgKG4uX2lzRGlzYWJsZUZsaXBQcmV2UGFnZSkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0XHQoSyB8fCBMKSAmJiAoSyA9ICExLCBMID0gITEsIG4uJGFjdGl2ZVBhZ2UgJiYgKG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LnJlbW92ZShcInotYWN0aXZlXCIpLCBuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJ6LW1vdmVcIikpLCBhYSghMCksIG4uJGFjdGl2ZVBhZ2Uuc3R5bGUuekluZGV4ID0gMiwgbi4kYWN0aXZlUGFnZSAmJiBuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5jb250YWlucyhcIm1haW4tcGFnZVwiKSAmJiAobi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QuYWRkKFwiei1hY3RpdmVcIiksIG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LmFkZChcInotbW92ZVwiKSksIG4uJGFjdGl2ZVBhZ2Uuc3R5bGUub3BhY2l0eSA9IDApXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKDAgPiBJKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChuLl9pc0Rpc2FibGVGbGlwTmV4dFBhZ2UpIHJldHVybjtcblx0XHRcdFx0XHRcdFx0KCFLIHx8IEwpICYmIChLID0gITAsIEwgPSAhMSwgbi4kYWN0aXZlUGFnZSAmJiAobi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QucmVtb3ZlKFwiei1hY3RpdmVcIiksIG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LnJlbW92ZShcInotbW92ZVwiKSksIGFhKCExKSwgbi4kYWN0aXZlUGFnZS5zdHlsZS56SW5kZXggPSAyLCBuLiRhY3RpdmVQYWdlICYmIG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFpbi1wYWdlXCIpICYmIChuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5hZGQoXCJ6LWFjdGl2ZVwiKSwgbi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QuYWRkKFwiei1tb3ZlXCIpKSwgbi4kYWN0aXZlUGFnZS5zdHlsZS5vcGFjaXR5ID0gMClcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciBhID0gTWF0aC5hYnMoSSkgLyB0ICogMS4zO1xuXHRcdFx0XHRcdFx0bi4kYWN0aXZlUGFnZS5zdHlsZS5vcGFjaXR5ID0gYS50b0ZpeGVkKDEpLCBhLnRvRml4ZWQoMykgPD0gMSAmJiBnKCQobi4kYWN0aXZlUGFnZSksIFwidHJhbnNmb3JtXCIsIFwic2NhbGUoXCIgKyBhLnRvRml4ZWQoMykgKyBcIilcIilcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gVSgpIHtcblx0XHRcdFx0XHRNYXRoLmFicyhJKSA+IE1hdGguYWJzKEgpICYmIE1hdGguYWJzKEkpID4gMjAgPyAoZygkKG4uJGFjdGl2ZVBhZ2UpLCBcInRyYW5zZm9ybVwiLCBcInNjYWxlKDEpXCIpLCBuLiRhY3RpdmVQYWdlLnN0eWxlLm9wYWNpdHkgPSAxLCAkKGRvY3VtZW50KS50cmlnZ2VyKFwiZmxpcGVuZFwiKSkgOiAoZihuLiRjdXJyZW50UGFnZS5zdHlsZSwgXCJUcmFuc2l0aW9uXCIsIFwibm9uZVwiKSwgZihuLiRhY3RpdmVQYWdlLnN0eWxlLCBcIlRyYW5zaXRpb25cIiwgXCJub25lXCIpLCBuLl9pc0Rpc2FibGVGbGlwUGFnZSA9ICExLCBpKCkpXG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gVigpIHtcblx0XHRcdFx0XHRpZiAoTWF0aC5hYnMoSSkgPiBNYXRoLmFicyhIKSAmJiBjb21wbGV0ZUVmZmVjdCgkKG4uJGN1cnJlbnRQYWdlKSkpIGlmIChJID4gMCkge1xuXHRcdFx0XHRcdFx0aWYgKG4uX2lzRGlzYWJsZUZsaXBQcmV2UGFnZSkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0KEsgfHwgTCkgJiYgKEsgPSAhMSwgTCA9ICExLCBuLiRhY3RpdmVQYWdlICYmIChuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJ6LWFjdGl2ZVwiKSwgbi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QucmVtb3ZlKFwiei1mYWRlLWluXCIpLCBuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJ6LW1vdmVcIikpLCBhYSghMCksIG4uJGN1cnJlbnRQYWdlLnN0eWxlLnpJbmRleCA9IDEsIG4uJGFjdGl2ZVBhZ2Uuc3R5bGUuekluZGV4ID0gMiwgbi4kYWN0aXZlUGFnZSAmJiBuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5jb250YWlucyhcIm1haW4tcGFnZVwiKSAmJiAobi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QuYWRkKFwiei1hY3RpdmVcIiksIG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LmFkZChcInotZmFkZS1pblwiKSwgbi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QuYWRkKFwiei1tb3ZlXCIpKSlcblx0XHRcdFx0XHR9IGVsc2UgaWYgKDAgPiBJKSB7XG5cdFx0XHRcdFx0XHRpZiAobi5faXNEaXNhYmxlRmxpcE5leHRQYWdlKSByZXR1cm47XG5cdFx0XHRcdFx0XHQoIUsgfHwgTCkgJiYgKEsgPSAhMCwgTCA9ICExLCBuLiRhY3RpdmVQYWdlICYmIChuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJ6LWFjdGl2ZVwiKSwgbi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QucmVtb3ZlKFwiei1mYWRlLWluXCIpLCBuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJ6LW1vdmVcIikpLCBhYSghMSksIG4uJGN1cnJlbnRQYWdlLnN0eWxlLnpJbmRleCA9IDEsIG4uJGFjdGl2ZVBhZ2UgJiYgbi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QuY29udGFpbnMoXCJtYWluLXBhZ2VcIikgJiYgKG4uJGFjdGl2ZVBhZ2Uuc3R5bGUuekluZGV4ID0gMiwgbi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QuYWRkKFwiei1hY3RpdmVcIiksIG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LmFkZChcInotZmFkZS1pblwiKSwgbi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QuYWRkKFwiei1tb3ZlXCIpKSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gVygpIHtcblx0XHRcdFx0XHRNYXRoLmFicyhJKSA+IE1hdGguYWJzKEgpICYmIE1hdGguYWJzKEkpID4gMjAgPyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0JChkb2N1bWVudCkudHJpZ2dlcihcImZsaXBlbmRcIilcblx0XHRcdFx0XHR9LCAxNjAwKSA6IChuLl9pc0Rpc2FibGVGbGlwUGFnZSA9ICExLCBpKCkpXG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gWCgpIHtcblx0XHRcdFx0XHRpZiAoTWF0aC5hYnMoSCkgPiBNYXRoLmFicyhJKSAmJiBjb21wbGV0ZUVmZmVjdCgkKG4uJGN1cnJlbnRQYWdlKSkpIGlmIChIID4gMCkge1xuXHRcdFx0XHRcdFx0aWYgKG4uX2lzRGlzYWJsZUZsaXBQcmV2UGFnZSkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0SyB8fCBMID8gKEsgPSAhMSwgTCA9ICExLCBuLiRhY3RpdmVQYWdlICYmIChuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJ6LWFjdGl2ZVwiKSwgbi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QucmVtb3ZlKFwiei1tb3ZlXCIpKSwgYWEoITApLCBuLiRhY3RpdmVQYWdlICYmIG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFpbi1wYWdlXCIpICYmIChuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5hZGQoXCJ6LWFjdGl2ZVwiKSwgbi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QuYWRkKFwiei1tb3ZlXCIpLCBnKCQobi4kYWN0aXZlUGFnZSksIFwiVHJhbnNmb3JtXCIsIFwic2NhbGUoMC4zKSB0cmFuc2xhdGVYKDApIHRyYW5zbGF0ZVooLVwiICsgdCArIFwicHgpIHJvdGF0ZVkoNDVkZWcpXCIpLCBuLiRhY3RpdmVQYWdlLnN0eWxlLnpJbmRleCA9IFwiMFwiKSwgZyhlYSwgXCJwZXJzcGVjdGl2ZVwiLCBcIjEwMDBweFwiKSwgbi4kY3VycmVudFBhZ2Uuc3R5bGUuekluZGV4ID0gXCIxMDBcIikgOiBuLiRhY3RpdmVQYWdlICYmIChzIC8gNCA+PSBIID8gZygkKG4uJGN1cnJlbnRQYWdlKSwgXCJUcmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVYKFwiICsgSCArIFwicHgpXCIpIDogZygkKG4uJGN1cnJlbnRQYWdlKSwgXCJUcmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVYKFwiICsgMS41ICogSCArIFwicHgpIHNjYWxlKFwiICsgKCg1ICogcyAvIDQgLSBIKSAvIHMpLnRvRml4ZWQoMykgKyBcIikgcm90YXRlWShcIiArIEggLyBzICogNDUgKyBcImRlZykgdHJhbnNsYXRlWigtXCIgKyAoSCAtIHMgLyA0KSArIFwicHgpXCIpKVxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoMCA+IEgpIHtcblx0XHRcdFx0XHRcdGlmIChuLl9pc0Rpc2FibGVGbGlwTmV4dFBhZ2UpIHJldHVybjtcblx0XHRcdFx0XHRcdCFLIHx8IEwgPyAoSyA9ICEwLCBMID0gITEsIG4uJGFjdGl2ZVBhZ2UgJiYgKG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LnJlbW92ZShcInotYWN0aXZlXCIpLCBuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJ6LW1vdmVcIikpLCBhYSghMSksIG4uJGFjdGl2ZVBhZ2UgJiYgbi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QuY29udGFpbnMoXCJtYWluLXBhZ2VcIikgJiYgKG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LmFkZChcInotYWN0aXZlXCIpLCBuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5hZGQoXCJ6LW1vdmVcIiksIGcoJChuLiRhY3RpdmVQYWdlKSwgXCJUcmFuc2Zvcm1cIiwgXCJzY2FsZSgwLjMpIHRyYW5zbGF0ZVgoXCIgKyAocyArIDMwMCkgKyBcInB4KSB0cmFuc2xhdGVaKC1cIiArIHQgKyBcInB4KSByb3RhdGVZKC00NWRlZylcIiksIG4uJGFjdGl2ZVBhZ2Uuc3R5bGUuekluZGV4ID0gXCIwXCIpLCBnKGVhLCBcInBlcnNwZWN0aXZlXCIsIFwiMTAwMHB4XCIpLCBuLiRjdXJyZW50UGFnZS5zdHlsZS56SW5kZXggPSBcIjEwMFwiKSA6IG4uJGFjdGl2ZVBhZ2UgJiYgKEggPj0gLXMgLyA0ID8gZygkKG4uJGN1cnJlbnRQYWdlKSwgXCJUcmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVYKFwiICsgSCArIFwicHgpXCIpIDogZygkKG4uJGN1cnJlbnRQYWdlKSwgXCJUcmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVYKFwiICsgMS41ICogSCArIFwicHgpIHNjYWxlKFwiICsgKCg1ICogcyAvIDQgKyBIKSAvIHMpLnRvRml4ZWQoMykgKyBcIikgcm90YXRlWShcIiArIEggLyBzICogNDUgKyBcImRlZykgdHJhbnNsYXRlWihcIiArIChIICsgcyAvIDQpICsgXCJweClcIiksIGcoJChuLiRhY3RpdmVQYWdlKSwgXCJUcmFuc2Zvcm1cIiwgXCJzY2FsZShcIiArICguMyAtIChIICsgcyAvIDQpIC8gcykudG9GaXhlZCgzKSArIFwiKSB0cmFuc2xhdGVYKFwiICsgKC1IIC0gcyAvIDQgKyAyMDApICsgXCJweCkgdHJhbnNsYXRlWihcIiArICgtSCAtIDMgKiBzIC8gNCkgKyBcInB4KSByb3RhdGVZKC1cIiArICg0NSArIChIICsgcyAvIDQpIC8gcyAqIDQ1KSArIFwiZGVnKVwiKSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gWSgpIHtcblx0XHRcdFx0XHRNYXRoLmFicyhIKSA+IE1hdGguYWJzKEkpICYmIE1hdGguYWJzKEgpID4gMjAgPyAoSCA+IDAgPyAobi4kY3VycmVudFBhZ2Uuc3R5bGUud2Via2l0VHJhbnNmb3JtT3JpZ2luID0gXCJsZWZ0XCIsIG4uJGN1cnJlbnRQYWdlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwKSB0cmFuc2xhdGVaKC1cIiArIHQgKyBcInB4KSByb3RhdGVZKDApIHNjYWxlKDAuMilcIiwgbi4kYWN0aXZlUGFnZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMCkgdHJhbnNsYXRlWigwKSByb3RhdGVZKDApIHNjYWxlKDEpXCIsIG4uJGN1cnJlbnRQYWdlLnN0eWxlLnpJbmRleCA9IFwiMFwiLCBuLiRhY3RpdmVQYWdlLnN0eWxlLnpJbmRleCA9IFwiMVwiKSA6IChuLiRjdXJyZW50UGFnZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm1PcmlnaW4gPSBcInJpZ2h0XCIsIG4uJGN1cnJlbnRQYWdlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWChcIiArIHMgKyBcInB4KSB0cmFuc2xhdGVaKC1cIiArIHQgKyBcInB4KSByb3RhdGVZKDApIHNjYWxlKDAuMilcIiwgbi4kYWN0aXZlUGFnZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMCkgdHJhbnNsYXRlWigwKSByb3RhdGVZKDApIHNjYWxlKDEpXCIsIG4uJGFjdGl2ZVBhZ2Uuc3R5bGUuekluZGV4ID0gXCIxXCIsIG4uJGN1cnJlbnRQYWdlLnN0eWxlLnpJbmRleCA9IFwiMFwiKSwgJChkb2N1bWVudCkudHJpZ2dlcihcImZsaXBlbmRcIikpIDogKGYobi4kY3VycmVudFBhZ2Uuc3R5bGUsIFwiVHJhbnNpdGlvblwiLCBcIm5vbmVcIiksIGYobi4kYWN0aXZlUGFnZS5zdHlsZSwgXCJUcmFuc2l0aW9uXCIsIFwibm9uZVwiKSwgbi5faXNEaXNhYmxlRmxpcFBhZ2UgPSAhMSwgaSgpKVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIFooKSB7XG5cdFx0XHRcdFx0aWYgKE1hdGguYWJzKEkpID4gTWF0aC5hYnMoSCkgJiYgY29tcGxldGVFZmZlY3QoJChuLiRjdXJyZW50UGFnZSkpKSB7XG5cdFx0XHRcdFx0XHRpZiAoSSA+IDApIHtcblx0XHRcdFx0XHRcdFx0aWYgKG4uX2lzRGlzYWJsZUZsaXBQcmV2UGFnZSkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0XHQoSyB8fCBMKSAmJiAoSyA9ICExLCBMID0gITEsIG4uJGFjdGl2ZVBhZ2UgJiYgKG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LnJlbW92ZShcInotYWN0aXZlXCIpLCBuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJ6LW1vdmVcIikpLCBhYSghMCksIG4uJGFjdGl2ZVBhZ2UgJiYgbi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QuY29udGFpbnMoXCJtYWluLXBhZ2VcIikgJiYgKCQobi4kYWN0aXZlUGFnZSkuYWRkQ2xhc3MoXCJ6LWFjdGl2ZSB6LW1vdmVcIiksICQobi4kYWN0aXZlUGFnZSkuY3NzKHtcblx0XHRcdFx0XHRcdFx0XHR6SW5kZXg6IDAsXG5cdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMVxuXHRcdFx0XHRcdFx0XHR9KSksICQobi4kY3VycmVudFBhZ2UpLmNzcyh7XG5cdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMVxuXHRcdFx0XHRcdFx0XHR9KSwgJChuLiRhY3RpdmVQYWdlKS5jc3Moe1xuXHRcdFx0XHRcdFx0XHRcdHpJbmRleDogMCxcblx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdFx0XHRcdH0pLCBnKCQobi4kYWN0aXZlUGFnZSksIFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlWSgwKVwiKSwgZygkKG4uJGN1cnJlbnRQYWdlKSwgXCJ0cmFuc2Zvcm0tb3JpZ2luXCIsIFwiMCUgMCUgMHB4XCIpKVxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICgwID4gSSkge1xuXHRcdFx0XHRcdFx0XHRpZiAobi5faXNEaXNhYmxlRmxpcE5leHRQYWdlKSByZXR1cm47XG5cdFx0XHRcdFx0XHRcdCghSyB8fCBMKSAmJiAoSyA9ICEwLCBMID0gITEsIG4uJGFjdGl2ZVBhZ2UgJiYgKG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LnJlbW92ZShcInotYWN0aXZlXCIpLCBuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJ6LW1vdmVcIikpLCBhYSghMSksIG4uJGFjdGl2ZVBhZ2UgJiYgbi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QuY29udGFpbnMoXCJtYWluLXBhZ2VcIikgJiYgKG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LmFkZChcInotYWN0aXZlXCIpLCBuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5hZGQoXCJ6LW1vdmVcIiksICQobi4kYWN0aXZlUGFnZSkuY3NzKHtcblx0XHRcdFx0XHRcdFx0XHR6SW5kZXg6IDAsXG5cdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMVxuXHRcdFx0XHRcdFx0XHR9KSksICQobi4kY3VycmVudFBhZ2UpLmNzcyh7XG5cdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMVxuXHRcdFx0XHRcdFx0XHR9KSwgJChuLiRhY3RpdmVQYWdlKS5jc3Moe1xuXHRcdFx0XHRcdFx0XHRcdHpJbmRleDogMCxcblx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdFx0XHRcdH0pLCBnKCQobi4kYWN0aXZlUGFnZSksIFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlWSgwKVwiKSwgZygkKG4uJGN1cnJlbnRQYWdlKSwgXCJ0cmFuc2Zvcm0tb3JpZ2luXCIsIFwiMCUgMCUgMHB4XCIpKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bi4kYWN0aXZlUGFnZSAmJiAoZygkKG4uJGN1cnJlbnRQYWdlKSwgXCJ0cmFuc2Zvcm0tb3JpZ2luXCIsIFwiMCUgMCUgMHB4XCIpLCBnKCQobi4kY3VycmVudFBhZ2UpLCBcInRyYW5zZm9ybVwiLCBcInJvdGF0ZShcIiArIE1hdGguYWJzKEkpIC8gdCAqIDkwICsgXCJkZWcpXCIpLCBuLiRjdXJyZW50UGFnZS5zdHlsZS5vcGFjaXR5ID0gKCh0IC0gTWF0aC5hYnMoSSkpIC8gdCkudG9GaXhlZCgxKSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gXygpIHtcblx0XHRcdFx0XHRNYXRoLmFicyhJKSA+IE1hdGguYWJzKEgpICYmIE1hdGguYWJzKEkpID4gMjAgPyAoZygkKG4uJGN1cnJlbnRQYWdlKSwgXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVZKFwiICsgdCArIFwicHgpIHJvdGF0ZShcIiArIE1hdGguYWJzKEkpIC8gdCAqIDkwICsgXCJkZWcpXCIpLCAkKG4uJGN1cnJlbnRQYWdlKS5jc3Moe1xuXHRcdFx0XHRcdFx0b3BhY2l0eTogLjVcblx0XHRcdFx0XHR9KSwgJChkb2N1bWVudCkudHJpZ2dlcihcImZsaXBlbmRcIikpIDogKGYobi4kY3VycmVudFBhZ2Uuc3R5bGUsIFwiVHJhbnNpdGlvblwiLCBcIm5vbmVcIiksIGYobi4kYWN0aXZlUGFnZS5zdHlsZSwgXCJUcmFuc2l0aW9uXCIsIFwibm9uZVwiKSwgbi5faXNEaXNhYmxlRmxpcFBhZ2UgPSAhMSwgaSgpKVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIGFhKGEpIHtcblx0XHRcdFx0XHRDIHx8IChhID8gbi4kY3VycmVudFBhZ2UucHJldmlvdXNFbGVtZW50U2libGluZyAmJiBuLiRjdXJyZW50UGFnZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5jb250YWlucyhcIm1haW4tcGFnZVwiKSA/IG4uJGFjdGl2ZVBhZ2UgPSBuLiRjdXJyZW50UGFnZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nIDogQiA/IG4uJGFjdGl2ZVBhZ2UgPSBuLl8kcGFnZXMubGFzdCgpLmdldCgwKSA6IG4uJGFjdGl2ZVBhZ2UgPSAhMSA6IG4uJGN1cnJlbnRQYWdlLm5leHRFbGVtZW50U2libGluZyAmJiBuLiRjdXJyZW50UGFnZS5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFpbi1wYWdlXCIpID8gbi4kYWN0aXZlUGFnZSA9IG4uJGN1cnJlbnRQYWdlLm5leHRFbGVtZW50U2libGluZyA6IEIgPyBuLiRhY3RpdmVQYWdlID0gbi5fJHBhZ2VzLmZpcnN0KCkuZ2V0KDApIDogbi4kYWN0aXZlUGFnZSA9ICExKVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIGJhKGEsIGIsIGMsIGQpIHtcblx0XHRcdFx0XHRpZiAobi4kYWN0aXZlUGFnZSAmJiAobi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QucmVtb3ZlKFwiei1hY3RpdmVcIiksIG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LnJlbW92ZShcInotbW92ZVwiKSksIG4uJGFjdGl2ZVBhZ2UgJiYgbi4kYWN0aXZlUGFnZS5jbGFzc0xpc3QuY29udGFpbnMoXCJtYWluLXBhZ2VcIikpIHtcblx0XHRcdFx0XHRcdG4uJGFjdGl2ZVBhZ2UuY2xhc3NMaXN0LmFkZChcInotYWN0aXZlXCIpLCBuLiRhY3RpdmVQYWdlLmNsYXNzTGlzdC5hZGQoXCJ6LW1vdmVcIik7XG5cdFx0XHRcdFx0XHR2YXIgZSA9IGEgPyBcIi1cIiA6IFwiXCI7XG5cdFx0XHRcdFx0XHRuLiRhY3RpdmVQYWdlLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSBcIm5vbmVcIiwgbi4kYWN0aXZlUGFnZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBjICsgXCIoXCIgKyBlICsgZCArIFwicHgpXCIsIG4uJGFjdGl2ZVBhZ2Uuc3R5bGUubW96VHJhbnNpdGlvbiA9IFwibm9uZVwiLCBuLiRhY3RpdmVQYWdlLnN0eWxlLm1velRyYW5zZm9ybSA9IGMgKyBcIihcIiArIGUgKyBkICsgXCJweClcIiwgbi4kYWN0aXZlUGFnZS5zdHlsZS50cmFuc2l0aW9uID0gXCJub25lXCIsIG4uJGFjdGl2ZVBhZ2Uuc3R5bGUudHJhbnNmb3JtID0gYyArIFwiKFwiICsgZSArIGQgKyBcInB4KVwiLCAkKG4uJGFjdGl2ZVBhZ2UpLnRyaWdnZXIoXCJhY3RpdmVcIiksIGIgJiYgZygkKG4uJGN1cnJlbnRQYWdlKSwgXCJ0cmFuc2Zvcm0tb3JpZ2luXCIsIGIpXG5cdFx0XHRcdFx0fSBlbHNlIGYobi4kY3VycmVudFBhZ2Uuc3R5bGUsIFwiVHJhbnNmb3JtXCIsIGMgKyBcIigwcHgpIHNjYWxlKDEpXCIpXG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gY2EoYSwgYiwgYywgZCwgZSkge1xuXHRcdFx0XHRcdGlmIChuLiRhY3RpdmVQYWdlKSB7XG5cdFx0XHRcdFx0XHR2YXIgZiA9IGEgPyBcIi1cIiA6IFwiXCI7XG5cdFx0XHRcdFx0XHRnKCQobi4kYWN0aXZlUGFnZSksIFwidHJhbnNmb3JtXCIsIGIgKyBcIihcIiArIGYgKyAoYyAtIE1hdGguYWJzKGQpKSArIFwicHgpXCIpLCBcIjFcIiA9PSBlIHx8IFwiM1wiID09IGUgPyBnKCQobi4kY3VycmVudFBhZ2UpLCBcInRyYW5zZm9ybVwiLCBcInNjYWxlKFwiICsgKChjIC0gTWF0aC5hYnMoZCkpIC8gdCkudG9GaXhlZCgzKSArIFwiKVwiKSA6IChcIjVcIiA9PSBlIHx8IFwiMTFcIiA9PSBlKSAmJiBnKCQobi4kY3VycmVudFBhZ2UpLCBcInRyYW5zZm9ybVwiLCBiICsgXCIoXCIgKyBkICsgXCJweClcIilcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gZGEoYSwgYiwgYywgZCkge1xuXHRcdFx0XHRcdGlmIChcIjFcIiA9PSBkIHx8IFwiM1wiID09IGQpIGcoJChuLiRjdXJyZW50UGFnZSksIFwidHJhbnNmb3JtXCIsIFwic2NhbGUoMC4yKVwiKTtcblx0XHRcdFx0XHRlbHNlIGlmIChcIjVcIiA9PSBkIHx8IFwiMTFcIiA9PSBkKSB7XG5cdFx0XHRcdFx0XHR2YXIgZSA9IGIgPiAwID8gXCJcIiA6IFwiLVwiO1xuXHRcdFx0XHRcdFx0ZygkKG4uJGN1cnJlbnRQYWdlKSwgXCJ0cmFuc2Zvcm1cIiwgYSArIFwiKFwiICsgZSArIGMgKyBcInB4KVwiKVxuXHRcdFx0XHRcdH0gZWxzZSBnKCQobi4kY3VycmVudFBhZ2UpLCBcInRyYW5zZm9ybVwiLCBcInNjYWxlKDEpXCIpO1xuXHRcdFx0XHRcdGcoJChuLiRhY3RpdmVQYWdlKSwgXCJ0cmFuc2Zvcm1cIiwgYSArIFwiKDBweClcIilcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLl8kYXBwID0gYSwgdGhpcy5fJHBhZ2VzID0gdGhpcy5fJGFwcC5maW5kKFwiLm1haW4tcGFnZVwiKSwgdGhpcy4kY3VycmVudFBhZ2UgPSB0aGlzLl8kcGFnZXMuZXEoMCksIHRoaXMuJGFjdGl2ZVBhZ2UgPSBudWxsLCB0aGlzLl9pc0luaXRDb21wbGV0ZSA9ICExLCB0aGlzLl9pc0Rpc2FibGVGbGlwUGFnZSA9ICExLCB0aGlzLl9pc0Rpc2FibGVGbGlwUHJldlBhZ2UgPSAhMSwgdGhpcy5faXNEaXNhYmxlRmxpcE5leHRQYWdlID0gITEsIHRoaXMuX3Njcm9sbE1vZGUgPSBiLCB0aGlzLl9wYWdlRGF0YSA9IGMsIHRoaXMucGFnZURhdGEgPSBlLCBiID0gYiwgdGhpcy5faXNmb3JiaWRIYW5kRmxpcCA9IGUub2JqLnByb3BlcnR5LmZvcmJpZEhhbmRGbGlwLCBuID0gdGhpcywgcyA9IEQgfHwgRSA/IHdpbmRvdy5pbm5lcldpZHRoIDogYS53aWR0aCgpLCB0ID0gRCB8fCBFID8gd2luZG93LmlubmVySGVpZ2h0IDogYS5oZWlnaHQoKTtcblx0XHRcdFx0dmFyIGVhID0gJChcIiNjb25cIiksXG5cdFx0XHRcdFx0ZmEgPSAhMTtcblx0XHRcdFx0KFwiOFwiID09IGIgfHwgXCI5XCIgPT0gYikgJiYgKE4gPSAuNywgTSA9IDgwMCksIDAgPT0gYiB8fCAxID09IGIgfHwgMiA9PSBiIHx8IDYgPT0gYiB8fCA3ID09IGIgfHwgOCA9PSBiIHx8IDExID09IGIgfHwgMTIgPT0gYiA/IHggPSAhMCA6ICgzID09IGIgfHwgNCA9PSBiIHx8IDUgPT0gYiB8fCAxMCA9PSBiKSAmJiAodyA9ICEwKSwgeCA/ICh5ID0gJChcIi5jdHJsX3BhbmVsX2RpciAuY3RybC1kb3duXCIpLCAkbmV4dEN0cmwgPSAkKFwiLmN0cmxfcGFuZWxfZGlyIC5jdHJsLXVwXCIpKSA6IHcgJiYgKHkgPSAkKFwiLmN0cmxfcGFuZWxfZGlyIC5jdHJsLXJpZ2h0XCIpLCAkbmV4dEN0cmwgPSAkKFwiLmN0cmxfcGFuZWxfZGlyIC5jdHJsLWxlZnRcIikpLCBlLm9iai5wcm9wZXJ0eS5oYXNPd25Qcm9wZXJ0eShcInRyaWdnZXJMb29wXCIpIHx8IChlLm9iai5wcm9wZXJ0eS50cmlnZ2VyTG9vcCA9ICEwKSwgQiA9IGUub2JqLnByb3BlcnR5LnRyaWdnZXJMb29wLCBlLm9iai5wcm9wZXJ0eS5hdXRvRmxpcCAmJiAodiA9IDFlMyAqIGUub2JqLnByb3BlcnR5LmF1dG9GbGlwVGltZSwgZCgpKTtcblx0XHRcdFx0dmFyIGdhO1xuXHRcdFx0XHRpZiAoY1swXS5lbGVtZW50cyAmJiBjWzBdLmVsZW1lbnRzLmxlbmd0aCkgZm9yICh2YXIgaGEgPSAwOyBoYSA8IGNbMF0uZWxlbWVudHMubGVuZ3RoOyBoYSsrKSB7XG5cdFx0XHRcdFx0Z2EgfHwgKGVxU2hvdy5zaGFrZVRyaWdnZXIoYywgbi4kY3VycmVudFBhZ2UpLCBnYSA9ICEwKTtcblx0XHRcdFx0XHR2YXIgaWEgPSBoKGNbMF0uZWxlbWVudHNbaGFdLmlkKTtcblx0XHRcdFx0XHRlcXhDb21tb24uYmluZFRyaWdnZXIoaWEsIGNbMF0uZWxlbWVudHNbaGFdKVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRBLm9uKFwic2Nyb2xsLmVsYXN0aWNpdHlcIiwgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdFx0YS5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHRcdFx0fSkub24oXCJ0b3VjaG1vdmUuZWxhc3RpY2l0eVwiLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0XHRhLnByZXZlbnREZWZhdWx0KClcblx0XHRcdFx0XHR9KSwgQS5kZWxlZ2F0ZShcImltZ1wiLCBcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0XHRhLnByZXZlbnREZWZhdWx0KClcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9KCksIFwiMTBcIiAhPSBiKSB7XG5cdFx0XHRcdFx0dmFyIGphID0gITE7XG5cdFx0XHRcdFx0bi5fJGFwcC5vbihcIm1vdXNlZG93biB0b3VjaHN0YXJ0XCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRcdG4uX2lzZm9yYmlkSGFuZEZsaXAgfHwgKG8oYSksIGphID0gITApXG5cdFx0XHRcdFx0fSkub24oXCJtb3VzZW1vdmUgdG91Y2htb3ZlXCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRcdG4uX2lzZm9yYmlkSGFuZEZsaXAgfHwgamEgJiYgcChhKVxuXHRcdFx0XHRcdH0pLm9uKFwibW91c2V1cCB0b3VjaGVuZCBtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRcdG4uX2lzZm9yYmlkSGFuZEZsaXAgfHwgKHEoYSksIGphID0gITEpXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fSBlbHNlIHR1cm5Cb29rKGUpO1xuXHRcdFx0XHRvID0gZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdGZhID0gITEsIEQgJiYgYSAmJiAoYSA9IGV2ZW50KSwgbi5faXNEaXNhYmxlRmxpcFBhZ2UgfHwgKG4uJGN1cnJlbnRQYWdlID0gbi5fJHBhZ2VzLmZpbHRlcihcIi56LWN1cnJlbnRcIikuZ2V0KDApLCBDIHx8IChuLiRhY3RpdmVQYWdlID0gbnVsbCksIG4uJGN1cnJlbnRQYWdlICYmIGNvbXBsZXRlRWZmZWN0KCQobi4kY3VycmVudFBhZ2UpKSAmJiAoSiA9ICEwLCBLID0gITEsIEwgPSAhMCwgSCA9IDAsIEkgPSAwLCBhICYmIFwibW91c2Vkb3duXCIgPT0gYS50eXBlID8gKEYgPSBhLnBhZ2VYLCBHID0gYS5wYWdlWSkgOiBhICYmIFwidG91Y2hzdGFydFwiID09IGEudHlwZSAmJiAoRiA9IGEudG91Y2hlcyA/IGEudG91Y2hlc1swXS5wYWdlWCA6IGEub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VYLCBHID0gYS50b3VjaGVzID8gYS50b3VjaGVzWzBdLnBhZ2VZIDogYS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpLCBuLiRjdXJyZW50UGFnZS5jbGFzc0xpc3QuYWRkKFwiei1tb3ZlXCIpLCBmKG4uJGN1cnJlbnRQYWdlLnN0eWxlLCBcIlRyYW5zaXRpb25cIiwgXCJub25lXCIpLCBcIjEyXCIgPT0gbi5fc2Nyb2xsTW9kZSAmJiAobi4kY3VycmVudFBhZ2Uuc3R5bGUuekluZGV4ID0gMykpKVxuXHRcdFx0XHR9LCBwID0gZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdEQgJiYgYSAmJiAoYSA9IGV2ZW50KSwgSiAmJiBuLl8kcGFnZXMubGVuZ3RoID4gMSAmJiAoYSAmJiBcIm1vdXNlbW92ZVwiID09IGEudHlwZSA/IChIID0gYS5wYWdlWCAtIEYsIEkgPSBhLnBhZ2VZIC0gRykgOiBhICYmIFwidG91Y2htb3ZlXCIgPT0gYS50eXBlICYmIChIID0gKGEudG91Y2hlcyA/IGEudG91Y2hlc1swXS5wYWdlWCA6IGEub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VYKSAtIEYsIEkgPSAoYS50b3VjaGVzID8gYS50b3VjaGVzWzBdLnBhZ2VZIDogYS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpIC0gRyksICFmYSAmJiAoTWF0aC5hYnMoSCkgPiAyMCB8fCBNYXRoLmFicyhJKSA+IDIwKSAmJiAoZmEgPSAhMCksIFwiMFwiID09IG4uX3Njcm9sbE1vZGUgfHwgXCIyXCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjFcIiA9PSBuLl9zY3JvbGxNb2RlIHx8IFwiMTVcIiA9PSBuLl9zY3JvbGxNb2RlID8gaigpIDogXCI0XCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjNcIiA9PSBuLl9zY3JvbGxNb2RlID8gbCgpIDogXCI1XCIgPT0gbi5fc2Nyb2xsTW9kZSA/IHIoKSA6IFwiNlwiID09IG4uX3Njcm9sbE1vZGUgPyBQKCkgOiBcIjdcIiA9PSBuLl9zY3JvbGxNb2RlID8gUigpIDogXCI4XCIgPT0gbi5fc2Nyb2xsTW9kZSA/IFQoKSA6IFwiOVwiID09IG4uX3Njcm9sbE1vZGUgPyBYKCkgOiBcIjExXCIgPT0gbi5fc2Nyb2xsTW9kZSA/IHooKSA6IFwiMTJcIiA9PSBuLl9zY3JvbGxNb2RlID8gWigpIDogXCIxM1wiID09IG4uX3Njcm9sbE1vZGUgPyBWKCkgOiBcIjE0XCIgPT0gbi5fc2Nyb2xsTW9kZSAmJiBWKCkpXG5cdFx0XHRcdH0sIHEgPSBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0aWYgKEogJiYgY29tcGxldGVFZmZlY3QoJChuLiRjdXJyZW50UGFnZSkpKSBpZiAoSiA9ICExLCBuLiRhY3RpdmVQYWdlKSB7XG5cdFx0XHRcdFx0XHRuLl9pc0Rpc2FibGVGbGlwUGFnZSA9ICEwO1xuXHRcdFx0XHRcdFx0dmFyIGI7XG5cdFx0XHRcdFx0XHRiID0gXCI2XCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjdcIiA9PSBuLl9zY3JvbGxNb2RlID8gXCJjdWJpYy1iZXppZXIoMCwwLDAuOTksMSlcIiA6IFwiMTJcIiA9PSBuLl9zY3JvbGxNb2RlID8gXCJjdWJpYy1iZXppZXIoLjE3LC42NywuODcsLjEzKVwiIDogXCJsaW5lYXJcIiwgbi4kY3VycmVudFBhZ2Uuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IFwiLXdlYmtpdC10cmFuc2Zvcm0gXCIgKyBOICsgXCJzIFwiICsgYiwgbi4kYWN0aXZlUGFnZS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gXCItd2Via2l0LXRyYW5zZm9ybSBcIiArIE4gKyBcInMgXCIgKyBiLCBuLiRjdXJyZW50UGFnZS5zdHlsZS5tb3pUcmFuc2l0aW9uID0gXCItbW96LXRyYW5zZm9ybSBcIiArIE4gKyBcInMgXCIgKyBiLCBuLiRhY3RpdmVQYWdlLnN0eWxlLm1velRyYW5zaXRpb24gPSBcIi1tb3otdHJhbnNmb3JtIFwiICsgTiArIFwicyBcIiArIGIsIG4uJGN1cnJlbnRQYWdlLnN0eWxlLnRyYW5zaXRpb24gPSBcInRyYW5zZm9ybSBcIiArIE4gKyBcInMgXCIgKyBiLCBuLiRhY3RpdmVQYWdlLnN0eWxlLnRyYW5zaXRpb24gPSBcInRyYW5zZm9ybSBcIiArIE4gKyBcInMgXCIgKyBiLCBcIjBcIiA9PSBuLl9zY3JvbGxNb2RlIHx8IFwiMlwiID09IG4uX3Njcm9sbE1vZGUgfHwgXCIxXCIgPT0gbi5fc2Nyb2xsTW9kZSB8fCBcIjE1XCIgPT0gbi5fc2Nyb2xsTW9kZSA/IGsoKSA6IFwiNFwiID09IG4uX3Njcm9sbE1vZGUgfHwgXCIzXCIgPT0gbi5fc2Nyb2xsTW9kZSA/IG0oKSA6IFwiNVwiID09IG4uX3Njcm9sbE1vZGUgPyB1KCkgOiBcIjZcIiA9PSBuLl9zY3JvbGxNb2RlID8gUSgpIDogXCI3XCIgPT0gbi5fc2Nyb2xsTW9kZSA/IFMoKSA6IFwiOFwiID09IG4uX3Njcm9sbE1vZGUgPyBVKCkgOiBcIjlcIiA9PSBuLl9zY3JvbGxNb2RlID8gWSgpIDogXCIxMVwiID09IG4uX3Njcm9sbE1vZGUgPyBPKCkgOiBcIjEyXCIgPT0gbi5fc2Nyb2xsTW9kZSA/IF8oKSA6IFwiMTNcIiA9PSBuLl9zY3JvbGxNb2RlID8gVygpIDogXCIxNFwiID09IG4uX3Njcm9sbE1vZGUgJiYgVygpO1xuXHRcdFx0XHRcdFx0dmFyIGMgPSAkKG4uJGFjdGl2ZVBhZ2UpLmZpbmQoXCIubS1pbWdcIikuYXR0cihcImlkXCIpLnJlcGxhY2UoXCJwYWdlXCIsIFwiXCIpIC0gMTtcblx0XHRcdFx0XHRcdG4uX3BhZ2VEYXRhW2NdLnByb3BlcnRpZXMgJiYgbi5fcGFnZURhdGFbY10ucHJvcGVydGllcy5sb25nUGFnZSAmJiAkKGRvY3VtZW50KS50cmlnZ2VyKFwiY2xlYXJUb3VjaFBvc1wiKSwgJChuLiRhY3RpdmVQYWdlKS5maW5kKFwibGkuY29tcC1yZXNpemVcIikuZWFjaChmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIGIgPSAwOyBiIDwgbi5fcGFnZURhdGFbY10uZWxlbWVudHMubGVuZ3RoOyBiKyspIGlmIChuLl9wYWdlRGF0YVtjXS5lbGVtZW50c1tiXS5pZCA9PSBwYXJzZUludCgkKHRoaXMpLmF0dHIoXCJpZFwiKS5zdWJzdHJpbmcoNyksIDEwKSkge1xuXHRcdFx0XHRcdFx0XHRcdGVxeENvbW1vbi5hbmltYXRpb24oJCh0aGlzKSwgbi5fcGFnZURhdGFbY10uZWxlbWVudHNbYl0sIFwidmlld1wiLCBuLl9wYWdlRGF0YVtjXS5wcm9wZXJ0aWVzKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZCA9IGgobi5fcGFnZURhdGFbY10uZWxlbWVudHNbYl0uaWQpO1xuXHRcdFx0XHRcdFx0XHRcdGVxeENvbW1vbi5iaW5kVHJpZ2dlcihkLCBuLl9wYWdlRGF0YVtjXS5lbGVtZW50c1tiXSlcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBkID0gMDsgZCA8IG4uX3BhZ2VEYXRhLmxlbmd0aDsgZCsrKSBuLl9wYWdlRGF0YVtkXS5lZmZPYmogJiYgKG4uX3BhZ2VEYXRhW2RdLmVmZk9iai5wYXVzZSA9ICEwKTtcblx0XHRcdFx0XHRcdG4uX3BhZ2VEYXRhW2NdLmVmZk9iaiAmJiBuLl9wYWdlRGF0YVtjXS5lZmZPYmouc3RhcnRQbGF5KCksIGVxU2hvdy5zZXRQYWdlSGlzKG4uX3BhZ2VEYXRhW2NdLmlkKVxuXHRcdFx0XHRcdH0gZWxzZSBuLiRjdXJyZW50UGFnZS5jbGFzc0xpc3QucmVtb3ZlKFwiei1tb3ZlXCIpO1xuXHRcdFx0XHRcdEMgPSAhMVxuXHRcdFx0XHR9LCAkKGRvY3VtZW50KS5vbihcImZsaXBlbmRcIiwgZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdGNvbXBsZXRlRWZmZWN0KCQobi4kYWN0aXZlUGFnZSkpIHx8ICQoXCIjYXVkaW9fYnRuXCIpLmNzcyhcIm9wYWNpdHlcIiwgMCk7XG5cdFx0XHRcdFx0dmFyIGQgPSAkKFwiI3JlcG9ydDBcIiksXG5cdFx0XHRcdFx0XHRnID0gJChuLiRhY3RpdmVQYWdlKS5maW5kKFwiLm0taW1nXCIpLmF0dHIoXCJpZFwiKS5zdWJzdHJpbmcoNCksXG5cdFx0XHRcdFx0XHRoID0gW107XG5cdFx0XHRcdFx0YyA9IG4uX3BhZ2VEYXRhLCBjW2cgLSAxXS5lbGVtZW50cyAmJiBjW2cgLSAxXS5lbGVtZW50cy5sZW5ndGggJiYgKGggPSBjW2cgLSAxXS5lbGVtZW50cywgJC5lYWNoKGgsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdFx0XHRcdFwiZFwiID09IGIudHlwZSAmJiBlcVNob3cuZ2V0U2hvd0NvdW50KGUub2JqLmlkKS50aGVuKGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGMgPSBlcVNob3cuZml4ZWROdW0oYSk7XG5cdFx0XHRcdFx0XHRcdCQoXCIjXCIgKyBiLmlkKS5maW5kKFwiLmNvdW50ZXItbnVtYmVyXCIpLnRleHQoYylcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fSkpLCBlcVNob3cuY2xlYXJUeXBlclRleHQoY1tnIC0gMV0pLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZihuLiRjdXJyZW50UGFnZS5zdHlsZSwgXCJUcmFuc2l0aW9uXCIsIFwibm9uZVwiKSwgJChuLiRhY3RpdmVQYWdlKS5yZW1vdmVDbGFzcyhcInotYWN0aXZlIHotbW92ZVwiKS5hZGRDbGFzcyhcInotY3VycmVudFwiKSwgJChuLiRjdXJyZW50UGFnZSkucmVtb3ZlQ2xhc3MoXCJ6LWN1cnJlbnQgei1tb3ZlXCIpLCBuLl9pc0Rpc2FibGVGbGlwUGFnZSA9ICExLCBuLiRjdXJyZW50UGFnZSA9ICQobi4kYWN0aXZlUGFnZSkudHJpZ2dlcihcImN1cnJlbnRcIiksICQobi4kY3VycmVudFBhZ2UpLnRyaWdnZXIoXCJoaWRlXCIpLCB1dGlsU291bmQucGF1c2UoKSwgZC5sZW5ndGggJiYgZC5yZW1vdmUoKSwgKFwiOFwiID09IGIgfHwgXCI5XCIgPT0gYiB8fCBcIjEyXCIgPT0gYikgJiYgKCQobi4kY3VycmVudFBhZ2UpLmNzcyhcInotaW5kZXhcIiwgXCIxXCIpLCAkKFwiLm1haW4tcGFnZVwiKS5hdHRyKFwic3R5bGVcIiwgXCJcIikpLCBlcVNob3cuc2hha2VUcmlnZ2VyKGMsIG4uJGN1cnJlbnRQYWdlKSwgQiB8fCAoMSA9PSBnID8geS5yZW1vdmVDbGFzcyhcImVuYWJsZWRcIikgOiBnID09IG4uX3BhZ2VEYXRhLmxlbmd0aCA/ICRuZXh0Q3RybC5yZW1vdmVDbGFzcyhcImVuYWJsZWRcIikgOiAoeS5hZGRDbGFzcyhcImVuYWJsZWRcIiksICRuZXh0Q3RybC5hZGRDbGFzcyhcImVuYWJsZWRcIikpKSwgd2luZG93LndlY2hhdFV0aWxzICYmIHdlY2hhdFV0aWxzLnN0b3BXZWNoYXRTb3VuZCgpO1xuXHRcdC8vY2xpY2tBbmltKCk7XG5cdFx0Y29uc29sZS5sb2coXCJmYW55ZVwiKTtcblx0XHRcdFx0XHR9LCBNKVxuXHRcdFx0XHR9KSwgJChkb2N1bWVudCkub24oXCJzdGFydEF1dG9GbGlwXCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRlLm9iai5wcm9wZXJ0eS5hdXRvRmxpcCAmJiBkKClcblx0XHRcdFx0fSksIGVxU2hvdy5zaG93UHJvZ3Jlc3NCYXIoZSwgbi5fJHBhZ2VzLCBhKVxuXHRcdFx0fTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0cGFnZVNjcm9sbDogYSxcblx0XHRcdG5leHRQYWdlOiBjLFxuXHRcdFx0cHJlUGFnZTogYixcblx0XHRcdGxhc3RQYWdlOiBmLFxuXHRcdFx0YXBwOiBPLFxuXHRcdFx0cGF1c2VBdXRvRmxpcDogZSxcblx0XHRcdHJlbW92ZUxhc3RQYWdlOiBnLFxuXHRcdFx0Y2hhbmdlU2Nyb2xsTW9kZTogaCxcblx0XHRcdHN0YXJ0QXV0b0ZsaXA6IGosXG5cdFx0XHRjaGFuZ2VBcHBQYWdlOiBrLFxuXHRcdFx0c2V0VHJpZ2dlckxvb3A6IG0sXG5cdFx0XHRmb3JiaWRIYW5kRmxpcDogaSxcblx0XHRcdHNldFBhZ2VEYXRhOiBsXG5cdFx0fVxuXHR9KCk7XG4hXG5mdW5jdGlvbihhLCBiKSB7XG5cdGZ1bmN0aW9uIGMoYSwgYykge1xuXHRcdGlmICghYihcIiNyZXBvcnQwXCIpLmxlbmd0aCkge1xuXHRcdFx0dmFyIGUgPSBbXTtcblx0XHRcdGVbMF0gPSAnPGRpdiBpZD1cInJlcG9ydDBcIj48L2Rpdj4nLCBlWzFdID0gJzxkaXYgaWQ9XCJyZXBvcnQxXCI+PC9kaXY+JywgZVsyXSA9ICc8ZGl2IGlkPVwicmVwb3J0MlwiPjxwPjxpbWcgc3JjPVwiJyArIENMSUVOVF9DRE4gKyAnL3ZpZXcvaW1hZ2VzL2p1YmFvXzAzLnBuZ1wiIHdpZHRoPVwiNTBweDtcIj48L3A+PGgxPuivt+mAieaLqeS4vuaKpeWOn+WboDwvaDE+PC9kaXY+JywgZVszXSA9ICc8ZGl2IGlkPVwicmVwb3J0M1wiPjx1bCBpZD1cInJlcG9ydExpc3RcIj48L3VsPjwvZGl2PicsIGVbNF0gPSAnPGRpdiBpZD1cInJlcG9ydDRcIj48YSBpZD1cInJlcG9ydFN1Ym1pdFwiIGRhdGEtZXZlbnQ9XCIxMTIwM1wiPuaPkOS6pOS4vuaKpTwvYT48L2Rpdj4nLCBiKGVbMF0pLmFwcGVuZFRvKFwiI3BhZ2VcIiArIGEpLCBiKGVbMV0pLmFwcGVuZFRvKFwiI3JlcG9ydDBcIik7XG5cdFx0XHRmb3IgKHZhciBmID0gMjsgNCA+PSBmOyBmKyspIGIoZVtmXSkuYXBwZW5kVG8oXCIjcmVwb3J0MVwiKTtcblx0XHRcdGQoYylcblx0XHR9XG5cdH1cblx0ZnVuY3Rpb24gZChhKSB7XG5cdFx0aWYgKGcubGVuZ3RoKSByZXR1cm4gdm9pZCBlKGcsIGEpO1xuXHRcdHZhciBjID0gUFJFRklYX1MxX1VSTCArIFwiZXFzL2NsYXNzL2V4cG9zZV90eXBlc1wiO1xuXHRcdGIuYWpheCh7XG5cdFx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdFx0dXJsOiBjLFxuXHRcdFx0eGhyRmllbGRzOiB7XG5cdFx0XHRcdHdpdGhDcmVkZW50aWFsczogITBcblx0XHRcdH0sXG5cdFx0XHRjcm9zc0RvbWFpbjogITBcblx0XHR9KS50aGVuKGZ1bmN0aW9uKGIpIHtcblx0XHRcdGIuc3VjY2VzcyAmJiAoZyA9IGIubGlzdCwgZShnLCBhKSlcblx0XHR9KVxuXHR9XG5cdGZ1bmN0aW9uIGUoYSwgYykge1xuXHRcdGZvciAodmFyIGQsIGUgPSAwLCBnID0gYS5sZW5ndGg7IGcgPiBlOyBlKyspIHtcblx0XHRcdHZhciBoID0gJzxsaSB2YWx1ZT1cIicgKyBhW2VdLnZhbHVlICsgJ1wiPjxzcGFuPicgKyBhW2VdLm5hbWUgKyBcIjwvc3Bhbj48L2xpPlwiO1xuXHRcdFx0YihoKS5hcHBlbmRUbyhcIiNyZXBvcnRMaXN0XCIpXG5cdFx0fVxuXHRcdHZhciBpID0gYihcIiNyZXBvcnRMaXN0XCIpLmZpbmQoXCJsaVwiKS5lcSgwKTtcblx0XHRpLmFkZENsYXNzKFwiYWN0aXZlXCIpLCBkID0gaS52YWwoKSwgYihcIiNyZXBvcnRMaXN0XCIpLmZpbmQoXCJsaVwiKS5jbGljayhmdW5jdGlvbihhKSB7XG5cdFx0XHRiKHRoaXMpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksIGIodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIiksIGQgPSBiKHRoaXMpLnZhbCgpXG5cdFx0fSksIGIoXCIjcmVwb3J0U3VibWl0XCIpLmNsaWNrKGZ1bmN0aW9uKGEpIHtcblx0XHRcdGYoYywgZClcblx0XHR9KSwgYihcIiNyZXBvcnQwXCIpLnBhcmVudChcIi5tLWltZ1wiKS5jbGljayhmdW5jdGlvbihhKSB7XG5cdFx0XHRiKFwiI3JlcG9ydDBcIikucmVtb3ZlKClcblx0XHR9KSwgYihcIiNyZXBvcnQwXCIpLmNsaWNrKGZ1bmN0aW9uKGEpIHtcblx0XHRcdGEuc3RvcFByb3BhZ2F0aW9uKClcblx0XHR9KVxuXHR9XG5cdGZ1bmN0aW9uIGYoYSwgYykge1xuXHRcdHZhciBkID0gUFJFRklYX1VSTCArIFwiZXFzL2V4cG9zZVwiLFxuXHRcdFx0ZSA9IHtcblx0XHRcdFx0c2NlbmVJZDogYSxcblx0XHRcdFx0dHlwZTogY1xuXHRcdFx0fTtcblx0XHRiLmFqYXgoe1xuXHRcdFx0dHlwZTogXCJQT1NUXCIsXG5cdFx0XHR1cmw6IGQsXG5cdFx0XHRkYXRhOiBiLnBhcmFtKGUpLFxuXHRcdFx0eGhyRmllbGRzOiB7XG5cdFx0XHRcdHdpdGhDcmVkZW50aWFsczogITBcblx0XHRcdH0sXG5cdFx0XHRjcm9zc0RvbWFpbjogITBcblx0XHR9KS50aGVuKGZ1bmN0aW9uKGEpIHtcblx0XHRcdGEuc3VjY2VzcyAmJiAoYihcIiNyZXBvcnQwXCIpLnJlbW92ZSgpLCBhbGVydChcIuS4vuaKpeaIkOWKn++8gVwiKSlcblx0XHR9LCBmdW5jdGlvbihhKSB7XG5cdFx0XHRiKFwiI3JlcG9ydDBcIikucmVtb3ZlKClcblx0XHR9KVxuXHR9XG5cdGEuYWRkUmVwb3J0ID0gZnVuY3Rpb24oYSwgZCkge1xuXHRcdHZhciBlID0gJycsXG5cdFx0XHRmID0gYihcIiNwYWdlXCIgKyBhKS5maW5kKFwiLmVkaXRfd3JhcHBlclwiKS5maW5kKFwidWxcIik7XG5cdFx0YihlKS5hcHBlbmRUbyhmKS5jbGljayhmdW5jdGlvbihiKSB7XG5cdFx0XHRiLnN0b3BQcm9wYWdhdGlvbigpLCBjKGEsIGQpXG5cdFx0fSlcblx0fTtcblx0dmFyIGcgPSBbXVxufVxuKHdpbmRvdywgalF1ZXJ5KSwgZnVuY3Rpb24od2luZG93LCAkKSB7XG5cdGZ1bmN0aW9uIGFwcGVuZEFjdGl2aXR5UGFnZShhLCBiKSB7XG5cdFx0YS5vYmoucHJvcGVydHkuYWN0aXZpdHlQYWdlSWQgJiYgKGFjdGl2aXR5UGFnZVByb21pc2UgPSAkLmFqYXgoe1xuXHRcdFx0dHlwZTogXCJHRVRcIixcblx0XHRcdHVybDogUFJFRklYX1MyX1VSTCArIFwiP2M9c2NlbmUmYT1nZXRsYXN0cGFnZWJnJmlkPVwiICsgYS5vYmoucHJvcGVydHkuYWN0aXZpdHlQYWdlSWQsXG5cdFx0XHRjcm9zc0RvbWFpbjogITAsXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdGEub2JqICYmIGIucHVzaChhLm9iailcblx0XHRcdH1cblx0XHR9KSlcblx0fVxuXHRmdW5jdGlvbiBpbnRlcm5hdGlvbmFsTGFzdFBhZ2UoYSwgYiwgYykge1xuXHRcdHZhciBkID0gJ3tcImlkXCI6XCJcIixcInNjZW5lSWRcIjpcIlwiLFwibnVtXCI6MixcIm5hbWVcIjpudWxsLFwicHJvcGVydGllc1wiOm51bGwsXCJlbGVtZW50c1wiOlt7XCJpZFwiOjQzOTg4MCxcInBhZ2VJZFwiOjEyOTgxMCxcInNjZW5lSWRcIjoxNjA2MCxcIm51bVwiOjAsXCJ0eXBlXCI6XCIzXCIsXCJpc0lucHV0XCI6MCxcInRpdGxlXCI6bnVsbCxcImNvbnRlbnRcIjpudWxsLFwic3RhdHVzXCI6MSxcImNzc1wiOnt9LFwicHJvcGVydGllc1wiOntcImJnQ29sb3JcIjpcIiNFNkU5RUVcIn19LHtcImlkXCI6NDM5ODgxLFwicGFnZUlkXCI6MTI5ODEwLFwic2NlbmVJZFwiOjE2MDYwLFwibnVtXCI6MSxcInR5cGVcIjpcIjJcIixcImlzSW5wdXRcIjowLFwidGl0bGVcIjpudWxsLFwiY29udGVudFwiOlwiPGRpdiBzdHlsZT1cXFxcXCJ0ZXh0LWFsaWduOiBjZW50ZXI7XFxcXFwiPjxzcGFuIHN0eWxlPVxcXFxcImxpbmUtaGVpZ2h0OiAxOyBiYWNrZ3JvdW5kLWNvbG9yOiBpbml0aWFsO1xcXFxcIj48Zm9udCBzaXplPVxcXFxcIjRcXFxcXCIgY29sb3I9XFxcXFwiIzg4ODg4OFxcXFxcIj48Yj7lnLrmma/lkI3np7A8L2I+PC9mb250Pjwvc3Bhbj48L2Rpdj5cIixcInN0YXR1c1wiOjEsXCJjc3NcIjp7XCJoZWlnaHRcIjpcIjY1XCIsXCJ6SW5kZXhcIjpcIjEwXCIsXCJ3aWR0aFwiOlwiMzIwXCIsXCJsZWZ0XCI6XCIwcHhcIixcInRvcFwiOlwiNzdweFwifSxcInByb3BlcnRpZXNcIjp7fX0se1wiaWRcIjo0Mzk4ODIsXCJwYWdlSWRcIjoxMjk4MTAsXCJzY2VuZUlkXCI6MTYwNjAsXCJudW1cIjoxLFwidHlwZVwiOlwiNFwiLFwiaXNJbnB1dFwiOjAsXCJ0aXRsZVwiOm51bGwsXCJjb250ZW50XCI6bnVsbCxcInN0YXR1c1wiOjEsXCJjc3NcIjp7XCJib3JkZXJSYWRpdXNcIjpcIjEwcHhcIixcImJvcmRlclN0eWxlXCI6XCJzb2xpZFwiLFwiekluZGV4XCI6XCI5XCIsXCJib3JkZXJDb2xvclwiOlwicmdiYSgwLDAsMCwxKVwiLFwicGFkZGluZ1RvcFwiOlwiMHB4XCIsXCJoZWlnaHRcIjpcIjE0MVwiLFwiYmFja2dyb3VuZENvbG9yXCI6XCJcIixcImNvbG9yXCI6XCJcIixcImJveFNoYWRvd1wiOlwiMHB4IDBweCAwcHggIzMzMzMzM1wiLFwiYm9yZGVyV2lkdGhcIjpcIjBweFwiLFwid2lkdGhcIjpcIjE0Mi4xMzcwOTY3NzQxOTM1NFwiLFwibGVmdFwiOlwiOTJweFwiLFwicGFkZGluZ0JvdHRvbVwiOlwiMHB4XCIsXCJ0b3BcIjpcIjE3N3B4XCJ9LFwicHJvcGVydGllc1wiOntcImhlaWdodFwiOlwiMTAwcHhcIixcImltZ1N0eWxlXCI6e1wid2lkdGhcIjoxNDIsXCJoZWlnaHRcIjoxNDIsXCJtYXJnaW5Ub3BcIjpcIi0wLjVweFwiLFwibWFyZ2luTGVmdFwiOlwiMHB4XCJ9LFwid2lkdGhcIjpcIjEwMHB4XCIsXCJzcmNcIjpcImdyb3VwMS9NMDAvQkEvREEveXEwS0ExUnE4Q09BQVlSakFBS1U0T1ZZdW0wODg5LmpwZ1wifX0se1wiaWRcIjo0Mzk4ODMsXCJwYWdlSWRcIjoxMjk4MTAsXCJzY2VuZUlkXCI6MTYwNjAsXCJudW1cIjoxLFwidHlwZVwiOlwiNFwiLFwiaXNJbnB1dFwiOjAsXCJ0aXRsZVwiOm51bGwsXCJjb250ZW50XCI6bnVsbCxcInN0YXR1c1wiOjEsXCJjc3NcIjp7XCJoZWlnaHRcIjpcIjE2XCIsXCJ6SW5kZXhcIjpcIjExXCIsXCJ3aWR0aFwiOlwiMjgwXCIsXCJsZWZ0XCI6XCIyMXB4XCIsXCJ0b3BcIjpcIjEyMnB4XCJ9LFwicHJvcGVydGllc1wiOntcImhlaWdodFwiOlwiMTAwcHhcIixcImltZ1N0eWxlXCI6e1wid2lkdGhcIjoyODAsXCJoZWlnaHRcIjo3MyxcIm1hcmdpblRvcFwiOlwiLTI0cHhcIixcIm1hcmdpbkxlZnRcIjpcIjBweFwifSxcIndpZHRoXCI6XCIxMDBweFwiLFwic3JjXCI6XCInICsgQ0xJRU5UX0NETiArICd2aWV3L2ltYWdlcy9saW5lLnBuZ1wifX0sJztcblx0XHRyZXR1cm4gMTAwID09IGEub2JqLmJpelR5cGUgJiYgaXNNb2JpbGUgJiYgKGQgKz0gJ3tcImlkXCI6NDM5ODg0LFwicGFnZUlkXCI6MTI5ODEwLFwic2NlbmVJZFwiOjE2MDYwLFwibnVtXCI6MSxcInR5cGVcIjpcIjJcIixcImlzSW5wdXRcIjowLFwidGl0bGVcIjpudWxsLFwiY29udGVudFwiOlwiPGRpdiBpZD1cXFxcXCJlcXgtc2hhcmUtY29udGFpbmVyXFxcXFwiIHN0eWxlPVxcXFxcInRleHQtYWxpZ246IGNlbnRlcjtwYWRkaW5nLXRvcDogMDtcXFxcXCI+PC9kaXY+XCIsXCJzdGF0dXNcIjoxLFwiY3NzXCI6e1wiaGVpZ2h0XCI6XCI0NVwiLFwiekluZGV4XCI6XCIxMVwiLFwid2lkdGhcIjpcIjI4MFwiLFwibGVmdFwiOlwiMjFweFwiLFwidG9wXCI6XCIzNjBweFwiLFwidGV4dC1hbGlnblwiOiBcImNlbnRlclwifSxcInByb3BlcnRpZXNcIjp7XCJhbmltXCI6W3tcInR5cGVcIjoyMCxcImRpcmVjdGlvblwiOjAsXCJkdXJhdGlvblwiOlwiMVwiLFwiZGVsYXlcIjpcIjFcIixcImNvdW50TnVtXCI6XCIxXCJ9XX19LCcpLCBkICs9ICd7XCJpZFwiOjQzOTg4NSxcInBhZ2VJZFwiOjEyOTgxMCxcInNjZW5lSWRcIjoxNjA2MCxcIm51bVwiOjEsXCJ0eXBlXCI6XCIyXCIsXCJpc0lucHV0XCI6MCxcInRpdGxlXCI6bnVsbCxcImNvbnRlbnRcIjpcIjxkaXYgc3R5bGU9XFxcXFwidGV4dC1hbGlnbjogY2VudGVyO3BhZGRpbmctdG9wOiAwO1xcXFxcIj48c3BhbiBzdHlsZT1cXFxcXCJmb250LXNpemU6IHNtYWxsOyBsaW5lLWhlaWdodDogMTsgYmFja2dyb3VuZC1jb2xvcjogaW5pdGlhbDtcXFxcXCI+PGEgaHJlZj1cXFxcXCInICsgUFJFRklYX1MxX1VSTCArIFwiZXFzL2xpbms/aWQ9MTYwNjAmYW1wO3VybD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChyZWRpcmVjdFVybCkgKyAnXFxcXFwiIHRhcmdldD1cXFxcXCJfYmxhbmtcXFxcXCI+PGltZyBzdHlsZT1cXFxcXCJ3aWR0aDogMTQwcHg7XFxcXFwiIHNyYz1cXFxcXCInICsgQ0xJRU5UX0NETiArICdhc3NldHMvaW1hZ2VzL2F2YWlsYWJsZS1vbi10aGUtYXBwLXN0b3JlLnBuZ1xcXFxcIj48L2E+PC9zcGFuPjwvZGl2PlwiLFwic3RhdHVzXCI6MSxcImNzc1wiOntcImJvcmRlclJhZGl1c1wiOlwiMHB4XCIsXCJib3JkZXJTdHlsZVwiOlwic29saWRcIixcImhlaWdodFwiOlwiNTBcIixcInBhZGRpbmdUb3BcIjpcIjBweFwiLFwiYm9yZGVyQ29sb3JcIjpcInJnYmEoMjIyLDIyMCwyMjcsMSlcIixcInpJbmRleFwiOlwiMTJcIixcImJveFNoYWRvd1wiOlwiMHB4IDBweCAwcHggcmdiYSgyMDAsMjAwLDIwMCwwLjYpXCIsXCJjb2xvclwiOlwiXCIsXCJiYWNrZ3JvdW5kQ29sb3JcIjpcInJnYmEoMjU1LDI1NSwyNTUsMClcIixcImJvcmRlcldpZHRoXCI6XCIwcHhcIixcIndpZHRoXCI6XCIzMjBcIixcImxlZnRcIjpcIjFweFwiLFwicGFkZGluZ0JvdHRvbVwiOlwiMjBweFwiLFwidG9wXCI6XCI0MTBweFwifSxcInByb3BlcnRpZXNcIjp7XCJhbmltXCI6e1widHlwZVwiOjEsXCJkaXJlY3Rpb25cIjozLFwiZHVyYXRpb25cIjpcIjFcIixcImRlbGF5XCI6XCIwLjZcIn19fV19J1xuXHR9XG5cdGZ1bmN0aW9uIGVxRnJlZXBhZ2UoYSwgYiwgYykge1xuXHRcdGZ1bmN0aW9uIGQoYSwgYiwgYykge1xuXHRcdFx0YWN0aXZpdHlQYWdlUHJvbWlzZSA/IGFjdGl2aXR5UGFnZVByb21pc2UuZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdFx0Yy5saXN0LnB1c2goYSksIHBhcnNlUGFnZShiLCBjKVxuXHRcdFx0fSkuZmFpbChmdW5jdGlvbigpIHtcblx0XHRcdFx0Yy5saXN0LnB1c2goYSksIHBhcnNlUGFnZShiLCBjKVxuXHRcdFx0fSkgOiAoYy5saXN0LnB1c2goYSksIHBhcnNlUGFnZShiLCBjKSlcblx0XHR9XG5cdFx0dmFyIGUgPSAne1wiaWRcIjpcIlwiLFwic2NlbmVJZFwiOlwiXCIsXCJudW1cIjoyLFwibmFtZVwiOm51bGwsXCJwcm9wZXJ0aWVzXCI6bnVsbCxcImVsZW1lbnRzXCI6W3tcImlkXCI6NDM5ODgwLFwicGFnZUlkXCI6MTI5ODEwLFwic2NlbmVJZFwiOjE2MDYwLFwibnVtXCI6MCxcInR5cGVcIjpcIjNcIixcImlzSW5wdXRcIjowLFwidGl0bGVcIjpudWxsLFwiY29udGVudFwiOm51bGwsXCJzdGF0dXNcIjoxLFwiY3NzXCI6e30sXCJwcm9wZXJ0aWVzXCI6e1wiYmdDb2xvclwiOlwiI0U2RTlFRVwifX0se1wiaWRcIjo0Mzk4ODEsXCJwYWdlSWRcIjoxMjk4MTAsXCJzY2VuZUlkXCI6MTYwNjAsXCJudW1cIjoxLFwidHlwZVwiOlwiMlwiLFwiaXNJbnB1dFwiOjAsXCJ0aXRsZVwiOm51bGwsXCJjb250ZW50XCI6XCI8ZGl2IHN0eWxlPVxcXFxcInRleHQtYWxpZ246IGNlbnRlcjtcXFxcXCI+PHNwYW4gc3R5bGU9XFxcXFwibGluZS1oZWlnaHQ6IDE7IGJhY2tncm91bmQtY29sb3I6IGluaXRpYWw7XFxcXFwiPjxmb250IHNpemU9XFxcXFwiNFxcXFxcIiBjb2xvcj1cXFxcXCIjODg4ODg4XFxcXFwiPjxiPuWcuuaZr+WQjeensDwvYj48L2ZvbnQ+PC9zcGFuPjwvZGl2PlwiLFwic3RhdHVzXCI6MSxcImNzc1wiOntcImhlaWdodFwiOlwiNjVcIixcInpJbmRleFwiOlwiMTBcIixcIndpZHRoXCI6XCIzMjBcIixcImxlZnRcIjpcIjBweFwiLFwidG9wXCI6XCI3N3B4XCJ9LFwicHJvcGVydGllc1wiOnt9fSx7XCJpZFwiOjQzOTg4MixcInBhZ2VJZFwiOjEyOTgxMCxcInNjZW5lSWRcIjoxNjA2MCxcIm51bVwiOjEsXCJ0eXBlXCI6XCI0XCIsXCJpc0lucHV0XCI6MCxcInRpdGxlXCI6bnVsbCxcImNvbnRlbnRcIjpudWxsLFwic3RhdHVzXCI6MSxcImNzc1wiOntcImJvcmRlclJhZGl1c1wiOlwiMTBweFwiLFwiYm9yZGVyU3R5bGVcIjpcInNvbGlkXCIsXCJ6SW5kZXhcIjpcIjlcIixcImJvcmRlckNvbG9yXCI6XCJyZ2JhKDAsMCwwLDEpXCIsXCJwYWRkaW5nVG9wXCI6XCIwcHhcIixcImhlaWdodFwiOlwiMTQxXCIsXCJiYWNrZ3JvdW5kQ29sb3JcIjpcIlwiLFwiY29sb3JcIjpcIlwiLFwiYm94U2hhZG93XCI6XCIwcHggMHB4IDBweCAjMzMzMzMzXCIsXCJib3JkZXJXaWR0aFwiOlwiMHB4XCIsXCJ3aWR0aFwiOlwiMTQyLjEzNzA5Njc3NDE5MzU0XCIsXCJsZWZ0XCI6XCI5MnB4XCIsXCJwYWRkaW5nQm90dG9tXCI6XCIwcHhcIixcInRvcFwiOlwiMTc3cHhcIn0sXCJwcm9wZXJ0aWVzXCI6e1wiaGVpZ2h0XCI6XCIxMDBweFwiLFwiaW1nU3R5bGVcIjp7XCJ3aWR0aFwiOjE0MixcImhlaWdodFwiOjE0MixcIm1hcmdpblRvcFwiOlwiLTAuNXB4XCIsXCJtYXJnaW5MZWZ0XCI6XCIwcHhcIn0sXCJ3aWR0aFwiOlwiMTAwcHhcIixcInNyY1wiOlwiZ3JvdXAxL00wMC9CQS9EQS95cTBLQTFScThDT0FBWVJqQUFLVTRPVll1bTA4ODkuanBnXCJ9fSx7XCJpZFwiOjQzOTg4MyxcInBhZ2VJZFwiOjEyOTgxMCxcInNjZW5lSWRcIjoxNjA2MCxcIm51bVwiOjEsXCJ0eXBlXCI6XCI0XCIsXCJpc0lucHV0XCI6MCxcInRpdGxlXCI6bnVsbCxcImNvbnRlbnRcIjpudWxsLFwic3RhdHVzXCI6MSxcImNzc1wiOntcImhlaWdodFwiOlwiMTZcIixcInpJbmRleFwiOlwiMTFcIixcIndpZHRoXCI6XCIyODBcIixcImxlZnRcIjpcIjIxcHhcIixcInRvcFwiOlwiMTIycHhcIn0sXCJwcm9wZXJ0aWVzXCI6e1wiaGVpZ2h0XCI6XCIxMDBweFwiLFwiaW1nU3R5bGVcIjp7XCJ3aWR0aFwiOjI4MCxcImhlaWdodFwiOjczLFwibWFyZ2luVG9wXCI6XCItMjRweFwiLFwibWFyZ2luTGVmdFwiOlwiMHB4XCJ9LFwid2lkdGhcIjpcIjEwMHB4XCIsXCJzcmNcIjpcIicgKyBDTElFTlRfQ0ROICsgJ3ZpZXcvaW1hZ2VzL2xpbmUucG5nXCJ9fSx7XCJpZFwiOjQzOTg4NSxcInBhZ2VJZFwiOjEyOTgxMCxcInNjZW5lSWRcIjoxNjA2MCxcIm51bVwiOjEsXCJ0eXBlXCI6XCIyXCIsXCJpc0lucHV0XCI6MCxcInRpdGxlXCI6bnVsbCxcImNvbnRlbnRcIjpcIjxkaXYgc3R5bGU9XFxcXFwidGV4dC1hbGlnbjogY2VudGVyO3BhZGRpbmctdG9wOiAwO1xcXFxcIj48c3BhbiBzdHlsZT1cXFxcXCJmb250LXNpemU6IHNtYWxsOyBsaW5lLWhlaWdodDogMTsgYmFja2dyb3VuZC1jb2xvcjogaW5pdGlhbDtcXFxcXCI+PGEgaHJlZj1cXFxcXCInICsgUFJFRklYX1MxX1VSTCArIFwiaW5kZXgucGhwP2M9c2NlbmUmYT1saW5rJmlkPTE2MDYwJmFtcDt1cmw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQobGFzdHBhZ2VsaW5rKSArICdcXFxcXCIgdGFyZ2V0PVxcXFxcIl9ibGFua1xcXFxcIj48Zm9udCBjb2xvcj1cXFxcXCIjODg4ODg4XFxcXFwiPuWIm+W7uuS4gOS4quWcuuaZr++8n+KGkjwvZm9udD48Zm9udCBjb2xvcj1cXFxcXCInK2xhc3RwYWdldGV4dF9jb2xvcisnXFxcXFwiPicrbGFzdHBhZ2V0ZXh0Kyc8L2ZvbnQ+PC9hPjwvc3Bhbj48L2Rpdj5cIixcInN0YXR1c1wiOjEsXCJjc3NcIjp7XCJib3JkZXJSYWRpdXNcIjpcIjBweFwiLFwiYm9yZGVyU3R5bGVcIjpcInNvbGlkXCIsXCJoZWlnaHRcIjpcIjMwXCIsXCJwYWRkaW5nVG9wXCI6XCIwcHhcIixcImJvcmRlckNvbG9yXCI6XCJyZ2JhKDIyMiwyMjAsMjI3LDEpXCIsXCJ6SW5kZXhcIjpcIjEyXCIsXCJib3hTaGFkb3dcIjpcIjBweCAwcHggMHB4IHJnYmEoMjAwLDIwMCwyMDAsMC42KVwiLFwiY29sb3JcIjpcIlwiLFwiYmFja2dyb3VuZENvbG9yXCI6XCJyZ2JhKDI1NSwyNTUsMjU1LDApXCIsXCJib3JkZXJXaWR0aFwiOlwiMHB4XCIsXCJ3aWR0aFwiOlwiMzIwXCIsXCJsZWZ0XCI6XCIxcHhcIixcInBhZGRpbmdCb3R0b21cIjpcIjIwcHhcIixcInRvcFwiOlwiNDIwcHhcIn0sXCJwcm9wZXJ0aWVzXCI6e1wiYW5pbVwiOntcInR5cGVcIjoxLFwiZGlyZWN0aW9uXCI6MyxcImR1cmF0aW9uXCI6XCIxXCIsXCJkZWxheVwiOlwiMC42XCJ9fX1dfScsXG5cdFx0XHRlID0gJ3tcImlkXCI6XCJcIixcInNjZW5lSWRcIjpcIlwiLFwibnVtXCI6MixcIm5hbWVcIjpudWxsLFwicHJvcGVydGllc1wiOm51bGwsXCJlbGVtZW50c1wiOlt7XCJpZFwiOjQzOTg4MCxcInBhZ2VJZFwiOjEyOTgxMCxcInNjZW5lSWRcIjoxNjA2MCxcIm51bVwiOjAsXCJ0eXBlXCI6XCIzXCIsXCJpc0lucHV0XCI6MCxcInRpdGxlXCI6bnVsbCxcImNvbnRlbnRcIjpudWxsLFwic3RhdHVzXCI6MSxcImNzc1wiOnt9LFwicHJvcGVydGllc1wiOntcImJnQ29sb3JcIjpcIiNFNkU5RUVcIn19LHtcImlkXCI6NDM5ODgxLFwicGFnZUlkXCI6MTI5ODEwLFwic2NlbmVJZFwiOjE2MDYwLFwibnVtXCI6MSxcInR5cGVcIjpcIjJcIixcImlzSW5wdXRcIjowLFwidGl0bGVcIjpudWxsLFwiY29udGVudFwiOlwiPGRpdiBzdHlsZT1cXFxcXCJ0ZXh0LWFsaWduOiBjZW50ZXI7XFxcXFwiPjxzcGFuIHN0eWxlPVxcXFxcImxpbmUtaGVpZ2h0OiAxOyBiYWNrZ3JvdW5kLWNvbG9yOiBpbml0aWFsO1xcXFxcIj48Zm9udCBzaXplPVxcXFxcIjRcXFxcXCIgY29sb3I9XFxcXFwiIzg4ODg4OFxcXFxcIj48Yj7lnLrmma/lkI3np7A8L2I+PC9mb250Pjwvc3Bhbj48L2Rpdj5cIixcInN0YXR1c1wiOjEsXCJjc3NcIjp7XCJoZWlnaHRcIjpcIjY1XCIsXCJ6SW5kZXhcIjpcIjEwXCIsXCJ3aWR0aFwiOlwiMzIwXCIsXCJsZWZ0XCI6XCIwcHhcIixcInRvcFwiOlwiNzdweFwifSxcInByb3BlcnRpZXNcIjp7fX0se1wiaWRcIjo0Mzk4ODIsXCJwYWdlSWRcIjoxMjk4MTAsXCJzY2VuZUlkXCI6MTYwNjAsXCJudW1cIjoxLFwidHlwZVwiOlwiMlwiLFwiaXNJbnB1dFwiOjAsXCJ0aXRsZVwiOm51bGwsXCJjb250ZW50XCI6XCI8ZGl2IGNsYXNzPVxcXFxcImJvdHRvbS1sb2dvXFxcXFwiIHN0eWxlPVxcXFxcInRleHQtYWxpZ246IGNlbnRlcjtjdXJzb3I6cG9pbnRlcjtoZWlnaHQ6MTQycHg7d2lkdGg6MTQycHg7Ym9yZGVyLXJhZGl1czoxMHB4O1xcXFxcIj48ZW0gc3R5bGU9XFxcXFwiY29sb3I6d2hpdGU7bGluZS1oZWlnaHQ6MTQycHg7Zm9udC1zaXplOjEyMHB4O1xcXFxcIiBjbGFzcz1cXFxcXCJlcWYtZXF4aXVcXFxcXCI+PC9lbT48L2Rpdj5cIixcInN0YXR1c1wiOjEsXCJjc3NcIjp7XCJoZWlnaHRcIjpcIjE1N1wiLFwid2lkdGhcIjpcIjE3MlwiLFwibGVmdFwiOlwiNzdweFwiLFwidG9wXCI6XCIxNzBweFwifSxcInByb3BlcnRpZXNcIjp7fX0se1wiaWRcIjo0Mzk4ODMsXCJwYWdlSWRcIjoxMjk4MTAsXCJzY2VuZUlkXCI6MTYwNjAsXCJudW1cIjoxLFwidHlwZVwiOlwiMlwiLFwiaXNJbnB1dFwiOjAsXCJ0aXRsZVwiOm51bGwsXCJjb250ZW50XCI6XCI8ZGl2IHN0eWxlPVxcXFxcIndpZHRoOjI4MHB4O2hlaWdodDoxcHg7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDYwLDYwLDYwLDAuNCk7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowOy13ZWJraXQtZmlsdGVyOmRyb3Atc2hhZG93KDBweCAxcHggMHB4IHJnYmEoNjAsNjAsNjAsMC40KSk7dG9wOjEycHg7XFxcXFwiPjwvZGl2PlwiLFwic3RhdHVzXCI6MSxcImNzc1wiOntcImhlaWdodFwiOlwiMjRcIixcIndpZHRoXCI6XCIyODBcIixcImxlZnRcIjpcIjIxcHhcIixcInRvcFwiOlwiMTIycHhcIn0sXCJwcm9wZXJ0aWVzXCI6e319LHtcImlkXCI6NDM5ODg1LFwicGFnZUlkXCI6MTI5ODEwLFwic2NlbmVJZFwiOjE2MDYwLFwibnVtXCI6MSxcInR5cGVcIjpcIjJcIixcImlzSW5wdXRcIjowLFwidGl0bGVcIjpudWxsLFwiY29udGVudFwiOlwiPGRpdiBzdHlsZT1cXFxcXCJ0ZXh0LWFsaWduOiBjZW50ZXI7cGFkZGluZy10b3A6IDA7XFxcXFwiPjxzcGFuIHN0eWxlPVxcXFxcImZvbnQtc2l6ZTogc21hbGw7IGxpbmUtaGVpZ2h0OiAxOyBiYWNrZ3JvdW5kLWNvbG9yOiBpbml0aWFsO1xcXFxcIj48YSBocmVmPVxcXFxcIicgKyBQUkVGSVhfUzFfVVJMICsgXCJpbmRleC5waHA/Yz1zY2VuZSZhPWxpbmsmaWQ9MTYwNjAmYW1wO3VybD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChsYXN0cGFnZWxpbmspICsgJ1xcXFxcIiB0YXJnZXQ9XFxcXFwiX2JsYW5rXFxcXFwiPjxmb250IGNvbG9yPVxcXFxcIiM4ODg4ODhcXFxcXCI+5Yib5bu65LiA5Liq5Zy65pmv77yf4oaSPC9mb250Pjxmb250IGNvbG9yPVxcXFxcIicrbGFzdHBhZ2V0ZXh0X2NvbG9yKydcXFxcXCI+JytsYXN0cGFnZXRleHQrJzwvZm9udD48L2E+PC9zcGFuPjwvZGl2PlwiLFwic3RhdHVzXCI6MSxcImNzc1wiOntcImJvcmRlclJhZGl1c1wiOlwiMHB4XCIsXCJib3JkZXJTdHlsZVwiOlwic29saWRcIixcImhlaWdodFwiOlwiMzBcIixcInBhZGRpbmdUb3BcIjpcIjBweFwiLFwiYm9yZGVyQ29sb3JcIjpcInJnYmEoMjIyLDIyMCwyMjcsMSlcIixcInpJbmRleFwiOlwiMTJcIixcImJveFNoYWRvd1wiOlwiMHB4IDBweCAwcHggcmdiYSgyMDAsMjAwLDIwMCwwLjYpXCIsXCJjb2xvclwiOlwiXCIsXCJiYWNrZ3JvdW5kQ29sb3JcIjpcInJnYmEoMjU1LDI1NSwyNTUsMClcIixcImJvcmRlcldpZHRoXCI6XCIwcHhcIixcIndpZHRoXCI6XCIzMjBcIixcImxlZnRcIjpcIjFweFwiLFwicGFkZGluZ0JvdHRvbVwiOlwiMjBweFwiLFwidG9wXCI6XCI0MjBweFwifSxcInByb3BlcnRpZXNcIjp7XCJhbmltXCI6e1widHlwZVwiOjEsXCJkaXJlY3Rpb25cIjozLFwiZHVyYXRpb25cIjpcIjFcIixcImRlbGF5XCI6XCIwLjZcIn19fV19Jztcblx0XHQxMDAgPT0gYS5vYmouYml6VHlwZSAmJiAoZSA9IGludGVybmF0aW9uYWxMYXN0UGFnZShhLCBiLCBjKSk7XG5cdFx0dmFyIGYgPSAne1wiaWRcIjo0Mzk4ODIsXCJwYWdlSWRcIjoxMjk4MTAsXCJzY2VuZUlkXCI6MTYwNjAsXCJudW1cIjoxLFwidHlwZVwiOlwiNFwiLFwiaXNJbnB1dFwiOjAsXCJ0aXRsZVwiOm51bGwsXCJjb250ZW50XCI6bnVsbCxcInN0YXR1c1wiOjEsXCJjc3NcIjp7XCJib3JkZXJSYWRpdXNcIjpcIjEwcHhcIixcImJvcmRlclN0eWxlXCI6XCJzb2xpZFwiLFwiekluZGV4XCI6XCI5XCIsXCJib3JkZXJDb2xvclwiOlwicmdiYSgwLDAsMCwxKVwiLFwicGFkZGluZ1RvcFwiOlwiMHB4XCIsXCJoZWlnaHRcIjpcIjE0MVwiLFwiYmFja2dyb3VuZENvbG9yXCI6XCJcIixcImNvbG9yXCI6XCJcIixcImJveFNoYWRvd1wiOlwiMHB4IDBweCAwcHggIzMzMzMzM1wiLFwiYm9yZGVyV2lkdGhcIjpcIjBweFwiLFwid2lkdGhcIjpcIjE0Mi4xMzcwOTY3NzQxOTM1NFwiLFwibGVmdFwiOlwiOTJweFwiLFwicGFkZGluZ0JvdHRvbVwiOlwiMHB4XCIsXCJ0b3BcIjpcIjE3N3B4XCJ9LFwicHJvcGVydGllc1wiOntcImhlaWdodFwiOlwiMTAwcHhcIixcImltZ1N0eWxlXCI6e1wid2lkdGhcIjoxNDIsXCJoZWlnaHRcIjoxNDIsXCJtYXJnaW5Ub3BcIjpcIi0wLjVweFwiLFwibWFyZ2luTGVmdFwiOlwiMHB4XCJ9LFwid2lkdGhcIjpcIjEwMHB4XCIsXCJzcmNcIjpcImdyb3VwMS9NMDAvQkEvREEveXEwS0ExUnE4Q09BQVlSakFBS1U0T1ZZdW0wODg5LmpwZ1wifX0nLFxuXHRcdFx0ZyA9ICd7XCJpZFwiOjgxMzk1LFwicGFnZUlkXCI6XCJcIixcInNjZW5lSWRcIjpcIlwiLFwibnVtXCI6MSxcInR5cGVcIjpcIjRcIixcImlzSW5wdXRcIjowLFwidGl0bGVcIjpudWxsLFwiY29udGVudFwiOm51bGwsXCJzdGF0dXNcIjoxLFwiY3NzXCI6e1wiYm9yZGVyUmFkaXVzXCI6XCIlXCIsXCJib3JkZXJTdHlsZVwiOlwic29saWRcIixcImhlaWdodFwiOlwiMTU4XCIsXCJ6SW5kZXhcIjpcIjEwMDBcIixcInBhZGRpbmdUb3BcIjpcIjBweFwiLFwiYm9yZGVyQ29sb3JcIjpcInJnYmEoMCwwLDAsMSlcIixcImJveFNoYWRvd1wiOlwiMCAwcHggMHB4ICMzMzMzMzNcIixcImNvbG9yXCI6XCIjMDAwMDAwXCIsXCJiYWNrZ3JvdW5kQ29sb3JcIjpcIndoaXRlXCIsXCJib3JkZXJXaWR0aFwiOlwiMHB4XCIsXCJ3aWR0aFwiOlwiMTU4XCIsXCJsZWZ0XCI6XCI4NHB4XCIsXCJwYWRkaW5nVG9wXCI6XCIxMXB4XCIsXCJwYWRkaW5nTGVmdFwiOlwiMTBweFwiLFwidG9wXCI6XCIxNzBweFwifSxcInByb3BlcnRpZXNcIjp7XCJoZWlnaHRcIjpcIjEwMHB4XCIsXCJpbWdTdHlsZVwiOntcIndpZHRoXCI6MTM5LFwiaGVpZ2h0XCI6MTM2LFwibWFyZ2luVG9wXCI6XCIwcHhcIixcIm1hcmdpbkxlZnRcIjpcIjBweFwifSxcIndpZHRoXCI6XCIxMDBweFwiLFwic3JjXCI6XCJncm91cDEvTTAwLzAxLzMwL3lxMEpDRlFwT1ItQU9VTEZBQUZCUE8xeXpCUTk4NC5qcGdcIixcIm9yaWdpblNyY1wiOlwiJysgKGxhc3RwYWdlbG9nbykrJ1wifX0nLFxuXHRcdFx0aCA9ICd7XCJpZFwiOjQzOTg4MixcInBhZ2VJZFwiOjEyOTgxMCxcInNjZW5lSWRcIjoxNjA2MCxcIm51bVwiOjEsXCJ0eXBlXCI6XCIyXCIsXCJpc0lucHV0XCI6MCxcInRpdGxlXCI6bnVsbCxcImNvbnRlbnRcIjpcIjxkaXYgY2xhc3M9XFxcXFwiYm90dG9tLWxvZ29cXFxcXCIgc3R5bGU9XFxcXFwidGV4dC1hbGlnbjogY2VudGVyO2N1cnNvcjpwb2ludGVyO2hlaWdodDoxMzZweDt3aWR0aDoxMzlweDtcXFxcXCI+PGVtIHN0eWxlPVxcXFxcImNvbG9yOndoaXRlO2xpbmUtaGVpZ2h0OjEzNnB4O2ZvbnQtc2l6ZToxMjBweDtcXFxcXCIgY2xhc3M9XFxcXFwiZXFmLWVxeGl1XFxcXFwiPjwvZW0+PC9kaXY+XCIsXCJzdGF0dXNcIjoxLFwiY3NzXCI6e1wiaGVpZ2h0XCI6XCIxNThcIixcIndpZHRoXCI6XCIxNThcIixcImxlZnRcIjpcIjg0cHhcIixcInRvcFwiOlwiMTcwcHhcIixcImJhY2tncm91bmRDb2xvclwiOlwid2hpdGVcIn0sXCJwcm9wZXJ0aWVzXCI6e319Jyxcblx0XHRcdGkgPSAne1wiaWRcIjo4MTQ2NSxcInBhZ2VJZFwiOlwiXCIsXCJzY2VuZUlkXCI6XCJcIixcIm51bVwiOjEsXCJ0eXBlXCI6XCIyXCIsXCJpc0lucHV0XCI6MCxcInRpdGxlXCI6bnVsbCxcImNvbnRlbnRcIjpcIjxkaXYgc3R5bGU9XFxcXFwidGV4dC1hbGlnbjogY2VudGVyO1xcXFxcIj48Zm9udCBjb2xvcj1cXFxcXCIjZmZmZmZmXFxcXFwiIHNpemU9XFxcXFwiM1xcXFxcIj7lh7vmraTlpITov5vooYznvJbovpE8L2ZvbnQ+PC9kaXY+XCIsXCJzdGF0dXNcIjoxLFwiY3NzXCI6e1wiekluZGV4XCI6XCIxMDJcIixcImhlaWdodFwiOlwiNjVcIixcIndpZHRoXCI6XCIzMjBcIixcImxlZnRcIjpcIjBweFwiLFwidG9wXCI6XCI3MHB4XCJ9LFwicHJvcGVydGllc1wiOnt9fScsXG5cdFx0XHRqID0gJ3tcImlkXCI6MjU1Nzg2NyxcInBhZ2VJZFwiOjEyOTgxMCxcInNjZW5lSWRcIjoxNjA2MCxcIm51bVwiOjEsXCJ0eXBlXCI6XCIyXCIsXCJpc0lucHV0XCI6MCxcInRpdGxlXCI6bnVsbCxcImNvbnRlbnRcIjpcIjxkaXYgY2xhc3M9XFxcXFwibG9nby1zaGFkb3cxXFxcXFwiIHN0eWxlPVxcXFxcInRleHQtYWxpZ246IGNlbnRlcjtjdXJzb3I6cG9pbnRlcjtoZWlnaHQ6MTI3cHg7d2lkdGg6MjIwcHg7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MjBweDt0b3A6NTZweDtcXFxcXCI+PC9kaXY+XCIsXCJzdGF0dXNcIjoxLFwiY3NzXCI6e1wiaGVpZ2h0XCI6XCIyNTdcIixcIndpZHRoXCI6XCIyNTdcIixcImxlZnRcIjpcIjc4cHhcIixcInRvcFwiOlwiMTc1cHhcIn0sXCJwcm9wZXJ0aWVzXCI6e319Jyxcblx0XHRcdGsgPSAne1wiaWRcIjo0Mzk4ODMsXCJwYWdlSWRcIjoxMjk4MTAsXCJzY2VuZUlkXCI6MTYwNjAsXCJudW1cIjoxLFwidHlwZVwiOlwiMlwiLFwiaXNJbnB1dFwiOjAsXCJ0aXRsZVwiOm51bGwsXCJjb250ZW50XCI6XCI8ZGl2IHN0eWxlPVxcXFxcIndpZHRoOjI4MHB4O2hlaWdodDoxcHg7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDYwLDYwLDYwLDAuNCk7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowOy13ZWJraXQtZmlsdGVyOmRyb3Atc2hhZG93KDBweCAxcHggMHB4IHJnYmEoNjAsNjAsNjAsMC40KSk7dG9wOjEycHg7XFxcXFwiPjwvZGl2PlwiLFwic3RhdHVzXCI6MSxcImNzc1wiOntcImhlaWdodFwiOlwiMjRcIixcIndpZHRoXCI6XCIyODBcIixcImxlZnRcIjpcIjIxcHhcIixcInRvcFwiOlwiMTIycHhcIn0sXCJwcm9wZXJ0aWVzXCI6e319Jztcblx0XHRpZiAoYWQgPSAxLCBhLm9iai5wcm9wZXJ0eS5sYXN0UGFnZUlkKSBjdXN0b21MYXN0UGFnZSA9ICEwLCAkLmFqYXgoe1xuXHRcdFx0dHlwZTogXCJHRVRcIixcblx0XHRcdHVybDogUFJFRklYX1MyX1VSTCArIFwiP2M9c2NlbmUmYT1nZXRsYXN0cGFnZWJnJmlkPVwiICsgYS5vYmoucHJvcGVydHkubGFzdFBhZ2VJZCxcblx0XHRcdGNyb3NzRG9tYWluOiAhMCxcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGMpIHtcblx0XHRcdFx0aWYgKCFjLm9iaikge1xuXHRcdFx0XHRcdGUgPSBlLnJlcGxhY2UoL2lkPTE2MDYwLywgXCJpZD1cIiArIGEub2JqLmlkKTtcblx0XHRcdFx0XHR2YXIgZiA9IEpTT04ucGFyc2UoZSk7XG5cdFx0XHRcdFx0cmV0dXJuIGYubnVtID0gYS5saXN0Lmxlbmd0aCArIDEsIGYuZWxlbWVudHNbMl0ucHJvcGVydGllcy5zcmMgPSBhLm9iai5jb3Zlci5yZXBsYWNlKFwiL3N0cmlwXCIsIFwiXCIpLCBmLmVsZW1lbnRzWzFdLmNvbnRlbnQgPSBmLmVsZW1lbnRzWzFdLmNvbnRlbnQucmVwbGFjZSgv5Zy65pmv5ZCN56ewLywgYS5vYmoubmFtZSksIGYuZWxlbWVudHNbMV0ucHJvcGVydGllcy5oZWlnaHQgPSA2NSwgZi5lbGVtZW50c1sxXS5oZWlnaHQgPSA2NSwgdm9pZCBkKGYsIGIsIGEpXG5cdFx0XHRcdH1cblx0XHRcdFx0Yy5vYmouc2NlbmVJZCA9IGEub2JqLmlkO1xuXHRcdFx0XHRmb3IgKHZhciBsLCBtID0gMDsgbSA8IGMub2JqLmVsZW1lbnRzLmxlbmd0aDsgbSsrKVwiNFwiICE9IGMub2JqLmVsZW1lbnRzW21dLnR5cGUgfHwgXCJncm91cDEvTTAwL0E1LzVFL3lxMEtBMVFtZVBtQUtyN3lBQUVCeXA1anlMYzc1Mi5qcGdcIiAhPSBjLm9iai5lbGVtZW50c1ttXS5wcm9wZXJ0aWVzLnNyYyAmJiBcImdyb3VwMS9NMDAvQzUvOUQveXEwS0ExU0gxenVBRmdrTEFBQUZnQlI4aEpzNDU2LnBuZ1wiICE9IGMub2JqLmVsZW1lbnRzW21dLnByb3BlcnRpZXMuc3JjICYmIFwiZ3JvdXAxL00wMC9DNS8zRi95cTBLQTFTSHAtMkFRWlpaQUFCLTdySWFLNkk3NDMucG5nXCIgIT0gYy5vYmouZWxlbWVudHNbbV0ucHJvcGVydGllcy5zcmMgJiYgXCJncm91cDEvTTAwL0M1LzlEL3lxMEtBMVNIMXp1QWVRdUZBQUFGZlVrZVhEYzExMC5wbmdcIiAhPSBjLm9iai5lbGVtZW50c1ttXS5wcm9wZXJ0aWVzLnNyYyB8fCAoYy5vYmouZWxlbWVudHMuc3BsaWNlKG0sIDEpLCBtLS0pO1xuXHRcdFx0XHRcImdyb3VwMS9NMDAvNjEvOEEveXEwS0ExVDJ2WVNBRWdvN0FBQ292UVZnSHhrMDQ4LmpwZ1wiICE9IGEub2JqLmNvdmVyID8gKGwgPSBKU09OLnBhcnNlKGcpLCBsLnByb3BlcnRpZXMuc3JjID0gYS5vYmouY292ZXIucmVwbGFjZShcIi9zdHJpcFwiLCBcIlwiKSkgOiBsID0gSlNPTi5wYXJzZShoKSwgYy5vYmouZWxlbWVudHMucHVzaChsKSwgYy5vYmouZWxlbWVudHMucHVzaChKU09OLnBhcnNlKGopKSwgYy5vYmouZWxlbWVudHMucHVzaChKU09OLnBhcnNlKGspKTtcblx0XHRcdFx0dmFyIG4gPSBKU09OLnBhcnNlKGkpO1xuXHRcdFx0XHRuLmNvbnRlbnQgPSBuLmNvbnRlbnQucmVwbGFjZSgv5Ye75q2k5aSE6L+b6KGM57yW6L6RLywgYS5vYmoubmFtZSksIGMub2JqLmVsZW1lbnRzLnB1c2gobik7XG5cdFx0XHRcdGZvciAodmFyIG0gPSAwOyBtIDwgYy5vYmouZWxlbWVudHMubGVuZ3RoOyBtKyspXCIyXCIgPT09IGMub2JqLmVsZW1lbnRzW21dLnR5cGUgPyAvaHR0cDpcXC9cXC9zZXJ2aWNlLmVxeGl1LmNvbVxcL2Vxc1xcL2xpbmsvLnRlc3QoYy5vYmouZWxlbWVudHNbbV0uY29udGVudCkgJiYgKGMub2JqLmVsZW1lbnRzW21dLmNvbnRlbnQgPSBjLm9iai5lbGVtZW50c1ttXS5jb250ZW50LnJlcGxhY2UoLzt1cmw9Lipjb21cIi8sIFwiO3VybD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChyZWRpcmVjdFVybCkgKyAnXCInKSkgOiBcIjNcIiA9PT0gYy5vYmouZWxlbWVudHNbbV0udHlwZSAmJiBjLm9iai5lbGVtZW50c1ttXS5wcm9wZXJ0aWVzLmltZ1NyYyA/IGMub2JqLmVsZW1lbnRzW21dLnByb3BlcnRpZXMuaW1nU3JjID0gd2luZG93Lm1vYmxpZVZpZXdJbWdCZyA/IHdpbmRvdy5tb2JsaWVWaWV3SW1nQmcgKyBjLm9iai5lbGVtZW50c1ttXS5wcm9wZXJ0aWVzLmltZ1NyYyA6IGMub2JqLmVsZW1lbnRzW21dLnByb3BlcnRpZXMuaW1nU3JjIDogXCI0XCIgPT09IGMub2JqLmVsZW1lbnRzW21dLnR5cGUgJiYgYy5vYmouZWxlbWVudHNbbV0ucHJvcGVydGllcy5zcmMgJiYgKGMub2JqLmVsZW1lbnRzW21dLnByb3BlcnRpZXMuc3JjID0gd2luZG93Lm1vYmxpZVZpZXdJbWdCZyA/IHdpbmRvdy5tb2JsaWVWaWV3SW1nQmcgKyBjLm9iai5lbGVtZW50c1ttXS5wcm9wZXJ0aWVzLnNyYyA6IGMub2JqLmVsZW1lbnRzW21dLnByb3BlcnRpZXMuc3JjKTtcblx0XHRcdFx0ZChjLm9iaiwgYiwgYSlcblx0XHRcdH1cblx0XHR9KTtcblx0XHRlbHNlIHtcblx0XHRcdGUgPSBlLnJlcGxhY2UoL2lkPTE2MDYwLywgXCJpZD1cIiArIGEub2JqLmlkKTtcblx0XHRcdHZhciBsID0gSlNPTi5wYXJzZShlKTtcblx0XHRcdGwubnVtID0gYS5saXN0Lmxlbmd0aCArIDEsIGEub2JqLmNvdmVyID0gd2luZG93Lm1vYmxpZVZpZXdJbWdCZyA/IHdpbmRvdy5tb2JsaWVWaWV3SW1nQmcgKyBhLm9iai5jb3ZlciA6IGEub2JqLmNvdmVyLCBcImdyb3VwMS9NMDAvMDAvMEQvd0tqNUwxYW9nOWlBTmhsOEFBQWRJMEZlcXQwMzc3LmpwZ1wiICE9IGEub2JqLmNvdmVyICYmIChsLmVsZW1lbnRzWzJdID0gSlNPTi5wYXJzZShmKSwgbC5lbGVtZW50c1syXS5wcm9wZXJ0aWVzLnNyYyA9IGEub2JqLmNvdmVyLnJlcGxhY2UoXCIvc3RyaXBcIiwgXCJcIikpLCBsLmVsZW1lbnRzWzFdLmNvbnRlbnQgPSBsLmVsZW1lbnRzWzFdLmNvbnRlbnQucmVwbGFjZSgv5Zy65pmv5ZCN56ewLywgYS5vYmoubmFtZSksIGQobCwgYiwgYSlcblx0XHR9XG5cdH1cblx0ZnVuY3Rpb24gZXFEZWZhdWx0Qm90dG9tTGFiZWwoYSwgYikge1xuXHRcdHZhciBjID0gJ3tcImlkXCI6NDgwMjkyLFwicGFnZUlkXCI6MTM2MDQyLFwic2NlbmVJZFwiOjE2MDYwLFwibnVtXCI6MSxcInR5cGVcIjpcIjJcIixcImlzSW5wdXRcIjowLFwidGl0bGVcIjpudWxsLFwiY29udGVudFwiOlwiPGRpdiBzdHlsZT1cXFxcXCJ0ZXh0LWFsaWduOiBjZW50ZXI7dHJhbnNmb3JtOiBub25lOy13ZWJraXQtYW5pbWF0aW9uOiBmYWRlSW4gMnMgZWFzZSAxcyBib3RoOy13ZWJraXQtYW5pbWF0aW9uLXBsYXktc3RhdGU6IGluaXRpYWw7XFxcXFwiPjxhIGhyZWY9XFxcXFwiJyArIFBSRUZJWF9TMV9VUkwgKyBcImVxcy9saW5rP2lkPTE2MDYwJmFtcDt1cmw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQocmVkaXJlY3RVcmwpICsgJ1xcXFxcIiB0YXJnZXQ9XFxcXFwiX2JsYW5rXFxcXFwiIHN0eWxlPVxcXFxcImZvbnQtc2l6ZTogeC1zbWFsbDtkaXNwbGF5OmJsb2NrO2xpbmUtaGVpZ2h0OiAxMHB4O1xcXFxcIiBkYXRhLWV2ZW50PVxcXFxcIjExMjAyMDJcXFxcXCI+PGZvbnQgY29sb3I9XFxcXFwiI2ZmZmZmZlxcXFxcIj4nICsgY29tcGFueU5hbWUgKyAnPC9mb250PjwvYT48L2Rpdj5cIixcInN0YXR1c1wiOjEsXCJjc3NcIjp7XCJ6SW5kZXhcIjpcIjEwMDBcIixcImhlaWdodFwiOlwiMjBcIixcIndpZHRoXCI6XCIxMjlcIixcImxlZnRcIjpcIjk3cHhcIixcInRvcFwiOlwiNDE4cHhcIixcImJhY2tncm91bmRDb2xvclwiOlwicmdiYSgwLDAsMCwwLjYpXCIsXCJib3JkZXJSYWRpdXNcIjpcIjIwcHhcIn0sXCJwcm9wZXJ0aWVzXCI6e1wiYW5pbVwiOntcInR5cGVcIjowLFwiZGlyZWN0aW9uXCI6MCxcImR1cmF0aW9uXCI6MixcImRlbGF5XCI6XCIwXCJ9fX0nO1xuXHRcdGFkID0gMjtcblx0XHR2YXIgZDtcblx0XHRjID0gYy5yZXBsYWNlKC9pZD0xNjA2MC8sIFwiaWQ9XCIgKyBhLm9iai5pZCksIGQgPSBiW2IubGVuZ3RoIC0gMV0uZWxlbWVudHMsIGJbYi5sZW5ndGggLSAxXS5wcm9wZXJ0aWVzICYmIGJbYi5sZW5ndGggLSAxXS5wcm9wZXJ0aWVzLmxvbmdQYWdlICYmIChjID0gYy5yZXBsYWNlKFwiNDE4cHhcIiwgNDg2ICogYltiLmxlbmd0aCAtIDFdLnByb3BlcnRpZXMubG9uZ1BhZ2UgLSA2OCArIFwicHhcIikpLCBiW2IubGVuZ3RoIC0gMV0uZWxlbWVudHMgfHwgKGQgPSBiW2IubGVuZ3RoIC0gMV0uZWxlbWVudHMgPSBbXSksIGQucHVzaChKU09OLnBhcnNlKGMpKSwgcGFyc2VQYWdlKGIsIGEpXG5cdH1cblx0ZnVuY3Rpb24gZXFDdXN0b21Cb3R0b21MYWJlbChhLCBiKSB7XG5cdFx0YWQgPSAyLCAkLmFqYXgoe1xuXHRcdFx0dHlwZTogXCJHRVRcIixcblx0XHRcdHVybDogUFJFRklYX1MyX1VSTCArIFwiP2M9c2NlbmUmYT1nZXRsYXN0cGFnZWJnJmlkPVwiICsgYS5vYmoucHJvcGVydHkuYm90dG9tTGFiZWwuaWQsXG5cdFx0XHRjcm9zc0RvbWFpbjogITAsXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihjKSB7XG5cdFx0XHRcdGlmICghYy5vYmopIHJldHVybiB2b2lkIGVxRGVmYXVsdEJvdHRvbUxhYmVsKGEsIGIpO1xuXHRcdFx0XHR2YXIgZCA9IGMub2JqLmVsZW1lbnRzO1xuXHRcdFx0XHRpZiAoYltiLmxlbmd0aCAtIDFdLnByb3BlcnRpZXMgJiYgYltiLmxlbmd0aCAtIDFdLnByb3BlcnRpZXMubG9uZ1BhZ2UpIGZvciAodmFyIGUgPSBiW2IubGVuZ3RoIC0gMV0ucHJvcGVydGllcy5sb25nUGFnZSAtIDEsIGYgPSAwOyBmIDwgZC5sZW5ndGg7IGYrKykgZFtmXS5jc3MudG9wICs9IDQ4NiAqIGU7XG5cdFx0XHRcdHZhciBmID0gMDtcblx0XHRcdFx0Zm9yIChkLmxlbmd0aDsgZiA8IGQubGVuZ3RoOyBmKyspIHtcblx0XHRcdFx0XHR2YXIgZyA9IGRbZl07XG5cdFx0XHRcdFx0aWYgKGcuc2NlbmVJZCA9IGEub2JqLmlkLCBnLnBhZ2VJZCA9IGJbYi5sZW5ndGggLSAxXS5pZCwgYS5vYmoucHJvcGVydHkuYm90dG9tTGFiZWwubmFtZSAmJiBhLm9iai5wcm9wZXJ0eS5ib3R0b21MYWJlbC51cmwgJiYgXCJodHRwOi8vXCIgIT0gYS5vYmoucHJvcGVydHkuYm90dG9tTGFiZWwudXJsKSAyID09IGcudHlwZSAmJiBnLmNvbnRlbnQuaW5kZXhPZihcIkVRWElVLkNPTeenkeaKgOWFrOWPuFwiKSA+IDAgJiYgKGcuY29udGVudCA9IGcuY29udGVudC5yZXBsYWNlKC9FUVhJVS5DT03np5HmioDlhazlj7gvLCAnPGEgaHJlZj1cIicgKyBQUkVGSVhfUzFfVVJMICsgXCJlcXMvbGluaz9pZD1cIiArIGEub2JqLmlkICsgXCImYW1wO3VybD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChhLm9iai5wcm9wZXJ0eS5ib3R0b21MYWJlbC51cmwpICsgJ1wiIHRhcmdldD1fYmxhbmsgZGF0YS1ldmVudD1cIjExMjAyMDNcIj4nICsgYS5vYmoucHJvcGVydHkuYm90dG9tTGFiZWwubmFtZSArIFwiPC9hPlwiKSk7XG5cdFx0XHRcdFx0ZWxzZSBpZiAoYS5vYmoucHJvcGVydHkuYm90dG9tTGFiZWwubmFtZSkgMiA9PSBnLnR5cGUgJiYgZy5jb250ZW50LmluZGV4T2YoXCJFUVhJVS5DT03np5HmioDlhazlj7hcIikgPiAwICYmIChnLmNvbnRlbnQgPSBnLmNvbnRlbnQucmVwbGFjZSgvRVFYSVUuQ09N56eR5oqA5YWs5Y+4LywgYS5vYmoucHJvcGVydHkuYm90dG9tTGFiZWwubmFtZSkpO1xuXHRcdFx0XHRcdGVsc2UgaWYgKC/mmJPkvIHnp4DmioDmnK/mlK/mjIEvLnRlc3QoZy5jb250ZW50KSkge1xuXHRcdFx0XHRcdFx0Zy5jb250ZW50ID0gJzxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+JyArIGcuY29udGVudCArIFwiPC9kaXY+XCI7XG5cdFx0XHRcdFx0XHR2YXIgaCA9IHtcblx0XHRcdFx0XHRcdFx0ekluZGV4OiBcIjEwMDBcIixcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjMzXCIsXG5cdFx0XHRcdFx0XHRcdHdpZHRoOiBcIjEyOVwiLFxuXHRcdFx0XHRcdFx0XHRsZWZ0OiBcIjk3cHhcIlxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdCQuZXh0ZW5kKGcuY3NzLCBoKVxuXHRcdFx0XHRcdH0gZWxzZSAyID09IGcudHlwZSAmJiBnLmNvbnRlbnQgJiYgKGcuY29udGVudCA9IFwiXCIpO1xuXHRcdFx0XHRcdGcuY3NzLnpJbmRleCA9IDIwMCwgYS5saXN0W2EubGlzdC5sZW5ndGggLSAxXS5lbGVtZW50cyB8fCAoYS5saXN0W2EubGlzdC5sZW5ndGggLSAxXS5lbGVtZW50cyA9IFtdKSwgYS5saXN0W2EubGlzdC5sZW5ndGggLSAxXS5lbGVtZW50cy5wdXNoKGcpLCBjdXN0b21MYXN0UGFnZSA9ICEwXG5cdFx0XHRcdH1cblx0XHRcdFx0cGFyc2VQYWdlKGIsIGEpXG5cdFx0XHR9XG5cdFx0fSlcblx0fVxuXHRmdW5jdGlvbiBlcUhpZGVBbGwoYSwgYikge1xuXHRcdGFkID0gMCwgcGFyc2VQYWdlKGIsIGEpXG5cdH1cblx0ZnVuY3Rpb24gcGFyc2VQYWdlKGEsIGIpIHtcblx0XHR2YXIgYyA9IGIubWFwO1xuXHRcdGMgJiYgYy53eENvbXBvbmVudCAmJiAkLmVhY2goYy53eENvbXBvbmVudCwgZnVuY3Rpb24oYiwgYykge1xuXHRcdFx0JC5lYWNoKGEsIGZ1bmN0aW9uKGEsIGMpIHtcblx0XHRcdFx0Yy5lbGVtZW50cyAmJiBjLmVsZW1lbnRzLmxlbmd0aCAmJiAkLmVhY2goYy5lbGVtZW50cywgZnVuY3Rpb24oYSwgYykge1xuXHRcdFx0XHRcdGIgPT0gYy5pZCAmJiAoYy5wcm9wZXJ0aWVzLnd4U3JjID0gITApXG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXHRcdH0pLCB3aW5kb3cuZXF4aXVTdmcgPyB3aW5kb3cuZXF4aXVTdmcuU1lNQk9MUyB8fCAod2luZG93LmVxeGl1U3ZnLlNZTUJPTFMgPSB7fSkgOiB3aW5kb3cuZXF4aXVTdmcgPSB7XG5cdFx0XHRTWU1CT0xTOiB7fVxuXHRcdH07XG5cdFx0Zm9yICh2YXIgZCA9IFtdLCBlID0gITEsIGYgPSAhMSwgZyA9IHtcblx0XHRcdGJnQXVkaW86IGIub2JqLmJnQXVkaW9cblx0XHR9LCBoID0gW10sIGkgPSAxOyBpIDw9IGEubGVuZ3RoOyBpKyspIGFbaSAtIDFdLmVsZW1lbnRzICYmIGFbaSAtIDFdLmVsZW1lbnRzLmxlbmd0aCAmJiAkLmVhY2goYVtpIC0gMV0uZWxlbWVudHMsIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdGlmIChcImhcIiA9PSBiLnR5cGUgJiYgYi5wcm9wZXJ0aWVzLnR5cGUgJiYgYi5wcm9wZXJ0aWVzLnR5cGUuaW5kZXhPZihcInN5bWJvbHNcIikgPj0gMCkge1xuXHRcdFx0XHRmID0gITA7XG5cdFx0XHRcdHZhciBjID0gYi5wcm9wZXJ0aWVzLnR5cGUucmVwbGFjZSgvXnN5bWJvbHNcXC0vLCBcIlwiKSxcblx0XHRcdFx0XHRkID0gQ0xJRU5UX0NETiArIFwidmlldy9qcy9zaGFwZS9cIiArIGMgKyBcIi5qc1wiO1xuXHRcdFx0XHRoLnB1c2goe1xuXHRcdFx0XHRcdHVybDogZCxcblx0XHRcdFx0XHR0eXBlOiBcImpzXCJcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgaiA9IDA7XG5cdFx0ZiAmJiAocmVzb3VyY2VzLmxvYWQoaCksIHJlc291cmNlcy5vblJlYWR5KGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKGorKywgMSA9PSBqKSB7XG5cdFx0XHRcdGZvciAodmFyIGMgPSAxOyBjIDw9IGEubGVuZ3RoOyBjKyspIHtcblx0XHRcdFx0XHR2YXIgZiA9IGM7XG5cdFx0XHRcdFx0aWYgKGFbZiAtIDFdLnByb3BlcnRpZXMgJiYgISQuaXNFbXB0eU9iamVjdChhW2YgLSAxXS5wcm9wZXJ0aWVzKSA/IGFbZiAtIDFdLnByb3BlcnRpZXMuaW1hZ2UgfHwgYVtmIC0gMV0ucHJvcGVydGllcy5zY3JhdGNoID8gc2NyaXB0TG9hZGVkLnNjcmF0Y2ggPyBhZGRTY3JhdGNoRWZmZWN0KGEsIGYpIDogIVxuXHRcdFx0XHRcdGZ1bmN0aW9uKGIpIHtcblx0XHRcdFx0XHRcdCQuZ2V0U2NyaXB0KENMSUVOVF9DRE4gKyBcImNvbW1vbi9qcy9zY3JhdGNoX2VmZmVjdC5qc1wiLCBmdW5jdGlvbihjLCBkLCBlKSB7XG5cdFx0XHRcdFx0XHRcdHNjcmlwdExvYWRlZC5zY3JhdGNoID0gITAsIGFkZFNjcmF0Y2hFZmZlY3QoZywgYSwgYilcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fShmKSA6IGFbZiAtIDFdLnByb3BlcnRpZXMuZmluZ2VyID8gKGQucHVzaCh7XG5cdFx0XHRcdFx0XHRudW06IGYsXG5cdFx0XHRcdFx0XHRmaW5nZXI6IGFbZiAtIDFdLnByb3BlcnRpZXMuZmluZ2VyXG5cdFx0XHRcdFx0fSksIGUgfHwgKGUgPSAhMCwgJC5nZXRTY3JpcHQoQ0xJRU5UX0NETiArIFwiY29tbW9uL2pzL2xvY2tfZWZmZWN0LmpzXCIsIGZ1bmN0aW9uKGIsIGMsIGUpIHtcblx0XHRcdFx0XHRcdGxvY2tFZmZlY3QoZywgYSwgZCwgJChcIi5tLWltZ1wiKS53aWR0aCgpLCAkKFwiLm0taW1nXCIpLmhlaWdodCgpKVxuXHRcdFx0XHRcdH0pKSkgOiBhW2YgLSAxXS5wcm9wZXJ0aWVzLmZhbGxpbmdPYmplY3QgPyBzY3JpcHRMb2FkZWQuZmFsbGluZ09iamVjdCA/IGZhbGxpbmdPYmplY3QoYSwgZikgOiAhXG5cdFx0XHRcdFx0ZnVuY3Rpb24oYikge1xuXHRcdFx0XHRcdFx0JC5nZXRTY3JpcHQoQ0xJRU5UX0NETiArIFwiY29tbW9uL2pzL2ZhbGxpbmdfb2JqZWN0LmpzXCIsIGZ1bmN0aW9uKGMsIGQsIGUpIHtcblx0XHRcdFx0XHRcdFx0c2NyaXB0TG9hZGVkLmZhbGxpbmdPYmplY3QgPSAhMCwgZmFsbGluZ09iamVjdChhLCBiKSwgMSA9PSBiICYmIGVxU2hvdy5wbGF5VmlkZW8oZylcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fShmKSA6IGFbZiAtIDFdLnByb3BlcnRpZXMuZWZmZWN0ID8gIVxuXHRcdFx0XHRcdGZ1bmN0aW9uKGIpIHtcblx0XHRcdFx0XHRcdHJlc291cmNlcy5sb2FkKHdpbmRvdy5lcXhbYVtiIC0gMV0ucHJvcGVydGllcy5lZmZlY3QubmFtZV0uY29uZmlnLnJlc291cmNlcyksIHJlc291cmNlcy5vblJlYWR5KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR3aW5kb3dbYVtiIC0gMV0ucHJvcGVydGllcy5lZmZlY3QubmFtZV0uZG9FZmZlY3QoZywgYiwgYSwgcmVuZGVyUGFnZSlcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fShmKSA6IHJlbmRlclBhZ2UoZXFTaG93LCBmLCBhKSA6IChyZW5kZXJQYWdlKGVxU2hvdywgZiwgYSksIDEgPT0gZiAmJiBlcVNob3cucGxheVZpZGVvKGcpKSwgYyA9PSBhLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0ZXF4aXUuYXBwKCQoXCIubnJcIiksIGIub2JqLnBhZ2VNb2RlLCBhLCBiKTtcblx0XHRcdFx0XHRcdGFkZEVuYWJsZWRDbGFzc1RvUGFnZUN0cmwoYik7XG5cdFx0XHRcdFx0XHR2YXIgaCA9IGVxU2hvdy5nZXRRdWVyeVN0cmluZyhcInRvUGFnZVwiKTtcblx0XHRcdFx0XHRcdGggJiYgZXF4aXUucGFnZVNjcm9sbChoLCAhMClcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0YWRkUmVwb3J0VG9MYXN0UGFnZShhLCBiKVxuXHRcdFx0fVxuXHRcdH0pKTtcblx0XHRmb3IgKHZhciBrID0gMTsgayA8PSBhLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRpZiAoJCgnPHNlY3Rpb24gY2xhc3M9XCJtYWluLXBhZ2VcIj48ZGl2IGNsYXNzPVwibS1pbWdcIiBpZD1cInBhZ2UnICsgayArICdcIj48L2Rpdj48L3NlY3Rpb24+JykuYXBwZW5kVG8oXCIubnJcIiksIDEwID09IHBhZ2VNb2RlICYmICgkKFwiI3BhZ2VcIiArIGspLnBhcmVudChcIi5tYWluLXBhZ2VcIikud3JhcCgnPGRpdiBjbGFzcz1cImZsaXAtbWFza1wiIGlkPVwiZmxpcCcgKyBrICsgJ1wiPjwvZGl2PicpLCAkKFwiLm1haW4tcGFnZVwiKS5jc3Moe1xuXHRcdFx0XHR3aWR0aDogJChcIi5uclwiKS53aWR0aCgpICsgXCJweFwiLFxuXHRcdFx0XHRoZWlnaHQ6ICQoXCIubnJcIikuaGVpZ2h0KCkgKyBcInB4XCJcblx0XHRcdH0pKSwgYS5sZW5ndGggPiAxICYmIDE0ICE9IHBhZ2VNb2RlICYmICFiLm9iai5wcm9wZXJ0eS5mb3JiaWRIYW5kRmxpcCAmJiAoMCA9PSBwYWdlTW9kZSB8fCAxID09IHBhZ2VNb2RlIHx8IDIgPT0gcGFnZU1vZGUgfHwgNiA9PSBwYWdlTW9kZSB8fCA3ID09IHBhZ2VNb2RlIHx8IDggPT0gcGFnZU1vZGUgfHwgMTEgPT0gcGFnZU1vZGUgfHwgMTIgPT0gcGFnZU1vZGUgfHwgMTMgPT0gcGFnZU1vZGUgfHwgMTQgPT0gcGFnZU1vZGUgPyAkKCc8c2VjdGlvbiBjbGFzcz1cInUtYXJyb3ctYm90dG9tXCI+PGRpdiBjbGFzcz1cInByZS13cmFwXCI+PGRpdiBjbGFzcz1cInByZS1ib3gxXCI+PGRpdiBjbGFzcz1cInByZTFcIj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwicHJlLWJveDJcIj48ZGl2IGNsYXNzPVwicHJlMlwiPjwvZGl2PjwvZGl2PjwvZGl2Pjwvc2VjdGlvbj4nKS5hcHBlbmRUbyhcIiNwYWdlXCIgKyBrKSA6ICgzID09IHBhZ2VNb2RlIHx8IDQgPT0gcGFnZU1vZGUgfHwgNSA9PSBwYWdlTW9kZSB8fCA5ID09IHBhZ2VNb2RlIHx8IDEwID09IHBhZ2VNb2RlKSAmJiAkKCc8c2VjdGlvbiBjbGFzcz1cInUtYXJyb3ctcmlnaHRcIj48ZGl2IGNsYXNzPVwicHJlLXdyYXAtcmlnaHRcIj48ZGl2IGNsYXNzPVwicHJlLWJveDNcIj48ZGl2IGNsYXNzPVwicHJlM1wiPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJwcmUtYm94NFwiPjxkaXYgY2xhc3M9XCJwcmU0XCI+PC9kaXY+PC9kaXY+PC9kaXY+PC9zZWN0aW9uPicpLmFwcGVuZFRvKFwiI3BhZ2VcIiArIGspKSwgMSA9PSBrICYmICgkKFwiLmxvYWRpbmdcIikuaGlkZSgpLCAkKFwiLm1haW4tcGFnZVwiKS5lcSgwKS5hZGRDbGFzcyhcInotY3VycmVudFwiKSwgYVtrIC0gMV0uZWxlbWVudHMgJiYgYVtrIC0gMV0uZWxlbWVudHMubGVuZ3RoICYmICQuZWFjaChhW2sgLSAxXS5lbGVtZW50cywgZnVuY3Rpb24oYSwgYykge1xuXHRcdFx0XHRcImRcIiA9PSBjLnR5cGUgJiYgZXFTaG93LmdldFNob3dDb3VudChiLm9iai5pZClcblx0XHRcdH0pKSwgIWYgJiYgKGFbayAtIDFdLnByb3BlcnRpZXMgJiYgISQuaXNFbXB0eU9iamVjdChhW2sgLSAxXS5wcm9wZXJ0aWVzKSA/IGFbayAtIDFdLnByb3BlcnRpZXMuaW1hZ2UgfHwgYVtrIC0gMV0ucHJvcGVydGllcy5zY3JhdGNoID8gc2NyaXB0TG9hZGVkLnNjcmF0Y2ggPyBhZGRTY3JhdGNoRWZmZWN0KGEsIGspIDogIVxuXHRcdFx0ZnVuY3Rpb24oYikge1xuXHRcdFx0XHQkLmdldFNjcmlwdChDTElFTlRfQ0ROICsgXCJjb21tb24vanMvc2NyYXRjaF9lZmZlY3QuanNcIiwgZnVuY3Rpb24oYywgZCwgZSkge1xuXHRcdFx0XHRcdHNjcmlwdExvYWRlZC5zY3JhdGNoID0gITAsIGFkZFNjcmF0Y2hFZmZlY3QoZywgYSwgYilcblx0XHRcdFx0fSlcblx0XHRcdH0oaykgOiBhW2sgLSAxXS5wcm9wZXJ0aWVzLmZpbmdlciA/IChkLnB1c2goe1xuXHRcdFx0XHRudW06IGssXG5cdFx0XHRcdGZpbmdlcjogYVtrIC0gMV0ucHJvcGVydGllcy5maW5nZXJcblx0XHRcdH0pLCBlIHx8IChlID0gITAsICQuZ2V0U2NyaXB0KENMSUVOVF9DRE4gKyBcImNvbW1vbi9qcy9sb2NrX2VmZmVjdC5qc1wiLCBmdW5jdGlvbihiLCBjLCBlKSB7XG5cdFx0XHRcdHRlc3QoZywgYSwgZCwgJChcIi5tLWltZ1wiKS53aWR0aCgpLCAkKFwiLm0taW1nXCIpLmhlaWdodCgpKVxuXHRcdFx0fSkpKSA6IGFbayAtIDFdLnByb3BlcnRpZXMuZmFsbGluZ09iamVjdCA/IHNjcmlwdExvYWRlZC5mYWxsaW5nT2JqZWN0ID8gYVtrIC0gMV0uZWZmT2JqID0gZmFsbGluZ09iamVjdChhLCBrKSA6ICFcblx0XHRcdGZ1bmN0aW9uKGIpIHtcblx0XHRcdFx0JC5nZXRTY3JpcHQoQ0xJRU5UX0NETiArIFwiY29tbW9uL2pzL2ZhbGxpbmdfb2JqZWN0LmpzXCIsIGZ1bmN0aW9uKGMsIGQsIGUpIHtcblx0XHRcdFx0XHRzY3JpcHRMb2FkZWQuZmFsbGluZ09iamVjdCA9ICEwLCBhW2IgLSAxXS5lZmZPYmogPSBmYWxsaW5nT2JqZWN0KGEsIGIpLCAxID09IGIgJiYgZXFTaG93LnBsYXlWaWRlbyhnKVxuXHRcdFx0XHR9KVxuXHRcdFx0fShrKSA6IGFbayAtIDFdLnByb3BlcnRpZXMuZWZmZWN0ID8gIVxuXHRcdFx0ZnVuY3Rpb24oYikge1xuXHRcdFx0XHRyZXNvdXJjZXMubG9hZCh3aW5kb3cuZXF4W2FbYiAtIDFdLnByb3BlcnRpZXMuZWZmZWN0Lm5hbWVdLmNvbmZpZy5yZXNvdXJjZXMpLCByZXNvdXJjZXMub25SZWFkeShmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRhW2IgLSAxXS5lZmZPYmogPSB3aW5kb3dbYVtiIC0gMV0ucHJvcGVydGllcy5lZmZlY3QubmFtZV0uZG9FZmZlY3QoZywgYiwgYSwgcmVuZGVyUGFnZSlcblx0XHRcdFx0fSlcblx0XHRcdH0oaykgOiAocmVuZGVyUGFnZShlcVNob3csIGssIGEpLCAxID09IGsgJiYgZXFTaG93LnBsYXlWaWRlbyhnKSkgOiAocmVuZGVyUGFnZShlcVNob3csIGssIGEpLCAxID09IGsgJiYgZXFTaG93LnBsYXlWaWRlbyhnKSksIGsgPT0gYS5sZW5ndGgpKSB7XG5cdFx0XHRcdGVxeGl1LmFwcCgkKFwiLm5yXCIpLCBiLm9iai5wYWdlTW9kZSwgYSwgYik7XG5cdFx0XHRcdGFkZEVuYWJsZWRDbGFzc1RvUGFnZUN0cmwoYilcblx0XHRcdH1cblx0XHRcdGlmIChrID09IGEubGVuZ3RoICYmIChpc01vYmlsZSB8fCAkKFwiaW1nXCIpLm9uKFwiZHJhZ3N0YXJ0XCIsIGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0YS5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHR9KSwgIXByZXZpZXcpKSB7XG5cdFx0XHRcdHZhciBtID0gUFJFRklYX1MxX1VSTCArIFwiaW5kZXgucGhwP2M9c2NlbmUmYT1hZGRwdiZpZD1cIiArIGIub2JqLmlkO1xuXHRcdFx0XHRwYXJhbSAmJiAobSArPSBcIiYxPTFcIiwgbSArPSAvXFw/LiovLnRlc3QocGFyYW0pID8gXCImXCIgKyBwYXJhbS5zdWJzdHJpbmcoMSkgOiAvXFwmLiovLnRlc3QocGFyYW0pID8gcGFyYW0gOiBcIiZcIiArIHBhcmFtKSwgbSArPSAoL1xcPy8udGVzdChtKSA/IFwiJlwiIDogXCImXCIpICsgXCJhZD1cIiArIGFkLCAkLmFqYXgoe1xuXHRcdFx0XHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0XHRcdFx0dXJsOiBtLFxuXHRcdFx0XHRcdHhockZpZWxkczoge1xuXHRcdFx0XHRcdFx0d2l0aENyZWRlbnRpYWxzOiAhMFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Y3Jvc3NEb21haW46ICEwXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fVxuXHRcdGYgfHwgYWRkUmVwb3J0VG9MYXN0UGFnZShhLCBiKTtcblx0fVxuXHRmdW5jdGlvbiBhZGRSZXBvcnRUb0xhc3RQYWdlKHBhZ2VzLCBkYXRhKSB7XG5cdFx0aWYgKGRhdGEub2JqLmNyZWF0ZVRpbWUgPiAxNDE2NTAyOGU1KSB7XG5cdFx0XHRpZiAoMTAwICE9IGRhdGEub2JqLmJpelR5cGUgJiYgIWRhdGEub2JqLnByb3BlcnR5LmhpZGVFcUFkICYmIDEgPT0gZGF0YS5vYmoucHJvcGVydHkuZXFBZFR5cGUpIHJldHVybiB2b2lkIGFkZFJlcG9ydChwYWdlcy5sZW5ndGgsIGRhdGEub2JqLmlkKTtcblx0XHRcdDEwMCA9PSBkYXRhLm9iai5iaXpUeXBlIHx8IGRhdGEub2JqLnByb3BlcnR5LmVxQWRUeXBlIHx8IGRhdGEub2JqLnByb3BlcnR5LmhpZGVFcUFkIHx8IGRhdGEub2JqLnByb3BlcnR5LmlzQWR2YW5jZWRVc2VyIHx8IGFkZFJlcG9ydChwYWdlcy5sZW5ndGgsIGRhdGEub2JqLmlkKVxuXHRcdH1cblx0XHRpZiAoMTAwID09IGRhdGEub2JqLmJpelR5cGUpIHtcblx0XHRcdHZhciAkZXF4U2hhcmVDb250YWluZXIgPSAkKFwiI2VxeC1zaGFyZS1jb250YWluZXJcIik7XG5cdFx0XHR3aXRoKCRlcXhTaGFyZUNvbnRhaW5lci5sZW5ndGggJiYgKCRlcXhTaGFyZUNvbnRhaW5lci5hcHBlbmQoJCgnPGRpdiBjbGFzcz1cImVxeC1zaGFyZVwiPlxcbiAgICA8YSBjbGFzcz1cImVxeC1zaGFyZS1idG4gYnRuLWZhY2Vib29rXCI+PHNwYW4gY2xhc3M9XCJlcXgtc2hhcmUtaWNvbiBpY29uLWZhY2Vib29rXCI+PC9zcGFuPjwvYT5cXG4gICAgPGEgY2xhc3M9XCJlcXgtc2hhcmUtYnRuIGJ0bi10d2l0dGVyXCI+PHNwYW4gY2xhc3M9XCJlcXgtc2hhcmUtaWNvbiBpY29uLXR3aXR0ZXJcIj48L3NwYW4+PC9hPlxcbiAgICA8YSBjbGFzcz1cImVxeC1zaGFyZS1idG4gYnRuLXBsdXNcIj48c3BhbiBjbGFzcz1cImVxeC1zaGFyZS1pY29uIGljb24tZ29vZ2xlX3BsdXNcIj48L3NwYW4+PC9hPlxcbiAgICA8YSBjbGFzcz1cImVxeC1zaGFyZS1idG4gYnRuLWxpbmtlZGluXCI+PHNwYW4gY2xhc3M9XCJlcXgtc2hhcmUtaWNvbiBpY29uLWxpbmtlZGluXCI+PC9zcGFuPjwvYT5cXG4gICAgPGEgY2xhc3M9XCJlcXgtc2hhcmUtYnRuIGJ0bi1waW50ZXJlc3RcIj48c3BhbiBjbGFzcz1cImVxeC1zaGFyZS1pY29uIGljb24tcGludGVyZXN0XCI+PC9zcGFuPjwvYT5cXG4gICAgPGEgY2xhc3M9XCJhZGR0aGlzX3NoYXJpbmdfdG9vbGJveFwiPjwvYT5cXG48L2Rpdj4nKSksICQoXCIuZXF4LXNoYXJlLWJ0blwiKS5TaGFyZUxpbmsoe1xuXHRcdFx0XHR0aXRsZTogZGF0YS5vYmoubmFtZSxcblx0XHRcdFx0dGV4dDogZGF0YS5vYmouZGVzY3JpcHRpb24sXG5cdFx0XHRcdGltYWdlOiBQUkVGSVhfRklMRV9IT1NUICsgZGF0YS5vYmouY292ZXIsXG5cdFx0XHRcdHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoXCIjXCIpWzBdLFxuXHRcdFx0XHRjbGFzc19wcmVmaXg6IFwiYnRuLVwiXG5cdFx0XHR9KSksIGRvY3VtZW50KSAwWyhnZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0gfHwgYm9keSkuYXBwZW5kQ2hpbGQoY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSkuc3JjID0gXCJodHRwOi8vczcuYWRkdGhpcy5jb20vanMvMzAwL2FkZHRoaXNfd2lkZ2V0LmpzI3B1YmlkPXJhLTU1YzAyOTQ2MWE3ZDA4ZTVcIl1cblx0XHR9XG5cdH1cblx0ZnVuY3Rpb24gYWRkRW5hYmxlZENsYXNzVG9QYWdlQ3RybChhKSB7XG5cdFx0dmFyIGIsIGMsIGQgPSBhLm9iai5wYWdlTW9kZSxcblx0XHRcdGUgPSBhLm9iai5wcm9wZXJ0eS50cmlnZ2VyTG9vcDtcblx0XHQwID09IGQgfHwgMSA9PSBkIHx8IDIgPT0gZCB8fCA2ID09IGQgfHwgNyA9PSBkIHx8IDggPT0gZCB8fCAxMSA9PSBkIHx8IDEyID09IGQgPyBiID0gITAgOiAoMyA9PSBkIHx8IDQgPT0gZCB8fCA1ID09IGQgfHwgMTAgPT0gZCkgJiYgKGMgPSAhMCksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRiID8gKCQoXCIuY3RybF9wYW5lbF9kaXIgLmN0cmwtdXBcIikuYWRkQ2xhc3MoXCJlbmFibGVkXCIpLCBlICYmICQoXCIuY3RybF9wYW5lbF9kaXIgLmN0cmwtZG93blwiKS5hZGRDbGFzcyhcImVuYWJsZWRcIikpIDogYyAmJiAoJChcIi5jdHJsX3BhbmVsX2RpciAuY3RybC1sZWZ0XCIpLmFkZENsYXNzKFwiZW5hYmxlZFwiKSwgZSAmJiAkKFwiLmN0cmxfcGFuZWxfZGlyIC5jdHJsLXJpZ2h0XCIpLmFkZENsYXNzKFwiZW5hYmxlZFwiKSlcblx0XHR9LCAwKVxuXHR9XG5cdGZ1bmN0aW9uIGFkZFByZXZpZXdGb290ZXIoKSB7XG5cdFx0dmFyIGEgPSBlcVNob3cuZ2V0VXJsUGFyYW1ldGVyKFwiaWRcIiksXG5cdFx0XHRiID0gUFJFRklYX0hPU1QgKyBcIi9tb2JpbGUvZmlsbEhvbWUuaHRtbD9lZGl0PXRydWUmaWQ9XCIgKyBhO1xuXHRcdGVxU2hvdy5nZXRVcmxQYXJhbWV0ZXIoXCJwcmV2aWV3XCIpICYmICQoJzxkaXYgaWQ9XCJzaGFyZUZvb3RlclwiIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogcmdiYSg1MSwgNTEsIDUxLCAwLjQpO2JvcmRlci10b3A6IDJweCBzb2xpZCByZ2JhKDgsIDE2MSwgMjM5LCAwLjQpO3BhZGRpbmc6IDEwcHg7cG9zaXRpb246IGZpeGVkO2JvdHRvbTogMDtsZWZ0OiAwO3JpZ2h0OiAwO292ZXJmbG93OiBzY3JvbGw7ei1pbmRleDogMTAwMDA7aGVpZ2h0OjQwcHhcIj48ZGl2ICBzdHlsZT1cImZsb2F0OiBsZWZ0O21hcmdpbi10b3A6IDEycHg7bWFyZ2luLWxlZnQ6IDEycHg7Y29sb3I6I0ZGRkZGRlwiPjxsYWJlciA+PGEgc3R5bGU9XCJjb2xvcjojRkZGRkZGXCIgaHJlZj1cIicgKyBiICsgJ1wiPue8lui+kTwvYT48L2xhYmVyPjwvZGl2PjxkaXYgc3R5bGU9XCJmbG9hdDogcmlnaHQ7bWFyZ2luLXJpZ2h0OiAxNXB4O21hcmdpbi10b3A6MnB4O1wiPjxidXR0b24gc3R5bGU9XCJ3aWR0aDogODBweDtoZWlnaHQ6IDMycHg7YmFja2dyb3VuZC1jb2xvcjogIzQ0Y2I4Mztib3JkZXI6IDBweDtib3JkZXItcmFkaXVzOiAycHg7Y29sb3I6ICNGRkZGRkY7XCI+PGEgc3R5bGU9XCJjb2xvcjojRkZGRkZGXCIgb25jbGljaz1cIndhcFRpdGxlU2V0KCk7XCI+5YiG5LqrPC9hPjwvYnV0dG9uPjwvZGl2PjwvZGl2PicpLmFwcGVuZFRvKFwiLm5yXCIpXG5cdH1cblx0dmFyIHJlZGlyZWN0VXJsLCBjb21wYW55TmFtZSwgcGFnZU1vZGUsIHByZXZpZXcsIHBhcmFtLCBhZCwgY3VzdG9tTGFzdFBhZ2UgPSAhMSxcblx0XHRpc01vYmlsZSA9IG1vYmlsZWNoZWNrKCksXG5cdFx0c2NyaXB0TG9hZGVkID0gW10sXG5cdFx0YWN0aXZpdHlQYWdlUHJvbWlzZSA9IG51bGw7XG5cdHdpbmRvdy5hcHBlbmRMYXN0UGFnZSA9IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUsIGYpIHtcblx0XHRpZiAocGFnZU1vZGUgPSBjLCBwcmV2aWV3ID0gZCwgcGFyYW0gPSBlLCBhZCA9IGYsIDEwMCA9PSBhLm9iai5iaXpUeXBlID8gKHJlZGlyZWN0VXJsID0gXCJodHRwczovL2l0dW5lcy5hcHBsZS5jb20vdXMvYXBwL2Vhc3lzaG93LWZyZWUtaDUtc2VuY2Utc2xpZGVzL2lkOTg3MzUxMTIwP210PThcIiwgY29tcGFueU5hbWUgPSBcIkh5cGVmb2xpb1wiKSA6IChyZWRpcmVjdFVybCA9IFwiaHR0cDovL2VxeGl1LmNvbVwiLCBjb21wYW55TmFtZSA9IFwi5piT5LyB56eA5oqA5pyv5pSv5oyBXCIpLCBhZGRQcmV2aWV3Rm9vdGVyKCksIGFwcGVuZEFjdGl2aXR5UGFnZShhLCBiKSwgYS5vYmouY3JlYXRlVGltZSA+IDE0MTY1MDI4ZTUpIGlmICgxMDAgPT0gYS5vYmouYml6VHlwZSkgZXFGcmVlcGFnZShhLCBiKTtcblx0XHRlbHNlIGlmIChhLm9iai5wcm9wZXJ0eS5oaWRlRXFBZCkgZXFIaWRlQWxsKGEsIGIpO1xuXHRcdGVsc2Uge1xuXHRcdFx0aWYgKGEub2JqLnByb3BlcnR5ICYmIGEub2JqLnByb3BlcnR5LmVxQWRUeXBlKSBzd2l0Y2ggKGEub2JqLnByb3BlcnR5LmVxQWRUeXBlKSB7XG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdHJldHVybiB2b2lkIGVxRnJlZXBhZ2UoYSwgYik7XG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJldHVybiB2b2lkIGVxRGVmYXVsdEJvdHRvbUxhYmVsKGEsIGIpO1xuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXR1cm4gdm9pZCBlcUN1c3RvbUJvdHRvbUxhYmVsKGEsIGIpXG5cdFx0XHR9XG5cdFx0XHRhLm9iai5wcm9wZXJ0eS5pc0FkdmFuY2VkVXNlciA/IGEub2JqLnByb3BlcnR5ICYmIGEub2JqLnByb3BlcnR5LmJvdHRvbUxhYmVsICYmIGEub2JqLnByb3BlcnR5LmJvdHRvbUxhYmVsLmlkID8gZXFDdXN0b21Cb3R0b21MYWJlbChhLCBiKSA6IGVxRGVmYXVsdEJvdHRvbUxhYmVsKGEsIGIpIDogZXFGcmVlcGFnZShhLCBiKVxuXHRcdH0gZWxzZSBlcUhpZGVBbGwoYSwgYilcblx0fSwgaXNNb2JpbGUgJiYgJChcIi5uclwiKS5jc3Moe1xuXHRcdHdpZHRoOiBcIjEwMCVcIixcblx0XHRoZWlnaHQ6IFwiMTAwJVwiXG5cdH0pLCB3aW5kb3cud2FwVGl0bGVTZXQgPSBmdW5jdGlvbigpIHtcblx0XHQkLmdldChQUkVGSVhfSE9TVCArIFwiL3ZpZXcvc2hhcmUuaHRtbFwiLCBmdW5jdGlvbihhKSB7XG5cdFx0XHQkKFwiI3dhcFNoYXJlU2V0XCIpLnNob3coKSwgJChcIiN3YXBTaGFyZVNldFwiKS5odG1sKGEpLCAkKFwiI3NoYXJlRm9vdGVyXCIpLmhpZGUoKSwgd2FwU2hhcmUuaW5pdChzY2VuZSlcblx0XHR9KVxuXHR9XG59XG4od2luZG93LCBqUXVlcnkpLCBmdW5jdGlvbih3aW5kb3csICQpIHtcblx0ZnVuY3Rpb24gaXNTYW1wbGUoKSB7XG5cdFx0JChcIiN2aWV3X3JlZ1wiKS5hZnRlcignPGRpdiBpZD1cInNhbXBsZV9idG5cIj7kvb/nlKjor6XmoLfkvos8L2Rpdj4nKVxuXHR9XG5cdGZ1bmN0aW9uIGZvbnRzZXQoYSxiKXtcblx0XHR2YXIgcCA9IGxpc3QgPSBhLmxpc3Q7XG5cdFx0dmFyIHN0cj1cIlwiO1xuXHRcdHAuZm9yRWFjaChmdW5jdGlvbihhLGIpe1xuXHRcdFx0dmFyIGNwID0gYS5lbGVtZW50cztcblx0XHRcdGNwLmZvckVhY2goZnVuY3Rpb24oYSxiKXtcblx0XHRcdFx0aWYoYS5mb250cyl7XG5cdFx0XHRcdFx0JC5lYWNoKGEuZm9udHMsIGZ1bmN0aW9uKGtleSwgdmFsKSB7ICBcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHR2YXIgYyA9IEpTT04uc3RyaW5naWZ5KCQubWFrZUFycmF5KHZhbCkpO1xuXHRcdFx0XHRcdFx0dmFyIGNjID0gSlNPTi5zdHJpbmdpZnkoJC5tYWtlQXJyYXkoa2V5KSk7XG5cdFx0XHRcdFx0XHRkID0gYy5zdWJzdHJpbmcoYy5pbmRleE9mKCdmb250JyksYy5sZW5ndGgtMik7XG5cdFx0XHRcdFx0XHRlID0gY2Muc3Vic3RyaW5nKDIsY2MubGVuZ3RoLSAyKTtcblx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coZSk7IFxuXHRcdFx0XHRcdFx0c3RyID0gc3RyICsgJ0Bmb250LWZhY2V7Zm9udC1mYW1pbHk6IFwiJytlKydcIjsgc3JjOiB1cmwoXCInICsgUFJFRklYX0ZJTEVfSE9TVCArIGQgKydcIikgZm9ybWF0KFwid29mZlwiKTt9Jztcblx0XHRcdFx0XHQgIH0pO1x0XHRcdFx0XHQgXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdCQoXCJoZWFkXCIpLmFwcGVuZCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPicrIHN0ciArJzwvc3R5bGU+Jyk7XG5cdH1cdFxuXHRmdW5jdGlvbiBnZXRXZWNoYXRBdXRoKGEsIGIpIHtcblx0XHR3aW5kb3cud2VDaGF0VXNlciA9IHt9LCB3aW5kb3cud3hDb21wRGF0YSA9IHt9O1xuXHRcdHJldHVybiB2b2lkKGEgPyBjb21wbGV0ZUxvYWQoYikgOiBnZXRTY2VuZURhdGEoKSk7XG5cdFx0dmFyIGQgPSBQUkVGSVhfUzFfVVJMICsgXCJpbmRleC5waHA/Yz1lcXMmYT13eHVzZXJcIjtcblx0XHQkLmFqYXgoe1xuXHRcdFx0dHlwZTogXCJHRVRcIixcblx0XHRcdHVybDogZCxcblx0XHRcdHhockZpZWxkczoge1xuXHRcdFx0XHR3aXRoQ3JlZGVudGlhbHM6ICEwXG5cdFx0XHR9LFxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24oYykge1xuXHRcdFx0XHRpZiAoMjAwID09PSBjLmNvZGUpIGlmIChjLm9iaikgd2luZG93LndlQ2hhdFVzZXIgPSBjLm9iaiwgYSA/IChyZXBsYWNlTmFtZUFuZEhlYWRlcihiLCBjLm9iaiksIGNvbXBsZXRlTG9hZChiLCAhMCkpIDogZ2V0U2NlbmVEYXRhKGMub2JqKTtcblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0dmFyIGQgPSBcIlwiO1xuXHRcdFx0XHRcdGVxU2hvdy5nZXRRdWVyeVN0cmluZyhcInVzZXJLZXlcIikgJiYgKGQgPSBcIj91c2VyS2V5PVwiICsgZXFTaG93LmdldFF1ZXJ5U3RyaW5nKFwidXNlcktleVwiKSksIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJodHRwczovL29wZW4ud2VpeGluLnFxLmNvbS9jb25uZWN0L29hdXRoMi9hdXRob3JpemU/YXBwaWQ9XCIgKyBBUFBJRF9XWCArIFwiJnJlZGlyZWN0X3VyaT1cIiArIGVuY29kZVVSSUNvbXBvbmVudChQUkVGSVhfUzFfVVJMICsgXCJlcXMvd3gvdXNlci9pbmZvXCIpICsgXCImcmVzcG9uc2VfdHlwZT1jb2RlJnNjb3BlPXNuc2FwaV91c2VyaW5mbyZzdGF0ZT1cIiArIGVuY29kZVVSSUNvbXBvbmVudChcImh0dHA6Ly9cIiArIGhvc3REb21haW4gKyBcIi92L1wiICsgd2luZG93LnNjZW5lLmNvZGUgKyBkKSArIFwiI3dlY2hhdF9yZWRpcmVjdFwiXG5cdFx0XHRcdH0gZWxzZSBhbGVydChcImVycm9yXCIpXG5cdFx0XHR9LFxuXHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKGEpIHt9LFxuXHRcdFx0Y3Jvc3NEb21haW46ICEwXG5cdFx0fSlcblx0fVxuXHRmdW5jdGlvbiBnZXRTY2VuZURhdGEoYSkge1xuXHRcdHZhciBiID0gd2luZG93LnZpZXdEYXRhO1xuXHRcdGlmIChiKSByZXR1cm4gYi5vYmogPSB3aW5kb3cuc2NlbmUsIHJlcGxhY2VOYW1lQW5kSGVhZGVyKGIsIGEpLCB2b2lkIGNvbXBsZXRlTG9hZChiLCAhMSk7XG5cdFx0d2luZG93LmlzU3RhdGljICYmIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoVklQX0hPU1QpID49IDAgJiYgKHZpcFNlcnZpY2UgPSAhMCk7XG5cdFx0dmFyIGMgPSBnZXRSZXF1ZXN0VXJsKCksXG5cdFx0XHRkID0ge1xuXHRcdFx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdFx0XHR1cmw6IGMsXG5cdFx0XHRcdGNyb3NzRG9tYWluOiAhMFxuXHRcdFx0fTtcblx0XHR3aW5kb3cudmlld092ZXJmbG93IHx8IHZpcFNlcnZpY2UgfHwgKGQueGhyRmllbGRzID0ge1xuXHRcdFx0d2l0aENyZWRlbnRpYWxzOiAhMFxuXHRcdH0pLCAkLmFqYXgoZCkuZG9uZShmdW5jdGlvbihiKSB7XG5cdFx0XHRiLm9iaiA9IGIub2JqIHx8IHdpbmRvdy5zY2VuZSwgcmVwbGFjZU5hbWVBbmRIZWFkZXIoYiwgYSksIGNvbXBsZXRlTG9hZChiLCAhMSlcblx0XHR9KVxuXHR9XG5cdGZ1bmN0aW9uIHJlcGxhY2VOYW1lQW5kSGVhZGVyKGEsIGIpIHtcblx0XHRpc1dlaXhpbigpICYmIGEubGlzdCAmJiBhLmxpc3QubGVuZ3RoICYmICQuZWFjaChhLmxpc3QsIGZ1bmN0aW9uKGMsIGQpIHtcblx0XHRcdGQuZWxlbWVudHMgJiYgZC5lbGVtZW50cy5sZW5ndGggJiYgJC5lYWNoKGQuZWxlbWVudHMsIGZ1bmN0aW9uKGMsIGQpIHtcblx0XHRcdFx0XCIyMDFcIiA9PSBkLnR5cGUgJiYgKFwib3duXCIgPT0gZC5wcm9wZXJ0aWVzLnR5cGUgJiYgYiAmJiAoZC5jb250ZW50ID0gYi5uaWNrbmFtZSksIFwic2hhcmVcIiA9PSBkLnByb3BlcnRpZXMudHlwZSAmJiBhLm1hcCAmJiBhLm1hcC53eENvbXBvbmVudCAmJiBhLm1hcC53eENvbXBvbmVudC5zaGFyZVVzZXJOYW1lICYmIChkLmNvbnRlbnQgPSBhLm1hcC53eENvbXBvbmVudC5zaGFyZVVzZXJOYW1lKSksIFwiNDAxXCIgPT0gZC50eXBlICYmIChcIm93blwiID09IGQucHJvcGVydGllcy50eXBlICYmIGIgJiYgKGQucHJvcGVydGllcy5zcmMgPSBiLmhlYWRpbWd1cmwsIGRlbGV0ZSBkLnByb3BlcnRpZXMuaW1nU3R5bGUpLCBcInNoYXJlXCIgPT0gZC5wcm9wZXJ0aWVzLnR5cGUgJiYgYS5tYXAgJiYgYS5tYXAud3hDb21wb25lbnQgJiYgYS5tYXAud3hDb21wb25lbnQuc2hhcmVVc2VySGVhZGVyICYmIChkLnByb3BlcnRpZXMuc3JjID0gYS5tYXAud3hDb21wb25lbnQuc2hhcmVVc2VySGVhZGVyLCBkZWxldGUgZC5wcm9wZXJ0aWVzLmltZ1N0eWxlKSlcblx0XHRcdH0pXG5cdFx0fSlcblx0fVxuXHRmdW5jdGlvbiBjb21wbGV0ZUxvYWQoYSwgYikge1xuXHRcdGZvbnRzZXQoYSwgYik7XG5cdFx0YS5tYXAgJiYgYS5tYXAud3hDb21wb25lbnQgJiYgKHdpbmRvdy53eENvbXBEYXRhID0gYS5tYXAud3hDb21wb25lbnQpLCBnZXRDb3VudGVyVmFsdWVzKGEpO1xuXHRcdGZvciAodmFyIGMgPSAhMSwgZCA9IDA7IGQgPCBhLmxpc3QubGVuZ3RoOyBkKyspIHtcblx0XHRcdHZhciBlID0gYS5saXN0W2RdO1xuXHRcdFx0aWYgKGUuZWxlbWVudHMpIGZvciAodmFyIGYgPSAwOyBmIDwgZS5lbGVtZW50cy5sZW5ndGg7IGYrKykgaWYgKGUuZWxlbWVudHNbZl0udHlwZSArIFwiXCIgPT0gXCJtXCIpIHtcblx0XHRcdFx0YyA9ICEwO1xuXHRcdFx0XHRicmVha1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoYykge1xuXHRcdFx0ZXFTaG93LnBhcnNlU3RhcnQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0JChkb2N1bWVudCkudHJpZ2dlcihcInBhcnNlU3RhcnRcIilcblx0XHRcdH0sICQoZG9jdW1lbnQpLm9uKFwicGFyc2VTdGFydFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0cGFyc2VKc29uKGEsIGIpXG5cdFx0XHR9KTtcblx0XHRcdHZhciBnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcblx0XHRcdGcudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCIsIGcuc3JjID0gXCIvL21hcC5xcS5jb20vYXBpL2pzP3Y9Mi5leHAmY2FsbGJhY2s9ZXFTaG93LnBhcnNlU3RhcnRcIiwgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnKVxuXHRcdH0gZWxzZSBwYXJzZUpzb24oYSwgYilcblx0fVxuXHRmdW5jdGlvbiBnZXRDb3VudGVyVmFsdWVzKGEpIHtcblx0XHR2YXIgYiA9IHtcblx0XHRcdHNjZW5lSWQ6IGEub2JqLmlkLFxuXHRcdFx0ZmllbGRJZHM6IFwiXCJcblx0XHR9O1xuXHRcdCQuZWFjaChhLmxpc3QsIGZ1bmN0aW9uKGEsIGMpIHtcblx0XHRcdGMuZWxlbWVudHMgJiYgJC5lYWNoKGMuZWxlbWVudHMsIGZ1bmN0aW9uKGEsIGMpIHtcblx0XHRcdFx0XCJpXCIgPT09IGMudHlwZSAmJiAoYi5maWVsZElkcyArPSAoYi5maWVsZElkcyA/IFwiLFwiIDogXCJcIikgKyBjLmlkKVxuXHRcdFx0fSlcblx0XHR9KSwgYi5maWVsZElkcyAmJiAod2luZG93LmVxU2hvdy5jb3VudGVyVmFsdWVzID0gJC5hamF4KHtcblx0XHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0XHR1cmw6IFBSRUZJWF9TMV9VUkwgKyBcImluZGV4LnBocD9jPXNjZW5lJmE9Y291bnRlcnZhbHVlc1wiLFxuXHRcdFx0ZGF0YTogJC5wYXJhbShiKSxcblx0XHRcdHhockZpZWxkczoge1xuXHRcdFx0XHR3aXRoQ3JlZGVudGlhbHM6ICEwXG5cdFx0XHR9LFxuXHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0YWxlcnQoXCJDb25uZWN0aW9uIGVycm9yXCIpXG5cdFx0XHR9LFxuXHRcdFx0Y3Jvc3NEb21haW46ICEwXG5cdFx0fSkpXG5cdH1cblx0ZnVuY3Rpb24gZ2V0UmVxdWVzdFVybCgpIHtcblx0XHR3aW5kb3cuaXNTdGF0aWMgJiYgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihWSVBfSE9TVCkgPj0gMCAmJiAodmlwU2VydmljZSA9ICEwKTtcblx0XHR2YXIgYTtcblx0XHRpZiAocHJldmlldykgYSA9IGlzTmV3UHJldmlld0xvY2F0aW9uID8gUFJFRklYX1VSTCArIFwibS9zY2VuZS9wcmV2aWV3L1wiICsgc2NlbmVJZCArIFwiLmRhdGFcIiA6IFBSRUZJWF9VUkwgKyBcIm0vc2NlbmUvcHJldmlldy9cIiArIHNjZW5lSWQsIGJyYW5jaGlkICYmIChhICs9ICgvXFw/Ly50ZXN0KGEpID8gXCImXCIgOiBcIj9cIikgKyBcInVzZXI9XCIgKyBicmFuY2hpZCk7XG5cdFx0ZWxzZSBpZiAobW9iaWxldmlldykgYSA9IFBSRUZJWF9VUkwgKyBcImV2ZW50LzkxMDA/cDE9XCIgKyBzY2VuZUlkO1xuXHRcdGVsc2UgaWYgKHdpbmRvdy5zY2VuZSAmJiB3aW5kb3cuc2NlbmUuaWQpIGlmICh3aW5kb3cuaXNDaGVjaykgYSA9IE1BWF9TRVJWRVJfSE9TVCArIFwibS9lcXMvdmlldy9wYWdlL1wiICsgd2luZG93LnNjZW5lLmlkO1xuXHRcdGVsc2Uge1xuXHRcdFx0dmFyIGIgPSB3aW5kb3cudmlld092ZXJmbG93IHx8IHZpcFNlcnZpY2UgPyBQUkVGSVhfUzJfVVJMIDogUFJFRklYX1M2X1VSTDtcblx0XHRcdGEgPSBiICsgXCI/Yz1zY2VuZSZhPXZpZXcmaWQ9XCIgKyB3aW5kb3cuc2NlbmUuaWQ7XG5cdFx0XHR2YXIgYiwgYyA9IGVxU2hvdy5nZXRRdWVyeVN0cmluZyhcInVzZXJLZXlcIiksXG5cdFx0XHRcdGQgPSBlcVNob3cuZ2V0UXVlcnlTdHJpbmcoXCJjYWNoZVwiKTtcblx0XHRcdGlmICh3aW5kb3cudmlld092ZXJmbG93IHx8IHZpcFNlcnZpY2UpIGIgPSBQUkVGSVhfUzJfVVJMO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdC8vSlNPTi5wYXJzZSh3aW5kb3cuc2NlbmUucHJvcGVydHkpO1xuXHRcdFx0XHRiID0gbnVsbCAhPSBjICYmIGMudG9TdHJpbmcoKS5sZW5ndGggPiAxIHx8IG51bGwgIT0gZCAmJiBkLnRvU3RyaW5nKCkubGVuZ3RoID4gMSA/IFBSRUZJWF9TMV9VUkwgOiBQUkVGSVhfUzZfVVJMXG5cdFx0XHR9XG5cdFx0XHRhID0gYiArIFwiP2M9c2NlbmUmYT12aWV3JmlkPVwiICsgd2luZG93LnNjZW5lLmlkLCBudWxsICE9IGMgJiYgYy50b1N0cmluZygpLmxlbmd0aCA+IDEgJiYgKGEgKz0gKC9cXD8vLnRlc3QoYSkgPyBcIiZcIiA6IFwiP1wiKSArIFwidXNlcktleT1cIiArIGMpLCBudWxsICE9IGQgJiYgZC50b1N0cmluZygpLmxlbmd0aCA+IDEgJiYgKGEgKz0gKC9cXD8vLnRlc3QoYSkgPyBcIiZcIiA6IFwiP1wiKSArIFwiY2FjaGU9XCIgKyBkKVxuXHRcdH0gZWxzZSBhID0gUFJFRklYX1MxX1VSTCArIFwiZXFzL3YvXCIgKyBzY2VuZUlkO1xuXHRcdHJldHVybiB3aW5kb3cudmlld092ZXJmbG93IHx8IHZpcFNlcnZpY2UgfHwgKGEgKz0gKC9cXD8vLnRlc3QoYSkgPyBcIiZcIiA6IFwiP1wiKSArIFwidGltZT1cIiArIChuZXcgRGF0ZSkuZ2V0VGltZSgpKSwgYVxuXHR9XG5cdGZ1bmN0aW9uIGJpbmRTaGFyZShkYXRhKSB7XG5cdFx0aWYgKG1vYmlsZWNoZWNrKCkgfHwgdGFibGV0Q2hlY2soKSkgaXNXZWl4aW4oKSAmJiB3ZWNoYXRDb25maWcuY29uZmlnV2VpeGluKGRhdGEpO1xuXHRcdGVsc2UgaWYgKDEwMCAhPSBkYXRhLm9iai5iaXpUeXBlKSB3aXRoKHdpbmRvdy5fYmRfc2hhcmVfY29uZmlnID0ge1xuXHRcdFx0Y29tbW9uOiB7XG5cdFx0XHRcdGJkU25zS2V5OiB7fSxcblx0XHRcdFx0YmRUZXh0OiBkYXRhLm9iai5uYW1lLFxuXHRcdFx0XHRiZFNpZ246IFwib25cIixcblx0XHRcdFx0YmRNaW5pOiBcIjJcIixcblx0XHRcdFx0YmRNaW5pTGlzdDogITEsXG5cdFx0XHRcdGJkRGVzYzogZGF0YS5vYmouZGVzY3JpcHRpb24gPyBkYXRhLm9iai5kZXNjcmlwdGlvbiA6IFwiXCIsXG5cdFx0XHRcdGJkVXJsOiBQUkVGSVhfSE9TVCArIFwiL3YvXCIgKyBzY2VuZUlkLFxuXHRcdFx0XHRiZFBpYzogUFJFRklYX0ZJTEVfSE9TVCArIGRhdGEub2JqLmNvdmVyLFxuXHRcdFx0XHRiZFN0eWxlOiBcIjBcIixcblx0XHRcdFx0YmRTaXplOiBcIjMyXCJcblx0XHRcdH0sXG5cdFx0XHRzaGFyZToge31cblx0XHR9LCBkb2N1bWVudCkgMFsoZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdIHx8IGJvZHkpLmFwcGVuZENoaWxkKGNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpLnNyYyA9IFwiL3N0YXRpYy9hcGkvanMvc2hhcmUuanM/dj04OTg2MDU5My5qcz9jZG52ZXJzaW9uPVwiICsgfiAoLW5ldyBEYXRlIC8gMzZlNSldXG5cdH1cblx0ZnVuY3Rpb24gcGFyc2VKc29uKGEsIGIpIHtcblx0XHRpc05ld1ByZXZpZXdMb2NhdGlvbiB8fCB3aW5kb3cuc2NlbmUgfHwgKGRvY3VtZW50LnRpdGxlID0gYS5vYmoubmFtZSwgJChcIiNtZXRhRGVzY3JpcHRpb25cIikuYXR0cihcImNvbnRlbnRcIiwgYS5vYmoubmFtZSArIFwiLCBcIiArIGEub2JqLmRlc2NyaXB0aW9uICsgXCIsIOeUseaYk+S8geengOWFjei0ueenu+WKqOWcuuaZr+W6lOeUqOiHquiQpemUgOeuoeWutuaPkOS+m+aKgOacr+aUr+aMgVwiKSwgJChcIi5zY2VuZV90aXRsZVwiKS50ZXh0KGEub2JqLm5hbWUpKTtcblx0XHR2YXIgYyA9IGEub2JqLmNvdmVyO1xuXHRcdGlmIChpc1dlaXhpbigpKSB7XG5cdFx0XHR2YXIgZCA9IC9cXD9pbWFnZU1vZ3IyLyxcblx0XHRcdFx0ZSA9IC8uc3ZnLztcblx0XHRcdGUudGVzdChjKSB8fCAoYyArPSBkLnRlc3QoYykgPyBcIlwiIDogXCJcIiksICQoXCIjc2hhcmVJbWFnZVwiKS5maW5kKFwiaW1nXCIpLmF0dHIoXCJzcmNcIiwgUFJFRklYX0ZJTEVfSE9TVCArIGMpXG5cdFx0fVxuXHRcdGJpbmRTaGFyZShhKSwgcGFnZU1vZGUgPSBhLm9iai5wYWdlTW9kZTtcblx0XHR2YXIgZiA9IFtdO1xuXHRcdHJldHVybiBhLm9iai5wcm9wZXJ0eSAmJiAoYS5vYmoucHJvcGVydHkgPSBKU09OLnBhcnNlKGEub2JqLnByb3BlcnR5KSB8fCB7fSksIGEub2JqLmJnQXVkaW8gJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgYS5vYmouYmdBdWRpbyAmJiAoYS5vYmouYmdBdWRpbyA9IEpTT04ucGFyc2UoYS5vYmouYmdBdWRpbykgfHwgbnVsbCksIGYgPSBhLmxpc3QsIGYubGVuZ3RoIDw9IDAgPyAoYWxlcnQoXCLmraTlnLrmma/kuI3lrZjlnKghXCIpLCB2b2lkKHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gd2luZG93LlBSRUZJWF9VUkwpKSA6IHZvaWQgYXBwZW5kTGFzdFBhZ2UoYSwgZiwgcGFnZU1vZGUsIHByZXZpZXcsIHBhcmFtLCBhZClcblx0fVxuXHR2YXIgdXJsLCBwcmV2aWV3LCBtb2JpbGV2aWV3LCBwYWdlTW9kZSwgYnJhbmNoaWQsIGFkID0gMCxcblx0XHRob3N0RG9tYWluID0gZXFTaG93LmdldERvbWFpbih3aW5kb3cubG9jYXRpb24uaHJlZiksXG5cdFx0ZXF4RG9tYWluID0gZXFTaG93LmdldERvbWFpbihQUkVGSVhfSE9TVCksXG5cdFx0aDVEb21haW4gPSBlcVNob3cuZ2V0RG9tYWluKFBSRUZJWF9TSE9XX0hPU1QpO1xuXHQkLmFqYXhTZXR1cCh7XG5cdFx0Y2FjaGU6ICEwXG5cdH0pO1xuXHR2YXIgdmlwU2VydmljZSwgaXNOZXdQcmV2aWV3TG9jYXRpb24gPSAvW2h0dHB8aHR0cHNdOlxcL1xcLy4qXFwvbVxcL3NjZW5lXFwvcHJldmlld1xcLy8udGVzdCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cdHVybCA9IC9baHR0cHxodHRwc106XFwvXFwvLipcXC92XFwvLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KFwiL3YvXCIpWzFdIDogaXNOZXdQcmV2aWV3TG9jYXRpb24gPyB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdChcIi9tL3NjZW5lL3ByZXZpZXcvXCIpWzFdIDogd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoXCI/c2NlbmVJZD1cIilbMV0sIHdpbmRvdy52aWV3RGF0YSAmJiAodXJsID0gc2NlbmUuY29kZSk7XG5cdHZhciBzY2VuZUlkID0gdXJsLnNwbGl0KFwiI1wiKVswXS5zcGxpdChcIiZcIilbMF0uc3BsaXQoXCI/XCIpWzBdO1xuXHRpc05ld1ByZXZpZXdMb2NhdGlvbiAmJiAoc2NlbmVJZCA9IHNjZW5lSWQuc3Vic3RyaW5nKDAsIHNjZW5lSWQuaW5kZXhPZihcIi5odG1sXCIpKSk7XG5cdHZhciBwYXJhbSA9IHVybC5zcGxpdChzY2VuZUlkKVsxXTtcblx0aWYgKChwYXJhbS5pbmRleE9mKFwicHJldmlldz1wcmV2aWV3XCIpID4gMCB8fCB3aW5kb3cucHJldmlldyB8fCBpc05ld1ByZXZpZXdMb2NhdGlvbikgJiYgKHByZXZpZXcgPSAhMCksIHBhcmFtLmluZGV4T2YoXCJicmFuY2hpZD1cIikgPiAwICYmIChicmFuY2hpZCA9IHBhcmFtLnN1YnN0cmluZyhwYXJhbS5pbmRleE9mKFwiYnJhbmNoaWQ9XCIpICsgOSkpLCBwYXJhbS5pbmRleE9mKFwibW9iaWxldmlldz1tb2JpbGV2aWV3XCIpID4gMCAmJiAobW9iaWxldmlldyA9ICEwKSwgIShtb2JpbGVjaGVjaygpIHx8IHRhYmxldENoZWNrKCkgJiYgd2luZG93ID09IHdpbmRvdy50b3ApKSB7XG5cdFx0dmFyIGdldEJnID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQuYWpheCh7XG5cdFx0XHRcdFx0dHlwZTogXCJHRVRcIixcblx0XHRcdFx0XHR1cmw6IFBSRUZJWF9TMl9VUkwgKyBcIj9jPXZpZXcmYT1pbWFnZVByZXZpZXdcIixcblx0XHRcdFx0XHRjcm9zc0RvbWFpbjogITBcblx0XHRcdFx0fSkudGhlbihmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0YSA/ICQoXCJib2R5XCIpLmNzcyhcImJhY2tncm91bmRJbWFnZVwiLCBcInVybChcIiArIGEgKyBcIilcIikgOiAkKFwiYm9keVwiKS5jc3MoXCJiYWNrZ3JvdW5kSW1hZ2VcIiwgXCJ1cmwoL3ZpZXcvaW1hZ2VzL3ByZXZpZXdiZ19zcHJpbmcuanBnKVwiKVxuXHRcdFx0XHR9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkKFwiYm9keVwiKS5jc3MoXCJiYWNrZ3JvdW5kSW1hZ2VcIiwgXCJ1cmwoL3ZpZXcvaW1hZ2VzL3ByZXZpZXdiZ19zcHJpbmcuanBnKVwiKVxuXHRcdFx0XHR9KVxuXHRcdFx0fTtcblx0XHR3aW5kb3cuYWRkRWxtZW50c0ZvclBjID0gZnVuY3Rpb24oYSkge1xuXHRcdFx0dmFyIGIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0sXG5cdFx0XHRcdGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblx0XHRcdGMuaHJlZiA9IENMSUVOVF9DRE4gKyBcImNvbW1vbi9jc3MvcGN2aWV3ZXIuY3NzXCIsIGMucmVsID0gXCJzdHlsZXNoZWV0XCIsIGIuYXBwZW5kQ2hpbGQoYyksIHdpbmRvdyAhPSB3aW5kb3cudG9wID8gJChcImJvZHlcIikuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiLCBcIm5vbmVcIikgOiAoZ2V0QmcoKSwgJC5nZXRTY3JpcHQoQ0xJRU5UX0NETiArIFwiY29tbW9uL2pzL3FyY29kZS5qc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0JC5nZXRTY3JpcHQoQ0xJRU5UX0NETiArIFwiY29tbW9uL2pzL2pxdWVyeS5xcmNvZGUuanNcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0d2luZG93LnNjZW5lICYmIDEwMCA9PSB3aW5kb3cuc2NlbmUuYml6VHlwZSA/ICgkKFwiI2NvblwiKS5iZWZvcmUoJzxkaXYgaWQ9XCJjb2RlXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAtMjAwcHg7XCI+XFxuICAgIDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDE0cHg7XCI+U2hhcmUgeW91ciBmb2xpbyBvbiBzb2NpYWwgbmV0d29yayE8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cImVxeC1zaGFyZVwiPlxcbiAgICAgICAgPGEgY2xhc3M9XCJlcXgtc2hhcmUtYnRuIGJ0bi1mYWNlYm9va1wiPjxzcGFuIGNsYXNzPVwiZXF4LXNoYXJlLWljb24gaWNvbi1mYWNlYm9va1wiPjwvc3Bhbj48L2E+XFxuICAgICAgICA8YSBjbGFzcz1cImVxeC1zaGFyZS1idG4gYnRuLXR3aXR0ZXJcIj48c3BhbiBjbGFzcz1cImVxeC1zaGFyZS1pY29uIGljb24tdHdpdHRlclwiPjwvc3Bhbj48L2E+XFxuICAgICAgICA8YSBjbGFzcz1cImVxeC1zaGFyZS1idG4gYnRuLXBsdXNcIj48c3BhbiBjbGFzcz1cImVxeC1zaGFyZS1pY29uIGljb24tZ29vZ2xlX3BsdXNcIj48L3NwYW4+PC9hPlxcbiAgICAgICAgPGEgY2xhc3M9XCJlcXgtc2hhcmUtYnRuIGJ0bi1saW5rZWRpblwiPjxzcGFuIGNsYXNzPVwiZXF4LXNoYXJlLWljb24gaWNvbi1saW5rZWRpblwiPjwvc3Bhbj48L2E+XFxuICAgICAgICA8YSBjbGFzcz1cImVxeC1zaGFyZS1idG4gYnRuLXBpbnRlcmVzdFwiPjxzcGFuIGNsYXNzPVwiZXF4LXNoYXJlLWljb24gaWNvbi1waW50ZXJlc3RcIj48L3NwYW4+PC9hPlxcbiAgICAgICAgPGEgY2xhc3M9XCJhZGR0aGlzX3NoYXJpbmdfdG9vbGJveFwiPjwvYT5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgaWQ9XCJ2aWV3X3JlZ1wiIHN0eWxlPVwiYm9yZGVyOiBub25lO21hcmdpbi1ib3R0b206IDI2cHg7XCI+PHNwYW4+XFxuICAgICAgICA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cDovL2VxeGl1LmNvbVwiIHN0eWxlPVwiY29sb3I6ICNmZmY7Ym9yZGVyLWJvdHRvbS1jb2xvcjogI2ZmZjtmb250LXNpemU6IDE0cHg7XCI+U28gQ29vbCwgTGV0IG1lIHRyeSBpdCE8L2E+XFxuICAgIDwvc3Bhbj48L2Rpdj5cXG4gICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtiYWNrZ3JvdW5kOiNmZmY7cGFkZGluZzogMTBweDtcIiBpZD1cImNvZGVJbWdcIi8+IFxcbiAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO2ZvbnQtc2l6ZTogMTRweDtcIj5TY2FuIHRoZSBRUiBDb2RlITwvZGl2PlxcbiAgICA8ZGl2IGlkPVwic3VwcG9ydFwiPlBvd2VyZWQgQlkgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHA6Ly9lcXhpdS5jb21cIj48aW1nIGlkPVwibG9nb1NtYWxsXCIgc3R5bGU9XCJ3aWR0aDogNjRweDt2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1wiIHNyYz1cIicgKyBDTElFTlRfQ0ROICsgJ3ZpZXcvaW1hZ2VzL2h5cGVmb2xpby1sb2dvLnBuZ1wiLz48L2E+PC9kaXY+PC9kaXY+JyksICQoXCIuZXF4LXNoYXJlLWJ0blwiKS5TaGFyZUxpbmsoe1xuXHRcdFx0XHRcdFx0dGl0bGU6IHdpbmRvdy5zY2VuZS5uYW1lLFxuXHRcdFx0XHRcdFx0dGV4dDogd2luZG93LnNjZW5lLmRlc2NyaXB0aW9uLFxuXHRcdFx0XHRcdFx0aW1hZ2U6IFBSRUZJWF9GSUxFX0hPU1QgKyB3aW5kb3cuc2NlbmUuY292ZXIsXG5cdFx0XHRcdFx0XHR1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KFwiI1wiKVswXSxcblx0XHRcdFx0XHRcdGNsYXNzX3ByZWZpeDogXCJidG4tXCJcblx0XHRcdFx0XHR9KSkgOiAoJChcIiNjb25cIikuYmVmb3JlKCc8ZGl2IGlkPVwiY29kZVwiPjxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOjE1cHg7XCI+PGRpdiBjbGFzcz1cImFwcFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7XCI+PGRpdiBpZD1cImRvd25BcHBWaWV3XCIgY2xhc3M9XCJ6b29tSW4tY2hhbmdlXCI+PGgzPjxhIGlkPVwiY2xvc2VcIiBzdHlsZT1cImN1cnNvcjpwb2ludGVyXCI+WDwvYT7mmJPkvIHnp4BBUFA8L2gzPjxkaXYgaWQ9XCJkb3duQ29kZVwiPjwvZGl2PjxwIHN0eWxlPVwicGFkZGluZy1ib3R0b206MjBweDtwYWRkaW5nLXRvcDoxMHB4O1wiPuS4gOmUrueUn+aIkEg177yM6ZqP5pe26ZqP5Zyw5p+l5pWw5o2uPC9wPjwvZGl2PjwvZGl2PuaJq+S4gOaJq++8jOWIhuS6q+e7meaci+WPi++8gTwvZGl2PjxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7YmFja2dyb3VuZDojZmZmO3BhZGRpbmc6IDEwcHg7XCIgaWQ9XCJjb2RlSW1nXCIvPjxkaXYgaWQ9XCJ2aWV3X3NoYXJlXCIgY2xhc3M9XCJiZHNoYXJlYnV0dG9uYm94XCI+PGEgaHJlZj1cIiNcIiBjbGFzcz1cImJkc19tb3JlXCIgZGF0YS1jbWQ9XCJtb3JlXCI+PC9hPjxhIGhyZWY9XCIjXCIgY2xhc3M9XCJiZHNfdHNpbmFcIiBkYXRhLWNtZD1cInRzaW5hXCIgdGl0bGU9XCLliIbkuqvliLDmlrDmtarlvq7ljZpcIj48L2E+PGEgaHJlZj1cIiNcIiBjbGFzcz1cImJkc190cXFcIiBkYXRhLWNtZD1cInRxcVwiIHRpdGxlPVwi5YiG5Lqr5Yiw6IW+6K6v5b6u5Y2aXCI+PC9hPjxhIGhyZWY9XCIjXCIgY2xhc3M9XCJiZHNfcXpvbmVcIiBkYXRhLWNtZD1cInF6b25lXCIgdGl0bGU9XCLliIbkuqvliLBRUeepuumXtFwiPjwvYT48YSBocmVmPVwiI1wiIGNsYXNzPVwiYmRzX3NxcVwiIGRhdGEtY21kPVwic3FxXCIgdGl0bGU9XCLliIbkuqvliLBRUeWlveWPi1wiPjwvYT48YSBocmVmPVwiI1wiIGNsYXNzPVwiYmRzX2RvdWJhblwiIGRhdGEtY21kPVwiZG91YmFuXCIgdGl0bGU9XCLliIbkuqvliLDosYbnk6PnvZFcIj48L2E+PC9kaXY+PGRpdiBpZD1cInZpZXdfcmVnXCI+6L+Z5LmI5ryC5Lqu55qE5Zy65pmvJm5ic3A74oaSPHNwYW4+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj0nK3lvdXJfZGVtYWluKyc+5oiR5Lmf5p2l5Yi25L2cPC9hPjwvc3Bhbj48L2Rpdj48ZGl2IGlkPVwic3VwcG9ydFwiPuaKgOacr+aUr+aMgSBCWSA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPScreW91cl9kZW1haW4rJz48aW1nIGlkPVwibG9nb1NtYWxsXCIgc3JjPVwiJyArIENMSUVOVF9DRE4gKyAndmlldy9pbWFnZXMvYmdfc21hbGwucG5nXCIvPjwvYT48L2Rpdj48L2Rpdj4nKSwgd2luZG93LnNjZW5lICYmIDEgPT09IHdpbmRvdy5zY2VuZS5pc1RlbXBsYXRlICYmIGlzU2FtcGxlKCkpO1xuXHRcdFx0XHRcdHZhciBiO1xuXHRcdFx0XHRcdC8vYiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoZXF4RG9tYWluKSA+PSAwIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoaDVEb21haW4pID49IDAgPyAxID09IHNjZW5lLnVzZXJUeXBlID8gUFJFRklYX0hPU1RfQVJSQVlbTWF0aC5mbG9vcigxMSAqIE1hdGgucmFuZG9tKCkpICUgMTFdICsgXCIvXCIgOiAyICE9IHNjZW5lLnVzZXJUeXBlICYmIDIxICE9IHNjZW5lLnVzZXJUeXBlIHx8IHNjZW5lLm1lbWJlclR5cGUgPyAzID09IHNjZW5lLnVzZXJUeXBlIHx8IDQgPT0gc2NlbmUudXNlclR5cGUgPyBQUkVGSVhfU0VSVklDRV9IT1NUICsgXCIvXCIgOiA5OSA9PSBzY2VuZS51c2VyVHlwZSA/IFBSRUZJWF9TSE9XX0hPU1QgKyBcIi9cIiA6IHNjZW5lLmV4cGlyeVRpbWUgJiYgbmV3IERhdGUoc2NlbmUuZXhwaXJ5VGltZSkuZ2V0VGltZSgpIDwgRGF0ZS5ub3cgPyBQUkVGSVhfSE9TVF9BUlJBWVtNYXRoLmZsb29yKDExICogTWF0aC5yYW5kb20oKSkgJSAxMV0gKyBcIi9cIiA6IFBSRUZJWF9DT01QQU5ZX0hPU1RfQVJSQVlbTWF0aC5mbG9vcigyICogTWF0aC5yYW5kb20oKSkgJSAyXSArIFwiL1wiIDogUFJFRklYX0hPU1RfQVJSQVlbTWF0aC5mbG9vcigxMSAqIE1hdGgucmFuZG9tKCkpICUgMTFdICsgXCIvXCIgOiBcImh0dHA6Ly9cIiArIGhvc3REb21haW4gKyBcIi9cIiwgd2luZG93LmlzU3RhdGljICYmIChiID0gVklQX0hPU1QpLCAkKFwiI2Rvd25BcHBcIikuY2xpY2soZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0YiA9IFBSRUZJWF9TMV9VUkwsIHdpbmRvdy5pc1N0YXRpYyAmJiAoYiA9IFZJUF9IT1NUKSwgJChcIiNkb3duQXBwXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0JChcIiNkb3duQXBwVmlld1wiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIilcblx0XHRcdFx0XHR9KSwgJChcIiNjbG9zZVwiKS5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdCQoXCIjZG93bkFwcFZpZXdcIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIilcblx0XHRcdFx0XHR9KSwgJChcIiNkb3duQ29kZVwiKS5xcmNvZGUoe1xuXHRcdFx0XHRcdFx0cmVuZGVyOiBcImNhbnZhc1wiLFxuXHRcdFx0XHRcdFx0d2lkdGg6IDIwMCxcblx0XHRcdFx0XHRcdGhlaWdodDogMjAwLFxuXHRcdFx0XHRcdFx0dGV4dDogXCJodHRwOi8vYS5hcHAucXEuY29tL28vc2ltcGxlLmpzcD9wa2duYW1lPWNuLmtuZXQuZXF4aXVcIlxuXHRcdFx0XHRcdH0pLCAkKFwiI2NvZGVJbWdcIikucXJjb2RlKHtcblx0XHRcdFx0XHRcdHJlbmRlcjogXCJjYW52YXNcIixcblx0XHRcdFx0XHRcdHdpZHRoOiAyMDAsXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IDIwMCxcblx0XHRcdFx0XHRcdHRleHQ6IGIgKyBcInYvXCIgKyBhICsgXCI/ZXFyY29kZT0xXCJcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9KVxuXHRcdFx0fSksICQoXCIucC1pbmRleFwiKS53cmFwKCc8ZGl2IGNsYXNzID0gXCJwaG9uZV9wYW5lbFwiPjwvZGl2PicpLCAkKCc8ZGl2IGNsYXNzID0gXCJjdHJsX3BhbmVsXCI+PC9kaXY+JykuYXBwZW5kVG8oJChcIi5waG9uZV9wYW5lbFwiKSksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHdpbmRvdy5zY2VuZSAmJiAxMDAgPT0gd2luZG93LnNjZW5lLmJpelR5cGUgPyAoJChcIi5waG9uZV9tZW51YmFyXCIpLmFkZENsYXNzKFwiaHlwZWZvbGlvXCIpLCAkKCc8YSBpZCA9IFwicHJlX3BhZ2VcIiB0eXBlID0gXCJidXR0b25cIiBjbGFzcyA9IFwicHJlX2J0biBidG5cIiBvbmNsaWNrID0gXCJlcXhpdS5wcmVQYWdlKClcIj5cXG4gICAgPHNwYW4gc3R5bGU9XCJ0cmFuc2Zvcm06IHJvdGF0ZVooOTBkZWcpO2Rpc3BsYXk6IGlubGluZS1ibG9jaztmb250LXNpemU6IDM2cHg7XCI+Jmx0Ozwvc3Bhbj5cXG48L2E+JykucHJlcGVuZFRvKCQoXCIuY3RybF9wYW5lbFwiKSksICQoJzxhIGlkID0gXCJuZXh0X3BhZ2VcIiB0eXBlID0gXCJidXR0b25cIiBjbGFzcyA9IFwibmV4dF9idG4gYnRuXCIgb25jbGljayA9IFwiZXF4aXUubmV4dFBhZ2UoKVwiPlxcbiAgICA8c3BhbiBzdHlsZT1cInRyYW5zZm9ybTogcm90YXRlWig5MGRlZyk7ZGlzcGxheTogaW5saW5lLWJsb2NrO2ZvbnQtc2l6ZTogMzZweDttYXJnaW4tdG9wOiA1cHg7XCI+Jmd0Ozwvc3Bhbj5cXG48L2E+JykuYXBwZW5kVG8oJChcIi5jdHJsX3BhbmVsXCIpKSkgOiAoJCgnPGEgaWQgPSBcInByZV9wYWdlXCIgdHlwZSA9IFwiYnV0dG9uXCIgY2xhc3MgPSBcInByZV9idG4gYnRuXCIgb25jbGljayA9IFwiZXF4aXUucHJlUGFnZSgpXCI+5LiK5LiA6aG1PC9hPicpLnByZXBlbmRUbygkKFwiLmN0cmxfcGFuZWxcIikpLCAkKCc8YSBpZCA9IFwibmV4dF9wYWdlXCIgdHlwZSA9IFwiYnV0dG9uXCIgY2xhc3MgPSBcIm5leHRfYnRuIGJ0blwiIG9uY2xpY2sgPSBcImVxeGl1Lm5leHRQYWdlKClcIj7kuIvkuIDpobU8L2E+JykuYXBwZW5kVG8oJChcIi5jdHJsX3BhbmVsXCIpKSlcblx0XHRcdH0sIDEwMCkpXG5cdFx0fVxuXHR9XG5cdCQoXCJib2R5XCIpLm9uKFwiY2xpY2tcIiwgXCIjc2FtcGxlX2J0blwiLCBmdW5jdGlvbigpIHtcblx0XHR3aW5kb3cub3BlbihQUkVGSVhfSE9TVCArIFwiL3NjZW5lP3VzZVRwbElkPVwiICsgc2NlbmUuaWQpXG5cdH0pLCB3aW5kb3cubW9ibGllVmlld0ltZ0JnLCBqUXVlcnkuc3VwcG9ydC5jb3JzID0gITAsIGVxU2hvdy5ib290c3RyYXAgPSBmdW5jdGlvbigpIHtcblx0XHR3aW5kb3cudmlld0RhdGEgPyAod2luZG93Lm1vYmxpZVZpZXdJbWdCZyA9IFBSRUZJWF9GSUxFX0hPU1QsIFBSRUZJWF9GSUxFX0hPU1QgPSBcIlwiKSA6IFBSRUZJWF9GSUxFX0hPU1QgPSBlcVNob3cuZ2V0SW1hZ2VzUmVzb3VyY2VIb3N0KHNjZW5lLnVzZXJUeXBlLCBzY2VuZS5tZW1iZXJUeXBlKSwgZ2V0V2VjaGF0QXV0aCgpLCBlcVNob3cuZm9yRXhlbXBsYXJSZXZpZXcoKSB8fCBtb2JpbGVjaGVjaygpIHx8IHRhYmxldENoZWNrKCkgJiYgd2luZG93ID09IHdpbmRvdy50b3AgfHwgKGFkZEVsbWVudHNGb3JQYyhzY2VuZS5jb2RlKSwgJChcInRpdGxlXCIpLnRleHQod2luZG93LnNjZW5lLm5hbWUgKyBcIiB8IEg15b6u5Zy65pmv5Yi25L2cXCIpKVxuXHR9LCBlcVNob3cuYm9vdHN0cmFwV2l0aFBhc3N3b3JkID0gZnVuY3Rpb24oKSB7XG5cdFx0ZnVuY3Rpb24gYSgpIHtcblx0XHRcdCQoXCIjdmVyaWZ5VGlwXCIpLmFkZENsYXNzKFwic2hha2VcIikub25lKFwid2Via2l0QW5pbWF0aW9uRW5kIG1vekFuaW1hdGlvbkVuZCBNU0FuaW1hdGlvbkVuZCBvYW5pbWF0aW9uZW5kIGFuaW1hdGlvbmVuZFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcyhcInNoYWtlXCIpLCBjKClcblx0XHRcdH0pXG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGIoYikge1xuXHRcdFx0JChcIiNsb2FkaW5nXCIpLnNob3coKSwgJC5hamF4KHtcblx0XHRcdFx0dHlwZTogXCJHRVRcIixcblx0XHRcdFx0dXJsOiBnLFxuXHRcdFx0XHRkYXRhOiAkLnBhcmFtKHtcblx0XHRcdFx0XHRwYXNzd29yZDogYlxuXHRcdFx0XHR9KSxcblx0XHRcdFx0eGhyRmllbGRzOiB7XG5cdFx0XHRcdFx0d2l0aENyZWRlbnRpYWxzOiAhMFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihiKSB7XG5cdFx0XHRcdFx0MjAwID09PSBiLmNvZGUgPyAoYi5vYmogPSBiLm9iaiB8fCB3aW5kb3cuc2NlbmUsICQoXCIjdmVyaWZ5Q29kZVwiKS5yZW1vdmUoKSwgZ2V0V2VjaGF0QXV0aCghMCwgYikpIDogKCQoXCIjbG9hZGluZ1wiKS5oaWRlKCksICQoXCIjdmVyaWZ5Q29kZVwiKS5zaG93KCksIGEoKSlcblx0XHRcdFx0fSxcblx0XHRcdFx0Y3Jvc3NEb21haW46ICEwXG5cdFx0XHR9KVxuXHRcdH1cblx0XHRmdW5jdGlvbiBjKCkge1xuXHRcdFx0JChcIi5wYXNzd29yZC1pbmRpY2F0b3IgbGlcIikuZWFjaChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRcdGEgPCBvLmxlbmd0aCA/ICQoYikuYWRkQ2xhc3MoXCJhY3RpdmVcIikgOiAkKGIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpXG5cdFx0XHR9KVxuXHRcdH1cblx0XHRmdW5jdGlvbiBkKGEpIHtcblx0XHRcdHZhciBkID0gJChhLnRhcmdldCk7XG5cdFx0XHRkLmFkZENsYXNzKFwiYWN0aXZlXCIpLCBvICs9IGQudGV4dCgpLCBjKCksIDQgPT0gby5sZW5ndGggJiYgKGIobyksIG8gPSBcIlwiKSwgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0ZC5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKVxuXHRcdFx0fSwgMTAwKVxuXHRcdH1cblx0XHRmdW5jdGlvbiBlKGEpIHtcblx0XHRcdG8gPSBcIlwiLCBjKClcblx0XHR9XG5cdFx0ZnVuY3Rpb24gZihhKSB7XG5cdFx0XHRvICYmIChvID0gby5zdWJzdHJpbmcoMCwgby5sZW5ndGggLSAxKSwgYygpKVxuXHRcdH1cblx0XHRlcVNob3cuZm9yRXhlbXBsYXJSZXZpZXcoKSB8fCBtb2JpbGVjaGVjaygpIHx8IHRhYmxldENoZWNrKCkgJiYgd2luZG93ID09IHdpbmRvdy50b3AgfHwgYWRkRWxtZW50c0ZvclBjKHNjZW5lLmNvZGUpO1xuXHRcdHZhciBnID0gZ2V0UmVxdWVzdFVybCgpO1xuXHRcdGlmICgkKFwiI2xvYWRpbmdcIikuaGlkZSgpLCAkKFwiI3ZlcmlmeUNvZGVcIikuc2hvdygpLCB3aW5kb3cuc2NlbmUpIHtcblx0XHRcdHZhciBoID0ge1xuXHRcdFx0XHRuYW1lOiB3aW5kb3cuc2NlbmUubmFtZSxcblx0XHRcdFx0Y292ZXI6IHdpbmRvdy5zY2VuZS5jb3Zlcixcblx0XHRcdFx0cHJvcGVydHk6IHdpbmRvdy5zY2VuZS5wcm9wZXJ0eSxcblx0XHRcdFx0ZGVzY3JpcHRpb246IHdpbmRvdy5zY2VuZS5kZXNjcmlwdGlvblxuXHRcdFx0fTtcblx0XHRcdGJpbmRTaGFyZSh7XG5cdFx0XHRcdG9iajogaFxuXHRcdFx0fSlcblx0XHR9XG5cdFx0dmFyIGkgPSBtb2JpbGVjaGVjaygpLFxuXHRcdFx0aiA9IHRhYmxldENoZWNrKCk7XG5cdFx0aWYgKCFpIHx8IGkgJiYgL0FuZHJvaWQgKFxcZCtcXC5cXGQrKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSA/ICgkKFwiLnBhc3N3b3JkLW51bWJlcnM+c3BhblwiKS5vbihcImNsaWNrXCIsIGQpLCAkKFwiI2J0bkNsZWFyXCIpLm9uKFwiY2xpY2tcIiwgZSksICQoXCIjYnRuQ2FuY2VsXCIpLm9uKFwiY2xpY2tcIiwgZikpIDogKCQoXCIucGFzc3dvcmQtbnVtYmVycz5zcGFuXCIpLm9uKFwidG91Y2hzdGFydFwiLCBkKSwgJChcIiNidG5DbGVhclwiKS5vbihcInRvdWNoc3RhcnRcIiwgZSksICQoXCIjYnRuQ2FuY2VsXCIpLm9uKFwidG91Y2hzdGFydFwiLCBmKSksIGkgfHwgaikge1xuXHRcdFx0dmFyIGssIGwgPSAkKFwiLmNvbnRhaW5lclwiKSxcblx0XHRcdFx0bSA9IGwud2lkdGgoKSxcblx0XHRcdFx0biA9IGwuaGVpZ2h0KCk7XG5cdFx0XHRrID0gTWF0aC5mbG9vcigxMCAqIE1hdGgubWluKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLyBuLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggLyBtKSkgLyAxMCwgbC5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZShcIiArIGsgKyBcIiwgXCIgKyBrICsgXCIpXCIpXG5cdFx0fVxuXHRcdHZhciBvID0gXCJcIlxuXHR9XG59KHdpbmRvdywgalF1ZXJ5KSwgJChcIi5tYWluXCIpLnNob3coKSwgJC5lYXNpbmcuanN3aW5nID0gJC5lYXNpbmcuc3dpbmcsICQuZXh0ZW5kKCQuZWFzaW5nLCB7XG5cdGRlZjogXCJlYXNlT3V0UXVhZFwiLFxuXHRzd2luZzogZnVuY3Rpb24oYSwgYiwgYywgZCwgZSkge1xuXHRcdHJldHVybiAkLmVhc2luZ1skLmVhc2luZy5kZWZdKGEsIGIsIGMsIGQsIGUpXG5cdH0sXG5cdGVhc2VJblF1YWQ6IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUpIHtcblx0XHRyZXR1cm4gZCAqIChiIC89IGUpICogYiArIGNcblx0fSxcblx0ZWFzZU91dFF1YWQ6IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUpIHtcblx0XHRyZXR1cm4gLWQgKiAoYiAvPSBlKSAqIChiIC0gMikgKyBjXG5cdH0sXG5cdGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUpIHtcblx0XHRyZXR1cm4gKGIgLz0gZSAvIDIpIDwgMSA/IGQgLyAyICogYiAqIGIgKyBjIDogLWQgLyAyICogKC0tYiAqIChiIC0gMikgLSAxKSArIGNcblx0fSxcblx0ZWFzZUluQ3ViaWM6IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUpIHtcblx0XHRyZXR1cm4gZCAqIChiIC89IGUpICogYiAqIGIgKyBjXG5cdH0sXG5cdGVhc2VPdXRDdWJpYzogZnVuY3Rpb24oYSwgYiwgYywgZCwgZSkge1xuXHRcdHJldHVybiBkICogKChiID0gYiAvIGUgLSAxKSAqIGIgKiBiICsgMSkgKyBjXG5cdH0sXG5cdGVhc2VJbk91dEN1YmljOiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlKSB7XG5cdFx0cmV0dXJuIChiIC89IGUgLyAyKSA8IDEgPyBkIC8gMiAqIGIgKiBiICogYiArIGMgOiBkIC8gMiAqICgoYiAtPSAyKSAqIGIgKiBiICsgMikgKyBjXG5cdH0sXG5cdGVhc2VJblF1YXJ0OiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlKSB7XG5cdFx0cmV0dXJuIGQgKiAoYiAvPSBlKSAqIGIgKiBiICogYiArIGNcblx0fSxcblx0ZWFzZU91dFF1YXJ0OiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlKSB7XG5cdFx0cmV0dXJuIC1kICogKChiID0gYiAvIGUgLSAxKSAqIGIgKiBiICogYiAtIDEpICsgY1xuXHR9LFxuXHRlYXNlSW5PdXRRdWFydDogZnVuY3Rpb24oYSwgYiwgYywgZCwgZSkge1xuXHRcdHJldHVybiAoYiAvPSBlIC8gMikgPCAxID8gZCAvIDIgKiBiICogYiAqIGIgKiBiICsgYyA6IC1kIC8gMiAqICgoYiAtPSAyKSAqIGIgKiBiICogYiAtIDIpICsgY1xuXHR9LFxuXHRlYXNlSW5RdWludDogZnVuY3Rpb24oYSwgYiwgYywgZCwgZSkge1xuXHRcdHJldHVybiBkICogKGIgLz0gZSkgKiBiICogYiAqIGIgKiBiICsgY1xuXHR9LFxuXHRlYXNlT3V0UXVpbnQ6IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUpIHtcblx0XHRyZXR1cm4gZCAqICgoYiA9IGIgLyBlIC0gMSkgKiBiICogYiAqIGIgKiBiICsgMSkgKyBjXG5cdH0sXG5cdGVhc2VJbk91dFF1aW50OiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlKSB7XG5cdFx0cmV0dXJuIChiIC89IGUgLyAyKSA8IDEgPyBkIC8gMiAqIGIgKiBiICogYiAqIGIgKiBiICsgYyA6IGQgLyAyICogKChiIC09IDIpICogYiAqIGIgKiBiICogYiArIDIpICsgY1xuXHR9LFxuXHRlYXNlSW5TaW5lOiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlKSB7XG5cdFx0cmV0dXJuIC1kICogTWF0aC5jb3MoYiAvIGUgKiAoTWF0aC5QSSAvIDIpKSArIGQgKyBjXG5cdH0sXG5cdGVhc2VPdXRTaW5lOiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlKSB7XG5cdFx0cmV0dXJuIGQgKiBNYXRoLnNpbihiIC8gZSAqIChNYXRoLlBJIC8gMikpICsgY1xuXHR9LFxuXHRlYXNlSW5PdXRTaW5lOiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlKSB7XG5cdFx0cmV0dXJuIC1kIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogYiAvIGUpIC0gMSkgKyBjXG5cdH0sXG5cdGVhc2VJbkV4cG86IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUpIHtcblx0XHRyZXR1cm4gMCA9PSBiID8gYyA6IGQgKiBNYXRoLnBvdygyLCAxMCAqIChiIC8gZSAtIDEpKSArIGNcblx0fSxcblx0ZWFzZU91dEV4cG86IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUpIHtcblx0XHRyZXR1cm4gYiA9PSBlID8gYyArIGQgOiBkICogKC1NYXRoLnBvdygyLCAtMTAgKiBiIC8gZSkgKyAxKSArIGNcblx0fSxcblx0ZWFzZUluT3V0RXhwbzogZnVuY3Rpb24oYSwgYiwgYywgZCwgZSkge1xuXHRcdHJldHVybiAwID09IGIgPyBjIDogYiA9PSBlID8gYyArIGQgOiAoYiAvPSBlIC8gMikgPCAxID8gZCAvIDIgKiBNYXRoLnBvdygyLCAxMCAqIChiIC0gMSkpICsgYyA6IGQgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLWIpICsgMikgKyBjXG5cdH0sXG5cdGVhc2VJbkNpcmM6IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUpIHtcblx0XHRyZXR1cm4gLWQgKiAoTWF0aC5zcXJ0KDEgLSAoYiAvPSBlKSAqIGIpIC0gMSkgKyBjXG5cdH0sXG5cdGVhc2VPdXRDaXJjOiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlKSB7XG5cdFx0cmV0dXJuIGQgKiBNYXRoLnNxcnQoMSAtIChiID0gYiAvIGUgLSAxKSAqIGIpICsgY1xuXHR9LFxuXHRlYXNlSW5PdXRDaXJjOiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlKSB7XG5cdFx0cmV0dXJuIChiIC89IGUgLyAyKSA8IDEgPyAtZCAvIDIgKiAoTWF0aC5zcXJ0KDEgLSBiICogYikgLSAxKSArIGMgOiBkIC8gMiAqIChNYXRoLnNxcnQoMSAtIChiIC09IDIpICogYikgKyAxKSArIGNcblx0fSxcblx0ZWFzZUluRWxhc3RpYzogZnVuY3Rpb24oYSwgYiwgYywgZCwgZSkge1xuXHRcdHZhciBmID0gMS43MDE1OCxcblx0XHRcdGcgPSAwLFxuXHRcdFx0aCA9IGQ7XG5cdFx0aWYgKDAgPT0gYikgcmV0dXJuIGM7XG5cdFx0aWYgKDEgPT0gKGIgLz0gZSkpIHJldHVybiBjICsgZDtcblx0XHRpZiAoZyB8fCAoZyA9IC4zICogZSksIGggPCBNYXRoLmFicyhkKSkge1xuXHRcdFx0aCA9IGQ7XG5cdFx0XHR2YXIgZiA9IGcgLyA0XG5cdFx0fSBlbHNlIHZhciBmID0gZyAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oZCAvIGgpO1xuXHRcdHJldHVybiAtKGggKiBNYXRoLnBvdygyLCAxMCAqIChiIC09IDEpKSAqIE1hdGguc2luKChiICogZSAtIGYpICogKDIgKiBNYXRoLlBJKSAvIGcpKSArIGNcblx0fSxcblx0ZWFzZU91dEVsYXN0aWM6IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUpIHtcblx0XHR2YXIgZiA9IDEuNzAxNTgsXG5cdFx0XHRnID0gMCxcblx0XHRcdGggPSBkO1xuXHRcdGlmICgwID09IGIpIHJldHVybiBjO1xuXHRcdGlmICgxID09IChiIC89IGUpKSByZXR1cm4gYyArIGQ7XG5cdFx0aWYgKGcgfHwgKGcgPSAuMyAqIGUpLCBoIDwgTWF0aC5hYnMoZCkpIHtcblx0XHRcdGggPSBkO1xuXHRcdFx0dmFyIGYgPSBnIC8gNFxuXHRcdH0gZWxzZSB2YXIgZiA9IGcgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGQgLyBoKTtcblx0XHRyZXR1cm4gaCAqIE1hdGgucG93KDIsIC0xMCAqIGIpICogTWF0aC5zaW4oKGIgKiBlIC0gZikgKiAoMiAqIE1hdGguUEkpIC8gZykgKyBkICsgY1xuXHR9LFxuXHRlYXNlSW5PdXRFbGFzdGljOiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlKSB7XG5cdFx0dmFyIGYgPSAxLjcwMTU4LFxuXHRcdFx0ZyA9IDAsXG5cdFx0XHRoID0gZDtcblx0XHRpZiAoMCA9PSBiKSByZXR1cm4gYztcblx0XHRpZiAoMiA9PSAoYiAvPSBlIC8gMikpIHJldHVybiBjICsgZDtcblx0XHRpZiAoZyB8fCAoZyA9IGUgKiAoLjMgKiAxLjUpKSwgaCA8IE1hdGguYWJzKGQpKSB7XG5cdFx0XHRoID0gZDtcblx0XHRcdHZhciBmID0gZyAvIDRcblx0XHR9IGVsc2UgdmFyIGYgPSBnIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihkIC8gaCk7XG5cdFx0cmV0dXJuIDEgPiBiID8gLS41ICogKGggKiBNYXRoLnBvdygyLCAxMCAqIChiIC09IDEpKSAqIE1hdGguc2luKChiICogZSAtIGYpICogKDIgKiBNYXRoLlBJKSAvIGcpKSArIGMgOiBoICogTWF0aC5wb3coMiwgLTEwICogKGIgLT0gMSkpICogTWF0aC5zaW4oKGIgKiBlIC0gZikgKiAoMiAqIE1hdGguUEkpIC8gZykgKiAuNSArIGQgKyBjXG5cdH0sXG5cdGVhc2VJbkJhY2s6IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUsIGYpIHtcblx0XHRyZXR1cm4gdm9pZCAwID09IGYgJiYgKGYgPSAxLjcwMTU4KSwgZCAqIChiIC89IGUpICogYiAqICgoZiArIDEpICogYiAtIGYpICsgY1xuXHR9LFxuXHRlYXNlT3V0QmFjazogZnVuY3Rpb24oYSwgYiwgYywgZCwgZSwgZikge1xuXHRcdHJldHVybiB2b2lkIDAgPT0gZiAmJiAoZiA9IDEuNzAxNTgpLCBkICogKChiID0gYiAvIGUgLSAxKSAqIGIgKiAoKGYgKyAxKSAqIGIgKyBmKSArIDEpICsgY1xuXHR9LFxuXHRlYXNlSW5PdXRCYWNrOiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlLCBmKSB7XG5cdFx0cmV0dXJuIHZvaWQgMCA9PSBmICYmIChmID0gMS43MDE1OCksIChiIC89IGUgLyAyKSA8IDEgPyBkIC8gMiAqIChiICogYiAqICgoKGYgKj0gMS41MjUpICsgMSkgKiBiIC0gZikpICsgYyA6IGQgLyAyICogKChiIC09IDIpICogYiAqICgoKGYgKj0gMS41MjUpICsgMSkgKiBiICsgZikgKyAyKSArIGNcblx0fSxcblx0ZWFzZUluQm91bmNlOiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlKSB7XG5cdFx0cmV0dXJuIGQgLSAkLmVhc2luZy5lYXNlT3V0Qm91bmNlKGEsIGUgLSBiLCAwLCBkLCBlKSArIGNcblx0fSxcblx0ZWFzZU91dEJvdW5jZTogZnVuY3Rpb24oYSwgYiwgYywgZCwgZSkge1xuXHRcdHJldHVybiAoYiAvPSBlKSA8IDEgLyAyLjc1ID8gZCAqICg3LjU2MjUgKiBiICogYikgKyBjIDogMiAvIDIuNzUgPiBiID8gZCAqICg3LjU2MjUgKiAoYiAtPSAxLjUgLyAyLjc1KSAqIGIgKyAuNzUpICsgYyA6IDIuNSAvIDIuNzUgPiBiID8gZCAqICg3LjU2MjUgKiAoYiAtPSAyLjI1IC8gMi43NSkgKiBiICsgLjkzNzUpICsgYyA6IGQgKiAoNy41NjI1ICogKGIgLT0gMi42MjUgLyAyLjc1KSAqIGIgKyAuOTg0Mzc1KSArIGNcblx0fSxcblx0ZWFzZUluT3V0Qm91bmNlOiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlKSB7XG5cdFx0cmV0dXJuIGUgLyAyID4gYiA/IC41ICogJC5lYXNpbmcuZWFzZUluQm91bmNlKGEsIDIgKiBiLCAwLCBkLCBlKSArIGMgOiAuNSAqICQuZWFzaW5nLmVhc2VPdXRCb3VuY2UoYSwgMiAqIGIgLSBlLCAwLCBkLCBlKSArIC41ICogZCArIGNcblx0fVxufSksIGZ1bmN0aW9uKGEsIGIpIHtcblx0ZnVuY3Rpb24gYygpIHtcblx0XHR2YXIgYSA9IFRSQUNLX0hPU1QgKyBcImMuZ2lmP1wiLFxuXHRcdFx0YiA9IHdpbmRvdyxcblx0XHRcdGMgPSBiLnNjcmVlbixcblx0XHRcdGQgPSBjLmF2YWlsV2lkdGggKyBcInhcIiArIGMuYXZhaWxIZWlnaHQsXG5cdFx0XHRlID0gZW5jb2RlVVJJQ29tcG9uZW50LFxuXHRcdFx0ZiA9IGRvY3VtZW50O1xuXHRcdG4gPSBiLm5hdmlnYXRvcjtcblx0XHR2YXIgZyA9IHtcblx0XHRcdGxhZzogbi51c2VyTGFuZ3VhZ2UgfHwgbi5sYW5ndWFnZVxuXHRcdH07XG5cdFx0dHlwZW9mIHNjZW5lICE9PSBzY2VuZSAmJiAoZy5ldmVudF9kZXNjcmlwdGlvbiA9IHNjZW5lLmRlc2NyaXB0aW9uLCBnLmV2ZW50X2lkID0gc2NlbmUuaWQsIGcuc2NlbmVfdHlwZSA9IHNjZW5lLnR5cGUsIGcuY3JlYXRvcl9pZCA9IHNjZW5lLnVzZXJJZCwgZy5jcmVhdG9yX3R5cGUgPSBzY2VuZS51c2VyVHlwZSk7XG5cdFx0dmFyIGggPSBcImFjdGlvbl9uYW1lPVwiICsgZShmLnRpdGxlKSArIFwiJmlkc2l0ZT0yJnVybD1cIiArIGUoZi5sb2NhdGlvbikgKyBcIiZ1cmxyZWY9XCIgKyBlKGYucmVmZXJyZXIpICsgXCImcmVzPVwiICsgZCArIFwiJmRhdGE9XCIgKyBlKEpTT04uc3RyaW5naWZ5KGcpKTtcblx0XHRoICs9IDEsIGggKz0gXCImY3Q9XCIgKyAobmV3IERhdGUpLmdldFRpbWUoKSwgYSArPSBoO1xuXHRcdHZhciBpID0gZi5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuXHRcdGkuc2V0QXR0cmlidXRlKFwic3JjXCIsIGEpLCBpLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBcIjBcIiksIGkuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgXCIwXCIpLCBmLmJvZHkuYXBwZW5kQ2hpbGQoaSlcblx0fVxuXHRhLmdldFNjcmlwdChUUkFDS19IT1NUICsgXCJkLmpzP3BpZD0yJnY9MVwiLCBmdW5jdGlvbigpIHtcblx0XHRmdW5jdGlvbiBhKCkge1xuXHRcdFx0d2luZG93LnNjZW5lID8gYygpIDogYiA9IHNldFRpbWVvdXQoYSlcblx0XHR9XG5cdFx0aWYgKHdpbmRvdy5zY2VuZSkgYygpO1xuXHRcdGVsc2UgdmFyIGIgPSBzZXRUaW1lb3V0KGEsIDEwMClcblx0fSksIGEuZ2V0U2NyaXB0KFRSQUNLX0hPU1QgKyBcInIuanM/cGlkPTMmdj0xXCIpXG59KGpRdWVyeSwgd2luZG93KSwgZnVuY3Rpb24oYSwgYikge1xuXHRhLndhcFNoYXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0ZnVuY3Rpb24gYyhhKSB7XG5cdFx0XHRqID0gYSwgai5wcm9wZXJ0eSAmJiAoai5wcm9wZXJ0eSA9IEpTT04uc3RyaW5naWZ5KGoucHJvcGVydHkpKSwgbCA9IGEuY29kZTtcblx0XHRcdHZhciBjID0gUFJFRklYX0hPU1QgKyBcIi92L1wiICsgbDtcblx0XHRcdGIoXCIjc2NlbmVMaW5rXCIpLnRleHQoYylcblx0XHR9XG5cdFx0ZnVuY3Rpb24gZCgpIHtcblx0XHRcdHZhciBhID0gYihcIiNzY2VuZU5hbWVcIikudmFsKCk7XG5cdFx0XHRpZiAobnVsbCAhPT0gYSB8fCB2b2lkIDAgIT09IGEpIHtcblx0XHRcdFx0ai5uYW1lID0gYTtcblx0XHRcdFx0dmFyIGMgPSB7XG5cdFx0XHRcdFx0bmFtZTogai5uYW1lLFxuXHRcdFx0XHRcdGlkOiBqLmlkLFxuXHRcdFx0XHRcdHN0YXR1czogMSxcblx0XHRcdFx0XHRjb2RlOiBqLmNvZGUsXG5cdFx0XHRcdFx0Y292ZXI6IGouY292ZXJcblx0XHRcdFx0fTtcblx0XHRcdFx0Yi5hamF4KHtcblx0XHRcdFx0XHR0eXBlOiBcIlBPU1RcIixcblx0XHRcdFx0XHR1cmw6IFBSRUZJWF9VUkwgKyBcIm0vc2NlbmUvc2F2ZVNldHRpbmdzXCIsXG5cdFx0XHRcdFx0Y29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOFwiLFxuXHRcdFx0XHRcdGRhdGE6IEpTT04uc3RyaW5naWZ5KGMpLFxuXHRcdFx0XHRcdHhockZpZWxkczoge1xuXHRcdFx0XHRcdFx0d2l0aENyZWRlbnRpYWxzOiAhMFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oYSkge31cblx0XHRcdFx0fSksIHdlY2hhdFV0aWxzLnNoYXJlV2lkdGhTREsoai5uYW1lLCBqLmRlc2NyaXB0aW9uLCBsb2NhdGlvbi5ocmVmLnNwbGl0KFwiP1wiKVswXSwgXCJcIiwgai5jb3Zlcilcblx0XHRcdH0gZWxzZSBhbGVydChcIuS9oOi/mOayoeacieWhq+WGmeS9nOWTgeWQjeensO+8gVwiKVxuXHRcdH1cblx0XHRmdW5jdGlvbiBlKCkge1xuXHRcdFx0YS5sb2NhdGlvbi5ocmVmID0gUFJFRklYX0hPU1QgKyBcIi9tb2JpbGUvZmlsbEhvbWUuaHRtbD9lZGl0PXRydWUmaWQ9XCIgKyBrXG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGYoKSB7XG5cdFx0XHRhLmxvY2F0aW9uLmhyZWYgPSBQUkVGSVhfSE9TVCArIFwiL21vYmlsZS9maWxsSG9tZS5odG1sP1wiXG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGcoKSB7XG5cdFx0XHRiKFwiI3dhcFNoYXJlU2V0XCIpLmhpZGUoKSwgYihcIiNzaGFyZUZvb3RlclwiKS5zaG93KClcblx0XHR9XG5cdFx0ZnVuY3Rpb24gaCgpIHtcblx0XHRcdGlzV2VpeGluKCkgJiYgKGIoXCIjd2VjaGF0U2hhcmVcIikuY3NzKHtcblx0XHRcdFx0ZGlzcGxheTogXCJibG9ja1wiXG5cdFx0XHR9KSwgYihcIiNiYWNrUHJldmlld1wiKS5jc3Moe1xuXHRcdFx0XHRcImZsb2F0XCI6IFwibGVmdFwiXG5cdFx0XHR9KSlcblx0XHR9XG5cdFx0ZnVuY3Rpb24gaShhKSB7XG5cdFx0XHRjKGEpLCBrID0gYS5pZCwgYihcIiNzY2VuZU5hbWVcIikuZm9jdXMoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGIodGhpcykudmFsKCkubGVuZ3RoID4gMCAmJiBiKHRoaXMpLnNlbGVjdCgpXG5cdFx0XHR9KSwgYihcIiNzY2VuZU5hbWVcIikuYmx1cihmdW5jdGlvbigpIHtcblx0XHRcdFx0Yih0aGlzKS52YWwoKS5sZW5ndGggPiAwICYmIGQoKVxuXHRcdFx0fSksIGgoKVxuXHRcdH1cblx0XHR2YXIgaiA9IHt9LFxuXHRcdFx0ayA9IFwiXCIsXG5cdFx0XHRsID0gXCJcIjtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aW5pdDogaSxcblx0XHRcdGVkaXRTY2VuZTogZSxcblx0XHRcdGNyZWF0ZUFub3RoZXJTY2VuZTogZixcblx0XHRcdGJhY2tUb1ByZXZpZXc6IGdcblx0XHR9XG5cdH0oKVxufVxuKHdpbmRvdywgalF1ZXJ5KSwgZnVuY3Rpb24oYSwgYikge1xuXHRiLmZvckV4ZW1wbGFyUmV2aWV3ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGEgPSAhMTtcblx0XHRyZXR1cm4gYi5nZXRVcmxQYXJhbWV0ZXIoXCJleGVtcGxhclJldmlld1wiKSA/ICgkKFwiLnBob25lQm94XCIpLmNzcyh7XG5cdFx0XHR3aWR0aDogXCIzMjBweFwiLFxuXHRcdFx0aGVpZ2h0OiBcIjQ4NnB4XCIsXG5cdFx0XHRtYXJnaW5MZWZ0OiBcIjBweFwiLFxuXHRcdFx0bWFyZ2luUmlnaHQ6IFwiNDBweFwiXG5cdFx0fSksICQoXCIjY29uXCIpLmFmdGVyKCc8ZGl2IGNsYXNzPVwiZXhlbXBsYXJSZXZpZXdcIiBzdHlsZT1cIndpZHRoOjQwcHg7aGVpZ2h0OjQ4NnB4O2JhY2tncm91bmQ6I2ZmZmZmZjtwb3NpdGlvbjogZml4ZWQ7cmlnaHQ6IDBweDt0b3A6IDBweDtib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjY2NkNWRiO1wiPjxkaXYgY2xhc3M9XCJwcmV2aWV3XCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6IDcwcHg7bWFyZ2luLXRvcDoxNzNweDtcIj48YSBvbmNsaWNrPVwiZXF4aXUucHJlUGFnZSgpXCIgPjxlbSBjbGFzcz1cImVxZi1jbGlja21vcmUyXCIgc3R5bGU9XCJjb2xvcjojN2I4ODkzO1wiPjwvZW0+PC9hPjwvZGl2PiA8ZGl2IGNsYXNzPVwibmV4dFwiIHN0eWxlPVwiaGVpZ2h0OjczcHg7bWFyZ2luLWJvdHRvbToxNzNweDtcIj48YSBvbmNsaWNrPVwiZXF4aXUubmV4dFBhZ2UoKVwiPjxlbSBjbGFzcz1cImVxZi1jbGlja21vcmVcIiBzdHlsZT1cImNvbG9yOiM3Yjg4OTM7XCI+PC9lbT48L2E+IDwvZGl2PjwvZGl2PicpLCAkKFwiLmV4ZW1wbGFyUmV2aWV3IGFcIikuY3NzKHtcblx0XHRcdHdpZHRoOiBcIjQwcHhcIixcblx0XHRcdGhlaWdodDogXCI3MHB4XCIsXG5cdFx0XHRkaXNwbGF5OiBcImJsb2NrXCIsXG5cdFx0XHR0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG5cdFx0XHRsaW5lSGVpZ2h0OiBcIjcwcHhcIlxuXHRcdH0pLCAkKFwiLmV4ZW1wbGFyUmV2aWV3IGFcIikuaG92ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHQkKHRoaXMpLmNzcyh7XG5cdFx0XHRcdGJhY2tncm91bmRDb2xvcjogXCIjZjBmM2Y0XCJcblx0XHRcdH0pXG5cdFx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0XHQkKHRoaXMpLmNzcyh7XG5cdFx0XHRcdGJhY2tncm91bmRDb2xvcjogXCIjRkZGRkZGXCJcblx0XHRcdH0pXG5cdFx0fSksIGEgPSAhMCkgOiBhID0gITEsIGFcblx0fVxufSh3aW5kb3csIGVxU2hvdyk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi92aWV3L2VxU2hvdy1wcmV2aWV3LTIuMS41LjMuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!****************************************!*\
  !*** (webpack)/buildin/amd-options.js ***!
  \****************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, {}))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9hbWQtb3B0aW9ucy5qcz81ZjcxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgX193ZWJwYWNrX2FtZF9vcHRpb25zX18gKi9cclxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vYW1kLW9wdGlvbnMuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ })
/******/ ]);